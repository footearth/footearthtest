<html lang="en">
<head>
<title>Atari Using - The GNU Awk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU Awk User's Guide">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Atari-Installation.html#Atari-Installation" title="Atari Installation">
<link rel="prev" href="Atari-Compiling.html#Atari-Compiling" title="Atari Compiling">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1989, 1991, 1992, 1993, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2007, 2009 Free Software Foundation, Inc.



   This is Edition 3 of `GAWK: Effective AWK Programming: A User's Guide for GNU Awk',
for the 3.1.7 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'', the Front-Cover
texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.
  a. ``A GNU Manual''

  b. ``You have the freedom to copy and modify this GNU manual.  Buying
     copies from the FSF supports it in developing GNU and promoting
     software freedom.''
        -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Atari-Using"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Atari-Compiling.html#Atari-Compiling">Atari Compiling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Atari-Installation.html#Atari-Installation">Atari Installation</a>
<hr>
</div>

<h5 class="appendixsubsubsec">B.4.1.2 Running <samp><span class="command">gawk</span></samp> on the Atari ST</h5>

<p>An executable version of <samp><span class="command">gawk</span></samp> should be placed, as usual,
anywhere in your <samp><span class="env">PATH</span></samp> where your shell can find it.

   <p>While executing, the Atari version of <samp><span class="command">gawk</span></samp> creates a number of temporary files.  When
using <samp><span class="command">gcc</span></samp> libraries for TOS, <samp><span class="command">gawk</span></samp> looks for either of
the environment variables, <samp><span class="env">TEMP</span></samp> or <samp><span class="env">TMPDIR</span></samp>, in that order. 
If either one is found, its value is assumed to be a directory for
temporary files.  This directory must exist, and if you can spare the
memory, it is a good idea to put it on a RAM drive.  If neither
<samp><span class="env">TEMP</span></samp> nor <samp><span class="env">TMPDIR</span></samp> are found, then <samp><span class="command">gawk</span></samp> uses the
current directory for its temporary files.

   <p>The ST version of <samp><span class="command">gawk</span></samp> searches for its program files, as described in
<a href="AWKPATH-Variable.html#AWKPATH-Variable">AWKPATH Variable</a>. 
The default value for the <samp><span class="env">AWKPATH</span></samp> variable is taken from
<code>DEFPATH</code> defined in <samp><span class="file">Makefile</span></samp>. The sample <samp><span class="command">gcc</span></samp>/TOS
<samp><span class="file">Makefile</span></samp> for the ST in the distribution sets <code>DEFPATH</code> to
<code>".,c:\lib\awk,c:\gnu\lib\awk"<!-- /@w --></code>.  The search path can be
modified by explicitly setting <samp><span class="env">AWKPATH</span></samp> to whatever you want. 
Note that colons cannot be used on the ST to separate elements in the
<samp><span class="env">AWKPATH</span></samp> variable, since they have another reserved meaning. 
Instead, you must use a comma to separate elements in the path.  When
recompiling, the separating character can be modified by initializing
the <code>envsep</code> variable in <samp><span class="file">unsupported/atari/gawkmisc.atr</span></samp> to another
value.

   <p>Although <samp><span class="command">awk</span></samp> allows great flexibility in doing I/O redirections
from within a program, this facility should be used with care on the ST
running under TOS.  In some circumstances, the OS routines for file-handle
pool processing lose track of certain events, causing the
computer to crash and requiring a reboot.  Often a warm reboot is
sufficient.  Fortunately, this happens infrequently and in rather
esoteric situations.  In particular, avoid having one part of an
<samp><span class="command">awk</span></samp> program using <code>print</code> statements explicitly redirected
to <samp><span class="file">/dev/stdout</span></samp>, while other <code>print</code> statements use the
default standard output, and a calling shell has redirected standard
output to a file. 
<!-- 10/2000: Is this still true, now that gawk does /dev/stdout internally? -->

   <p>When <samp><span class="command">gawk</span></samp> is compiled with the ST version of <samp><span class="command">gcc</span></samp> and its
usual libraries, it accepts both &lsquo;<samp><span class="samp">/</span></samp>&rsquo; and &lsquo;<samp><span class="samp">\</span></samp>&rsquo; as path separators. 
While this is convenient, it should be remembered that this removes one
technically valid character (&lsquo;<samp><span class="samp">/</span></samp>&rsquo;) from your file name. 
It may also create problems for external programs called via the <code>system</code>
function, which may not support this convention.  Whenever it is possible
that a file created by <samp><span class="command">gawk</span></samp> will be used by some other program,
use only backslashes.  Also remember that in <samp><span class="command">awk</span></samp>, backslashes in
strings have to be doubled in order to get literal backslashes
(see <a href="Escape-Sequences.html#Escape-Sequences">Escape Sequences</a>).

   </body></html>

