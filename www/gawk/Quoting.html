<html lang="en">
<head>
<title>Quoting - The GNU Awk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU Awk User's Guide">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Running-gawk.html#Running-gawk" title="Running gawk">
<link rel="prev" href="Comments.html#Comments" title="Comments">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1989, 1991, 1992, 1993, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2007, 2009 Free Software Foundation, Inc.



   This is Edition 3 of `GAWK: Effective AWK Programming: A User's Guide for GNU Awk',
for the 3.1.7 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'', the Front-Cover
texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.
  a. ``A GNU Manual''

  b. ``You have the freedom to copy and modify this GNU manual.  Buying
     copies from the FSF supports it in developing GNU and promoting
     software freedom.''
        -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Quoting"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Comments.html#Comments">Comments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Running-gawk.html#Running-gawk">Running gawk</a>
<hr>
</div>

<h4 class="subsection">1.1.6 Shell-Quoting Issues</h4>

<p><a name="index-quoting_002c-rules-for-121"></a>

<ul class="menu">
<li><a accesskey="1" href="DOS-Quoting.html#DOS-Quoting">DOS Quoting</a>:                     Quoting in MS-DOS Batch Files. 
</ul>

   <p>For short to medium length <samp><span class="command">awk</span></samp> programs, it is most convenient
to enter the program on the <samp><span class="command">awk</span></samp> command line. 
This is best done by enclosing the entire program in single quotes. 
This is true whether you are entering the program interactively at
the shell prompt, or writing it as part of a larger shell script:

<pre class="example">     awk '<var>program text</var>' <var>input-file1</var> <var>input-file2</var> ...
</pre>
   <p><a name="index-shells_002c-quoting_002c-rules-for-122"></a><a name="index-Bourne-shell_002c-quoting-rules-for-123"></a>Once you are working with the shell, it is helpful to have a basic
knowledge of shell quoting rules.  The following rules apply only to
POSIX-compliant, Bourne-style shells (such as <samp><span class="command">bash</span></samp>, the GNU Bourne-Again
Shell).  If you use <samp><span class="command">csh</span></samp>, you're on your own.

     <ul>
<li>Quoted items can be concatenated with nonquoted items as well as with other
quoted items.  The shell turns everything into one argument for
the command.

     <li>Preceding any single character with a backslash (&lsquo;<samp><span class="samp">\</span></samp>&rsquo;) quotes
that character.  The shell removes the backslash and passes the quoted
character on to the command.

     <li><a name="index-g_t_0040code_007b_005c_007d-_0028backslash_0029-124"></a><a name="index-backslash-_0028_0040code_007b_005c_007d_0029-125"></a><a name="index-single-quote-_0028_0040code_007b_0027_007d_0029-126"></a><a name="index-g_t_0040code_007b_0027_007d-_0028single-quote_0029-127"></a>Single quotes protect everything between the opening and closing quotes. 
The shell does no interpretation of the quoted text, passing it on verbatim
to the command. 
It is <em>impossible</em> to embed a single quote inside single-quoted text. 
Refer back to
<a href="Comments.html#Comments">Comments</a>,
for an example of what happens if you try.

     <li><a name="index-double-quote-_0028_0040code_007b_0022_007d_0029-128"></a><a name="index-g_t_0040code_007b_0022_007d-_0028double-quote_0029-129"></a>Double quotes protect most things between the opening and closing quotes. 
The shell does at least variable and command substitution on the quoted text. 
Different shells may do additional kinds of processing on double-quoted text.

     <p>Since certain characters within double-quoted text are processed by the shell,
they must be <dfn>escaped</dfn> within the text.  Of note are the characters
&lsquo;<samp><span class="samp">$</span></samp>&rsquo;, &lsquo;<samp><span class="samp">`</span></samp>&rsquo;, &lsquo;<samp><span class="samp">\</span></samp>&rsquo;, and &lsquo;<samp><span class="samp">"</span></samp>&rsquo;, all of which must be preceded by
a backslash within double-quoted text if they are to be passed on literally
to the program.  (The leading backslash is stripped first.) 
Thus, the example seen
previously
in <a href="Read-Terminal.html#Read-Terminal">Read Terminal</a>,
is applicable:

     <pre class="example">          $ awk "BEGIN { print \"Don't Panic!\" }"
          -| Don't Panic!
</pre>
     <p><a name="index-single-quote-_0028_0040code_007b_0027_007d_0029_002c-with-double-quotes-130"></a><a name="index-g_t_0040code_007b_0027_007d-_0028single-quote_0029_002c-with-double-quotes-131"></a>Note that the single quote is not special within double quotes.

     <li>Null strings are removed when they occur as part of a non-null
command-line argument, while explicit non-null objects are kept. 
For example, to specify that the field separator <code>FS</code> should
be set to the null string, use:

     <pre class="example">          awk -F "" '<var>program</var>' <var>files</var> # correct
</pre>
     <p class="noindent"><a name="index-null-strings_002c-quoting-and-132"></a>Don't use this:

     <pre class="example">          awk -F"" '<var>program</var>' <var>files</var>  # wrong!
</pre>
     <p class="noindent">In the second case, <samp><span class="command">awk</span></samp> will attempt to use the text of the program
as the value of <code>FS</code>, and the first file name as the text of the program! 
This results in syntax errors at best, and confusing behavior at worst. 
</ul>

   <p><a name="index-quoting_002c-tricks-for-133"></a>Mixing single and double quotes is difficult.  You have to resort
to shell quoting tricks, like this:

<pre class="example">     $ awk 'BEGIN { print "Here is a single quote &lt;'"'"'&gt;" }'
     -| Here is a single quote &lt;'&gt;
</pre>
   <p class="noindent">This program consists of three concatenated quoted strings.  The first and the
third are single-quoted, the second is double-quoted.

   <p>This can be &ldquo;simplified&rdquo; to:

<pre class="example">     $ awk 'BEGIN { print "Here is a single quote &lt;'\''&gt;" }'
     -| Here is a single quote &lt;'&gt;
</pre>
   <p class="noindent">Judge for yourself which of these two is the more readable.

   <p>Another option is to use double quotes, escaping the embedded, <samp><span class="command">awk</span></samp>-level
double quotes:

<pre class="example">     $ awk "BEGIN { print \"Here is a single quote &lt;'&gt;\" }"
     -| Here is a single quote &lt;'&gt;
</pre>
   <p class="noindent"><!-- ENDOFRANGE sq1x -->
<!-- ENDOFRANGE qs2x -->
This option is also painful, because double quotes, backslashes, and dollar signs
are very common in <samp><span class="command">awk</span></samp> programs.

   <p>A third option is to use the octal escape sequence equivalents for the
single- and double-quote characters, like so:

<pre class="example">     $ awk 'BEGIN { print "Here is a single quote &lt;\47&gt;" }'
     -| Here is a single quote &lt;'&gt;
     $ awk 'BEGIN { print "Here is a double quote &lt;\42&gt;" }'
     -| Here is a double quote &lt;"&gt;
</pre>
   <p class="noindent">This works nicely, except that you should comment clearly what the
escapes mean.

   <p>A fourth option is to use command-line variable assignment, like this:

<pre class="example">     $ awk -v sq="'" 'BEGIN { print "Here is a single quote &lt;" sq "&gt;" }'
     -| Here is a single quote &lt;'&gt;
</pre>
   <p>If you really need both single and double quotes in your <samp><span class="command">awk</span></samp>
program, it is probably best to move it into a separate file, where
the shell won't be part of the picture, and you can say what you mean.

   </body></html>

