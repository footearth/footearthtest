<html lang="en">
<head>
<title>Character Lists - The GNU Awk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU Awk User's Guide">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Regexp.html#Regexp" title="Regexp">
<link rel="prev" href="Regexp-Operators.html#Regexp-Operators" title="Regexp Operators">
<link rel="next" href="GNU-Regexp-Operators.html#GNU-Regexp-Operators" title="GNU Regexp Operators">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1989, 1991, 1992, 1993, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2007, 2009 Free Software Foundation, Inc.



   This is Edition 3 of `GAWK: Effective AWK Programming: A User's Guide for GNU Awk',
for the 3.1.7 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'', the Front-Cover
texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.
  a. ``A GNU Manual''

  b. ``You have the freedom to copy and modify this GNU manual.  Buying
     copies from the FSF supports it in developing GNU and promoting
     software freedom.''
        -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Character-Lists"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="GNU-Regexp-Operators.html#GNU-Regexp-Operators">GNU Regexp Operators</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Regexp-Operators.html#Regexp-Operators">Regexp Operators</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Regexp.html#Regexp">Regexp</a>
<hr>
</div>

<h3 class="section">2.4 Using Character Lists</h3>

<!-- STARTOFRANGE charlist -->
<p><a name="index-character-lists-255"></a><a name="index-character-lists_002c-range-expressions-256"></a><a name="index-range-expressions-257"></a>
Within a character list, a <dfn>range expression</dfn> consists of two
characters separated by a hyphen.  It matches any single character that
sorts between the two characters, using the locale's
collating sequence and character set.  For example, in the default C
locale, &lsquo;<samp><span class="samp">[a-dx-z]</span></samp>&rsquo; is equivalent to &lsquo;<samp><span class="samp">[abcdxyz]</span></samp>&rsquo;.  Many locales
sort characters in dictionary order, and in these locales,
&lsquo;<samp><span class="samp">[a-dx-z]</span></samp>&rsquo; is typically not equivalent to &lsquo;<samp><span class="samp">[abcdxyz]</span></samp>&rsquo;; instead it
might be equivalent to &lsquo;<samp><span class="samp">[aBbCcDdxXyYz]</span></samp>&rsquo;, for example.  To obtain
the traditional interpretation of bracket expressions, you can use the C
locale by setting the <samp><span class="env">LC_ALL</span></samp> environment variable to the value
&lsquo;<samp><span class="samp">C</span></samp>&rsquo;.

   <p><a name="index-g_t_0040code_007b_005c_007d-_0028backslash_0029_002c-in-character-lists-258"></a><a name="index-backslash-_0028_0040code_007b_005c_007d_0029_002c-in-character-lists-259"></a><a name="index-g_t_0040code_007b_005e_007d-_0028caret_0029_002c-in-character-lists-260"></a><a name="index-caret-_0028_0040code_007b_005e_007d_0029_002c-in-character-lists-261"></a><a name="index-g_t_0040code_007b_002d_007d-_0028hyphen_0029_002c-in-character-lists-262"></a><a name="index-hyphen-_0028_0040code_007b_002d_007d_0029_002c-in-character-lists-263"></a>To include one of the characters &lsquo;<samp><span class="samp">\</span></samp>&rsquo;, &lsquo;<samp><span class="samp">]</span></samp>&rsquo;, &lsquo;<samp><span class="samp">-</span></samp>&rsquo;, or &lsquo;<samp><span class="samp">^</span></samp>&rsquo; in a
character list, put a &lsquo;<samp><span class="samp">\</span></samp>&rsquo; in front of it.  For example:

<pre class="example">     [d\]]
</pre>
   <p class="noindent">matches either &lsquo;<samp><span class="samp">d</span></samp>&rsquo; or &lsquo;<samp><span class="samp">]</span></samp>&rsquo;.

   <p><a name="index-POSIX-_0040command_007bawk_007d_002c-character-lists-and-264"></a><a name="index-Extended-Regular-Expressions-_0028EREs_0029-265"></a><a name="index-EREs-_0028Extended-Regular-Expressions_0029-266"></a><a name="index-g_t_0040command_007begrep_007d-utility-267"></a>This treatment of &lsquo;<samp><span class="samp">\</span></samp>&rsquo; in character lists
is compatible with other <samp><span class="command">awk</span></samp>
implementations and is also mandated by POSIX. 
The regular expressions in <samp><span class="command">awk</span></samp> are a superset
of the POSIX specification for Extended Regular Expressions (EREs). 
POSIX EREs are based on the regular expressions accepted by the
traditional <samp><span class="command">egrep</span></samp> utility.

   <p><a name="index-character-lists_002c-character-classes-268"></a><a name="index-POSIX-_0040command_007bawk_007d_002c-character-lists-and_002c-character-classes-269"></a><dfn>Character classes</dfn> are a new feature introduced in the POSIX standard. 
A character class is a special notation for describing
lists of characters that have a specific attribute, but the
actual characters can vary from country to country and/or
from character set to character set.  For example, the notion of what
is an alphabetic character differs between the United States and France.

   <p>A character class is only valid in a regexp <em>inside</em> the
brackets of a character list.  Character classes consist of &lsquo;<samp><span class="samp">[:</span></samp>&rsquo;,
a keyword denoting the class, and &lsquo;<samp><span class="samp">:]</span></samp>&rsquo;. 
<a href="table_002dchar_002dclasses.html#table_002dchar_002dclasses">table-char-classes</a> lists the character classes defined by the
POSIX standard.

   <div class="float">
<a name="table_002dchar_002dclasses"></a>
   <p><table summary=""><tr align="left"><th valign="top" width="15%">Class </th><th valign="top" width="85%">Meaning
<br></th></tr><tr align="left"><td valign="top" width="15%"><code>[:alnum:]</code> </td><td valign="top" width="85%">Alphanumeric characters. 
<br></td></tr><tr align="left"><td valign="top" width="15%"><code>[:alpha:]</code> </td><td valign="top" width="85%">Alphabetic characters. 
<br></td></tr><tr align="left"><td valign="top" width="15%"><code>[:blank:]</code> </td><td valign="top" width="85%">Space and TAB characters. 
<br></td></tr><tr align="left"><td valign="top" width="15%"><code>[:cntrl:]</code> </td><td valign="top" width="85%">Control characters. 
<br></td></tr><tr align="left"><td valign="top" width="15%"><code>[:digit:]</code> </td><td valign="top" width="85%">Numeric characters. 
<br></td></tr><tr align="left"><td valign="top" width="15%"><code>[:graph:]</code> </td><td valign="top" width="85%">Characters that are both printable and visible. 
(A space is printable but not visible, whereas an &lsquo;<samp><span class="samp">a</span></samp>&rsquo; is both.) 
<br></td></tr><tr align="left"><td valign="top" width="15%"><code>[:lower:]</code> </td><td valign="top" width="85%">Lowercase alphabetic characters. 
<br></td></tr><tr align="left"><td valign="top" width="15%"><code>[:print:]</code> </td><td valign="top" width="85%">Printable characters (characters that are not control characters). 
<br></td></tr><tr align="left"><td valign="top" width="15%"><code>[:punct:]</code> </td><td valign="top" width="85%">Punctuation characters (characters that are not letters, digits,
control characters, or space characters). 
<br></td></tr><tr align="left"><td valign="top" width="15%"><code>[:space:]</code> </td><td valign="top" width="85%">Space characters (such as space, TAB, and formfeed, to name a few). 
<br></td></tr><tr align="left"><td valign="top" width="15%"><code>[:upper:]</code> </td><td valign="top" width="85%">Uppercase alphabetic characters. 
<br></td></tr><tr align="left"><td valign="top" width="15%"><code>[:xdigit:]</code> </td><td valign="top" width="85%">Characters that are hexadecimal digits.
   <br></td></tr></table>
<p><strong class="float-caption">Table 2.1: POSIX Character Classes</strong></p></div>

   <p>For example, before the POSIX standard, you had to write <code>/[A-Za-z0-9]/</code>
to match alphanumeric characters.  If your
character set had other alphabetic characters in it, this would not
match them, and if your character set collated differently from
ASCII, this might not even match the ASCII alphanumeric characters. 
With the POSIX character classes, you can write
<code>/[[:alnum:]]/</code> to match the alphabetic
and numeric characters in your character set.

   <p><a name="index-character-lists_002c-collating-elements-270"></a><a name="index-character-lists_002c-non_002dASCII-271"></a><a name="index-collating-elements-272"></a>Two additional special sequences can appear in character lists. 
These apply to non-ASCII character sets, which can have single symbols
(called <dfn>collating elements</dfn>) that are represented with more than one
character. They can also have several characters that are equivalent for
<dfn>collating</dfn>, or sorting, purposes.  (For example, in French, a plain &ldquo;e&rdquo;
and a grave-accented &ldquo;&egrave;&rdquo; are equivalent.) 
These sequences are:

     
<a name="index-character-lists_002c-collating-symbols-273"></a>
<a name="index-collating-symbols-274"></a>
<dl><dt>Collating symbols<dd>Multicharacter collating elements enclosed between
&lsquo;<samp><span class="samp">[.</span></samp>&rsquo; and &lsquo;<samp><span class="samp">.]</span></samp>&rsquo;.  For example, if &lsquo;<samp><span class="samp">ch</span></samp>&rsquo; is a collating element,
then <code>[[.ch.]]</code> is a regexp that matches this collating element, whereas
<code>[ch]</code> is a regexp that matches either &lsquo;<samp><span class="samp">c</span></samp>&rsquo; or &lsquo;<samp><span class="samp">h</span></samp>&rsquo;.

     <p><a name="index-character-lists_002c-equivalence-classes-275"></a><br><dt>Equivalence classes<dd>Locale-specific names for a list of
characters that are equal. The name is enclosed between
&lsquo;<samp><span class="samp">[=</span></samp>&rsquo; and &lsquo;<samp><span class="samp">=]</span></samp>&rsquo;. 
For example, the name &lsquo;<samp><span class="samp">e</span></samp>&rsquo; might be used to represent all of
&ldquo;e,&rdquo; &ldquo;&egrave;,&rdquo; and &ldquo;&eacute;.&rdquo; In this case, <code>[[=e=]]</code> is a regexp
that matches any of &lsquo;<samp><span class="samp">e</span></samp>&rsquo;, &lsquo;<samp><span class="samp">&eacute;</span></samp>&rsquo;, or &lsquo;<samp><span class="samp">&egrave;</span></samp>&rsquo;. 
</dl>

   <p>These features are very valuable in non-English-speaking locales.

   <p><a name="index-internationalization_002c-localization_002c-character-classes-276"></a><a name="index-g_t_0040command_007bgawk_007d_002c-character-classes-and-277"></a><a name="index-POSIX-_0040command_007bawk_007d_002c-character-lists-and_002c-character-classes-278"></a><strong>Caution:</strong> The library functions that <samp><span class="command">gawk</span></samp> uses for regular
expression matching currently recognize only POSIX character classes;
they do not recognize collating symbols or equivalence classes. 
<!-- maybe one day ... -->
<!-- ENDOFRANGE charlist -->

   </body></html>

