<html lang="en">
<head>
<title>Other Arguments - The GNU Awk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU Awk User's Guide">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Invoking-Gawk.html#Invoking-Gawk" title="Invoking Gawk">
<link rel="prev" href="Options.html#Options" title="Options">
<link rel="next" href="AWKPATH-Variable.html#AWKPATH-Variable" title="AWKPATH Variable">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1989, 1991, 1992, 1993, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2007, 2009 Free Software Foundation, Inc.



   This is Edition 3 of `GAWK: Effective AWK Programming: A User's Guide for GNU Awk',
for the 3.1.7 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'', the Front-Cover
texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.
  a. ``A GNU Manual''

  b. ``You have the freedom to copy and modify this GNU manual.  Buying
     copies from the FSF supports it in developing GNU and promoting
     software freedom.''
        -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Other-Arguments"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="AWKPATH-Variable.html#AWKPATH-Variable">AWKPATH Variable</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Options.html#Options">Options</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Invoking-Gawk.html#Invoking-Gawk">Invoking Gawk</a>
<hr>
</div>

<h3 class="section">11.3 Other Command-Line Arguments</h3>

<p><a name="index-command-line_002c-arguments-1574"></a><a name="index-arguments_002c-command_002dline-1575"></a>
Any additional arguments on the command line are normally treated as
input files to be processed in the order specified.   However, an
argument that has the form <var>var</var><code>=</code><var>value</var>, assigns
the value <var>value</var> to the variable <var>var</var>&mdash;it does not specify a
file at all. 
(This was discussed earlier in
<a href="Assignment-Options.html#Assignment-Options">Assignment Options</a>.)

   <p><a name="index-g_t_0040code_007bARGIND_007d-variable_002c-command_002dline-arguments-1576"></a><a name="index-g_t_0040code_007bARGC_007d_002f_0040code_007bARGV_007d-variables_002c-command_002dline-arguments-1577"></a>All these arguments are made available to your <samp><span class="command">awk</span></samp> program in the
<code>ARGV</code> array (see <a href="Built_002din-Variables.html#Built_002din-Variables">Built-in Variables</a>).  Command-line options
and the program text (if present) are omitted from <code>ARGV</code>. 
All other arguments, including variable assignments, are
included.   As each element of <code>ARGV</code> is processed, <samp><span class="command">gawk</span></samp>
sets the variable <code>ARGIND</code> to the index in <code>ARGV</code> of the
current element.

   <p><a name="index-input-files_002c-variable-assignments-and-1578"></a>The distinction between file name arguments and variable-assignment
arguments is made when <samp><span class="command">awk</span></samp> is about to open the next input file. 
At that point in execution, it checks the file name to see whether
it is really a variable assignment; if so, <samp><span class="command">awk</span></samp> sets the variable
instead of reading a file.

   <p>Therefore, the variables actually receive the given values after all
previously specified files have been read.  In particular, the values of
variables assigned in this fashion are <em>not</em> available inside a
<code>BEGIN</code> rule
(see <a href="BEGIN_002fEND.html#BEGIN_002fEND">BEGIN/END</a>),
because such rules are run before <samp><span class="command">awk</span></samp> begins scanning the argument list.

   <p><a name="index-dark-corner_002c-escape-sequences-1579"></a>The variable values given on the command line are processed for escape
sequences (see <a href="Escape-Sequences.html#Escape-Sequences">Escape Sequences</a>). 
(d.c.)

   <p>In some earlier implementations of <samp><span class="command">awk</span></samp>, when a variable assignment
occurred before any file names, the assignment would happen <em>before</em>
the <code>BEGIN</code> rule was executed.  <samp><span class="command">awk</span></samp>'s behavior was thus
inconsistent; some command-line assignments were available inside the
<code>BEGIN</code> rule, while others were not.  Unfortunately,
some applications came to depend
upon this &ldquo;feature.&rdquo;  When <samp><span class="command">awk</span></samp> was changed to be more consistent,
the <samp><span class="option">-v</span></samp> option was added to accommodate applications that depended
upon the old behavior.

   <p>The variable assignment feature is most useful for assigning to variables
such as <code>RS</code>, <code>OFS</code>, and <code>ORS</code>, which control input and
output formats before scanning the data files.  It is also useful for
controlling state if multiple passes are needed over a data file.  For
example:

   <p><a name="index-files_002c-multiple-passes-over-1580"></a>
<pre class="example">     awk 'pass == 1  { <var>pass 1 stuff</var> }
          pass == 2  { <var>pass 2 stuff</var> }' pass=1 mydata pass=2 mydata
</pre>
   <p>Given the variable assignment feature, the <samp><span class="option">-F</span></samp> option for setting
the value of <code>FS</code> is not
strictly necessary.  It remains for historical compatibility.

   </body></html>

