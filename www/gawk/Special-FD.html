<html lang="en">
<head>
<title>Special FD - The GNU Awk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU Awk User's Guide">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Special-Files.html#Special-Files" title="Special Files">
<link rel="next" href="Special-Process.html#Special-Process" title="Special Process">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1989, 1991, 1992, 1993, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2007, 2009 Free Software Foundation, Inc.



   This is Edition 3 of `GAWK: Effective AWK Programming: A User's Guide for GNU Awk',
for the 3.1.7 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'', the Front-Cover
texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.
  a. ``A GNU Manual''

  b. ``You have the freedom to copy and modify this GNU manual.  Buying
     copies from the FSF supports it in developing GNU and promoting
     software freedom.''
        -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Special-FD"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Special-Process.html#Special-Process">Special Process</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Special-Files.html#Special-Files">Special Files</a>
<hr>
</div>

<h4 class="subsection">4.7.1 Special Files for Standard Descriptors</h4>

<p><a name="index-standard-input-573"></a><a name="index-input_002c-standard-574"></a><a name="index-standard-output-575"></a><a name="index-output_002c-standard-576"></a><a name="index-error-output-577"></a><a name="index-file-descriptors-578"></a><a name="index-files_002c-descriptors_002c-See-file-descriptors-579"></a>
Running programs conventionally have three input and output streams
already available to them for reading and writing.  These are known as
the <dfn>standard input</dfn>, <dfn>standard output</dfn>, and <dfn>standard error
output</dfn>.  These streams are, by default, connected to your terminal, but
they are often redirected with the shell, via the &lsquo;<samp><span class="samp">&lt;</span></samp>&rsquo;, &lsquo;<samp><span class="samp">&lt;&lt;</span></samp>&rsquo;,
&lsquo;<samp><span class="samp">&gt;</span></samp>&rsquo;, &lsquo;<samp><span class="samp">&gt;&gt;</span></samp>&rsquo;, &lsquo;<samp><span class="samp">&gt;&amp;</span></samp>&rsquo;, and &lsquo;<samp><span class="samp">|</span></samp>&rsquo; operators.  Standard error
is typically used for writing error messages; the reason there are two separate
streams, standard output and standard error, is so that they can be
redirected separately.

   <p><a name="index-differences-in-_0040command_007bawk_007d-and-_0040command_007bgawk_007d_002c-error-messages-580"></a><a name="index-error-handling-581"></a>In other implementations of <samp><span class="command">awk</span></samp>, the only way to write an error
message to standard error in an <samp><span class="command">awk</span></samp> program is as follows:

<pre class="example">     print "Serious error detected!" | "cat 1&gt;&amp;2"
</pre>
   <p class="noindent">This works by opening a pipeline to a shell command that can access the
standard error stream that it inherits from the <samp><span class="command">awk</span></samp> process. 
This is far from elegant, and it is also inefficient, because it requires a
separate process.  So people writing <samp><span class="command">awk</span></samp> programs often
don't do this.  Instead, they send the error messages to the
terminal, like this:

<pre class="example">     print "Serious error detected!" &gt; "/dev/tty"
</pre>
   <p class="noindent">This usually has the same effect but not always: although the
standard error stream is usually the terminal, it can be redirected; when
that happens, writing to the terminal is not correct.  In fact, if
<samp><span class="command">awk</span></samp> is run from a background job, it may not have a terminal at all. 
Then opening <samp><span class="file">/dev/tty</span></samp> fails.

   <p><samp><span class="command">gawk</span></samp> provides special file names for accessing the three standard
streams, as well as any other inherited open files.  If the file name matches
one of these special names when <samp><span class="command">gawk</span></samp> redirects input or output,
then it directly uses the stream that the file name stands for. 
These special file names work for all operating systems that <samp><span class="command">gawk</span></samp>
has been ported to, not just those that are POSIX-compliant:

   <p><a name="index-g_t_0040value_007bFN_007ds_002c-standard-streams-in-_0040command_007bgawk_007d-582"></a><a name="index-g_t_0040code_007b_002fdev_002f_0040dots_007b_007d_007d-special-files-_0028_0040command_007bgawk_007d_0029-583"></a><a name="index-files_002c-_0040code_007b_002fdev_002f_0040dots_007b_007d_007d-special-files-584"></a><!-- @cindex @code{/dev/stdin} special file -->
<!-- @cindex @code{/dev/stdout} special file -->
<!-- @cindex @code{/dev/stderr} special file -->
<!-- @cindex @code{/dev/fd} special files -->
     <dl>
<dt><samp><span class="file">/dev/stdin</span></samp><dd>The standard input (file descriptor 0).

     <br><dt><samp><span class="file">/dev/stdout</span></samp><dd>The standard output (file descriptor 1).

     <br><dt><samp><span class="file">/dev/stderr</span></samp><dd>The standard error output (file descriptor 2).

     <br><dt><samp><span class="file">/dev/fd/</span><var>N</var></samp><dd>The file associated with file descriptor <var>N</var>.  Such a file must
be opened by the program initiating the <samp><span class="command">awk</span></samp> execution (typically
the shell).  Unless special pains are taken in the shell from which
<samp><span class="command">gawk</span></samp> is invoked, only descriptors 0, 1, and 2 are available. 
</dl>

   <p>The file names <samp><span class="file">/dev/stdin</span></samp>, <samp><span class="file">/dev/stdout</span></samp>, and <samp><span class="file">/dev/stderr</span></samp>
are aliases for <samp><span class="file">/dev/fd/0</span></samp>, <samp><span class="file">/dev/fd/1</span></samp>, and <samp><span class="file">/dev/fd/2</span></samp>,
respectively. However, they are more self-explanatory. 
The proper way to write an error message in a <samp><span class="command">gawk</span></samp> program
is to use <samp><span class="file">/dev/stderr</span></samp>, like this:

<pre class="example">     print "Serious error detected!" &gt; "/dev/stderr"
</pre>
   <p><a name="index-troubleshooting_002c-quotes-with-_0040value_007bFN_007ds-585"></a>Note the use of quotes around the file name. 
Like any other redirection, the value must be a string. 
It is a common error to omit the quotes, which leads
to confusing results. 
<!-- Exercise: What does it do?  :-) -->

   </body></html>

