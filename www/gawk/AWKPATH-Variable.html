<html lang="en">
<head>
<title>AWKPATH Variable - The GNU Awk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU Awk User's Guide">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Invoking-Gawk.html#Invoking-Gawk" title="Invoking Gawk">
<link rel="prev" href="Other-Arguments.html#Other-Arguments" title="Other Arguments">
<link rel="next" href="Obsolete.html#Obsolete" title="Obsolete">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1989, 1991, 1992, 1993, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2007, 2009 Free Software Foundation, Inc.



   This is Edition 3 of `GAWK: Effective AWK Programming: A User's Guide for GNU Awk',
for the 3.1.7 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'', the Front-Cover
texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.
  a. ``A GNU Manual''

  b. ``You have the freedom to copy and modify this GNU manual.  Buying
     copies from the FSF supports it in developing GNU and promoting
     software freedom.''
        -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="AWKPATH-Variable"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Obsolete.html#Obsolete">Obsolete</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Other-Arguments.html#Other-Arguments">Other Arguments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Invoking-Gawk.html#Invoking-Gawk">Invoking Gawk</a>
<hr>
</div>

<h3 class="section">11.4 The <samp><span class="env">AWKPATH</span></samp> Environment Variable</h3>

<p><a name="index-g_t_0040env_007bAWKPATH_007d-environment-variable-1581"></a><a name="index-directories_002c-searching-1582"></a><a name="index-search-paths_002c-for-source-files-1583"></a><a name="index-differences-in-_0040command_007bawk_007d-and-_0040command_007bgawk_007d_002c-_0040code_007bAWKPATH_007d-environment-variable-1584"></a>In most <samp><span class="command">awk</span></samp>
implementations, you must supply a precise path name for each program
file, unless the file is in the current directory. 
But in <samp><span class="command">gawk</span></samp>, if the file name supplied to the <samp><span class="option">-f</span></samp> option
does not contain a &lsquo;<samp><span class="samp">/</span></samp>&rsquo;, then <samp><span class="command">gawk</span></samp> searches a list of
directories (called the <dfn>search path</dfn>), one by one, looking for a
file with the specified name.

   <p>The search path is a string consisting of directory names
separated by colons.  <samp><span class="command">gawk</span></samp> gets its search path from the
<samp><span class="env">AWKPATH</span></samp> environment variable.  If that variable does not exist,
<samp><span class="command">gawk</span></samp> uses a default path,
&lsquo;<samp><span class="samp">.:/usr/local/share/awk</span></samp>&rsquo;.<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a> (Programs written for use by
system administrators should use an <samp><span class="env">AWKPATH</span></samp> variable that
does not include the current directory, <samp><span class="file">.</span></samp>.)

   <p>The search path feature is particularly useful for building libraries
of useful <samp><span class="command">awk</span></samp> functions.  The library files can be placed in a
standard directory in the default path and then specified on
the command line with a short file name.  Otherwise, the full file name
would have to be typed for each file.

   <p>By using both the <samp><span class="option">--source</span></samp> and <samp><span class="option">-f</span></samp> options, your command-line
<samp><span class="command">awk</span></samp> programs can use facilities in <samp><span class="command">awk</span></samp> library files
(see <a href="Library-Functions.html#Library-Functions">Library Functions</a>). 
Path searching is not done if <samp><span class="command">gawk</span></samp> is in compatibility mode. 
This is true for both <samp><span class="option">--traditional</span></samp> and <samp><span class="option">--posix</span></samp>. 
See <a href="Options.html#Options">Options</a>.

   <blockquote>
<b>NOTE:</b> If you want files in the current directory to be found,
you must include the current directory in the path, either by including
<samp><span class="file">.</span></samp> explicitly in the path or by writing a null entry in the
path.  (A null entry is indicated by starting or ending the path with a
colon or by placing two colons next to each other (&lsquo;<samp><span class="samp">::</span></samp>&rsquo;).)  If the
current directory is not included in the path, then files cannot be
found in the current directory.  This path search mechanism is identical
to the shell's. 
<!-- someday, @cite{The Bourne Again Shell}.... -->
</blockquote>

   <p>Starting with version 3.0, if <samp><span class="env">AWKPATH</span></samp> is not defined in the
environment, <samp><span class="command">gawk</span></samp> places its default search path into
<code>ENVIRON["AWKPATH"]</code>. This makes it easy to determine
the actual search path that <samp><span class="command">gawk</span></samp> will use
from within an <samp><span class="command">awk</span></samp> program.

   <p>While you can change <code>ENVIRON["AWKPATH"]</code> within your <samp><span class="command">awk</span></samp>
program, this has no effect on the running program's behavior.  This makes
sense: the <samp><span class="env">AWKPATH</span></samp> environment variable is used to find the program
source files.  Once your program is running, all the files have been
found, and <samp><span class="command">gawk</span></samp> no longer needs to use <samp><span class="env">AWKPATH</span></samp>.

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> Your version of <samp><span class="command">gawk</span></samp>
may use a different directory; it
will depend upon how <samp><span class="command">gawk</span></samp> was built and installed. The actual
directory is the value of &lsquo;<samp><span class="samp">$(datadir)</span></samp>&rsquo; generated when
<samp><span class="command">gawk</span></samp> was configured.  You probably don't need to worry about this,
though.</p>

   <hr></div>

   </body></html>

