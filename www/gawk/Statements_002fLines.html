<html lang="en">
<head>
<title>Statements/Lines - The GNU Awk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU Awk User's Guide">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Getting-Started.html#Getting-Started" title="Getting Started">
<link rel="prev" href="More-Complex.html#More-Complex" title="More Complex">
<link rel="next" href="Other-Features.html#Other-Features" title="Other Features">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1989, 1991, 1992, 1993, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2007, 2009 Free Software Foundation, Inc.



   This is Edition 3 of `GAWK: Effective AWK Programming: A User's Guide for GNU Awk',
for the 3.1.7 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'', the Front-Cover
texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.
  a. ``A GNU Manual''

  b. ``You have the freedom to copy and modify this GNU manual.  Buying
     copies from the FSF supports it in developing GNU and promoting
     software freedom.''
        -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Statements%2fLines"></a>
<a name="Statements_002fLines"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Other-Features.html#Other-Features">Other Features</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="More-Complex.html#More-Complex">More Complex</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Getting-Started.html#Getting-Started">Getting Started</a>
<hr>
</div>

<h3 class="section">1.6 <samp><span class="command">awk</span></samp> Statements Versus Lines</h3>

<p><a name="index-line-breaks-149"></a><a name="index-newlines-150"></a>
Most often, each line in an <samp><span class="command">awk</span></samp> program is a separate statement or
separate rule, like this:

<pre class="example">     awk '/12/  { print $0 }
          /21/  { print $0 }' BBS-list inventory-shipped
</pre>
   <p><a name="index-g_t_0040command_007bgawk_007d_002c-newlines-in-151"></a>However, <samp><span class="command">gawk</span></samp> ignores newlines after any of the following
symbols and keywords:

<pre class="example">     ,    {    ?    :    ||    &amp;&amp;    do    else
</pre>
   <p class="noindent">A newline at any other point is considered the end of the
statement.<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>

   <p><a name="index-g_t_0040code_007b_005c_007d-_0028backslash_0029_002c-continuing-lines-and-152"></a><a name="index-backslash-_0028_0040code_007b_005c_007d_0029_002c-continuing-lines-and-153"></a>If you would like to split a single statement into two lines at a point
where a newline would terminate it, you can <dfn>continue</dfn> it by ending the
first line with a backslash character (&lsquo;<samp><span class="samp">\</span></samp>&rsquo;).  The backslash must be
the final character on the line in order to be recognized as a continuation
character.  A backslash is allowed anywhere in the statement, even
in the middle of a string or regular expression.  For example:

<pre class="example">     awk '/This regular expression is too long, so continue it\
      on the next line/ { print $1 }'
</pre>
   <p class="noindent"><a name="index-portability_002c-backslash-continuation-and-154"></a>We have generally not used backslash continuation in the sample programs
in this Web page.  In <samp><span class="command">gawk</span></samp>, there is no limit on the
length of a line, so backslash continuation is never strictly necessary;
it just makes programs more readable.  For this same reason, as well as
for clarity, we have kept most statements short in the sample programs
presented throughout the Web page.  Backslash continuation is
most useful when your <samp><span class="command">awk</span></samp> program is in a separate source file
instead of entered from the command line.  You should also note that
many <samp><span class="command">awk</span></samp> implementations are more particular about where you
may use backslash continuation. For example, they may not allow you to
split a string constant using backslash continuation.  Thus, for maximum
portability of your <samp><span class="command">awk</span></samp> programs, it is best not to split your
lines in the middle of a regular expression or a string. 
<!-- 10/2000: gawk, mawk, and current bell labs awk allow it, -->
<!-- solaris 2.7 nawk does not. Solaris /usr/xpg4/bin/awk does though!  sigh. -->

   <p><a name="index-g_t_0040command_007bcsh_007d-utility-155"></a><a name="index-backslash-_0028_0040code_007b_005c_007d_0029_002c-continuing-lines-and_002c-in-_0040command_007bcsh_007d-156"></a><a name="index-g_t_0040code_007b_005c_007d-_0028backslash_0029_002c-continuing-lines-and_002c-in-_0040command_007bcsh_007d-157"></a><strong>Caution:</strong> <em>Backslash continuation does not work as described
with the C shell.</em>  It works for <samp><span class="command">awk</span></samp> programs in files and
for one-shot programs, <em>provided</em> you are using a POSIX-compliant
shell, such as the Unix Bourne shell or <samp><span class="command">bash</span></samp>.  But the C shell behaves
differently!  There, you must use two backslashes in a row, followed by
a newline.  Note also that when using the C shell, <em>every</em> newline
in your awk program must be escaped with a backslash. To illustrate:

<pre class="example">     % awk 'BEGIN { \
     ?   print \\
     ?       "hello, world" \
     ? }'
     -| hello, world
</pre>
   <p class="noindent">Here, the &lsquo;<samp><span class="samp">%</span></samp>&rsquo; and &lsquo;<samp><span class="samp">?</span></samp>&rsquo; are the C shell's primary and secondary
prompts, analogous to the standard shell's &lsquo;<samp><span class="samp">$</span></samp>&rsquo; and &lsquo;<samp><span class="samp">&gt;</span></samp>&rsquo;.

   <p>Compare the previous example to how it is done with a POSIX-compliant shell:

<pre class="example">     $ awk 'BEGIN {
     &gt;   print \
     &gt;       "hello, world"
     &gt; }'
     -| hello, world
</pre>
   <p><samp><span class="command">awk</span></samp> is a line-oriented language.  Each rule's action has to
begin on the same line as the pattern.  To have the pattern and action
on separate lines, you <em>must</em> use backslash continuation; there
is no other option.

   <p><a name="index-backslash-_0028_0040code_007b_005c_007d_0029_002c-continuing-lines-and_002c-comments-and-158"></a><a name="index-g_t_0040code_007b_005c_007d-_0028backslash_0029_002c-continuing-lines-and_002c-comments-and-159"></a><a name="index-commenting_002c-backslash-continuation-and-160"></a>Another thing to keep in mind is that backslash continuation and
comments do not mix. As soon as <samp><span class="command">awk</span></samp> sees the &lsquo;<samp><span class="samp">#</span></samp>&rsquo; that
starts a comment, it ignores <em>everything</em> on the rest of the
line. For example:

<pre class="example">     $ gawk 'BEGIN { print "dont panic" # a friendly \
     &gt;                                    BEGIN rule
     &gt; }'
     error--&gt; gawk: cmd. line:2:                BEGIN rule
     error--&gt; gawk: cmd. line:2:                ^ parse error
</pre>
   <p class="noindent">In this case, it looks like the backslash would continue the comment onto the
next line. However, the backslash-newline combination is never even
noticed because it is &ldquo;hidden&rdquo; inside the comment. Thus, the
<code>BEGIN</code> is noted as a syntax error.

   <p><a name="index-statements_002c-multiple-161"></a><a name="index-g_t_0040code_007b_003b_007d-_0028semicolon_0029-162"></a><a name="index-semicolon-_0028_0040code_007b_003b_007d_0029-163"></a>When <samp><span class="command">awk</span></samp> statements within one rule are short, you might want to put
more than one of them on a line.  This is accomplished by separating the statements
with a semicolon (&lsquo;<samp><span class="samp">;</span></samp>&rsquo;). 
This also applies to the rules themselves. 
Thus, the program shown at the start of this section
could also be written this way:

<pre class="example">     /12/ { print $0 } ; /21/ { print $0 }
</pre>
   <blockquote>
<b>NOTE:</b> The requirement that states that rules on the same line must be
separated with a semicolon was not in the original <samp><span class="command">awk</span></samp>
language; it was added for consistency with the treatment of statements
within an action. 
</blockquote>

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> The &lsquo;<samp><span class="samp">?</span></samp>&rsquo; and &lsquo;<samp><span class="samp">:</span></samp>&rsquo; referred to here is the
three-operand conditional expression described in
<a href="Conditional-Exp.html#Conditional-Exp">Conditional Exp</a>. 
Splitting lines after &lsquo;<samp><span class="samp">?</span></samp>&rsquo; and &lsquo;<samp><span class="samp">:</span></samp>&rsquo; is a minor <samp><span class="command">gawk</span></samp>
extension; if <samp><span class="option">--posix</span></samp> is specified
(see <a href="Options.html#Options">Options</a>), then this extension is disabled.</p>

   <hr></div>

   </body></html>

