<html lang="en">
<head>
<title>Precedence - The GNU Awk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU Awk User's Guide">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Expressions.html#Expressions" title="Expressions">
<link rel="prev" href="Function-Calls.html#Function-Calls" title="Function Calls">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1989, 1991, 1992, 1993, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2007, 2009 Free Software Foundation, Inc.



   This is Edition 3 of `GAWK: Effective AWK Programming: A User's Guide for GNU Awk',
for the 3.1.7 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'', the Front-Cover
texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.
  a. ``A GNU Manual''

  b. ``You have the freedom to copy and modify this GNU manual.  Buying
     copies from the FSF supports it in developing GNU and promoting
     software freedom.''
        -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Precedence"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Function-Calls.html#Function-Calls">Function Calls</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Expressions.html#Expressions">Expressions</a>
<hr>
</div>

<h3 class="section">5.14 Operator Precedence (How Operators Nest)</h3>

<!-- STARTOFRANGE prec -->
<p><a name="index-precedence-814"></a><!-- STARTOFRANGE oppr -->
<a name="index-operators_002c-precedence-815"></a>
<dfn>Operator precedence</dfn> determines how operators are grouped when
different operators appear close by in one expression.  For example,
&lsquo;<samp><span class="samp">*</span></samp>&rsquo; has higher precedence than &lsquo;<samp><span class="samp">+</span></samp>&rsquo;; thus, &lsquo;<samp><span class="samp">a + b * c</span></samp>&rsquo;
means to multiply <code>b</code> and <code>c</code>, and then add <code>a</code> to the
product (i.e., &lsquo;<samp><span class="samp">a + (b * c)</span></samp>&rsquo;).

   <p>The normal precedence of the operators can be overruled by using parentheses. 
Think of the precedence rules as saying where the
parentheses are assumed to be.  In
fact, it is wise to always use parentheses whenever there is an unusual
combination of operators, because other people who read the program may
not remember what the precedence is in this case. 
Even experienced programmers occasionally forget the exact rules,
which leads to mistakes. 
Explicit parentheses help prevent
any such mistakes.

   <p>When operators of equal precedence are used together, the leftmost
operator groups first, except for the assignment, conditional, and
exponentiation operators, which group in the opposite order. 
Thus, &lsquo;<samp><span class="samp">a - b + c</span></samp>&rsquo; groups as &lsquo;<samp><span class="samp">(a - b) + c</span></samp>&rsquo; and
&lsquo;<samp><span class="samp">a = b = c</span></samp>&rsquo; groups as &lsquo;<samp><span class="samp">a = (b = c)</span></samp>&rsquo;.

   <p>Normally the precedence of prefix unary operators does not matter,
because there is only one way to interpret
them: innermost first.  Thus, &lsquo;<samp><span class="samp">$++i</span></samp>&rsquo; means &lsquo;<samp><span class="samp">$(++i)</span></samp>&rsquo; and
&lsquo;<samp><span class="samp">++$x</span></samp>&rsquo; means &lsquo;<samp><span class="samp">++($x)</span></samp>&rsquo;.  However, when another operator follows
the operand, then the precedence of the unary operators can matter. 
&lsquo;<samp><span class="samp">$x^2</span></samp>&rsquo; means &lsquo;<samp><span class="samp">($x)^2</span></samp>&rsquo;, but &lsquo;<samp><span class="samp">-x^2</span></samp>&rsquo; means
&lsquo;<samp><span class="samp">-(x^2)</span></samp>&rsquo;, because &lsquo;<samp><span class="samp">-</span></samp>&rsquo; has lower precedence than &lsquo;<samp><span class="samp">^</span></samp>&rsquo;,
whereas &lsquo;<samp><span class="samp">$</span></samp>&rsquo; has higher precedence. 
Also, operators cannot be combined in a way that violates the
precedence rules; for example, &lsquo;<samp><span class="samp">$$0++--</span></samp>&rsquo; is not a valid
expression because the first &lsquo;<samp><span class="samp">$</span></samp>&rsquo; has higher precedence than the
&lsquo;<samp><span class="samp">++</span></samp>&rsquo;; to avoid the problem the expression can be rewritten as
&lsquo;<samp><span class="samp">$($0++)--</span></samp>&rsquo;.

   <p>This table presents <samp><span class="command">awk</span></samp>'s operators, in order of highest
to lowest precedence:

<!-- use @code in the items, looks better in TeX w/o all the quotes -->
     <dl>
<dt><code>(...)</code><dd>Grouping.

     <p><a name="index-g_t_0040code_007b_0024_007d-_0028dollar-sign_0029_002c-_0040code_007b_0024_007d-field-operator-816"></a><a name="index-dollar-sign-_0028_0040code_007b_0024_007d_0029_002c-_0040code_007b_0024_007d-field-operator-817"></a><br><dt><code>$</code><dd>Field.

     <p><a name="index-g_t_0040code_007b_002b_007d-_0028plus-sign_0029_002c-_0040code_007b_002b_002b_007d-operator-818"></a><a name="index-plus-sign-_0028_0040code_007b_002b_007d_0029_002c-_0040code_007b_002b_002b_007d-operator-819"></a><a name="index-g_t_0040code_007b_002d_007d-_0028hyphen_0029_002c-_0040code_007b_002d_002d_007d-_0028decrement_002fincrement_0029-operator-820"></a><a name="index-hyphen-_0028_0040code_007b_002d_007d_0029_002c-_0040code_007b_002d_002d_007d-_0028decrement_002fincrement_0029-operators-821"></a><br><dt><code>++ --</code><dd>Increment, decrement.

     <p><a name="index-g_t_0040code_007b_005e_007d-_0028caret_0029_002c-_0040code_007b_005e_007d-operator-822"></a><a name="index-caret-_0028_0040code_007b_005e_007d_0029_002c-_0040code_007b_005e_007d-operator-823"></a><a name="index-g_t_0040code_007b_002a_007d-_0028asterisk_0029_002c-_0040code_007b_002a_002a_007d-operator-824"></a><a name="index-asterisk-_0028_0040code_007b_002a_007d_0029_002c-_0040code_007b_002a_002a_007d-operator-825"></a><br><dt><code>^ **</code><dd>Exponentiation.  These operators group right-to-left.

     <p><a name="index-g_t_0040code_007b_002b_007d-_0028plus-sign_0029_002c-_0040code_007b_002b_007d-operator-826"></a><a name="index-plus-sign-_0028_0040code_007b_002b_007d_0029_002c-_0040code_007b_002b_007d-operator-827"></a><a name="index-g_t_0040code_007b_002d_007d-_0028hyphen_0029_002c-_0040code_007b_002d_007d-operator-828"></a><a name="index-hyphen-_0028_0040code_007b_002d_007d_0029_002c-_0040code_007b_002d_007d-operator-829"></a><a name="index-g_t_0040code_007b_0021_007d-_0028exclamation-point_0029_002c-_0040code_007b_0021_007d-operator-830"></a><a name="index-exclamation-point-_0028_0040code_007b_0021_007d_0029_002c-_0040code_007b_0021_007d-operator-831"></a><br><dt><code>+ - !</code><dd>Unary plus, minus, logical &ldquo;not.&rdquo;

     <p><a name="index-g_t_0040code_007b_002a_007d-_0028asterisk_0029_002c-_0040code_007b_002a_007d-operator_002c-as-multiplication-operator-832"></a><a name="index-asterisk-_0028_0040code_007b_002a_007d_0029_002c-_0040code_007b_002a_007d-operator_002c-as-multiplication-operator-833"></a><a name="index-g_t_0040code_007b_002f_007d-_0028forward-slash_0029_002c-_0040code_007b_002f_007d-operator-834"></a><a name="index-forward-slash-_0028_0040code_007b_002f_007d_0029_002c-_0040code_007b_002f_007d-operator-835"></a><a name="index-g_t_0040code_007b_0025_007d-_0028percent-sign_0029_002c-_0040code_007b_0025_007d-operator-836"></a><a name="index-percent-sign-_0028_0040code_007b_0025_007d_0029_002c-_0040code_007b_0025_007d-operator-837"></a><br><dt><code>* / %</code><dd>Multiplication, division, remainder.

     <p><a name="index-g_t_0040code_007b_002b_007d-_0028plus-sign_0029_002c-_0040code_007b_002b_007d-operator-838"></a><a name="index-plus-sign-_0028_0040code_007b_002b_007d_0029_002c-_0040code_007b_002b_007d-operator-839"></a><a name="index-g_t_0040code_007b_002d_007d-_0028hyphen_0029_002c-_0040code_007b_002d_007d-operator-840"></a><a name="index-hyphen-_0028_0040code_007b_002d_007d_0029_002c-_0040code_007b_002d_007d-operator-841"></a><br><dt><code>+ -</code><dd>Addition, subtraction.

     <br><dt><span class="roman">String Concatenation</span><dd>No special symbol is used to indicate concatenation. 
The operands are simply written side by side
(see <a href="Concatenation.html#Concatenation">Concatenation</a>).

     <p><a name="index-g_t_0040code_007b_003c_007d-_0028left-angle-bracket_0029_002c-_0040code_007b_003c_007d-operator-842"></a><a name="index-left-angle-bracket-_0028_0040code_007b_003c_007d_0029_002c-_0040code_007b_003c_007d-operator-843"></a><a name="index-g_t_0040code_007b_003c_007d-_0028left-angle-bracket_0029_002c-_0040code_007b_003c_003d_007d-operator-844"></a><a name="index-left-angle-bracket-_0028_0040code_007b_003c_007d_0029_002c-_0040code_007b_003c_003d_007d-operator-845"></a><a name="index-g_t_0040code_007b_003e_007d-_0028right-angle-bracket_0029_002c-_0040code_007b_003e_003d_007d-operator-846"></a><a name="index-right-angle-bracket-_0028_0040code_007b_003e_007d_0029_002c-_0040code_007b_003e_003d_007d-operator-847"></a><a name="index-g_t_0040code_007b_003e_007d-_0028right-angle-bracket_0029_002c-_0040code_007b_003e_007d-operator-848"></a><a name="index-right-angle-bracket-_0028_0040code_007b_003e_007d_0029_002c-_0040code_007b_003e_007d-operator-849"></a><a name="index-g_t_0040code_007b_003d_007d-_0028equals-sign_0029_002c-_0040code_007b_003d_003d_007d-operator-850"></a><a name="index-equals-sign-_0028_0040code_007b_003d_007d_0029_002c-_0040code_007b_003d_003d_007d-operator-851"></a><a name="index-g_t_0040code_007b_0021_007d-_0028exclamation-point_0029_002c-_0040code_007b_0021_003d_007d-operator-852"></a><a name="index-exclamation-point-_0028_0040code_007b_0021_007d_0029_002c-_0040code_007b_0021_003d_007d-operator-853"></a><a name="index-g_t_0040code_007b_003e_007d-_0028right-angle-bracket_0029_002c-_0040code_007b_003e_003e_007d-operator-_0028I_002fO_0029-854"></a><a name="index-right-angle-bracket-_0028_0040code_007b_003e_007d_0029_002c-_0040code_007b_003e_003e_007d-operator-_0028I_002fO_0029-855"></a><a name="index-operators_002c-input_002foutput-856"></a><a name="index-g_t_0040code_007b_007c_007d-_0028vertical-bar_0029_002c-_0040code_007b_007c_007d-operator-_0028I_002fO_0029-857"></a><a name="index-vertical-bar-_0028_0040code_007b_007c_007d_0029_002c-_0040code_007b_007c_007d-operator-_0028I_002fO_0029-858"></a><a name="index-operators_002c-input_002foutput-859"></a><a name="index-g_t_0040code_007b_007c_007d-_0028vertical-bar_0029_002c-_0040code_007b_007c_0026_007d-operator-_0028I_002fO_0029-860"></a><a name="index-vertical-bar-_0028_0040code_007b_007c_007d_0029_002c-_0040code_007b_007c_0026_007d-operator-_0028I_002fO_0029-861"></a><a name="index-operators_002c-input_002foutput-862"></a><br><dt><code>&lt; &lt;= == !=</code><dt><code>&gt; &gt;= &gt;&gt; | |&amp;</code><dd>Relational and redirection. 
The relational operators and the redirections have the same precedence
level.  Characters such as &lsquo;<samp><span class="samp">&gt;</span></samp>&rsquo; serve both as relationals and as
redirections; the context distinguishes between the two meanings.

     <p><a name="index-g_t_0040code_007bprint_007d-statement_002c-I_002fO-operators-in-863"></a><a name="index-g_t_0040code_007bprintf_007d-statement_002c-I_002fO-operators-in-864"></a>Note that the I/O redirection operators in <code>print</code> and <code>printf</code>
statements belong to the statement level, not to expressions.  The
redirection does not produce an expression that could be the operand of
another operator.  As a result, it does not make sense to use a
redirection operator near another operator of lower precedence without
parentheses.  Such combinations (for example, &lsquo;<samp><span class="samp">print foo &gt; a ? b : c</span></samp>&rsquo;),
result in syntax errors. 
The correct way to write this statement is &lsquo;<samp><span class="samp">print foo &gt; (a ? b : c)</span></samp>&rsquo;.

     <p><a name="index-g_t_0040code_007b_007e_007d-_0028tilde_0029_002c-_0040code_007b_007e_007d-operator-865"></a><a name="index-tilde-_0028_0040code_007b_007e_007d_0029_002c-_0040code_007b_007e_007d-operator-866"></a><a name="index-g_t_0040code_007b_0021_007d-_0028exclamation-point_0029_002c-_0040code_007b_0021_007e_007d-operator-867"></a><a name="index-exclamation-point-_0028_0040code_007b_0021_007d_0029_002c-_0040code_007b_0021_007e_007d-operator-868"></a><br><dt><code>~ !~</code><dd>Matching, nonmatching.

     <p><a name="index-g_t_0040code_007bin_007d-operator-869"></a><br><dt><code>in</code><dd>Array membership.

     <p><a name="index-g_t_0040code_007b_0026_007d-_0028ampersand_0029_002c-_0040code_007b_0026_0026_007d-operator-870"></a><a name="index-ampersand-_0028_0040code_007b_0026_007d_0029_002c-_0040code_007b_0026_0026_007doperator-871"></a><br><dt><code>&amp;&amp;</code><dd>Logical &ldquo;and&rdquo;.

     <p><a name="index-g_t_0040code_007b_007c_007d-_0028vertical-bar_0029_002c-_0040code_007b_007c_007c_007d-operator-872"></a><a name="index-vertical-bar-_0028_0040code_007b_007c_007d_0029_002c-_0040code_007b_007c_007c_007d-operator-873"></a><br><dt><code>||</code><dd>Logical &ldquo;or&rdquo;.

     <p><a name="index-g_t_0040code_007b_003f_007d-_0028question-mark_0029_002c-_0040code_007b_003f_003a_007d-operator-874"></a><a name="index-question-mark-_0028_0040code_007b_003f_007d_0029_002c-_0040code_007b_003f_003a_007d-operator-875"></a><br><dt><code>?:</code><dd>Conditional.  This operator groups right-to-left.

     <p><a name="index-g_t_0040code_007b_002b_007d-_0028plus-sign_0029_002c-_0040code_007b_002b_003d_007d-operator-876"></a><a name="index-plus-sign-_0028_0040code_007b_002b_007d_0029_002c-_0040code_007b_002b_003d_007d-operator-877"></a><a name="index-g_t_0040code_007b_002d_007d-_0028hyphen_0029_002c-_0040code_007b_002d_003d_007d-operator-878"></a><a name="index-hyphen-_0028_0040code_007b_002d_007d_0029_002c-_0040code_007b_002d_003d_007d-operator-879"></a><a name="index-g_t_0040code_007b_002a_007d-_0028asterisk_0029_002c-_0040code_007b_002a_003d_007d-operator-880"></a><a name="index-asterisk-_0028_0040code_007b_002a_007d_0029_002c-_0040code_007b_002a_003d_007d-operator-881"></a><a name="index-g_t_0040code_007b_002a_007d-_0028asterisk_0029_002c-_0040code_007b_002a_002a_003d_007d-operator-882"></a><a name="index-asterisk-_0028_0040code_007b_002a_007d_0029_002c-_0040code_007b_002a_002a_003d_007d-operator-883"></a><a name="index-g_t_0040code_007b_002f_007d-_0028forward-slash_0029_002c-_0040code_007b_002f_003d_007d-operator-884"></a><a name="index-forward-slash-_0028_0040code_007b_002f_007d_0029_002c-_0040code_007b_002f_003d_007d-operator-885"></a><a name="index-g_t_0040code_007b_0025_007d-_0028percent-sign_0029_002c-_0040code_007b_0025_003d_007d-operator-886"></a><a name="index-percent-sign-_0028_0040code_007b_0025_007d_0029_002c-_0040code_007b_0025_003d_007d-operator-887"></a><a name="index-g_t_0040code_007b_005e_007d-_0028caret_0029_002c-_0040code_007b_005e_003d_007d-operator-888"></a><a name="index-caret-_0028_0040code_007b_005e_007d_0029_002c-_0040code_007b_005e_003d_007d-operator-889"></a><br><dt><code>= += -= *=</code><dt><code>/= %= ^= **=</code><dd>Assignment.  These operators group right to left. 
</dl>

   <p><a name="index-portability_002c-operators_002c-not-in-POSIX-_0040command_007bawk_007d-890"></a><blockquote>
<b>NOTE:</b> The &lsquo;<samp><span class="samp">|&amp;</span></samp>&rsquo;, &lsquo;<samp><span class="samp">**</span></samp>&rsquo;, and &lsquo;<samp><span class="samp">**=</span></samp>&rsquo; operators are not specified by POSIX. 
For maximum portability, do not use them. 
</blockquote>
   <!-- ENDOFRANGE prec -->
<!-- ENDOFRANGE oppr -->
<!-- ENDOFRANGE exps -->

   </body></html>

