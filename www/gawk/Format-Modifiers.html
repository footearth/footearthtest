<html lang="en">
<head>
<title>Format Modifiers - The GNU Awk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU Awk User's Guide">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Printf.html#Printf" title="Printf">
<link rel="prev" href="Control-Letters.html#Control-Letters" title="Control Letters">
<link rel="next" href="Printf-Examples.html#Printf-Examples" title="Printf Examples">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1989, 1991, 1992, 1993, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2007, 2009 Free Software Foundation, Inc.



   This is Edition 3 of `GAWK: Effective AWK Programming: A User's Guide for GNU Awk',
for the 3.1.7 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'', the Front-Cover
texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.
  a. ``A GNU Manual''

  b. ``You have the freedom to copy and modify this GNU manual.  Buying
     copies from the FSF supports it in developing GNU and promoting
     software freedom.''
        -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Format-Modifiers"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Printf-Examples.html#Printf-Examples">Printf Examples</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Control-Letters.html#Control-Letters">Control Letters</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Printf.html#Printf">Printf</a>
<hr>
</div>

<h4 class="subsection">4.5.3 Modifiers for <code>printf</code> Formats</h4>

<!-- STARTOFRANGE pfm -->
<p><a name="index-g_t_0040code_007bprintf_007d-statement_002c-modifiers-541"></a><a name="index-modifiers_0040comma_007b_007d-in-format-specifiers-542"></a>A format specification can also include <dfn>modifiers</dfn> that can control
how much of the item's value is printed, as well as how much space it gets. 
The modifiers come between the &lsquo;<samp><span class="samp">%</span></samp>&rsquo; and the format-control letter. 
We will use the bullet symbol &ldquo;&bull;&rdquo; in the following examples to
represent
spaces in the output. Here are the possible modifiers, in the order in
which they may appear:

     
<a name="index-differences-in-_0040command_007bawk_007d-and-_0040command_007bgawk_007d_002c-_0040code_007bprint_007d_002f_0040code_007bprintf_007d-statements-543"></a>
<a name="index-g_t_0040code_007bprintf_007d-statement_002c-positional-specifiers-544"></a>
<dl><!-- the command does NOT start a secondary -->
<a name="index-positional-specifiers_002c-_0040code_007bprintf_007d-statement-545"></a><dt><var>N</var><code>$</code><dd>An integer constant followed by a &lsquo;<samp><span class="samp">$</span></samp>&rsquo; is a <dfn>positional specifier</dfn>. 
Normally, format specifications are applied to arguments in the order
given in the format string.  With a positional specifier, the format
specification is applied to a specific argument, instead of what
would be the next argument in the list.  Positional specifiers begin
counting with one. Thus:

     <pre class="example">          printf "%s %s\n", "don't", "panic"
          printf "%2$s %1$s\n", "panic", "don't"
</pre>
     <p class="noindent">prints the famous friendly message twice.

     <p>At first glance, this feature doesn't seem to be of much use. 
It is in fact a <samp><span class="command">gawk</span></samp> extension, intended for use in translating
messages at runtime. 
See <a href="Printf-Ordering.html#Printf-Ordering">Printf Ordering</a>,
which describes how and why to use positional specifiers. 
For now, we will not use them.

     <br><dt><code>-</code><dd>The minus sign, used before the width modifier (see later on in
this table),
says to left-justify
the argument within its specified width.  Normally, the argument
is printed right-justified in the specified width.  Thus:

     <pre class="example">          printf "%-4s", "foo"
</pre>
     <p class="noindent">prints &lsquo;<samp><span class="samp">foo&bull;</span></samp>&rsquo;.

     <br><dt><var>space</var><dd>For numeric conversions, prefix positive values with a space and
negative values with a minus sign.

     <br><dt><code>+</code><dd>The plus sign, used before the width modifier (see later on in
this table),
says to always supply a sign for numeric conversions, even if the data
to format is positive. The &lsquo;<samp><span class="samp">+</span></samp>&rsquo; overrides the space modifier.

     <br><dt><code>#</code><dd>Use an &ldquo;alternate form&rdquo; for certain control letters. 
For &lsquo;<samp><span class="samp">%o</span></samp>&rsquo;, supply a leading zero. 
For &lsquo;<samp><span class="samp">%x</span></samp>&rsquo; and &lsquo;<samp><span class="samp">%X</span></samp>&rsquo;, supply a leading &lsquo;<samp><span class="samp">0x</span></samp>&rsquo; or &lsquo;<samp><span class="samp">0X</span></samp>&rsquo; for
a nonzero result. 
For &lsquo;<samp><span class="samp">%e</span></samp>&rsquo;, &lsquo;<samp><span class="samp">%E</span></samp>&rsquo;, and &lsquo;<samp><span class="samp">%f</span></samp>&rsquo;, the result always contains a
decimal point. 
For &lsquo;<samp><span class="samp">%g</span></samp>&rsquo; and &lsquo;<samp><span class="samp">%G</span></samp>&rsquo;, trailing zeros are not removed from the result.

     <p><a name="index-dark-corner-546"></a><br><dt><code>0</code><dd>A leading &lsquo;<samp><span class="samp">0</span></samp>&rsquo; (zero) acts as a flag that indicates that output should be
padded with zeros instead of spaces. 
This applies even to non-numeric output formats. 
(d.c.) 
This flag only has an effect when the field width is wider than the
value to print.

     <br><dt><code>'</code><dd>A single quote or apostrophe character is a POSIX extension to ISO C. 
It indicates that the integer part of a floating point value, or the
entire part of an integer decimal value, should have a thousands-separator
character in it.  This only works in locales that support such characters. 
For example:

     <pre class="example">          $ <kbd>cat thousands.awk</kbd>          <i>Show source program</i>
          -| BEGIN { printf "%'d\n", 1234567 }
          $ <kbd>LC_ALL=C gawk -f thousands.awk</kbd>
          -| 1234567                   <i>Results in "C" locale</i>
          $ <kbd>LC_ALL=en_US.UTF-8 gawk -f thousands.awk</kbd>
          -| 1,234,567                 <i>Results in US English UTF locale</i>
</pre>
     <p class="noindent">For more information about locales and internationalization issues,
see <a href="Locales.html#Locales">Locales</a>.

     <blockquote>
<b>NOTE:</b> The &lsquo;<samp><span class="samp">'</span></samp>&rsquo; flag is a nice feature, but its use complicates things: it
becomes difficult to use it in command-line programs.  For information
on appropriate quoting tricks, see <a href="Quoting.html#Quoting">Quoting</a>. 
</blockquote>

     <br><dt><var>width</var><dd>This is a number specifying the desired minimum width of a field.  Inserting any
number between the &lsquo;<samp><span class="samp">%</span></samp>&rsquo; sign and the format-control character forces the
field to expand to this width.  The default way to do this is to
pad with spaces on the left.  For example:

     <pre class="example">          printf "%4s", "foo"
</pre>
     <p class="noindent">prints &lsquo;<samp><span class="samp">&bull;foo</span></samp>&rsquo;.

     <p>The value of <var>width</var> is a minimum width, not a maximum.  If the item
value requires more than <var>width</var> characters, it can be as wide as
necessary.  Thus, the following:

     <pre class="example">          printf "%4s", "foobar"
</pre>
     <p class="noindent">prints &lsquo;<samp><span class="samp">foobar</span></samp>&rsquo;.

     <p>Preceding the <var>width</var> with a minus sign causes the output to be
padded with spaces on the right, instead of on the left.

     <br><dt><code>.</code><var>prec</var><dd>A period followed by an integer constant
specifies the precision to use when printing. 
The meaning of the precision varies by control letter:

          <dl>
<dt><code>%e</code>, <code>%E</code>, <code>%f</code><dd>Number of digits to the right of the decimal point.

          <br><dt><code>%g</code>, <code>%G</code><dd>Maximum number of significant digits.

          <br><dt><code>%d</code>, <code>%i</code>, <code>%o</code>, <code>%u</code>, <code>%x</code>, <code>%X</code><dd>Minimum number of digits to print.

          <br><dt><code>%s</code><dd>Maximum number of characters from the string that should print. 
</dl>

     <p>Thus, the following:

     <pre class="example">          printf "%.4s", "foobar"
</pre>
     <p class="noindent">prints &lsquo;<samp><span class="samp">foob</span></samp>&rsquo;. 
</dl>

   <p>The C library <code>printf</code>'s dynamic <var>width</var> and <var>prec</var>
capability (for example, <code>"%*.*s"</code>) is supported.  Instead of
supplying explicit <var>width</var> and/or <var>prec</var> values in the format
string, they are passed in the argument list.  For example:

<pre class="example">     w = 5
     p = 3
     s = "abcdefg"
     printf "%*.*s\n", w, p, s
</pre>
   <p class="noindent">is exactly equivalent to:

<pre class="example">     s = "abcdefg"
     printf "%5.3s\n", s
</pre>
   <p class="noindent">Both programs output &lsquo;<samp><span class="samp">&bull;&bull;abc<!-- /@w --></span></samp>&rsquo;. 
Earlier versions of <samp><span class="command">awk</span></samp> did not support this capability. 
If you must use such a version, you may simulate this feature by using
concatenation to build up the format string, like so:

<pre class="example">     w = 5
     p = 3
     s = "abcdefg"
     printf "%" w "." p "s\n", s
</pre>
   <p class="noindent">This is not particularly easy to read but it does work.

<!-- @cindex lint checks -->
   <p><a name="index-troubleshooting_002c-fatal-errors_002c-_0040code_007bprintf_007d-format-strings-547"></a><a name="index-POSIX-_0040command_007bawk_007d_002c-_0040code_007bprintf_007d-format-strings-and-548"></a>C programmers may be used to supplying additional
&lsquo;<samp><span class="samp">l</span></samp>&rsquo;, &lsquo;<samp><span class="samp">L</span></samp>&rsquo;, and &lsquo;<samp><span class="samp">h</span></samp>&rsquo;
modifiers in <code>printf</code> format strings. These are not valid in <samp><span class="command">awk</span></samp>. 
Most <samp><span class="command">awk</span></samp> implementations silently ignore these modifiers. 
If <samp><span class="option">--lint</span></samp> is provided on the command line
(see <a href="Options.html#Options">Options</a>),
<samp><span class="command">gawk</span></samp> warns about their use. If <samp><span class="option">--posix</span></samp> is supplied,
their use is a fatal error. 
<!-- ENDOFRANGE pfm -->

   </body></html>

