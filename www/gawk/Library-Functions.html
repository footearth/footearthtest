<html lang="en">
<head>
<title>Library Functions - The GNU Awk User's Guide</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU Awk User's Guide">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="prev" href="Invoking-Gawk.html#Invoking-Gawk" title="Invoking Gawk">
<link rel="next" href="Sample-Programs.html#Sample-Programs" title="Sample Programs">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1989, 1991, 1992, 1993, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2007, 2009 Free Software Foundation, Inc.



   This is Edition 3 of `GAWK: Effective AWK Programming: A User's Guide for GNU Awk',
for the 3.1.7 (or later) version of the GNU
implementation of AWK.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'', the Front-Cover
texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
``GNU Free Documentation License''.
  a. ``A GNU Manual''

  b. ``You have the freedom to copy and modify this GNU manual.  Buying
     copies from the FSF supports it in developing GNU and promoting
     software freedom.''
        -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Library-Functions"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Sample-Programs.html#Sample-Programs">Sample Programs</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Invoking-Gawk.html#Invoking-Gawk">Invoking Gawk</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="index.html#Top">Top</a>
<hr>
</div>

<h2 class="chapter">12 A Library of <samp><span class="command">awk</span></samp> Functions</h2>

<!-- STARTOFRANGE libf -->
<p><a name="index-libraries-of-_0040command_007bawk_007d-functions-1604"></a><!-- STARTOFRANGE flib -->
<a name="index-functions_002c-library-1605"></a><!-- STARTOFRANGE fudlib -->
<a name="index-functions_002c-user_002ddefined_002c-library-of-1606"></a>
<a href="User_002ddefined.html#User_002ddefined">User-defined</a>, describes how to write
your own <samp><span class="command">awk</span></samp> functions.  Writing functions is important, because
it allows you to encapsulate algorithms and program tasks in a single
place.  It simplifies programming, making program development more
manageable, and making programs more readable.

   <p>One valuable way to learn a new programming language is to <em>read</em>
programs in that language.  To that end, this chapter
and <a href="Sample-Programs.html#Sample-Programs">Sample Programs</a>,
provide a good-sized body of code for you to read,
and hopefully, to learn from.

<!-- 2e: USE TEXINFO-2 FUNCTION DEFINITION STUFF!!!!!!!!!!!!! -->
   <p>This chapter presents a library of useful <samp><span class="command">awk</span></samp> functions. 
Many of the sample programs presented later in this Web page
use these functions. 
The functions are presented here in a progression from simple to complex.

   <p><a name="index-Texinfo-1607"></a><a href="Extract-Program.html#Extract-Program">Extract Program</a>,
presents a program that you can use to extract the source code for
these example library functions and programs from the Texinfo source
for this Web page. 
(This has already been done as part of the <samp><span class="command">gawk</span></samp> distribution.)

   <p>If you have written one or more useful, general-purpose <samp><span class="command">awk</span></samp> functions
and would like to contribute them to the author's collection of <samp><span class="command">awk</span></samp>
programs, see
<a href="How-To-Contribute.html#How-To-Contribute">How To Contribute</a>, for more information.

   <p><a name="index-portability_002c-example-programs-1608"></a>The programs in this chapter and in
<a href="Sample-Programs.html#Sample-Programs">Sample Programs</a>,
freely use features that are <samp><span class="command">gawk</span></samp>-specific. 
Rewriting these programs for different implementations of awk is pretty straightforward.

   <p>Diagnostic error messages are sent to <samp><span class="file">/dev/stderr</span></samp>. 
Use &lsquo;<samp><span class="samp">| "cat 1&gt;&amp;2"</span></samp>&rsquo; instead of &lsquo;<samp><span class="samp">&gt; "/dev/stderr"</span></samp>&rsquo; if your system
does not have a <samp><span class="file">/dev/stderr</span></samp>, or if you cannot use <samp><span class="command">gawk</span></samp>.

   <p>A number of programs use <code>nextfile</code>
(see <a href="Nextfile-Statement.html#Nextfile-Statement">Nextfile Statement</a>)
to skip any remaining input in the input file. 
<a href="Nextfile-Function.html#Nextfile-Function">Nextfile Function</a>,
shows you how to write a function that does the same thing.

<!-- 12/2000: Thanks to Nelson Beebe for pointing out the output issue. -->
   <p><a name="index-case-sensitivity_002c-example-programs-1609"></a><a name="index-g_t_0040code_007bIGNORECASE_007d-variable_002c-in-example-programs-1610"></a>Finally, some of the programs choose to ignore upper- and lowercase
distinctions in their input. They do so by assigning one to <code>IGNORECASE</code>. 
You can achieve almost the same effect<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a> by adding the following rule to the
beginning of the program:

<pre class="example">     # ignore case
     { $0 = tolower($0) }
</pre>
   <p class="noindent">Also, verify that all regexp and string constants used in
comparisons use only lowercase letters.

<ul class="menu">
<li><a accesskey="1" href="Library-Names.html#Library-Names">Library Names</a>:                How to best name private global variables in
                                library functions. 
<li><a accesskey="2" href="General-Functions.html#General-Functions">General Functions</a>:            Functions that are of general use. 
<li><a accesskey="3" href="Data-File-Management.html#Data-File-Management">Data File Management</a>:         Functions for managing command-line data
                                files. 
<li><a accesskey="4" href="Getopt-Function.html#Getopt-Function">Getopt Function</a>:              A function for processing command-line
                                arguments. 
<li><a accesskey="5" href="Passwd-Functions.html#Passwd-Functions">Passwd Functions</a>:             Functions for getting user information. 
<li><a accesskey="6" href="Group-Functions.html#Group-Functions">Group Functions</a>:              Functions for getting group information. 
</ul>

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> The effects are
not identical.  Output of the transformed
record will be in all lowercase, while <code>IGNORECASE</code> preserves the original
contents of the input record.</p>

   <hr></div>

   </body></html>

