<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - strace 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="strace 命令, strace, STREAMS 命令, 打印, 跟踪消息,
STREAMS 工具" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="strace.htm#Bot_Of_Page">页的底部</a> | <a href="stpinet.htm">上一页</a> | <a href="strchg.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="dtc1310mari"></a>
<h2 id="dtc1310mari">strace 命令</h2>
<p><a id="idx258" name="idx258"></a> <a id="idx259" name="idx259"></a> <a id="idx260" name="idx260"></a></p>
<a name="a115c1e9c"></a>
<h3 id="a115c1e9c">用途</h3>
<a name="e0af384920jani"></a>
<p id="e0af384920jani">打印 STREAMS 跟踪消息。</p>
<a name="a115c1e9e"></a>
<h3 id="a115c1e9e">语法</h3>
<p><span class="bold">strace</span> [  <a href="strace.htm#a136c1238"><span class="italic">mid</span></a>  <a href="strace.htm#a136c1239"><span class="italic">sid</span></a>  <a href="strace.htm#a136c123a"><span class="italic">level</span></a> ] ...&nbsp;</p>
<a name="a115c1ea0"></a>
<h3 id="a115c1ea0">描述</h3>
<a name="e0af385330jani"></a>
<p id="e0af385330jani">没有参数的 <span class="bold">strace</span> 命令将所有的驱动程序和模块中的所有 STREAMS 事件跟踪消息写到它的标准输出中。
这些消息是从 STREAMS <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/progcomc/str_logdev.htm#azf240mari">日志</a>驱动程序中获取的。如果提供参数，它们必须是在三元组中。每个三元组表明跟踪消息要从给定的模块或驱动程序、子标识（通常表明次要设备）以及优先级别等于或小于给定级别的模块或驱动程序中接收。<tt>all</tt> 标记可由任何成员使用，以表明对该属性没有限制。</p>
<a name="a136c1237"></a>
<h3 id="a136c1237">参数</h3>
<p></p>
<a name="wq594"></a>
<table id="wq594" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="8%">
<a id="a136c1238" name="a136c1238"></a><span class="italic">mid</span></td>
<td width="91%">  指定 STREAMS 模块的标识号。</td>
</tr>
<tr>
<td>
<a id="a136c1239" name="a136c1239"></a><span class="italic">sid</span></td>
<td>  指定子标识号。</td>
</tr>
<tr>
<td>
<a id="a136c123a" name="a136c123a"></a><span class="italic">level</span></td>
<td>  指定跟踪优先级别。</td>
</tr>
</tbody>
</table>
<a name="a136c123b"></a>
<h3 id="a136c123b">输出格式</h3>
<a name="e0af385827jani"></a>
<p id="e0af385827jani">每个跟踪消息输出的格式是：</p>
<p></p>
<a name="a115c1ea3"></a>
<pre id="a115c1ea3" class="xmp">&lt;seq&gt; &lt;time&gt; &lt;ticks&gt; &lt;level&gt; &lt;flags&gt; &lt;mid&gt; &lt;sid&gt; &lt;text&gt;</pre><p class="indatacontent"> </p>
<a name="wq595"></a>
<table id="wq595" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="16%">
<a id="a115c1ea4" name="a115c1ea4"></a>&lt;<tt>seq</tt>&gt;</td>
<td width="83%">  跟踪序列号</td>
</tr>
<tr>
<td>
<a id="a115c1ea5" name="a115c1ea5"></a>&lt;<tt>time</tt>&gt;</td>
<td>  消息时间（格式为 <span class="italic">hh:mm:ss</span>）</td>
</tr>
<tr>
<td>
<a id="a115c1ea6" name="a115c1ea6"></a>&lt;<tt>ticks</tt>&gt;</td>
<td>  系统启动后，以机器滴答信号表示消息的时间</td>
</tr>
<tr>
<td>
<a id="a115c1ea7" name="a115c1ea7"></a>&lt;<tt>level</tt>&gt;</td>
<td>  跟踪优先级别</td>
</tr>
<tr>
<td>
<a id="a115c1ea8" name="a115c1ea8"></a>&lt;<tt>flags</tt>&gt;</td>
<td>  有以下值之一：
<dl>
<dt id="a115c1ea9" class="bold">
<a name="a115c1ea9"></a><span class="bold">E</span></dt>
<dd>  消息也在错误日志中
</dd>
<dt id="a115c1eaa" class="bold">
<a name="a115c1eaa"></a><span class="bold">F</span></dt>
<dd>  表示一个致命错误
</dd>
<dt id="a115c1eab" class="bold">
<a name="a115c1eab"></a><span class="bold">N</span></dt>
<dd>  邮件已发送给系统管理员
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a115c1eac" name="a115c1eac"></a>&lt;<tt>mid</tt>&gt;</td>
<td>  源的模块标识号</td>
</tr>
<tr>
<td>
<a id="a115c1ead" name="a115c1ead"></a>&lt;<tt>sid</tt>&gt;</td>
<td>  源的子标识号</td>
</tr>
<tr>
<td>
<a id="a115c1eae" name="a115c1eae"></a>&lt;<tt>text</tt>&gt;</td>
<td>  跟踪消息的格式化文本
<a name="cbad3ad834thom"></a>
<p id="cbad3ad834thom">在多处理器系统上，&lt;<tt>text</tt>&gt; 由两部分组成：</p> 
<ul>
<li id="cbad3ad908thom">
<a name="cbad3ad908thom"></a>消息所有者发送处的处理器号码，</li>
<li id="cbad3ad956thom">
<a name="cbad3ad956thom"></a>格式化文本本身。</li></ul></td>
</tr>
</tbody>
</table>
<a name="e0af387262jani"></a>
<p id="e0af387262jani">一旦启动，<span class="bold">strace</span> 命令将继续执行，直到用户终止该命令。</p>
<p></p><blockquote><a name="a115c1eb0"></a><span id="a115c1eb0" class="pk"></span><span class="bold">注：</span>由于性能的考虑，所以一次只允许一个 <span class="bold">strace</span> 命令来打开 STREAMS 日志驱动程序。日志驱动程序有一个三元组的列表（该列表在命令调用中指定），并且程序会根据该列表比较每个潜在的跟踪消息，以决定是否要格式化和发送这个信息到 <span class="bold">strace</span> 进程中。因此，长的三元组列表会对 STREAMS 的总体性能的影响更大。
运行 <span class="bold">strace</span> 命令对于某些模块和驱动程序（生成要发送给 <span class="bold">strace</span> 进程的跟踪消息的模块和驱动程序）的定时的影响最大。
如果跟踪消息生成过快，以至 <span class="bold">strace</span> 进程无法处理，那么就会丢失一些消息。
最后的情况可以通过检查跟踪消息输出上的序列号来确定。</blockquote>
<a name="a115c1eb5"></a>
<h3 id="a115c1eb5">示例</h3>
<ol type="1">
<li><a name="a115c1eb6"></a><span id="a115c1eb6" class="pk"></span>要输出模块标识为 <tt>41</tt> 的模块或驱动程序中的所有跟踪消息，请输入：

<p></p>
<a name="a115c1eb7"></a>
<pre id="a115c1eb7" class="xmp">strace 41 all all</pre></li>
<li><a name="a115c1eb8"></a><span id="a115c1eb8" class="pk"></span>要输出模块标识为 <tt>41</tt>，子标识为 <tt>0</tt>、<tt>1</tt> 或 <tt>2</tt> 的模块或驱动程序中的跟踪消息: 
<p></p>
<a name="a115c1eb9"></a>
<pre id="a115c1eb9" class="xmp">strace 41 0 1 41 1 1 41 2 0</pre><p class="indatacontent"> 子标识为 <tt>0</tt> 和 <tt>1</tt> 的模块或驱动程序中的消息必须具有小于或等于 1 的跟踪级别。子标识为 <tt>2</tt> 的模块或驱动程序中的消息必须具有跟踪级别 0。</p></li></ol>
<a name="a115c1ec4"></a>
<h3 id="a115c1ec4">相关信息</h3>
<a name="e0af388462jani"></a>
<p id="e0af388462jani"><span class="italic">AIX 5L Version 5.2 Communications Programming Concepts</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/mesghnd.htm#dod1210mari">List of Streams Commands</a>、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/progcomc/ch10_streams.htm#gck160mari">STREAMS Overview</a> 和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/progcomc/str_logdev.htm#azf240mari">Understanding the log Device Driver</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="strace.htm#Top_Of_Page">页的顶部</a> | <a href="stpinet.htm">上一页</a> | <a href="strchg.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
