<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - tar 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="tar 命令, 使用 tar 命令, 归档" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="tar.htm#Bot_Of_Page">页的底部</a> | <a href="tapechk.htm">上一页</a> | <a href="tbl.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="a101938a7"></a>
<h2 id="a101938a7">tar 命令</h2>
<p><a id="idx371" name="idx371"></a></p>
<a name="a148c1aa"></a>
<h3 id="a148c1aa">用途</h3>
<a name="e3ea420670mart"></a>
<p id="e3ea420670mart">处理归档。<a id="idx372" name="idx372"></a></p>
<a name="d583f16819mart"></a>
<h3 id="d583f16819mart">语法</h3>
<p><span class="bold">tar</span> {  <a href="tar.htm#a148c1bd"><span class="bold">-c </span></a>|  <a href="tar.htm#a148c1be"><span class="bold">-r </span></a>|  <a href="tar.htm#a148c1bf"><span class="bold">-t </span></a>|  <a href="tar.htm#a148c1c0"><span class="bold">-u </span></a>|
 <a href="tar.htm#a148c1c1"><span class="bold">-x </span></a>} [  <a href="tar.htm#a148c1c4"><span class="bold">-b</span></a> <span class="italic">Blocks</span> ] [  <a href="tar.htm#a148c1c3"><span class="bold">-B </span></a>] [  <a href="tar.htm#a148c1c8"><span class="bold">-d </span></a>]
[  <a href="tar.htm#a148c1ca"><span class="bold">-F </span></a>]  [  <a href="tar.htm#a148c1cc"><span class="bold">-h </span></a>] [  <a href="tar.htm#a148c1cd"><span class="bold">-i </span></a>]
[  <a href="tar.htm#a148c1ce"><span class="bold">-L </span></a><span class="italic">InputList</span> ] [  <a href="tar.htm#a148c1cf"><span class="bold">-l </span></a>] [
 <a href="tar.htm#a148c1d0"><span class="bold">-m </span></a>]  [  <a href="tar.htm#a148c1d1"><span class="bold">-N </span></a><span class="italic">Blocks</span> ][  <a href="tar.htm#q35bj2f9vpow"><span class="bold">-o </span></a>] [  <a href="tar.htm#a148c1d2"><span class="bold">-p </span></a>]
[  <a href="tar.htm#a148c1d3"><span class="bold">-s </span></a>]  [  <a href="tar.htm#a148c1d6"><span class="bold">-v </span></a>] [  <a href="tar.htm#a148c1d7"><span class="bold">-w </span></a>]
[ <span class="bold">-</span><span class="italic">Number</span> ] [  <a href="tar.htm#a148c1cb"><span class="bold">-f</span></a> <span class="italic">Archive</span> ] [  <a href="tar.htm#a148c1d4"><span class="bold">-S</span></a> <span class="italic">Blocks</span><span class="bold">b</span> |  <a href="tar.htm#a148c1d4"><span class="bold">-S</span></a> <span class="italic">Feet</span> |  <a href="tar.htm#a148c1d4"><span class="bold">-S</span></a><span class="italic"> Feet@Density</span> ] [ <span class="italic">File</span> | <span class="italic">Directory</span> |  <a href="tar.htm#a148c1c7"><span class="bold">-C</span></a><span class="bold"></span><span class="italic"> Directory</span> ] ...</p>
<a name="a148c1af"></a>
<h3 id="a148c1af">描述</h3>
<p></p><blockquote><a name="a2e9ee9893benw"></a><span id="a2e9ee9893benw" class="pk"></span><span class="bold">注意：</span>由于在 <span class="bold">tar</span> 命令中对头块空间的限制，当恢复到某些系统时，大于 65,535 的用户号（UID）和组标识号（GID）将毁坏。大小约束只影响所有权和许可权而不对数据造成损害。所有权的毁坏发生在下列系统中：</blockquote>
<ul>
<li><a name="a2e9eea086benw"></a><span id="a2e9eea086benw" class="pk"></span>不使用 <tt>uname</tt> 和 <tt>gname</tt> 字段来检查所有权的系统。</li>
<li><a name="a2e9eea281benw"></a><span id="a2e9eea281benw" class="pk"></span>与归档系统没有相同的用户和组标识的系统。</li></ul>
<a name="wq833"></a>
<div class="notelisttitle" id="wq833">注:</div>
<ol type="1">
<li><span class="bold">ustar</span> 头格式允许文件大到 8 GB。因此，<span class="bold">tar</span> 命令支持归档最大 8 GB 的文件。</li>
<li><span class="bold">tar</span> 不保留任何稀疏分配的文件的稀疏属性。任何在恢复前原是稀疏的文件，将按文件大小在文件系统内分配其所有空间。</li>
</ol>
<a name="e3ea421704mart"></a>
<p id="e3ea421704mart"><span class="bold">tar</span> 命令通过将文件写入归档存储介质或将文件从介质中取回，来处理归档。
由 <span class="bold">tar</span> 命令使用的文件通过 <span class="italic">File</span> 参数来表示。如果 <span class="italic">File</span> 参数引用一个目录，则引用该目录并递归引用该目录下全部的文件和目录。</p>
<a name="a23d7428539mart"></a>
<p id="a23d7428539mart"><span class="bold">tar</span> 命令在缺省设备（通常是磁带）上寻找归档，除非使用 <a href="tar.htm#a148c1cb"><span class="bold">-f</span></a> <span class="italic"> Archive</span> 标志指定另一个设备。当为美国磁带归档程序（USTAR）格式指定大于 100 个字符的路径名称时，请记住路径名称是由一个前缀缓冲区、一个 /（斜杠）和一个名称缓冲区组成的。</p>
<a name="a23d7428702mart"></a>
<p id="a23d7428702mart">前缀缓冲区最大可以有 155 字节，而名称缓冲区最大可以容纳 100 字节。如果路径名称不能用斜杠分割为这两部分，则它不能被归档。这个限制是考虑到 <span class="bold">tar</span> 归档头的结构，而且必须为了符合标准和向下兼容而维护该限制。另外，硬链接或符号链接（“链接名称”）的目标长度不能超出 100 字节。</p>
<a name="e3ea421877mart"></a>
<p id="e3ea421877mart">当写到归档时，<span class="bold">tar</span> 命令使用一个临时文件（/<span class="bold">tmp</span>/<span class="bold">tar</span><span class="italic">*</span> 文件），并在内存中维护一个包含多链接文件的表。如果 <span class="bold">tar</span> 命令不能创建临时文件，或者没有足够的可用内存来放置链接表，您会接收到错误消息。</p>
<a name="e3ea421976mart"></a>
<p id="e3ea421976mart"><span class="bold">tar</span> 命令有两组标志：必需标志和可选标志。必需标志控制 <span class="bold">tar</span> 命令的操作，包括 <span class="bold">-c</span>、<span class="bold">-r</span>、<span class="bold">-t</span>、<span class="bold">-u</span> 和 <span class="bold">-x</span> 标志。要执行 <span class="bold">tar</span> 命令至少要选择一个必需标志。选择了必需标志后，您可以选择一个可选标志，但它们对控制 <span class="bold">tar</span> 命令都不是必要的。</p>
<a name="wq835"></a>
<div class="notelisttitle" id="wq835">注:</div>
<ol type="1">
<li><a name="a148c1b3"></a><span id="a148c1b3" class="pk"></span>当存储设备是一个普通文件或一个块特殊文件时，<a href="tar.htm#a148c1c0"><span class="bold">-u</span></a> 和 <a href="tar.htm#a148c1be"><span class="bold">-r</span></a> 标志可退格。然而，原始磁带设备不支持退格。因此当存储设备是原始磁带时，<a href="tar.htm#a148c1c0"><span class="bold">-u</span></a> 和  <a href="tar.htm#a148c1be"><span class="bold">-r</span></a> 标志进行倒带、打开磁带并再次读取磁带。</li>
<li><a name="a148c1b4"></a><span id="a148c1b4" class="pk"></span>在块磁带上记录的长度是一块，但它们通常比在原始磁带上的密度的一半还少。因此，尽管按块记录原始磁带必须被读取两遍，但磁带运动总量比从块式磁带读取一遍单块记录还少。</li>
<li><a name="a148c1b5"></a><span id="a148c1b5" class="pk"></span>流式磁带设备的结构不支持在磁带最后增加信息。因此，当存储设备是流式磁带时，<a href="tar.htm#a148c1c0"><span class="bold">-u</span></a> 和 <a href="tar.htm#a148c1be"><span class="bold">-r</span></a> 标志不是有效的选项。试图使用这些标志将导致下列错误消息：<tt></tt>  
<p></p>
<a name="a148c1b6"></a>
<pre id="a148c1b6" class="xmp">tar: 更新和替换选项对流式磁带机无效。</pre></li>
<li><a name="a148c1b8"></a><span id="a148c1b8" class="pk"></span>磁带错误无法恢复。</li>
<li>可以通过更改缺省块大小改善 <a name="a148c1e4"></a><span id="a148c1e4" class="pk"></span><span class="bold">tar</span> 命令在 IBM 9348 磁带机 12 型上的性能。要更改块大小，请在命令行输入下列命令：
<p></p>
<a name="a148c1e5"></a>
<pre id="a148c1e5" class="xmp">chdev -1 &lt;device_name&gt; -a block_size=32k</pre></li>
</ol>
<a name="a148c1ba"></a>
<p id="a148c1ba">要了解更多关于使用磁带设备的信息，请参阅 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/rmt.htm#vc90w2chris"><span class="bold">rmt</span></a> 特殊文件。</p>
<a name="a148c1bb"></a>
<h3 id="a148c1bb">标志</h3>
<a name="e3ea422766mart"></a>
<p id="e3ea422766mart"><span class="bold">tar</span> 命令的标志有两组，必需的和可选的。必须提供至少一个必需标志来控制 <span class="bold">tar</span> 命令。</p>
<a name="wq837"></a>
<table id="wq837" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td colspan="2">
<a id="d583f19117mart" name="d583f19117mart"></a><span class="bold">必需标志</span></td>
</tr>
<tr>
<td width="23%">
<a id="a148c1bd" name="a148c1bd"></a><span class="bold">-c</span></td>
<td width="76%">  创建新的归档，并将由一个或多个 <span class="italic">File</span> 参数所指定的文件写入归档的开头。</td>
</tr>
<tr>
<td>
<a id="a148c1be" name="a148c1be"></a><span class="bold">-r</span></td>
<td>  将由一个或多个 <span class="italic">File</span> 参数所指定的文件写入归档的最后。这个标志不是对任何磁带设备都有效，因为有些设备不支持在磁带的最后添加信息。</td>
</tr>
<tr>
<td>
<a id="a148c1bf" name="a148c1bf"></a><span class="bold">-t</span></td>
<td>  按照文件在归档中的顺序列出文件。文件可能会多次列出。</td>
</tr>
<tr>
<td>
<a id="a148c1c0" name="a148c1c0"></a><span class="bold">-u</span></td>
<td>  只有当文件不在归档中，或写入归档后被修改过，才将这些文件（由一个或多个 <span class="italic">File</span> 参数所指定）写入归档的最后。<span class="bold">-u</span> 标志不是对任何磁带设备都有效，因为有些磁带设备不支持在磁带的最后添加信息。</td>
</tr>
<tr>
<td>
<a id="a148c1c1" name="a148c1c1"></a><span class="bold">-x</span></td>
<td>  从归档中抽取一个或多个 <span class="italic">File</span> 参数指定的文件。如果 <span class="italic">File</span> 参数是指一个目录，<span class="bold"> tar</span> 命令递归地从归档中抽取那个目录。
如果您未指定 <span class="italic">File</span> 参数，<span class="bold">tar</span> 命令从归档中抽取所有的文件。如果归档中包含同一文件的多个副本，最后抽取的副本覆盖所有以前抽取的副本。如果被抽取的文件在系统中不存在，则创建该文件。如果您有适当的许可权，<span class="bold">tar</span> 命令用与磁带上的相同所有者和组标识恢复所有文件和目录。如果您没有适当的许可权，将以您的所有者标识和组标识恢复文件和目录。只能请求文件最后出现的版本。</td>
</tr>
<tr>
<td colspan="2">
<a id="d583f19577mart" name="d583f19577mart"></a><span class="bold">可选标志</span></td>
</tr>
<tr>
<td>
<a id="a148c1c3" name="a148c1c3"></a><span class="bold">-B</span></td>
<td>  输入分块和输出分块强制为每个记录 20 块。使用这个选项，<span class="bold">tar</span> 命令可在那些可能未维护分块的通信信道间执行。</td>
</tr>
<tr>
<td>
<a id="a148c1c4" name="a148c1c4"></a><span class="bold">-b</span><span class="italic"> Blocks</span></td>
<td>  指定每个记录的 512 字节块数量。缺省值和最大值都是 20，这是对磁带记录适当的数目。由于记录间隙大小的原因，用大的分块因子写的磁带可以比每个记录只有一块的磁带保存更多的数据。
<a name="e3ea423966mart"></a>
<p id="e3ea423966mart">当读取磁带时，块大小自动确定（<a href="tar.htm#a148c1c1"><span class="bold">-x</span></a> 或 <a href="tar.htm#a148c1bf"><span class="bold">-t</span></a> 功能标志）。归档被 <a href="tar.htm#a148c1c0"><span class="bold">-u</span></a> 和 <a href="tar.htm#a148c1be"><span class="bold">-r</span></a> 功能更新时，使用现有的记录大小。只有当使用 <a href="tar.htm#a148c1bd"><span class="bold">-c</span></a> 标志创建新的归档时，<span class="bold">tar</span> 命令才使用 <span class="italic">Blocks</span> 参数指定的值写入归档。</p> 
<a name="a39c364f174janb"></a>
<p id="a39c364f174janb">当用 <a href="tar.htm#a148c1cb"><span class="bold">-f</span></a> 标志输出到普通文件时，您可以使用与磁盘块大小相匹配的分块因子来节省磁盘空间（例如，对于 2048 字节的磁盘块，使用 <a href="tar.htm#a148c1c4"><span class="bold">-b4</span></a> 标志）。</p></td>
</tr>
<tr>
<td>
<a id="a148c1c7" name="a148c1c7"></a><span class="bold">-C</span><span class="italic"> Directory</span></td>
<td>  使 <span class="bold">tar</span> 命令向由 <span class="italic">Directory</span> 变量指定的目录执行 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/libs/basetrf1/chdir.htm#sqje0gaco"><span class="bold">chdir</span></a> 子例程。使用 <span class="bold">-C</span> 标志允许归档不用相近公共父目录来关联的多个目录，使用简短的相对路径名称。例如，要从 <span class="bold">/usr/include</span> 和 <span class="bold">/etc</span> 目录中归档文件，可以使用下列命令：
<a id="c41eafe004harr" name="c41eafe004harr"></a>
<div class="lines"><tt>tar&nbsp;&nbsp;<a href="tar.htm#a148c1bd">c </a>-C /usr/include File1 File2 -C /etc File3 File4</tt><br />
</div> 
<a name="a39c364f188janb"></a>
<p id="a39c364f188janb"><span class="bold">-C</span><span class="italic"> Directory</span> 标志必须在所有其它标志后出现，也可以在给定的文件名列表中出现。</p></td>
</tr>
<tr>
<td>
<a id="a148c1c8" name="a148c1c8"></a><span class="bold">-d</span></td>
<td>  为块文件、特殊字符文件以及先进先出（FIFO）管道进程创建单独条目。通常，<span class="bold">tar</span> 命令不会归档这些特殊文件。当使用 <span class="bold">-d</span> 标志写入归档时，<span class="bold">tar</span> 命令使归档可以用 <a href="tar.htm#a148c1c1"><span class="bold">-x</span></a> 标志恢复空目录、特殊文件以及先进先出（FIFO）管道进程。
<a name="wq838"></a>
<div class="notetitle" id="wq838">注:</div>
<div class="notebody">虽然任何人可以归档特殊文件，但只有拥有 root 用户权限的用户可以从归档中抽取特殊文件。</div></td>
</tr>
<tr>
<td>
<a id="a148c1ca" name="a148c1ca"></a><span class="bold">-F</span></td>
<td>  在归档前检查文件类型。源代码控制系统（SCCS），修订控制系统（RCS），名为 <span class="bold">core</span>、<span class="bold">errs</span> 和 <span class="bold">a.out</span> 的文件，以及以 <span class="bold">.o</span>（点 o）结束的文件不归档。</td>
</tr>
<tr>
<td>
<a id="a148c1cb" name="a148c1cb"></a><span class="bold">-f</span><span class="italic"> Archive</span></td>
<td>  使用 <span class="italic">Archive</span> 变量表示要读或写的归档。当未指定这个标志，<span class="bold">tar</span> 命令使用一个针对特定系统的缺省文件名（格式为 <span class="bold">/dev/rmt0</span>）。如果指定的 <span class="italic">Archive</span> 变量是 -（减号），<span class="bold">tar</span> 命令写入标准输出或从标准输入中读取。如果写入标准输出，您必须使用 <a href="tar.htm#a148c1bd"><span class="bold">-c</span></a> 标志。</td>
</tr>
<tr>
<td>
<a id="a148c1cc" name="a148c1cc"></a><span class="bold">-h</span></td>
<td>  强制 <span class="bold">tar</span> 命令监视符号链接，就好象它们是常规文件或目录。通常，<span class="bold">tar</span> 命令不监视符号链接。</td>
</tr>
<tr>
<td>
<a id="a148c1cd" name="a148c1cd"></a><span class="bold">-i</span></td>
<td> 忽略头校验和的错误。<span class="bold">tar</span> 命令在归档中写入一个文件头，它包含每个文件的校验和。如果未指定这个标志，系统通过重新计算校验和来验证头块的内容，并在发生不匹配时，停止并报目录校验和错误。如果指定这个标志，<span class="bold">tar</span> 命令将记录错误，然后向前扫描直到查找到一个有效的头块。这就允许从多卷归档的后面的卷中恢复文件，而不需读取前面的卷。</td>
</tr>
<tr>
<td>
<a id="a148c1ce" name="a148c1ce"></a><span class="bold">-L</span><span class="italic"> InputList</span></td>
<td> <span class="bold">：-L</span> 选项的 <span class="italic">Inputlist</span> 参数应该总是一个文件名称，该名称列出需要归档的文件和目录。

<p></p> 同样地，<span class="italic">InputList</span> 参数可以是一个保存某文件名称的变量，该文件列出要归档的文件和目录。

<p></p> 这个选项帮助将列在 <span class="italic">InputList</span> 参数中的文件和目录写入归档。
<span class="italic">InputList</span> 参数中的目录不被递归。对于包含于 <span class="italic">InputList</span> 参数中的目录，<span class="bold">tar</span> 命令只将目录写入归档，而不将目录中的文件和子目录写入归档。

<p></p>如果额外的文件和目录在命令行中跟在 <span class="italic">InputList</span> 参数后，<span class="italic">InputList</span> 参数的内容归档在这些文件和目录之后。
这些额外的文件或目录按它们的缺省行为归档，即将它们递归地归档。</td>
</tr>
<tr>
<td>
<a id="a148c1cf" name="a148c1cf"></a><span class="bold">-l</span></td>
<td>  对于每个带有链接数大于 1 的文件，而其相应的链接却未归档，写错误消息到标准输出。
例如，如果 <span class="bold">file1</span> 和 <span class="bold">file2</span> 是用硬链接链接在一起，而只有 <span class="bold">file1</span> 存放在归档中，则 <span class="bold">-</span>l 标志将发出错误消息。
如果未指定 <span class="bold">-l</span> 标志，将不显示错误消息。</td>
</tr>
<tr>
<td>
<a id="a148c1d0" name="a148c1d0"></a><span class="bold">-m</span></td>
<td>  使用抽取时间作为修改时间。缺省是保留文件的修改时间。</td>
</tr>
<tr>
<td>
<a id="a148c1d1" name="a148c1d1"></a><span class="bold">-N</span><span class="italic"> Blocks</span></td>
<td>  当 <span class="bold">tar</span> 命令处理流式磁带归档时，允许它使用很大的块的簇。
然而请注意，在输入时，如果用这个标志创建了非常长的块大小，<span class="bold"> tar</span> 命令将不能自动确定磁带的块大小。
没有<span class="bold"> -N</span><span class="italic"> Blocks</span> 标志时，<span class="bold">tar</span>  命令可以自动确定的最大块大小为 20 块。</td>
</tr>
<tr>
<td>
<a id="q35bj2f9vpow" name="q35bj2f9vpow"></a><span class="bold">-o</span></td>
<td>  提供与旧版本（非 AIX）<span class="bold">tar</span> 命令的向下兼容。当使用这个标志进行读取时，被抽取的文件使用运行程序的用户的用户标识和组标识（UID 和 GID），而不是归档中的用户标识和组标识。
这是对于普通用户的缺省行为。</td>
</tr>
<tr>
<td>
<a id="a148c1d2" name="a148c1d2"></a><span class="bold">-p</span></td>
<td>恢复字段到它们的原始方式，忽略现有的用户权限屏蔽位（umask)。
<span class="bold">setuid</span>、<span class="bold">setgid</span> 和 tacky 位许可权也恢复给拥有 root 用户权限的用户。
这个标志恢复文件到其原始方式，但不恢复目录到其原始方式。</td>
</tr>
<tr>
<td>
<a id="a148c1d3" name="a148c1d3"></a><span class="bold">-s</span></td>
<td>  如果 <span class="bold">tar</span> 命令未能使用 <span class="bold">-s</span> 标志成功尝试链接（常规链接）两个文件，请试着创建符号链接。</td>
</tr>
<tr>
<td>
<a id="a148c1d4" name="a148c1d4"></a><span class="bold">-S</span><span class="italic">Blocks</span><span class="bold">b</span>, <span class="bold">-S</span>  <span class="italic">Feet</span>, <span class="bold">-S</span><span class="italic"> Feet</span><span class="bold">@</span><span class="italic">Density</span></td>
<td>指定每卷中的 512KB 块的数目（第一种格式），不依赖于磁带分块因子。
您也可以使用第二种格式，用英尺来指定磁带大小，在这种情况下，<span class="bold">tar</span> 命令假定一个缺省的 <span class="italic">Density</span> 变量。第三种格式允许您指定磁带长度和密度。
英尺被保守地假定为 11 英寸长。
这个标志让您更容易处理多卷磁带归档，这时 <span class="bold">tar</span> 命令必须能够确定每卷能放入多少块。

<a name="wq839"></a>
<div class="notelisttitle" id="wq839">注:</div>
<ol type="1">
<li>磁带机在密度能力上有差异。<span class="italic">Density</span> 变量计算系统在磁带上可放入的数据量。</li>
<li id="d583f1c257mart">
<a name="d583f1c257mart"></a>如果使用 1/4 英寸磁带设备，在指定 <span class="italic">Feet</span> 变量的值时，一定要考虑磁带设备上的磁道数目。
例如，可以使用 <span class="bold">-S</span><span class="italic"> Feet</span><span class="bold">@</span><span class="italic">Density</span> 标志来指定一个有 600 英尺磁带和 8000 字节/英寸密度的 4 磁道、1/4 英寸磁带机，如下：<a name="d583f1c344mart"></a><span id="d583f1c344mart" class="pk"></span>

<p></p>
<pre class="xmp">-S 2400@8000</pre><p class="indatacontent"> 这里，600 英尺乘以 4 磁道等于 2400 英尺。</p></li>
</ol></td>
</tr>
<tr>
<td>
<a id="a148c1d6" name="a148c1d6"></a><span class="bold">-v</span></td>
<td>  在处理每个文件时，列出它们的名称。使用 <a href="tar.htm#a148c1bf"><span class="bold">-t</span></a> 标志，<span class="bold">-v</span> 给出磁带条目的更多信息，包括文件大小、上次修改的时间、用户标识（UID）、组标识（GID）和许可权。</td>
</tr>
<tr>
<td>
<a id="a148c1d7" name="a148c1d7"></a><span class="bold">-w</span></td>
<td>  显示要进行的操作，跟着是文件名，然后等候用户确认。
如果回答是肯定的，则执行操作。
如果回答不是肯定的，则忽略文件。</td>
</tr>
<tr>
<td>
<a id="a148c1d8" name="a148c1d8"></a><span class="bold">-</span><span class="italic">Number</span></td>
<td>  使用 <span class="bold">/dev/rmt</span><span class="italic">Number</span> 文件，而不是缺省值。例如，<span class="bold">-2</span> 标志
和 <span class="bold">-f/dev/rmt2</span> 文件是相同的。</td>
</tr>
</tbody>
</table>
<a name="c14dcf7293sylv"></a>
<h3 id="c14dcf7293sylv">退出状态</h3>
<a name="e3ea426821mart"></a>
<p id="e3ea426821mart">该命令返回下列退出值：</p>
<a name="wq841"></a>
<table id="wq841" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="c14dcf7760sylv" name="c14dcf7760sylv"></a><span class="bold">0</span></td>
<td width="95%">  成功完成。</td>
</tr>
<tr>
<td>
<a id="c14dcf7970sylv" name="c14dcf7970sylv"></a><span class="bold">&gt;0</span></td>
<td>  有错误发生。</td>
</tr>
</tbody>
</table>
<a name="a101938d3"></a>
<h3 id="a101938d3">示例</h3>
<ol type="1">
<li><a name="a148c1da"></a><span id="a148c1da" class="pk"></span>要将 <tt>file1</tt> 和<tt> file2</tt> 文件写到缺省磁带机上新的归档中，请输入：
<a name="a148c1db"></a><span id="a148c1db" class="pk"></span>

<div class="lines"><tt>tar&nbsp;&nbsp;<a href="tar.htm#a148c1bd">-c</a> file1 file2</tt><br />
</div></li>
<li><a name="a148c1dc"></a><span id="a148c1dc" class="pk"></span>要从 <tt>/dev/rmt2</tt> 磁带设备上的归档文件中抽取<tt> /tmp</tt> 目录里的全部文件，并以抽取时间作为修改时间，请输入：

<p></p>
<a name="a148c1dd"></a>
<pre id="a148c1dd" class="xmp">tar -xm -f/dev/rmt2 /tmp</pre></li>
<li><a name="a148c1de"></a><span id="a148c1de" class="pk"></span>要新建一个包含 <tt>file1</tt> 文件的归档文件，并传递归档文件到<span class="bold"> dd</span> 命令，使之被写到 <tt>/dev/rmt1</tt> 设备，请输入：

<p></p>
<a name="a148c1df"></a>
<pre id="a148c1df" class="xmp">tar -cvf - file1 | dd of=/dev/rmt1 conv=sync</pre></li>
<li><a name="a148c1e0"></a><span id="a148c1e0" class="pk"></span>要显示当前目录上 <tt>out.tar</tt> 磁盘归档文件中各文件的名称，请输入：
<p></p>
<a name="a148c1e1"></a>
<pre id="a148c1e1" class="xmp">tar -vtf out.tar</pre></li>
<li><a name="a148c1e2"></a><span id="a148c1e2" class="pk"></span>要扩展压缩了的 <span class="bold">tar</span> 归档文件，<tt>fil.tar.z</tt>, 传递文件到 <span class="bold">tar</span> 命令，并从扩展了的 <span class="bold">tar</span> 归档文件中抽取全部文件，请输入：
<p></p>
<a name="a148c1e3"></a>
<pre id="a148c1e3" class="xmp">zcat fil.tar.Z | tar -xvf -</pre></li>
<li><a name="a101938a4"></a><span id="a101938a4" class="pk"></span>要使用简短相对路径名称归档 <tt>/usr/include</tt> 和 <tt>/usr/bin</tt> 文件的内容，请输入：
<p></p>
<a name="a101938a0"></a>
<pre id="a101938a0" class="xmp">cd /usr
tar -cvf/dev/rmt0 -C./include . -C ../bin .</pre>
<a name="a101938a3"></a>
<p id="a101938a3"></p>
<a name="wq843"></a>
<div class="notetitle" id="wq843">注:</div>
<div class="notebody">当用相对路径名称指定<span class="bold"> -C</span> 标志的多个实例，用户必须考虑到先前的 <span class="bold">-C</span> 标志请求。</div></li>
<li><a name="c332560935doug"></a><span id="c332560935doug" class="pk"></span>要在使用 <span class="bold">-S</span> 标志时归档到一个 8 毫米设备，请输入：
<p></p>
<a name="c332561033doug"></a>
<pre id="c332561033doug" class="xmp">tar -cvf /dev/rmt0 -S 4800000b /usr</pre> 
<a name="c332561187doug"></a>
<p id="c332561187doug"></p>
<a name="wq844"></a>
<div class="notetitle" id="wq844">注:</div>
<div class="notebody"> 当归档到 8 毫米设备, 不推荐用 <span class="bold">-S</span><span class="italic"> Feet</span> 和 <span class="bold">-S</span><span class="italic"> Feet</span><span class="bold">@</span><span class="italic">Density</span> 标志，因为 8 毫米设备在写入磁带时不使用密度概念。</div></li>
<li>要归档所有 <tt>C</tt> 文件的一个列表（这些文件通过 <span class="bold">-L</span> 选项的 <span class="italic">InputList</span> 参数被列在文件中），请输入：

<p></p>
<pre class="xmp">tar -cvf fl.tar -L fl_list</pre>这里，<tt>fl_list</tt> 是一个文件，它包含一个所有 <tt>.c</tt> 文件的列表。这可以通过以下命令获得：
<p></p>
<pre class="xmp">ls *.c > fl_list</pre></li>
<li>要使用 <span class="bold">-L</span> 选项设置变量来归档所有 <tt>C</tt> 文件的一个列表，请输入：

<p></p>
<pre class="xmp">ls *.c > fl_list
fl=fl_list
tar -cvf var.tar -L $fl</pre></li></ol>
<a name="a148c1ea"></a>
<h3 id="a148c1ea">文件</h3>
<p></p>
<a name="wq845"></a>
<table id="wq845" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="a148c1eb" name="a148c1eb"></a><span class="bold">/dev/rmt0</span></td>
<td width="80%">  指定缺省磁带设备。</td>
</tr>
<tr>
<td>
<a id="a148c1ec" name="a148c1ec"></a><span class="bold">/bin/tar</span></td>
<td>  指定 <span class="bold">tar</span> 命令的符号链接。</td>
</tr>
<tr>
<td>
<a id="a148c1ed" name="a148c1ed"></a><span class="bold">/usr/bin/tar</span></td>
<td>  包含 <span class="bold">tar</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a148c1ee" name="a148c1ee"></a><span class="bold">/tmp/tar*</span></td>
<td>  指定临时文件。</td>
</tr>
</tbody>
</table>
<a name="wq846"></a>
<div class="notetitle" id="wq846">注:</div>
<div class="notebody"><a name="ac371fd170mike"></a><span id="ac371fd170mike" class="pk"></span>在 AIX 3.2 中，整个 <span class="bold">/bin</span> 目录是到 <span class="bold">/usr/bin</span> 的一个符号链接。</div>
<a name="a148c1f2"></a>
<h3 id="a148c1f2">相关信息</h3>
<a name="e3ea429256mart"></a>
<p id="e3ea429256mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds1/cat.htm#ndb390fish"><span class="bold">cat</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds2/dd.htm#a101930e6"><span class="bold">dd</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds4/pax.htm#a143c1754"><span class="bold">pax</span></a> 命令。</p>
<a name="e3ea429349mart"></a>
<p id="e3ea429349mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/rmt.htm#vc90w2chris"><span class="bold">rmt</span></a> 特殊文件。</p>
<a name="e3ea429446mart"></a>
<p id="e3ea429446mart"><span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/admnconc/file_sys.htm">File Systems</a> 解释了文件系统类型、管理、结构以及维护。</p>
<a name="e3ea429541mart"></a>
<p id="e3ea429541mart"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixuser/usrosdev/dir_overview.htm#jy490craw">『目录概述』</a>解释了使用目录和路径名称。</p>
<a name="e3ea429638mart"></a>
<p id="e3ea429638mart"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixuser/usrosdev/files.htm#rl33b0fish">『文件概述』</a>提供了使用文件的信息。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="tar.htm#Top_Of_Page">页的顶部</a> | <a href="tapechk.htm">上一页</a> | <a href="tbl.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
