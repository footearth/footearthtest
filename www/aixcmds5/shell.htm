<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - shell 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="shell 命令, 使用 shell 命令, 用登录凭证执行,
shell, 重新初始化登录会话, 用户" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="shell.htm#Bot_Of_Page">页的底部</a> | <a href="shconf.htm">上一页</a> | <a href="show.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="a30794cf"></a>
<h2 id="a30794cf">shell 命令</h2>
<p><a id="idx92" name="idx92"></a></p>
<a name="a30794d1"></a>
<h3 id="a30794d1">用途</h3>
<a name="f9fb075329mart"></a>
<p id="f9fb075329mart">使用用户的缺省凭证和环境执行 shell。<a id="idx93" name="idx93"></a> <a id="idx94" name="idx94"></a></p>
<a name="a30794d3"></a>
<h3 id="a30794d3">语法</h3>
<p><span class="bold">shell</span></p>
<a name="a30794d6"></a>
<h3 id="a30794d6">描述</h3>
<a name="f9fb075699mart"></a>
<p id="f9fb075699mart"><span class="bold">shell</span> 命令重新初始化用户的登录会话。当给出该命令时，就会重新设置进程的控制终端的端口特征，并取消对端口的所有访问。然后 <span class="bold">shell</span> 命令为用户把进程凭证和环境重新设置为缺省值，并执行用户的初始程序。根据调用进程的登录用户标识建立所有的凭证和环境。</p>
<a name="f9fb075798mart"></a>
<p id="f9fb075798mart">如果在可信路径上调用 <span class="bold">shell</span> 命令，并且 <span class="bold">/etc/security/user</span> 文件中用户的 <span class="bold">tpath</span> 属性没有 <span class="bold">always</span> 值，那么就不维护终端的可信环境。</p>
<p></p><blockquote><a name="a331f94e1"></a><span id="a331f94e1" class="pk"></span><span class="bold">注：</span><span class="bold">shell</span> 命令不会重新设置用户的登录标识。</blockquote>
<a name="a30794dc"></a>
<h3 id="a30794dc">安全性</h3>
<a name="f9fb076029mart"></a>
<p id="f9fb076029mart">访问控制：该命令应该被 <span class="bold">setuid</span> 为 root 用户，以重新设置用户的进程凭证、授权执行（x）访问所有用户。该命令应该具有<span class="bold">可信计算库</span>属性。</p>
<a name="f9fb076116mart"></a>
<p id="f9fb076116mart">文件访问：</p>
<a name="wq164"></a>
<table id="wq164" width="100%" summary="" border="0" frame="void" rules="none">
<thead valign="bottom">
<tr>
<th id="wq165" width="8%" align="left">方式</th>
<th id="wq166" width="91%" align="left">  文件</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq165">
<a id="a30794e3" name="a30794e3"></a><span class="bold">r</span></td>
<td headers="wq166">  <span class="bold">/etc/passwd</span></td>
</tr>
<tr>
<td headers="wq165">
<a id="a331f94e4" name="a331f94e4"></a><span class="bold">r</span></td>
<td headers="wq166">  <span class="bold">/etc/group</span></td>
</tr>
<tr>
<td headers="wq165">
<a id="a331f94e5" name="a331f94e5"></a><span class="bold">r</span></td>
<td headers="wq166">  <span class="bold">/etc/security/audit/config</span></td>
</tr>
<tr>
<td headers="wq165">
<a id="a331f94e6" name="a331f94e6"></a><span class="bold">r</span></td>
<td headers="wq166">  <span class="bold">/etc/security/environ</span></td>
</tr>
<tr>
<td headers="wq165">
<a id="a30794e4" name="a30794e4"></a><span class="bold">r</span></td>
<td headers="wq166">  <span class="bold">/etc/security/limits</span></td>
</tr>
<tr>
<td headers="wq165">
<a id="c4c3e63892doug" name="c4c3e63892doug"></a><span class="bold">r</span></td>
<td headers="wq166">  <span class="bold">/etc/security/user</span></td>
</tr>
</tbody>
</table>
<a name="f9fb076646mart"></a>
<p id="f9fb076646mart">审计事件：</p>
<a name="wq167"></a>
<table id="wq167" width="100%" summary="" border="0" frame="void" rules="none">
<thead valign="bottom">
<tr>
<th id="wq168" width="16%" align="left">事件</th>
<th id="wq169" width="83%" align="left">  信息</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq168">
<a id="a30794e8" name="a30794e8"></a><span class="bold">USER_Shell</span></td>
<td headers="wq169">  portname</td>
</tr>
</tbody>
</table>
<a name="a30794e9"></a>
<h3 id="a30794e9">示例</h3>
<a name="f9fb076941mart"></a>
<p id="f9fb076941mart">要在使用可信 shell（<span class="bold">tsh</span>）之后将会话重新初始化为缺省凭证和环境，请输入：</p>
<p></p>
<a name="a30794eb"></a>
<pre id="a30794eb" class="xmp">shell</pre>
<a name="a30794f5"></a>
<h3 id="a30794f5">文件</h3>
<p></p>
<a name="wq170"></a>
<table id="wq170" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="43%">
<a id="a30794f6" name="a30794f6"></a><span class="bold">/usr/bin/shell</span></td>
<td width="56%">  包含 <span class="bold">shell</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a30794f7" name="a30794f7"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/user.htm#mnm220frit"><span class="bold">/etc/security/user</span></a><span class="bold"></span></td>
<td>  包含用户的扩展属性。</td>
</tr>
<tr>
<td>
<a id="c4c3e64572doug" name="c4c3e64572doug"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/passwd.htm#x9a1f0frit"><span class="bold">/etc/passwd</span></a></td>
<td>  包含用户标识。</td>
</tr>
<tr>
<td>
<a id="c4c3e64648doug" name="c4c3e64648doug"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/group_security.htm#xxa1e0frit"><span class="bold">/etc/group</span></a></td>
<td>  包含组标识。</td>
</tr>
<tr>
<td>
<a id="c4c3e64725doug" name="c4c3e64725doug"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/config.htm#evc0frit"><span class="bold">/etc/security/audit/config</span></a></td>
<td>  包含审计配置信息。</td>
</tr>
<tr>
<td>
<a id="c4c3e64819doug" name="c4c3e64819doug"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/environ.htm#amr1b0frit"><span class="bold">/etc/security/environ</span></a></td>
<td>  定义用户的环境属性。</td>
</tr>
<tr>
<td>
<a id="c4c3e64943doug" name="c4c3e64943doug"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/limits.htm#hor130frit"><span class="bold">/etc/security/limits</span></a></td>
<td>  定义每个用户的进程资源限制。</td>
</tr>
</tbody>
</table>
<a name="a30794f8"></a>
<h3 id="a30794f8">相关信息</h3>
<a name="f9fb078098mart"></a>
<p id="f9fb078098mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds2/getty.htm#a301913bc"><span class="bold">getty</span></a> 命令、<a href="telinit.htm#a15891e19"><span class="bold">init</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/login.htm#a68v042f7"><span class="bold">login</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/logout.htm#a68v042da"><span class="bold">logout</span></a> 命令、<a href="setgroups.htm#ji21200frit"><span class="bold">setgroups</span></a> 命令、<a href="su.htm#a248y99c6d"><span class="bold">su</span></a> 命令、<a href="tsh.htm#tk420frit"><span class="bold">tsh</span></a> 命令、<a href="tsm.htm#a22297d3"><span class="bold">tsm</span></a> 命令。</p>
<a name="f9fb078196mart"></a>
<p id="f9fb078196mart">关于用户的标识和认证、自主访问控制、可信计算库以及审计的更多信息，请参阅<span class="italic">《AIX 5L V5.2 安全指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/security/security_admin.htm">『安全性管理』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="shell.htm#Top_Of_Page">页的顶部</a> | <a href="shconf.htm">上一页</a> | <a href="show.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
