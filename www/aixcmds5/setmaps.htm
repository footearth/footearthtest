<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - setmaps 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="setmaps 命令, 设置, 终端映射, 代码集, 代码集映射" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="setmaps.htm#Bot_Of_Page">页的底部</a> | <a href="setgroups.htm">上一页</a> | <a href="setsenv.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="a18p0178"></a>
<h2 id="a18p0178">setmaps 命令</h2>
<p><a id="idx82" name="idx82"></a></p>
<a name="a18p017a"></a>
<h3 id="a18p017a">用途</h3>
<a name="f9fafb4777mart"></a>
<p id="f9fafb4777mart">设置终端映射或代码集映射。<a id="idx83" name="idx83"></a> <a id="idx84" name="idx84"></a> <a id="idx85" name="idx85"></a></p>
<a name="a18p017c"></a>
<h3 id="a18p017c">语法</h3>
<p>要使用 setmaps 而不指定输入或输出映射文件，请输入以下内容：</p>
<p><span class="bold">setmaps</span> [&nbsp; <a href="setmaps.htm#a30p013"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="setmaps.htm#a30p014"><span class="bold">-c&nbsp;</span></a>|&nbsp; <a href="setmaps.htm#a30p015"><span class="bold">-h&nbsp;</span></a>]</p>
<p>要从缺省目录中选择一个文件作为代码集映射文件，请输入以下内容：</p>
<p><span class="bold">setmaps</span> [&nbsp; <a href="setmaps.htm#a30p013"><span class="bold">-v&nbsp;</span></a>]  <a href="setmaps.htm#a29l20dan"><span class="bold">-s&nbsp;</span></a> <a href="setmaps.htm#a18p0182"><span class="bold">-i</span></a> <span class="italic">MapName</span></p>
<p>要选择一个指定文件作为代码集映射文件，请输入以下内容：</p>
<p><span class="bold">setmaps</span> [&nbsp; <a href="setmaps.htm#a30p013"><span class="bold">-v&nbsp;</span></a>]  <a href="setmaps.htm#a29l20dan"><span class="bold">-s&nbsp;</span></a> <a href="setmaps.htm#qv7f0roll"><span class="bold">-I</span></a> <span class="italic">File1</span></p>
<p>要从缺省目录中选择一个文件作为输入或输出终端映射文件，请输入以下内容：</p>
<p><span class="bold">setmaps</span> [&nbsp; <a href="setmaps.htm#a30p013"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="setmaps.htm#nq7350roll"><span class="bold">-D&nbsp;</span></a>] [&nbsp; <a href="setmaps.htm#a30p016"><span class="bold">-k&nbsp;</span></a><span class="italic">KeyName&nbsp;</span>] [&nbsp; <a href="setmaps.htm#a1u7330roll"><span class="bold">-d&nbsp;</span></a><span class="italic">DirectoryPath&nbsp;</span>]  {&nbsp; <a href="setmaps.htm#a18p0182"><span class="bold">-i&nbsp;</span></a>|&nbsp; <a href="setmaps.htm#a18p0183"><span class="bold">-o&nbsp;</span></a>} <span class="italic">MapName</span></p>
<p>要从缺省目录中选择文件作为输入或输出终端映射文件，请输入以下内容：</p>
<p><span class="bold">setmaps</span> [&nbsp; <a href="setmaps.htm#a30p013"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="setmaps.htm#nq7350roll"><span class="bold">-D&nbsp;</span></a>] [&nbsp; <a href="setmaps.htm#a1u7330roll"><span class="bold">-d&nbsp;</span></a><span class="italic">DirectoryPath&nbsp;</span>]  <a href="setmaps.htm#a18p0184"><span class="bold">-t</span></a> <span class="italic">MapName</span></p>
<p>要选择一个指定文件作为输入或输出终端映射文件，请输入以下内容：</p>
<p><span class="bold">setmaps</span> [&nbsp; <a href="setmaps.htm#a30p013"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="setmaps.htm#nq7350roll"><span class="bold">-D&nbsp;</span></a>] [&nbsp; <a href="setmaps.htm#a30p016"><span class="bold">-k&nbsp;</span></a>KeyName&nbsp;]
{&nbsp; <a href="setmaps.htm#qv7f0roll"><span class="bold">-I&nbsp;</span></a>|&nbsp; <a href="setmaps.htm#cw7330roll"><span class="bold">-O&nbsp;</span></a>} <span class="italic">File1</span></p>
<p>要装入缺省终端映射文件以备以后使用，请输入以下内容：</p>
<p><span class="bold">setmaps</span> [&nbsp; <a href="setmaps.htm#a30p013"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="setmaps.htm#nq7350roll"><span class="bold">-D&nbsp;</span></a>] [&nbsp; <a href="setmaps.htm#a30p016"><span class="bold">-k&nbsp;</span></a>KeyName&nbsp;]
[&nbsp; <a href="setmaps.htm#kt7150roll"><span class="bold">-r&nbsp;</span></a>]  <a href="setmaps.htm#a1w7150roll"><span class="bold">-l</span></a> <span class="italic">File2</span></p>
<p>要装入一个指定的终端映射文件以备以后使用，请输入以下内容：</p>
<p><span class="bold">setmaps</span> [&nbsp; <a href="setmaps.htm#a30p013"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="setmaps.htm#nq7350roll"><span class="bold">-D&nbsp;</span></a>] [&nbsp; <a href="setmaps.htm#a30p016"><span class="bold">-k&nbsp;</span></a>KeyName&nbsp;]
[&nbsp; <a href="setmaps.htm#kt7150roll"><span class="bold">-r&nbsp;</span></a>]  <a href="setmaps.htm#ow71d0roll"><span class="bold">-L</span></a> <span class="italic">File1</span></p>
<a name="a18p017f"></a>
<h3 id="a18p017f">描述</h3>
<p></p><blockquote><a name="a163c11893"></a><span id="a163c11893" class="pk"></span><span class="bold">注：</span>如果没有 root 用户权限运行该命令，则不能装入代码集映射，仅仅可以调试。</blockquote>
<a name="f9fafb7635mart"></a>
<p id="f9fafb7635mart"><span class="bold">setmaps</span> 命令处理终端和代码集映射。<span class="bold">-s</span> 标志必须用于代码集映射。操作系统使用输入和输出终端映射把内部数据表示转换为异步终端支持的 ASCII 字符。如果您输入没有标志的 <span class="bold">setmaps</span> 命令，则它显示出当前输入和输出终端映射的名称。</p>
<a name="f9fafb7860mart"></a>
<p id="f9fafb7860mart">终端映射是一个文本文件，它包含将模式字符串和替换字符串关联的规则列表。这个文件通常存在于 <span class="bold">/usr/lib/nls/termmap</span> 目录中。操作系统使用输入映射文件把键盘输入映射到应用程序，并使用输出文件把应用程序的输出映射到显示器。</p>
<a name="f9fafb8007mart"></a>
<p id="f9fafb8007mart">终端映射工作流程如下：</p>
<ol type="1">
<li><a name="a258c01c95d"></a><span id="a258c01c95d" class="pk"></span>系统将字符收集到缓冲区，直到映射文件中的规则所指定的模式与缓冲区中的子串相匹配。</li>
<li><a name="a258c01c95e"></a><span id="a258c01c95e" class="pk"></span>然后，系统构造并返回规则所指定的替换字符串。</li></ol>
<a name="f9fafb8299mart"></a>
<p id="f9fafb8299mart">该过程继续处理缓冲区中的剩余字符。</p>
<a name="f9fafb8460mart"></a>
<p id="f9fafb8460mart">终端映射规则可以测试和更改模式处理器的状态。由单字节字符，通常是数字（0－9）来识别该状态。当系统装入一个新的映射、刷新终端输入或输出缓冲区时（比如当它处理 KILL 或 INTR 字符或者当程序发出 <span class="bold">ioctl</span> 系统调用时），状态复位为 0，即初始状态。终端映射可以使用状态以在其它任务中检测多字节转义序列。您可以通过在模式中指定 @x 来测试状态 <span class="italic">x</span>。您可以通过将 @x 包含在替换字符串中来把设置状态为 <span class="italic">x</span>。</p>
<a name="f9fafb8609mart"></a>
<p id="f9fafb8609mart">当使用 <span class="bold">-s</span> 标志时，<span class="bold">setmaps</span> 命令将代码映射指定给标准输入设备。操作系统使用代码集映射确定一个字符所需的内存字节数和所需的显示列数。</p>
<a name="a18p0181"></a>
<h3 id="a18p0181">标志</h3>
<p></p>
<a name="wq119"></a>
<table id="wq119" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="26%">
<a id="a30p014" name="a30p014"></a><span class="bold">-c</span></td>
<td width="73%">  在终端上清除所有的映射。</td>
</tr>
<tr>
<td>
<a id="a1u7330roll" name="a1u7330roll"></a><span class="bold">-d</span><span class="italic"> DirectoryPath</span></td>
<td>  使 <span class="italic">DirectoryPath</span> 变量用作包含 <span class="italic">MapName</span> 变量的目录的路径。指定这个标志和变量覆盖 <span class="bold">/usr/lib/nls/termmap</span> 目录。</td>
</tr>
<tr>
<td>
<a id="nq7350roll" name="nq7350roll"></a><span class="bold">-D</span></td>
<td>  装入映射前在标准输出设备上生成指定映射的调试程序打印输出。在新的映射上运行此调试程序时，直到映射被完全调试后才能使用 root 用户权限来运行以防止映射被实际加载。</td>
</tr>
<tr>
<td>
<a id="a30p015" name="a30p015"></a><span class="bold">-h</span></td>
<td>  打印 <span class="bold">setmaps</span> 命令（高级用户将其和 <span class="bold">-v</span> 标志一起使用）的使用信息。</td>
</tr>
<tr>
<td>
<a id="a18p0182" name="a18p0182"></a><span class="bold">-i</span><span class="italic"> MapName</span></td>
<td>  选择 <span class="bold">/usr/lib/nls/termmap/MapName.in</span> 文件作为输入映射。当和 <span class="bold">-s</span> 标志一起使用时，该标志会选择 <span class="bold">/usr/lib/nls/csmap/MapName</span> 文件作为终端代码集映射文件。</td>
</tr>
<tr>
<td>
<a id="qv7f0roll" name="qv7f0roll"></a><span class="bold">-I</span><span class="italic"> File1</span></td>
<td>  选择 <span class="italic">File1</span> 变量的内容作为输入映射。<span class="italic">File1</span> 变量指定的文件可以是全路径名或者是当前工作目录的相对路径名。当和 <span class="bold">-s</span> 标志一起使用时，该标志会选择 <span class="italic">File1</span> 变量的内容作为终端代码页面映射文件。</td>
</tr>
<tr>
<td>
<a id="a30p016" name="a30p016"></a><span class="bold">-k</span><span class="italic"> KeyName</span></td>
<td>  将 <span class="italic">KeyName</span> 变量的内容和所选定的映射相关联。这个密钥名称覆盖缺省密钥，该缺省密钥一般设置为 <span class="italic">MapName</span> 变量的值。</td>
</tr>
<tr>
<td>
<a id="a1w7150roll" name="a1w7150roll"></a><span class="bold">-l</span><span class="italic"> File2</span></td>
<td>  装入 <span class="bold">/usr/lib/nls/termmap/File2</span> 文件以备后用。<span class="italic">File2</span> 变量包含映射文件的全路径名和后缀（如果有的话）。
<p></p><blockquote><span class="bold">注：</span>您必须具有 root 用户权限才能指定这个标志。</blockquote></td>
</tr>
<tr>
<td>
<a id="ow71d0roll" name="ow71d0roll"></a><span class="bold">-L</span><span class="italic"> File1</span></td>
<td>  装入指定的映射以备后用。<span class="italic">File1</span> 变量包含映射文件的全路径名和后缀（如果有的话）。
<p></p><blockquote><span class="bold">注：</span>您必须具有 root 用户权限才能指定这个标志。</blockquote></td>
</tr>
<tr>
<td>
<a id="a18p0183" name="a18p0183"></a><span class="bold">-o</span><span class="italic"> MapName</span></td>
<td>  选择 <span class="bold">/usr/lib/nls/termmap/MapName.out</span> 文件作为终端输出映射。</td>
</tr>
<tr>
<td>
<a id="cw7330roll" name="cw7330roll"></a><span class="bold">-O</span><span class="italic"> File1</span></td>
<td>  选择 <span class="italic">File1</span> 变量的内容作为终端输出映射。<span class="italic">File1</span> 变量包含映射文件的全路径名和后缀（如果有的话）。</td>
</tr>
<tr>
<td>
<a id="kt7150roll" name="kt7150roll"></a><span class="bold">-r</span></td>
<td>  即使指定的映射已经装入，也要强制重新装入。使用旧映射的终端继续装入直到注销或者其映射已明确复位。如果您不指定这个标志，则仅当映射以前没有装入到内核时才能装入。
<p></p><blockquote><span class="bold">注：</span>您必须具有 root 用户权限才能指定这个标志。</blockquote></td>
</tr>
<tr>
<td>
<a id="a29l20dan" name="a29l20dan"></a><span class="bold">-s</span></td>
<td>  把任意映射看成是一个代码集映射。</td>
</tr>
<tr>
<td>
<a id="a18p0184" name="a18p0184"></a><span class="bold">-t</span><span class="italic"> MapName</span></td>
<td>  选择<span class="bold">/usr/lib/nls/termmap/MapName.in</span> 文件作为终端输入映射，<span class="bold">/usr/lib/nls/termmap/MapName.out</span> 文件作为终端输出映射。</td>
</tr>
<tr>
<td>
<a id="a30p013" name="a30p013"></a><span class="bold">-v</span></td>
<td>  选择冗长的输出。</td>
</tr>
</tbody>
</table>
<a name="f9fafba324mart"></a>
<p id="f9fafba324mart">所有装入的映射必须有唯一的名称。使用 <span class="bold">-k</span> 标志消除命名冲突。只有 <span class="bold">-i</span>、<span class="bold">-o</span> 和 <span class="bold">-t</span> 标志隐含地添加一个后缀。如果适当的话，其它指定映射名称的标志应该包括一个后缀。如果内核中已经装入所请求的映射名称，那么即使命令行中提供的路径信息暗示一个不同的映射，仍然该映射。</p>
<a name="f9fafba473mart"></a>
<p id="f9fafba473mart">为了把代码集映射重新设置成原始状态，应该使用 <span class="bold">/usr/lib/nls/csmap/sbcs</span> 代码集映射。</p>
<a name="a83p0d0"></a>
<h3 id="a83p0d0">示例</h3>
<ol type="1">
<li><a name="a83p0d1"></a><span id="a83p0d1" class="pk"></span>要显示该终端的当前映射设置，请输入：
<p></p>
<a name="a83p0d2"></a>
<pre id="a83p0d2" class="xmp">setmaps</pre></li>
<li><a name="a83p0d3"></a><span id="a83p0d3" class="pk"></span>要清除当前终端的所有映射，请输入：
<p></p>
<a name="a83p0d4"></a>
<pre id="a83p0d4" class="xmp">setmaps -c</pre></li>
<li><a name="a83p0d5"></a><span id="a83p0d5" class="pk"></span>要为 <tt>ibm3161-C</tt> 终端设置映射（输入和输出映射），请输入：
<p></p>
<a name="a83p0d6"></a>
<pre id="a83p0d6" class="xmp">setmaps -t ibm3161-C</pre></li>
<li><a name="a83p0d7"></a><span id="a83p0d7" class="pk"></span>要把 <tt>vt220</tt> 输入映射作为 <tt>fred</tt> 映射装入内核中，请输入：
<p></p>
<a name="a83p0d8"></a>
<pre id="a83p0d8" class="xmp">setmaps -k fred -i vt220</pre></li>
<li><a name="a83p0d9"></a><span id="a83p0d9" class="pk"></span>要在名为 <tt>bob.dump</tt> 文件中收集名为 <tt>bob</tt> 的新映射的调试输出，请输入：
<p></p>
<a name="a83p0da"></a>
<pre id="a83p0da" class="xmp">setmaps -D -L /tmp/bob &gt; bob.dump</pre></li>
<li><a name="a155c1204"></a><span id="a155c1204" class="pk"></span>要为终端设置符合 IBM-932 代码页的代码集映射，请输入：
<p></p>
<a name="a155c1205"></a>
<pre id="a155c1205" class="xmp">setmaps -s -i IBM-932</pre></li>
<li><a name="dup0001"></a><span id="dup0001" class="pk"></span>要为终端设置符合 IBM-943 代码页的代码集映射，请输入：
<p></p>
<a name="dup0002"></a>
<pre id="dup0002" class="xmp">setmaps -s -i IBM-943</pre></li>
<li><a name="a155c1208"></a><span id="a155c1208" class="pk"></span>要为终端设置来自文件 <tt>myEUC</tt> 的代码集映射，请输入：
<p></p>
<a name="a155c1209"></a>
<pre id="a155c1209" class="xmp">setmaps -s -I myEUC</pre></li></ol>
<a name="a18p019e"></a>
<h3 id="a18p019e">文件</h3>
<p></p>
<a name="wq121"></a>
<table id="wq121" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="46%">
<a id="f3a9df1715mela" name="f3a9df1715mela"></a>/<span class="bold">usr</span>/<span class="bold">bin</span>/<span class="bold">setmaps</span></td>
<td width="53%">  包含 <span class="bold">setmaps</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a18p019f" name="a18p019f"></a><span class="bold">/usr/lib/nls/termmap/*.in</span></td>
<td>  包含输入映射文件。</td>
</tr>
<tr>
<td>
<a id="a317c11a" name="a317c11a"></a><span class="bold">/usr/lib/nls/termmap/*.out</span></td>
<td>  包含输出映射文件。</td>
</tr>
<tr>
<td>
<a id="a317c11b" name="a317c11b"></a><span class="bold">/usr/lib/nls/csmap/sbcs</span></td>
<td>  包含单字节代码页的代码集映射。</td>
</tr>
<tr>
<td>
<a id="a317c11c" name="a317c11c"></a><span class="bold">/usr/lib/nls/csmap/IBM-943</span></td>
<td>  包含 IBM-943 代码页的代码集映射。</td>
</tr>
<tr>
<td>
<a id="a317c11d" name="a317c11d"></a><span class="bold">/usr/lib/nls/csmap/IBM-eucJP</span></td>
<td>  包含 IBM-eucJP 代码页的代码集映射。</td>
</tr>
</tbody>
</table>
<a name="a18p01a1"></a>
<h3 id="a18p01a1">相关信息</h3>
<a name="f9fafbc605mart"></a>
<p id="f9fafbc605mart"><a href="stty.htm#a471320roll"><span class="bold">stty</span></a> 命令。</p>
<a name="f9fafbc822mart"></a>
<p id="f9fafbc822mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/setmaps.htm#a163c116fb"><span class="bold">setmaps</span></a> 文件格式、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/termios.h.htm#a2839b1d"><span class="bold">termios.h</span></a> 文件。</p>
<a name="f9fafbc966mart"></a>
<p id="f9fafbc966mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/libs/basetrf2/setcsmap.htm#a163c11872"><span class="bold">setcsmap</span></a> 子例程。</p>
<a name="f9fafbd114mart"></a>
<p id="f9fafbd114mart"><span class="italic">AIX 5L Version 5.2 National Language Support Guide and Reference</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/nlsgdrf/nat_lang_support.htm">National Language Support</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="setmaps.htm#Top_Of_Page">页的顶部</a> | <a href="setgroups.htm">上一页</a> | <a href="setsenv.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
