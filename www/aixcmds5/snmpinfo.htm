<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - snmpinfo 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="snmpinfo 命令, 使用 snmpinfo 命令管理,
管理信息库变量" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="snmpinfo.htm#Bot_Of_Page">页的底部</a> | <a href="snmpdv3.htm">上一页</a> | <a href="snmpmibd.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="a6zz3170sara"></a>
<h2 id="a6zz3170sara">snmpinfo 命令</h2>
<p><a id="idx186" name="idx186"></a> <a id="idx187" name="idx187"></a></p>
<a name="a101c121c7"></a>
<h3 id="a101c121c7">用途</h3>
<a name="f9fbe00428mart"></a>
<p id="f9fbe00428mart">请求或修改简单网络管理协议（SNMP）代理程序管理的管理信息库（MIB）变量的值。</p>
<a name="a101c121c9"></a>
<h3 id="a101c121c9">语法</h3>
<a name="wq305"></a>
<h4 id="wq305">get 或 next 选项</h4>
<p><span class="bold">snmpinfo</span> [ <a href="snmpinfo.htm#lid160sara"><span class="bold">-m</span></a><span class="bold"> get</span> |<span class="bold"> next&nbsp;</span>] [&nbsp; <a href="snmpinfo.htm#xjd11a0sara"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="snmpinfo.htm#a4id160sara"><span class="bold">-c</span></a><span class="bold">&nbsp;</span><span class="italic">Community&nbsp;</span>] [&nbsp; <a href="snmpinfo.htm#hid1c0sara"><span class="bold">-d</span></a><span class="bold">&nbsp;</span><span class="italic">Level&nbsp;</span>] [&nbsp; <a href="snmpinfo.htm#wid1120sara"><span class="bold">-h&nbsp;</span></a><span class="italic">HostName&nbsp;</span>] [&nbsp; <a href="snmpinfo.htm#aid1sara"><span class="bold">-o</span></a><span class="bold">&nbsp;</span><span class="italic">ObjectsFile&nbsp;</span>]&nbsp;...<span class="bold">&nbsp;</span>[&nbsp; <a href="snmpinfo.htm#cjd1300sara"><span class="bold">-t</span></a><span class="bold">&nbsp;</span><span class="italic">Tries&nbsp;</span>]  <a href="snmpinfo.htm#thd1240sara"><span class="italic">Variable</span></a>. <a href="snmpinfo.htm#jhd1200sara"><span class="italic">Instance&nbsp;</span></a>...</p>
<a name="wq306"></a>
<h4 id="wq306">set 选项</h4>
<p><span class="bold">snmpinfo</span>  <a href="snmpinfo.htm#lid160sara"><span class="bold">-m</span></a><span class="bold">&nbsp;set</span> [&nbsp; <a href="snmpinfo.htm#xjd11a0sara"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="snmpinfo.htm#a4id160sara"><span class="bold">-c</span></a><span class="bold">&nbsp;</span><span class="italic">Community&nbsp;</span>]
[&nbsp; <a href="snmpinfo.htm#hid1c0sara"><span class="bold">-d</span></a><span class="bold">&nbsp;</span><span class="italic">Level&nbsp;</span>] [&nbsp; <a href="snmpinfo.htm#wid1120sara"><span class="bold">-h</span></a><span class="bold">&nbsp;</span><span class="italic">HostName&nbsp;</span>] [&nbsp; <a href="snmpinfo.htm#aid1sara"><span class="bold">-o</span></a><span class="bold">&nbsp;</span><span class="italic">ObjectsFile&nbsp;</span>]&nbsp;... [&nbsp; <a href="snmpinfo.htm#cjd1300sara"><span class="bold">-t</span></a><span class="bold">&nbsp;</span><span class="italic">Tries&nbsp;</span>]  <a href="snmpinfo.htm#thd1240sara"><span class="italic">Variable</span></a> . <a href="snmpinfo.htm#jhd1200sara"><span class="italic">Instance</span></a>= <a href="snmpinfo.htm#eod160sara"><span class="italic">Value&nbsp;</span></a>...</p>
<a name="wq307"></a>
<h4 id="wq307">dump 选项</h4>
<p><span class="bold">snmpinfo</span>  <a href="snmpinfo.htm#lid160sara"><span class="bold">-m</span></a><span class="bold"> dump</span> [&nbsp; <a href="snmpinfo.htm#xjd11a0sara"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="snmpinfo.htm#a4id160sara"><span class="bold">-c</span></a><span class="bold">&nbsp;</span><span class="italic">Community&nbsp;</span>]
[&nbsp; <a href="snmpinfo.htm#hid1c0sara"><span class="bold">-d</span></a><span class="bold">&nbsp;</span><span class="italic">Level&nbsp;</span>] [&nbsp; <a href="snmpinfo.htm#wid1120sara"><span class="bold">-h</span></a><span class="bold">&nbsp;</span><span class="italic">HostName&nbsp;</span>] [&nbsp; <a href="snmpinfo.htm#aid1sara"><span class="bold">-o</span></a><span class="bold">&nbsp;</span><span class="italic">ObjectsFile&nbsp;</span>]&nbsp;... [<span class="bold">&nbsp;</span> <a href="snmpinfo.htm#cjd1300sara"><span class="bold">-t</span></a><span class="bold">&nbsp;</span><span class="italic">Tries&nbsp;</span>] [&nbsp; <a href="snmpinfo.htm#thd1240sara"><span class="italic">Variable</span></a><span class="bold">.</span> <a href="snmpinfo.htm#jhd1200sara"><span class="italic">Instance&nbsp;</span></a>]&nbsp;...</p>
<a name="a101c121cd"></a>
<h3 id="a101c121cd">描述</h3>
<a name="f9fbe01307mart"></a>
<p id="f9fbe01307mart"><span class="bold">snmpinfo</span> 命令请求或修改 SNMP 代理程序的一个或多个 MIB 变量的值。该命令只能由具有 root 特权的用户或系统组成员发出。</p>
<a name="f9fbe01404mart"></a>
<p id="f9fbe01404mart">如果您指定 <span class="bold">get</span> 选项，<span class="bold">snmpinfo</span> 命令从 SNMP 代理请求 MIB 的一个或多个变量的信息。</p>
<a name="f9fbe01503mart"></a>
<p id="f9fbe01503mart">如果您指定 <span class="bold">next</span> 选项，<span class="bold">snmpinfo</span> 命令从 SNMP 代理请求关于指定实例后的实例信息。<span class="bold">next</span> 选项使得在不知道实例限定符的前提下获取 MIB 值成为可能。</p>
<a name="f9fbe01601mart"></a>
<p id="f9fbe01601mart">如果您指定 <span class="bold">set</span> 选项，<span class="bold">snmpinfo</span> 命令修改 SNMP 代理的一个或多个 MIB 变量的值。只有几个 MIB 变量被指定成可读写。作为修改 MIB 变量的副作用，管理 MIB 数据库的代理程序可能进行各种不同的操作对更改 MIB 变量产生副作用。例如，设置 <span class="bold">ifAdminStatus</span> MIB 变量为 2 通常将关闭网络接口。通过实现管理数据库的 SNMP 代理程序来确定要实施的操作。</p>
<a name="f9fbe01700mart"></a>
<p id="f9fbe01700mart">如果您指定 <span class="bold">dump</span> 选项，可使用 <span class="bold">snmpinfo</span> 命令遍历指定代理程序的整个 MIB 树。如果组作为 <span class="italic">Variable</span> 参数传递，<span class="bold">snmpinfo</span> 将遍历 MIB 树的指定路径。</p>
<a name="f9fbe01798mart"></a>
<p id="f9fbe01798mart"><span class="bold">snmpinfo</span> 命令具有一个调试工具，该工具可以转储发送和接收信息包的调试信息。该工具使用 <span class="bold">-d</span> 标志启用。</p>
<a name="a101c121d4"></a>
<h3 id="a101c121d4">参数</h3>
<p></p>
<a name="wq308"></a>
<table id="wq308" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="eod160sara" name="eod160sara"></a><span class="italic">Value</span></td>
<td width="86%">  指定 MIB <span class="italic">Variable</span> 参数要设置的值。必须为每个变量指定一个值。如果有一个值没有指定，则请求信息包无效。</td>
</tr>
<tr>
<td>
<a id="thd1240sara" name="thd1240sara"></a><span class="italic">Variable</span></td>
<td>  以文本格式或数字格式指定在 <span class="bold">/etc/mib.defs</span> 文件中定义的指定 MIB 变量的名称。如果 <span class="bold">-m</span> 标志的选项是 <span class="bold">next</span> 或 <span class="bold">dump</span>，则 <span class="italic">Variable</span> 参数可作为 MIB 组指定。</td>
</tr>
<tr>
<td>
<a id="jhd1200sara" name="jhd1200sara"></a><span class="italic">Instance</span></td>
<td>  指定 MIB <span class="italic">Variable</span> 参数的实例限定符。如果 <span class="bold">-m</span> 标志的选项是 <span class="bold">get</span> 或 <span class="bold">set</span>，就需要 <span class="italic">Instance</span> 参数。如果 <span class="bold">-m</span> 标志的选项是 <span class="bold">next</span> 或 <span class="bold">dump</span>，则<span class="italic">Instance</span> 参数是可选的。</td>
</tr>
</tbody>
</table>
<p></p><blockquote><span class="bold">注：</span>
<ol type="1">
<li><a name="a101c121d6"></a><span id="a101c121d6" class="pk"></span><span class="italic">Variable.Instance</span> 参数序列中不应有空格。</li>
<li><a name="a101c121d7"></a><span id="a101c121d7" class="pk"></span>如果不指定 <span class="italic">Instance</span> 参数，请勿将一个 .（点）放置在 <span class="italic">Variable</span> 参数的后面。</li></ol></blockquote>
<a name="f9fbe02376mart"></a>
<p id="f9fbe02376mart">有关更多信息，请查阅定义网络管理的管理信息库（MIB）的 RFC 1213 和定义创建 MIB 信息及格式化响应的 SNMP 协议的 RFC 1157。</p>
<a name="a101c121d9"></a>
<h3 id="a101c121d9">标志</h3>
<p></p>
<a name="wq310"></a>
<table id="wq310" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="23%">
<a id="a4id160sara" name="a4id160sara"></a><span class="bold">-c</span><span class="italic"> Community</span></td>
<td width="76%">  指定用于查询 SNMP 代理的团体名。如果不指定 <span class="bold">-c</span> 标志，缺省团体名为 <span class="bold">public</span>。</td>
</tr>
<tr>
<td>
<a id="hid1c0sara" name="hid1c0sara"></a><span class="bold">-d</span><span class="italic"> Level</span></td>
<td>  指定 I/O 调试信息的级别。<span class="italic">Level</span> 值可为下列其中之一：
<dl>
<dt id="a101c121da" class="bold">
<a name="a101c121da"></a><span class="bold">0</span></dt>
<dd>  无调试信息。
</dd>
<dt id="a101c121db" class="bold">
<a name="a101c121db"></a><span class="bold">1</span></dt>
<dd>  端口绑定和发送及接收的字节数。
</dd>
<dt id="a101c121dc" class="bold">
<a name="a101c121dc"></a><span class="bold">2</span></dt>
<dd>  级别 1 加上接受和发送信息包的十六进制转储。
</dd>
<dt id="a101c121dd" class="bold">
<a name="a101c121dd"></a><span class="bold">3</span></dt>
<dd>  级别 2 加上一个请求与响应信息包的英语版本。
</dd>
</dl> 
<a name="a101c121df"></a>
<p id="a101c121df">如果不指定 <span class="bold">-d</span> 标志，缺省调试级别为 0。</p></td>
</tr>
<tr>
<td>
<a id="wid1120sara" name="wid1120sara"></a><span class="bold">-h</span><span class="italic"> HostName</span></td>
<td>  指定要查询的 SNMP 代理的主机名。如果不指定 <span class="bold">-h</span> 标志，缺省的主机名就是用户当前登录的机器的主机名。</td>
</tr>
<tr>
<td>
<a id="lid160sara" name="lid160sara"></a><span class="bold">-m</span><span class="italic"> Option</span></td>
<td>  指定存取 MIB 变量的方式。
<a name="a267c126"></a>
<p id="a267c126"><span class="italic">Option</span> 值可为下列其中之一：</p> 
<dl>
<dt id="a101c121e0" class="bold">
<a name="a101c121e0"></a><span class="bold">get</span></dt>
<dd>  请求关于指定 MIB 变量的信息。
</dd>
<dt id="a101c121e1" class="bold">
<a name="a101c121e1"></a><span class="bold">next</span></dt>
<dd>  请求指定实例之后的实例。
</dd>
<dt id="a101c121e2" class="bold">
<a name="a101c121e2"></a><span class="bold">set</span></dt>
<dd>  修改指定的写访问 MIB 变量。
</dd>
<dt id="a101c121e3" class="bold">
<a name="a101c121e3"></a><span class="bold">dump</span></dt>
<dd>  转储 MIB 树的指定区域。
</dd>
</dl> 
<p></p><blockquote><span class="bold">注：</span>
<ol type="1">
<li id="a101c121e5">
<a name="a101c121e5"></a>选项名称可由使其唯一的最小字符数指定。</li>
<li id="a101c121e6">
<a name="a101c121e6"></a>如果不指定 <span class="bold">-m</span> 标志，缺省方式是 <span class="bold">get</span>。</li></ol></blockquote></td>
</tr>
<tr>
<td>
<a id="aid1sara" name="aid1sara"></a><span class="bold">-o</span><span class="italic"> ObjectsFile</span></td>
<td>  指定对象定义文件名，该文件定义了 <span class="bold">snmpinfo</span> 命令可以请求的 MIB 对象。如果不指定 <span class="bold">-o</span> 标志，缺省对象定义文件名是 <span class="bold">/etc/mib.defs</span>。关于创建该文件的更多信息，请参阅 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/mosy.htm#gyz350sara"><span class="bold">mosy</span></a> 命令。可以引用多个 <span class="italic">ObjectsFile</span>，限制条件为包含父定义的文件应当在包含子定义的文件前指定。</td>
</tr>
<tr>
<td>
<a id="cjd1300sara" name="cjd1300sara"></a><span class="bold">-t</span><span class="italic"> Tries</span></td>
<td>  指定终止（显示 <tt>no SNMP response</tt> 消息）前，<span class="bold">snmpinfo</span> 命令向 SNMP 代理发送 SNMP 请求的次数。如果不指定 <span class="bold">-t</span> 标志，缺省的尝试次数是 3。</td>
</tr>
<tr>
<td>
<a id="xjd11a0sara" name="xjd11a0sara"></a><span class="bold">-v</span></td>
<td>  指定以详细方式显示 <span class="bold">snmpinfo</span> 命令的输出。如果不指定 <span class="bold">-v</span> 标志，则不能以详细方式显示信息。</td>
</tr>
</tbody>
</table>
<a name="a101c121e7"></a>
<h3 id="a101c121e7">示例</h3>
<ol type="1">
<li><a name="a101c121e8"></a><span id="a101c121e8" class="pk"></span>要获取 MIB 变量 <tt>ifDescr.1</tt>（与 <tt>ifIndex.1</tt>相关的接口）以及 <tt>SysDescr</tt> 的值，请输入：
<p></p>
<a name="a101c121e9"></a>
<pre id="a101c121e9" class="xmp">snmpinfo -m get -v sysDescr.0 ifDescr.1</pre><p class="indatacontent"> 在本示例中，<span class="bold">-m get</span> 标志指定 <span class="bold">snmpinfo</span> 命令应当检索 MIB 变量 <tt>ifDescr.1</tt> （与 <tt>ifIndex.1 相关的接口描述）</tt>和 <tt>sysDescr.0</tt>（本地主机的系统描述）的值。</p></li>
<li><a name="a101c121eb"></a><span id="a101c121eb" class="pk"></span>要获取 <span class="bold">ipAdEntIfIndex</span> MIB 变量后面的 MIB 变量（来自 IP 地址 192.100.154.1 指定的主机）的值，请输入：
<p></p>
<a name="a101c121ec"></a>
<pre id="a101c121ec" class="xmp">snmpinfo -m next -v 1.3.6.1.2.1.4.20.1.2.192.100.154.1</pre><p class="indatacontent"> 在本示例中，<span class="bold">-m next</span> 标志指定 <span class="bold">snmpinfo</span> 命令应当检索 MIB 变量 <span class="bold">ifAdEntIfIndex</span><tt>.192.100.154.1 的有关信息。</tt></p></li>
<li><a name="a101c121ee"></a><span id="a101c121ee" class="pk"></span>要获取系统组中第一个 MIB 变量的值，请输入：
<p></p>
<a name="a101c121ef"></a>
<pre id="a101c121ef" class="xmp">snmpinfo -m next -v -h giants system</pre><p class="indatacontent"> 在本示例中，<span class="bold">-m next</span> 标志指定 <span class="bold">snmpinfo</span> 命令应当检索系统组（即 <tt>sysDescr.0</tt>）后的 MIB 变量信息；<span class="bold">-v</span> 标志指示详细方式；<span class="bold">-h</span> 标志指示要查询的代理程序是 <tt>giants</tt>；从中检索信息的组是 <tt>system</tt>。</p></li>
<li><a name="a101c121f1"></a><span id="a101c121f1" class="pk"></span>要设置 MIB 变量的值，请输入类似下列命令：
<p></p>
<a name="a101c121f2"></a>
<pre id="a101c121f2" class="xmp">snmpinfo -m set -v -h giants -c monitor -t 2 ifAdminStatus.1=2</pre><p class="indatacontent"> 在本示例中，MIB <span class="bold">ifAdminStatus</span> 变量（与已知的 <tt>giants</tt> 主机上的 <tt>ifIndex.1</tt> 相关的接口）设置为 2，或小于 2。<span class="bold">-c</span> 标志为主机指定团体。<span class="bold">-t</span><span class="bold"> 2</span> 标志指定在终止 <span class="bold">snmpinfo</span> 命令前，若没有从 SNMP 代理接收到响应，则向 SNMP 代理程序发送两次 SNMP 请求。</p></li>
<li><a name="a101c121f4"></a><span id="a101c121f4" class="pk"></span>要以详细方式转储 MIB 树的组，请输入类似下列命令：
<p></p>
<a name="a101c121f5"></a>
<pre id="a101c121f5" class="xmp">snmpinfo -m dump -v interfaces</pre><p class="indatacontent"> 在本示例中，<tt>interfaces</tt> 组以详细方式转储。</p></li>
<li><a name="a101c121f7"></a><span id="a101c121f7" class="pk"></span>要转储整个 MIB 树，请输入：
<p></p>
<a name="a101c121f8"></a>
<pre id="a101c121f8" class="xmp">snmpinfo -m dump</pre></li></ol>
<a name="a101c121fb"></a>
<h3 id="a101c121fb">文件</h3>
<p></p>
<a name="wq313"></a>
<table id="wq313" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="21%"><span class="bold">/etc/</span><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/mib.defs.htm#az4q3330sara"><span class="bold">mib.defs</span></a></td>
<td width="78%">  定义 SNMP 代理程序应当识别与处理的管理信息库（MIB）变量。</td>
</tr>
</tbody>
</table>
<a name="a101c12200"></a>
<h3 id="a101c12200">相关信息</h3>
<a name="f9fbe05838mart"></a>
<p id="f9fbe05838mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/mosy.htm#gyz350sara"><span class="bold">mosy</span></a> 命令。</p>
<a name="f9fbe05934mart"></a>
<p id="f9fbe05934mart"><span class="italic">AIX 5L Version 5.2 Communications Programming Concepts</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/progcomc/snmp.htm#vjf310ria">Understanding the Simple Network Management Protocol (SNMP)</a>、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/progcomc/mib_db.htm#lqm370ria">Using the Management Information Base (MIB) Database</a> 和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/progcomc/mib.htm#jkmb0ria">Understanding the Management Information Base (MIB)</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="snmpinfo.htm#Top_Of_Page">页的顶部</a> | <a href="snmpdv3.htm">上一页</a> | <a href="snmpmibd.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
