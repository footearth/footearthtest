<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - strchg 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="strchg 命令, strchg, STREAMS 命令, 更改, 配置,
STREAMS 工具" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="strchg.htm#Bot_Of_Page">页的底部</a> | <a href="strace.htm">上一页</a> | <a href="strclean.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="a156c154d"></a>
<h2 id="a156c154d">strchg 命令</h2>
<p><a id="idx261" name="idx261"></a> <a id="idx262" name="idx262"></a> <a id="idx263" name="idx263"></a></p>
<a name="a156c154e"></a>
<h3 id="a156c154e">用途</h3>
<a name="f9fc555860mart"></a>
<p id="f9fc555860mart">更改流配置。</p>
<a name="a156c1550"></a>
<h3 id="a156c1550">语法</h3>
<a name="wq597"></a>
<h4 id="wq597">要推动模块到流上：</h4>
<p><span class="bold">strchg</span>   <a href="strchg.htm#a156c1556"><span class="bold">-h</span></a> <span class="italic">Module1</span> [ <span class="bold">,</span> <span class="italic">Module2</span> ... ]</p>
<a name="a67146d760dan"></a>
<h4 id="a67146d760dan">要将模块从流上弹出：</h4>
<p><span class="bold">strchg</span>   <a href="strchg.htm#a156c1557"><span class="bold">-p</span></a>  [  <a href="strchg.htm#a156c1558"><span class="bold">-a</span></a> |   <a href="strchg.htm#a156c168b"><span class="bold">-u</span></a> <span class="italic">Module</span> ]</p>
<a name="a67146e684dan"></a>
<h4 id="a67146e684dan">要推动和弹出模块以符合配置文件：</h4>
<p><span class="bold">strchg</span>   <a href="strchg.htm#a156c168d"><span class="bold">-f</span> </a><span class="italic">File</span></p>
<a name="a156c1553"></a>
<h3 id="a156c1553">描述</h3>
<a name="f9fc556661mart"></a>
<p id="f9fc556661mart"><span class="bold">strchg</span> 命令是用来改变与用户的标准输入关联的流配置。
<span class="bold">strchg</span> 命令<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/progcomc/str_build.htm#jvg2280mari">推动模块</a>到流上，将模块从流上弹出，或者两者都进行。
只有 root 用户或 STREAMS 设备的所有者可以更改该流的配置。
如果另一位用户试图更改该配置，<span class="bold">strchg</span> 命令将失败。</p>
<p></p><blockquote><a name="a156c168a"></a><span id="a156c168a" class="pk"></span><span class="bold">注：</span>如果模块是以错误的顺序推动，则流可能不会按预期运行。</blockquote>
<a name="a156c1555"></a>
<h3 id="a156c1555">标志</h3>
<p></p>
<a name="wq598"></a>
<table id="wq598" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="16%">
<a id="a156c1558" name="a156c1558"></a><span class="bold">-a</span></td>
<td width="83%">  将顶端驱动程序上的所有模块从流上弹出。<span class="bold">-p</span> 标志必须在 <span class="bold">-a</span> 标志前使用。</td>
</tr>
<tr>
<td>
<a id="a156c168d" name="a156c168d"></a><span class="bold">-f</span><span class="italic"> File</span></td>
<td>  推动和弹出必要的模块以使流符合指定文件中给出的配置。

<a name="a156c168e"></a>
<p id="a156c168e"><span class="bold">-h</span>、<span class="bold">-p</span> 和 <span class="bold">-f</span> 标志是互斥的。</p></td>
</tr>
<tr>
<td>
<a id="a156c1556" name="a156c1556"></a><span class="bold">-h</span><span class="italic"> Module1</span></td>
<td>  将模块推动到流上。模块按照被推动的顺序排列在命令行中。</td>
</tr>
<tr>
<td>
<a id="a156c1557" name="a156c1557"></a><span class="bold">-p</span></td>
<td>  将模块从流上弹出。单独使用时，<span class="bold">-p</span> 标志将最顶端的模块从流上弹出。</td>
</tr>
<tr>
<td>
<a id="a156c168b" name="a156c168b"></a><span class="bold">-u</span><span class="italic"> Module</span></td>
<td>  将指定模块上的所有模块从流上弹出。<span class="bold">-p</span> 标志必须在 <span class="bold">-u</span> 标志前使用。
<a name="a156c168c"></a>
<p id="a156c168c"><span class="bold">-a</span> 和 <span class="bold">-u</span> 标志是互斥的。</p></td>
</tr>
</tbody>
</table>
<a name="a156c168f"></a>
<h3 id="a156c168f">参数</h3>
<p></p>
<a name="wq599"></a>
<table id="wq599" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="11%">
<a id="a156c1690" name="a156c1690"></a><span class="italic">Module1</span></td>
<td width="88%">  指定要推动到流上的模块。（由 <span class="bold">-h</span> 标志使用。）</td>
</tr>
<tr>
<td>
<a id="a156c1691" name="a156c1691"></a><span class="italic">Module</span></td>
<td>  指定保留在流上的顶端模块。将该模块上的所有模块从流上弹出。（由 <span class="bold">-u</span> 标志使用。）</td>
</tr>
<tr>
<td>
<a id="a156c1692" name="a156c1692"></a><span class="italic">File</span></td>
<td>  包含一个模块列表，它表示期望的流配置。
每个模块名必须出现在单独的行上，其中第一个模块名表示最顶端的模块，最后一个模块名表示离驱动程序最近的模块。</td>
</tr>
</tbody>
</table>
<a name="a156c169b"></a>
<h3 id="a156c169b">返回值</h3>
<a name="f9fc557732mart"></a>
<p id="f9fc557732mart">成功完成后，<span class="bold">strchg</span> 命令返回 0 值。否则，返回一个非 0 值并打印错误消息表示使用情况错误、模块名错误、要推动的模块太多、流上的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/libs/commtrf2/streamio.htm#kj330mari"><span class="bold">ioctl</span></a> 操作故障或未能打开 <span class="italic">File</span> 参数指定的文件。</p>
<a name="a156c1693"></a>
<h3 id="a156c1693">示例</h3>
<ol type="1">
<li><a name="a156c1694"></a><span id="a156c1694" class="pk"></span>要推动流上的 <tt>ldterm</tt>
模块，请输入：
<p></p>
<a name="a156c1695"></a>
<pre id="a156c1695" class="xmp">strchg -h ldterm</pre></li>
<li><a name="a156c1696"></a><span id="a156c1696" class="pk"></span>要把顶端模块从与 <tt>/dev/term/24</tt> 设备关联的流上弹出，请输入：

<p></p>
<a name="a156c1697"></a>
<pre id="a156c1697" class="xmp">strchg -p &lt; /dev/term/24</pre><p class="indatacontent"> 用户必须是该设备的所有者或 root 用户。</p></li>
<li><a name="a156c1698"></a><span id="a156c1698" class="pk"></span>如果 <tt>fileconf</tt> 文件
包含以下几项：
<p></p>
<a name="a156c1699"></a>
<pre id="a156c1699" class="xmp">compat
ldterm
ptem</pre><p class="indatacontent"> 则以下命令会配置流，以便将 <tt>ptem</tt> 模块推到驱动程序上，<tt>ldterm</tt> 模块跟随在该模块的后面，而 <tt>compat</tt> 模块被推到最靠近流头。
</p>
<a name="a157c1134"></a>
<pre id="a157c1134" class="xmp">strchg -f fileconf</pre></li></ol>
<a name="a156c1578"></a>
<h3 id="a156c1578">相关信息</h3>
<a name="f9fc558956mart"></a>
<p id="f9fc558956mart"><a href="strconf.htm#rhf91d0mari"><span class="bold">strconf</span></a> 命令。</p>
<a name="f9fc559051mart"></a>
<p id="f9fc559051mart"><span class="italic">AIX 5L Version 5.2 Communications Programming Concepts</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/mesghnd.htm#dod1210mari">List of Streams Commands</a> 和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/progcomc/ch10_streams.htm#gck160mari">STREAMS Overview</a>。</p>
<a name="f9fc559148mart"></a>
<p id="f9fc559148mart"><span class="italic">AIX 5L Version 5.2 Technical Reference: Communications Volume 2</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/libs/commtrf2/streamio.htm#kj330mari"><span class="bold">streamio</span></a> 操作。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="strchg.htm#Top_Of_Page">页的顶部</a> | <a href="strace.htm">上一页</a> | <a href="strclean.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
