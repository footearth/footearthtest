<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - sa 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="sa 命令, 使用 sa 命令, 总结记录, 记帐系统" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="sa.htm#Bot_Of_Page">页的底部</a> | <a href="Chapter_toc.htm">上一页</a> | <a href="sa1.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="a345f9432"></a>
<h2 id="a345f9432">sa 命令</h2>
<p><a id="idx1" name="idx1"></a></p>
<a name="a345f9434"></a>
<h3 id="a345f9434">用途</h3>
<a name="f9faa43002mart"></a>
<p id="f9faa43002mart">总结记帐记录。<a id="idx2" name="idx2"></a></p>
<a name="a345f9436"></a>
<h3 id="a345f9436">语法</h3>
<p><span class="bold">/usr/sbin/sa&nbsp;</span>[&nbsp; <a href="sa.htm#mp111e0frit"><span class="bold">-a&nbsp;</span></a>] [&nbsp; <a href="sa.htm#a345f9738"><span class="bold">-b&nbsp;</span></a>] [&nbsp; <a href="sa.htm#a345f9739"><span class="bold">-c&nbsp;</span></a>]
[  <a href="sa.htm#a05a60b634mike"><span class="bold">-C</span> </a>][&nbsp; <a href="sa.htm#a345f973a"><span class="bold">-d&nbsp;</span></a>] [&nbsp; <a href="sa.htm#a345f973b"><span class="bold">-D&nbsp;</span></a>] [  <a href="sa.htm#a345f973d"><span class="bold">-i&nbsp;</span></a>]
[&nbsp; <a href="sa.htm#a345f973e"><span class="bold">-j&nbsp;</span></a>]  [&nbsp; <a href="sa.htm#mq11320frit"><span class="bold">-k&nbsp;</span></a>] [&nbsp; <a href="sa.htm#a345f973f"><span class="bold">-K&nbsp;</span></a>] [&nbsp; <a href="sa.htm#a345f9740"><span class="bold">-l&nbsp;</span></a>] [&nbsp; <a href="sa.htm#a345f9741"><span class="bold">-m</span></a>]
[&nbsp; <a href="sa.htm#a345f9742"><span class="bold">-n&nbsp;</span></a>] [&nbsp; <a href="sa.htm#a345f9743"><span class="bold">-r&nbsp;</span></a>] [&nbsp; <a href="sa.htm#a345f9744"><span class="bold">-s&nbsp;</span></a>] [&nbsp; <a href="sa.htm#a345f9745"><span class="bold">-t&nbsp;</span></a>]  [&nbsp; <a href="sa.htm#a345f9746"><span class="bold">-u&nbsp;</span></a>] [&nbsp; <a href="sa.htm#a345f943b"><span class="bold">-v</span></a><span class="italic">Number&nbsp;</span>[&nbsp; <a href="sa.htm#a345f973c"><span class="bold">-f&nbsp;</span></a>]
] [&nbsp; <a href="sa.htm#nn1140frit"><span class="bold">-S</span></a><span class="italic">SaveFile&nbsp;</span>] [&nbsp; <a href="sa.htm#uo11e0frit"><span class="bold">-U</span></a><span class="italic">UserFile&nbsp;</span>] [&nbsp;<span class="italic">File&nbsp;</span>...
]</p>
<a name="a345f9438"></a>
<h3 id="a345f9438">描述</h3>
<a name="f9faa43384mart"></a>
<p id="f9faa43384mart"><span class="bold">sa</span> 命令对收集原始记帐数据的文件中的信息进行总结，该文件是 <span class="bold">/var/adm/pacct</span> 文件，或是由 <span class="italic">File</span> 参数指定的文件，然后将使用情况摘要报告写入 <span class="bold">/var/adm/savacct</span> 文件。接着，<span class="bold">sa</span> 命令删除
 <span class="bold">/var/adm/pacct</span> 文件中的数据，以便收集新的
记帐信息。下次执行 <span class="bold">sa</span> 命令时，它读取使用情况摘要和新的数据，并将所有信息都合并到报告中。</p>
<a name="f9faa43480mart"></a>
<p id="f9faa43480mart">与 <span class="bold">sa</span> 命令一起使用的标志
改变报告信息的类型。报告可以包含以下字段：</p>
<a name="wq4"></a>
<table id="wq4" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="8%">
<a id="a345f9730" name="a345f9730"></a><tt>avio</tt><span class="bold"></span></td>
<td width="91%">  表示每次执行的平均 I/O 操作数。</td>
</tr>
<tr>
<td>
<a id="a345f9731" name="a345f9731"></a><tt>cpu</tt><span class="bold"></span></td>
<td>  表示用户和系统时间（以分钟计）之和。</td>
</tr>
<tr>
<td>
<a id="a345f9732" name="a345f9732"></a><tt>k</tt><span class="bold"></span></td>
<td>  表示每次执行的 CPU 时间的平均千字节块数。</td>
</tr>
<tr>
<td>
<a id="a345f9733" name="a345f9733"></a><tt>k*sec</tt><span class="bold"></span></td>
<td>  表示 CPU 存储量整数，单位为千核心秒。</td>
</tr>
<tr>
<td>
<a id="a345f9734" name="a345f9734"></a><tt>re</tt><span class="bold"></span></td>
<td>  表示实时的分钟数。</td>
</tr>
<tr>
<td>
<a id="a345f9735" name="a345f9735"></a><tt>s</tt><span class="bold"></span></td>
<td>  表示系统 CPU 时间的分钟数。</td>
</tr>
<tr>
<td>
<a id="a345f9736" name="a345f9736"></a><tt>tio</tt><span class="bold"></span></td>
<td>  表示总的 I/O 操作数。</td>
</tr>
<tr>
<td>
<a id="a345f9737" name="a345f9737"></a><tt>u</tt><span class="bold"></span></td>
<td>  表示用户 CPU 时间的分钟数。</td>
</tr>
</tbody>
</table>
<a name="f9faa44177mart"></a>
<p id="f9faa44177mart">如果不指定任何标志而运行 <span class="bold">sa</span> 命令，摘要报告将包含每个命令的调用次数，以及 <tt>re</tt>、<tt>cpu</tt>、<tt>avio</tt> 和 <tt>k</tt> 字段。</p>
<p></p><blockquote><a name="d80e77f167jani"></a><span id="d80e77f167jani" class="pk"></span><span class="bold">注：</span><span class="bold">-b</span>、<span class="bold">-d</span>、<span class="bold">-D</span>、<span class="bold">-k</span>、<span class="bold">-K</span> 和 <span class="bold">-n</span> 标志确定如何进行输出分类。
如果在命令行中指定了不止一个这些标志，则只有最后指定的那个标志生效。</blockquote>
<a name="f9faa44421mart"></a>
<p id="f9faa44421mart">在此基本操作系统发行版下创建的摘要文件以支持大型用户标识（8 个字符或更长）的格式保存。在前发行版下创建的摘要文件可能为旧格式，它只支持最多 7 个字符的用户标识。
<span class="bold">sa</span> 命令可识别和支持摘要文件的以上两种格式。
如果需要将旧格式的摘要文件转换为新格式，可使用 <a href="sa.htm#a05a60b634mike"><span class="bold">-C</span></a> 标志代替 <span class="bold">-s</span> 标志。只需进行一次转换。
转换后，既可使用 <span class="bold">-s</span> 标志，也可使用 <span class="bold">-C</span> 标志。</p>
<a name="a345f943a"></a>
<h3 id="a345f943a">标志</h3>
<p></p>
<a name="wq5"></a>
<table id="wq5" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="18%">
<a id="mp111e0frit" name="mp111e0frit"></a><span class="bold">-a</span></td>
<td width="81%">  打印所有命令的名称（包括那些带有不可打印字符的）。
将用过一次的命令放在 <tt>other</tt> 类别中。</td>
</tr>
<tr>
<td>
<a id="a345f9738" name="a345f9738"></a><span class="bold">-b</span></td>
<td>  将输出按用户和系统时间的总和除以调用次数来进行分类。
否则，输出为用户时间和系统时间的之和。</td>
</tr>
<tr>
<td>
<a id="a345f9739" name="a345f9739"></a><span class="bold">-c</span></td>
<td>  将每个命令使用时间打印为相对于所有命令使用时间的百分比。
此外，还有用户、系统和实时。</td>
</tr>
<tr>
<td>
<a id="a05a60b634mike" name="a05a60b634mike"></a><span class="bold">-C</span></td>
<td>  将记帐文件合并到摘要文件中。如果摘要文件为旧格式，则将它转换为新格式。</td>
</tr>
<tr>
<td>
<a id="a345f973a" name="a345f973a"></a><span class="bold">-d</span></td>
<td>  将输出按平均磁盘 I/O 操作数进行分类。</td>
</tr>
<tr>
<td>
<a id="a345f973b" name="a345f973b"></a><span class="bold">-D</span></td>
<td>  将输出按总的磁盘 I/O 操作数进行分类和打印。</td>
</tr>
<tr>
<td>
<a id="a345f973c" name="a345f973c"></a><span class="bold">-f</span></td>
<td>  不要强制进行交互式阈值压缩。此标志必须与 <span class="bold">-v</span> 标志一起使用。</td>
</tr>
<tr>
<td>
<a id="a345f973d" name="a345f973d"></a><span class="bold">-i</span></td>
<td>  仅读取原始数据，不读取摘要文件。</td>
</tr>
<tr>
<td>
<a id="a345f973e" name="a345f973e"></a><span class="bold">-j</span></td>
<td>  打印每个调用的秒数，而不是每个类别的总的分钟。</td>
</tr>
<tr>
<td>
<a id="mq11320frit" name="mq11320frit"></a><span class="bold">-k</span></td>
<td>  将输出按平均 CPU 时间进行分类。</td>
</tr>
<tr>
<td>
<a id="a345f973f" name="a345f973f"></a><span class="bold">-K</span></td>
<td>  将输出按 CPU 存储量整数进行分类和打印。</td>
</tr>
<tr>
<td>
<a id="a345f9740" name="a345f9740"></a><span class="bold">-l</span></td>
<td>  将系统时间和用户时间分离，而不是组合它们。</td>
</tr>
<tr>
<td>
<a id="a345f9741" name="a345f9741"></a><span class="bold">-m</span></td>
<td>  打印每个用户的进程数和 CPU 分钟数。</td>
</tr>
<tr>
<td>
<a id="a345f9742" name="a345f9742"></a><span class="bold">-n</span></td>
<td>  按调用数对输出进行分类。</td>
</tr>
<tr>
<td>
<a id="a345f9743" name="a345f9743"></a><span class="bold">-r</span></td>
<td>  将分类的顺序倒置。</td>
</tr>
<tr>
<td>
<a id="a345f9744" name="a345f9744"></a><span class="bold">-s</span></td>
<td>  将记帐文件合并到摘要文件中。</td>
</tr>
<tr>
<td>
<a id="nn1140frit" name="nn1140frit"></a><span class="bold">-S</span><span class="italic"> SaveFile</span><span class="bold"></span></td>
<td>  使用指定的已保存文件作为命令摘要文件，而不是 <span class="bold">/var/adm/savacct</span> 文件。</td>
</tr>
<tr>
<td>
<a id="a345f9745" name="a345f9745"></a><span class="bold">-t</span></td>
<td>  打印每个命令实时与用户和系统时间和之比。</td>
</tr>
<tr>
<td>
<a id="a345f9746" name="a345f9746"></a><span class="bold">-u</span></td>
<td>  暂挂所有其它标志并且打印每个命令的用户数字标识和命令名。</td>
</tr>
<tr>
<td>
<a id="uo11e0frit" name="uo11e0frit"></a><span class="bold">-U</span><span class="italic"> UserFile</span><span class="bold"></span></td>
<td>  使用指定文件代替 <span class="bold">/var/adm/usracct</span> 文件来积累由 <span class="bold">-m</span> 标志打印的每个用户的统计信息。</td>
</tr>
<tr>
<td>
<a id="a345f943b" name="a345f943b"></a><span class="bold">-v</span><span class="italic"> Number</span><span class="bold"></span></td>
<td>  输入使用了指定次数或少于指定次数的每个命令的名称。
当查询时，如果输入 <tt>y</tt>（是），则将命令添加到 <tt>junk</tt> 类别中，并让它作为此类别的一部分显示在将来的摘要中。</td>
</tr>
</tbody>
</table>
<a name="a345f943e"></a>
<h3 id="a345f943e">示例</h3>
<ol type="1">
<li><a name="a345f943f"></a><span id="a345f943f" class="pk"></span>要对 <span class="bold">/var/adm/pacct</span> 文件中的所有命令进行记帐记录总结，输入：
<a id="a345f9440" name="a345f9440"></a>
<div class="lines"><tt>sa&nbsp; <a href="sa.htm#mp111e0frit">-a</a></tt><br />
</div> 将仅用过一次的命令放在 <tt>other</tt> 字段下。</li>
<li><a name="a345f9442"></a><span id="a345f9442" class="pk"></span>要按平均 CPU 时间进行记帐记录总结，输入：

<a id="a345f9443" name="a345f9443"></a>
<div class="lines"><tt>sa&nbsp;&nbsp;<a href="sa.htm#mq11320frit">-k</a></tt><br />
</div></li></ol>
<a name="a345f944a"></a>
<h3 id="a345f944a">文件</h3>
<p></p>
<a name="wq7"></a>
<table id="wq7" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="26%">
<a id="a345f944b" name="a345f944b"></a><span class="bold">/usr/sbin/sa</span></td>
<td width="73%">  包含 <span class="bold">sa</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a210c1ad" name="a210c1ad"></a><span class="bold">/etc/sa</span></td>
<td>  包含至 <span class="bold">sa</span> 命令的符号链接。</td>
</tr>
<tr>
<td>
<a id="a345f944c" name="a345f944c"></a><span class="bold">/var/adm/pacct</span></td>
<td>  包含原始记帐记录。</td>
</tr>
<tr>
<td>
<a id="a345f9747" name="a345f9747"></a><span class="bold">/var/adm/savacct</span></td>
<td>  包含记帐记录摘要。</td>
</tr>
<tr>
<td>
<a id="a345f9748" name="a345f9748"></a><span class="bold">/var/adm/usracct</span></td>
<td>  包含用户记录的记帐摘要。</td>
</tr>
</tbody>
</table>
<a name="a345f944d"></a>
<h3 id="a345f944d">相关信息</h3>
<a name="f9faa47571mart"></a>
<p id="f9faa47571mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds1/acctcms.htm"><span class="bold">acctcms</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds1/acctcom.htm"><span class="bold">acctcom</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds1/acctcon1.htm"><span class="bold">acctcon1</span></a> 或 <span class="bold">acctcon2</span> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds1/acctmerg.htm"><span class="bold">acctmerg</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds1/acctprc1.htm"><span class="bold">acctprc1</span></a>、<span class="bold">acctprc2</span> 或 <span class="bold">accton</span> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds2/fwtmp.htm"><span class="bold">fwtmp</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds4/runacct.htm"><span class="bold">runacct</span></a> 命令。</p>
<a name="f9faa47402mart"></a>
<p id="f9faa47402mart">有关“记帐系统”、每日和每月报告的准备以及记帐文件的更多信息，请参阅 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/admnconc/acct_overview.htm#a346f9497">Accounting Overview</a>。</p>
<a name="f9faa47668mart"></a>
<p id="f9faa47668mart"><span class="italic">《AIX 5L V5.2 系统管理指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/baseadmn/sys_acctg.htm#a290915">『设置记帐系统』</a>描述建立记帐系统必须采取的步骤。</p>
<a name="f9faa47767mart"></a>
<p id="f9faa47767mart">要获取有关<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/admnconc/acct_overview.htm#a349f922c">自动</a>运行或从<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/admnconc/acct_overview.htm#a347f9d0">键盘</a>输入的记帐命令列表，请参阅 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/admnconc/acct_overview.htm#a256b95f0">Accounting Commands</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="sa.htm#Top_Of_Page">页的顶部</a> | <a href="Chapter_toc.htm">上一页</a> | <a href="sa1.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
