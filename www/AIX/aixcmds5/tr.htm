<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - tr 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="tr 命令, tr, 命令, 使用 tr 命令, 转换, 字符" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="tr.htm#Bot_Of_Page">页的底部</a> | <a href="tput.htm">上一页</a> | <a href="trace.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="a0939bb"></a>
<h2 id="a0939bb">tr 命令</h2>
<p><a id="idx489" name="idx489"></a><a id="idx490" name="idx490"></a></p>
<a name="a0939bc"></a>
<h3 id="a0939bc">用途</h3>
<a name="a39c3afe529janb"></a>
<p id="a39c3afe529janb">转换字符。<a id="idx491" name="idx491"></a><a id="idx492" name="idx492"></a></p>
<a name="a0939be"></a>
<h3 id="a0939be">语法</h3>
<p><span class="bold">tr</span> [&nbsp; <a href="tr.htm#a191c11aa"><span class="bold">-c</span></a>&nbsp;|&nbsp;<span class="bold">-cds&nbsp;</span>|&nbsp;<span class="bold">-cs</span> | <a href="tr.htm#a191c11a10"><span class="bold">-C</span></a>&nbsp;|&nbsp;<span class="bold">-Cds</span>&nbsp;|&nbsp;<span class="bold">-Cs</span>&nbsp;|&nbsp;<span class="bold">-ds</span>&nbsp;|&nbsp; <a href="tr.htm#a191c11ac"><span class="bold">-s&nbsp;</span></a>]
[&nbsp; <a href="tr.htm#a191c11a9"><span class="bold">-A&nbsp;</span></a>]  <a href="tr.htm#a191c11ad"><span class="italic">String1</span></a>  <a href="tr.htm#a191c11ae"><span class="italic">String2</span></a></p>
<p><span class="bold">tr</span> { <span class="bold">-cd&nbsp;</span>|&nbsp;<span class="bold">-cs&nbsp;</span>|<a href="tr.htm#a191c11a10"><span class="bold">&nbsp;-Cd</span></a>&nbsp;|&nbsp;<span class="bold">-Cs</span>&nbsp;|&nbsp; <a href="tr.htm#a191c11ab"><span class="bold">-d&nbsp;</span></a>|&nbsp; <a href="tr.htm#a191c11ac"><span class="bold">-s&nbsp;</span></a>} [&nbsp; <a href="tr.htm#a191c11a9"><span class="bold">-A&nbsp;</span></a>]  <a href="tr.htm#a191c11ad"><span class="italic">String1</span></a></p>
<a name="a0939bf"></a>
<h3 id="a0939bf">描述</h3>
<a name="a39c3afe577janb"></a>
<p id="a39c3afe577janb"><span class="bold">tr</span> 命令从标准输入删除或替换字符，并将结果写入标准输出。根据由 <span class="italic">String1</span> 和 <span class="italic">String2</span> 变量指定的字符串以及指定的标志，<span class="bold">tr</span> 命令可执行三种操作。</p>
<a name="a191c1187"></a>
<h4 id="a191c1187">转换字符</h4>
<a name="a39c3afe619janb"></a>
<p id="a39c3afe619janb">如果 <span class="italic">String1</span> 和 <span class="italic">String2</span> 两者都已指定，
但 <span class="bold">-d</span> 标志没有指定，则 <span class="bold">tr</span> 命令就会从标准输入中将 <span class="italic">String1</span> 中所包含的每一个字符都替换成 <span class="italic">String2</span> 中相同位置上的字符。</p>
<a name="a191c1189"></a>
<h4 id="a191c1189">使用 -d 标志删除字符</h4>
<a name="a39c3afe641janb"></a>
<p id="a39c3afe641janb">如果 <span class="bold">-d</span> 标志已经指定，则 <span class="bold">tr</span> 命令就会从标准输入中删除 <span class="italic">String1</span> 中包含的每一个字符。</p>
<a name="a191c118b"></a>
<h4 id="a191c118b">用 -s 标志除去序列</h4>
<a name="a39c3afe666janb"></a>
<p id="a39c3afe666janb">如果 <span class="bold">-s</span> 标志已经指定，则 <span class="bold">tr</span> 命令就会除去包含在 <span class="italic">String1</span> 或 <span class="italic">String2</span> 中的任何字符串系列中的除第一个字符以外的所有字符。对于包含在 <span class="italic">String1</span> 中的每一个字符，<span class="bold">tr</span> 命令会从标准输出中除去除第一个出现的字符以外的所有字符。对于包含在 <span class="italic">String2</span> 中的每一个字符，<span class="bold">tr</span> 命令除去标准输出的字符序列中除第一个出现的字符以外的所有字符。</p>
<a name="a191c1192"></a>
<h4 id="a191c1192">表达字符串的特殊序列</h4>
<a name="a39c3afe682janb"></a>
<p id="a39c3afe682janb"><span class="italic">String1</span> 和 <span class="italic">String2</span> 变量中所包含的字符串可以使用以下的约定来表示：</p>
<a name="wq1084"></a>
<table id="wq1084" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="28%">
<a id="a0939c3" name="a0939c3"></a><span class="italic">C1</span><span class="bold">-</span><span class="italic">C2</span></td>
<td width="71%">  指定了 <span class="italic">C1</span> 所指定的字符和 <span class="italic">C2</span> 所指定的字符之间（包括 C1 和 C2）进行整理的字符串。<span class="italic">C1</span> 所指定的字符必须整理放在由 <span class="italic">C2</span> 所指定的字符之前。
<a name="wq1085"></a>
<div class="notetitle" id="wq1085">注:</div>
<div class="notebody">在使用本方法指定子范围时，当前语言环境对结果有重要影响。如果需要用命令来产生与语言环境无关的一致结果，则应该避免使用子范围。</div></td>
</tr>
<tr>
<td>
<a id="a0939c4" name="a0939c4"></a><span class="bold">[</span><span class="italic">C</span><span class="bold">*</span><span class="italic">Number</span><span class="bold">]</span></td>
<td>  <span class="italic">Number</span> 是一个整数，它指定了由 <span class="italic">C</span> 所指定的字符的重复次数。除非其首位数字是 0，否则 <span class="italic">Number</span> 一律视为是十进制整数；如果首位数字是 0，则视为八进制整数。</td>
</tr>
<tr>
<td>
<a id="a191c1194" name="a191c1194"></a><span class="bold">[</span><span class="italic">C</span><span class="bold">*]</span></td>
<td>  用 <span class="italic">C</span> 指定的字符填写字符串。该选项只用于包含在 <span class="italic">String2</span> 中的字符串末尾，它强制 <span class="italic">String2</span> 中的字符串具有与由 <span class="italic">String1</span> 变量所指定的字符串一样的字符数。<span class="bold">*</span>（星号）后面指定的任何字符都被忽略。</td>
</tr>
<tr>
<td>
<a id="a0939b3" name="a0939b3"></a><span class="bold">[</span><span class="bold"> :</span><span class="italic">ClassName</span><span class="bold">: ]</span></td>
<td>指定由当前语言环境中的 <span class="italic">ClassName</span> 所命名的字符类中的所有字符。类名可以是下述名称中的任何一种：
<p></p>
<a name="a191c1195"></a>
<pre id="a191c1195" class="xmp">alnum      lower
alpha      print
blank      punct
cntrl      space
digit      upper
graph      xdigit</pre>
<p>除 <span class="bold">[:</span><tt class="xph">lower</tt><span class="bold">:]</span> 和 <span class="bold">[:</span><tt class="xph">upper</tt><span class="bold">:]</span> 转换字符类之外，其它字符类指定的字符都按未指定的顺序放入数组中。
由于未定义字符类指定的字符的顺序，仅当目的为将多个字符映射为一个时才使用这些字符。转换字符类除外。</p>
<a name="a39c3afe710janb"></a>
<p id="a39c3afe710janb">有关字符类的详细情况，请参阅 <span class="bold">ctype</span> 子例程。</p></td>
</tr>
<tr>
<td>
<a id="a191c119c" name="a191c119c"></a><span class="bold">[ =</span><span class="italic">C</span><span class="bold">= ]</span></td>
<td>  指定所有的字符具有与 <span class="italic">C</span> 所指定的字符相同的等价类。</td>
</tr>
<tr>
<td>
<a id="a191c119d" name="a191c119d"></a><span class="bold">\</span><span class="italic">Octal</span></td>
<td>  指定字符，其编码由 <span class="italic">Octal</span> 所指定的八进制值表示。<span class="italic">Octal</span> 可以是 1 位、2 位 或 3 位八进制整数。空字符可以用 <tt>'\0'</tt> 表示，并可以像任何其它的字符那样进行处理。</td>
</tr>
<tr>
<td>
<a id="a191c119e" name="a191c119e"></a><span class="bold">\</span><span class="italic">ControlCharacter</span></td>
<td>  指定与 <span class="italic">ControlCharacter</span> 所指定的值相应的控制字符。可以表示以下值：
<dl>
<dt id="a191c119f" class="bold">
<a name="a191c119f"></a><span class="bold">\a</span></dt>
<dd>  警告
</dd>
<dt id="a191c11a0" class="bold">
<a name="a191c11a0"></a><span class="bold">\b</span></dt>
<dd>  退格键
</dd>
<dt id="a191c11a1" class="bold">
<a name="a191c11a1"></a><span class="bold">\f</span></dt>
<dd>  换页
</dd>
<dt id="a191c11a2" class="bold">
<a name="a191c11a2"></a><span class="bold">\n</span></dt>
<dd>  换行
</dd>
<dt id="a191c11a3" class="bold">
<a name="a191c11a3"></a><span class="bold">\r</span></dt>
<dd>  回车
</dd>
<dt id="a191c11a4" class="bold">
<a name="a191c11a4"></a><span class="bold">\t</span></dt>
<dd>  制表键
</dd>
<dt id="a191c11a5" class="bold">
<a name="a191c11a5"></a><span class="bold">\v</span></dt>
<dd>  垂直制表键
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a191c11a6" name="a191c11a6"></a><span class="bold">\\</span></td>
<td>  规定 "\"（反斜杠）就是作反斜杠使用，而无作为转义字符的任何特殊意义。</td>
</tr>
<tr>
<td>
<a id="a191c11a7" name="a191c11a7"></a><span class="bold">\[</span></td>
<td>  指定“[”（左括号）就作为左括号使用，而无作为特定字符串序列的开始字符的任何特殊意义。</td>
</tr>
<tr>
<td>
<a id="a192c18b" name="a192c18b"></a><span class="bold">\-</span></td>
<td>  指定“-”（负号）就作为负号使用，而无作为范围分隔符的任何特殊意义。</td>
</tr>
</tbody>
</table>
<a name="a39c3afe759janb"></a>
<p id="a39c3afe759janb">如果某个字符在 <span class="italic">String1</span> 中被指定过多次，则该字符就被转换成 <span class="italic">String2</span> 中为与 <span class="italic">String1</span> 中最后出现的字符相对应的字符。</p>
<a name="a39c3afe780janb"></a>
<p id="a39c3afe780janb">如果由 <span class="italic">String1</span> 和 <span class="italic">String2</span> 指定的字符串长度不相同，则 <span class="bold">tr</span> 命令就会忽略较长一个字符串中的多余字符。</p>
<a name="a0939cc"></a>
<h3 id="a0939cc">标志</h3>
<p></p>
<a name="wq1086"></a>
<table id="wq1086" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="11%">
<a id="a191c11a9" name="a191c11a9"></a><span class="bold">-A</span></td>
<td width="88%">  使用范围和字符类 ASCII 整理顺序、一个字节一个字节地执行所有操作，而不是使用当前语言环境整理顺序。</td>
</tr>
<tr>
<td>
<a id="a191c11a10" name="a191c11a10"></a><span class="bold">-C</span></td>
<td> 指定 <span class="italic">String1</span> 值用 <span class="italic">String1</span> 所指定的字符串的<span class="italic">补码</span>替换。<span class="italic">String1</span> 的补码是当前语言环境的字符集中的所有字符，<span class="italic">除了</span>由 <span class="italic">String1</span> 指定的字符以外。如果指定了 <span class="bold">-A</span> 和 <span class="bold">-c</span> 标志都已指定，则与所有 8 位字符代码集合有关的字符将被补足。如果指定了 <span class="bold">-c</span> 和 <span class="bold">-s</span> 标志，则 <span class="bold">-s</span> 标志适用于 <span class="italic">String1</span> 的补码中的字符。
<p>如果没有指定 <span class="bold">-d</span> 选项，则由 <span class="italic">String1</span> 指定的字符的补码将放置到升序排列的数组中（如 <span class="bold">LC_COLLATE</span> 的当前设置所定义）。</p></td>
</tr>
<tr>
<td>
<a id="a191c11aa" name="a191c11aa"></a><span class="bold">-c</span></td>
<td>  指定 <span class="italic">String1</span> 值用 <span class="italic">String1</span> 所指定的字符串的<span class="italic">补码</span>替换。<span class="italic">String1</span> 的补码是当前语言环境的字符集中的所有字符，<span class="italic">除了</span>由 <span class="italic">String1</span> 指定的字符以外。如果指定了 <span class="bold">-A</span> 和 <span class="bold">-c</span> 标志都已指定，则与所有 8 位字符代码集合有关的字符将被补足。如果指定了 <span class="bold">-c</span> 和 <span class="bold">-s</span> 标志，则 <span class="bold">-s</span> 标志适用于 <span class="italic">String1</span> 的补码中的字符。
<p>如果没有指定 <span class="bold">-d</span> 选项，则由 <span class="italic">String1</span> 指定的值的补码将放置到通过二进制值升序排列的数组中。</p></td>
</tr>
<tr>
<td>
<a id="a191c11ab" name="a191c11ab"></a><span class="bold">-d</span></td>
<td>  从标准输入删除包含在由 <span class="italic">String1</span> 指定的字符串中的每个字符。
<a name="wq1087"></a>
<div class="notelisttitle" id="wq1087">注:</div>
<ol type="1">
<li>当 <span class="bold">-C</span> 选项和 <span class="bold">-d</span> 选项一起指定时，将删除所有除 <span class="italic">String1</span> 指定的那些字符以外的字符。忽略 <span class="italic">String2</span> 的内容，除非也指定了 <span class="bold">-s</span> 选项。</li>
<li>当 <span class="bold">-c</span> 选项和 <span class="bold">-d</span> 选项一起指定时，将删除所有除 <span class="italic">String1</span> 指定的那些字符以外的字符。忽略 <span class="italic">String2</span> 的内容，除非也指定了 <span class="bold">-s</span> 选项。</li>
</ol></td>
</tr>
<tr>
<td>
<a id="a191c11ac" name="a191c11ac"></a><span class="bold">-s</span></td>
<td>  在重复字符序列中除去除第一个字符以外的所有字符。将 <span class="italic">String1</span> 所指定的字符序列在转换之前从标准输入中除去，
并将 <span class="italic">String2</span> 所指定的字符序列从标准输出中除去。</td>
</tr>
<tr>
<td>
<a id="a191c11ad" name="a191c11ad"></a><span class="italic">String1</span></td>
<td>  指定一个字符串。</td>
</tr>
<tr>
<td>
<a id="a191c11ae" name="a191c11ae"></a><span class="italic">String2</span></td>
<td>  指定一个字符串。</td>
</tr>
</tbody>
</table>
<a name="c3dbda0541sall"></a>
<h3 id="c3dbda0541sall">退出状态</h3>
<a name="a39c3afe821janb"></a>
<p id="a39c3afe821janb">该命令返回以下出口值：</p>
<a name="wq1089"></a>
<table id="wq1089" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="c3dbda0740sall" name="c3dbda0740sall"></a><span class="bold">0</span></td>
<td width="95%">  所有输入处理成功。</td>
</tr>
<tr>
<td>
<a id="c3dbda0827sall" name="c3dbda0827sall"></a><span class="bold">>0</span></td>
<td>  产生错误。</td>
</tr>
</tbody>
</table>
<a name="a0939d2"></a>
<h3 id="a0939d2">示例</h3>
<ol type="1">
<li><a name="a0939d3"></a><span id="a0939d3" class="pk"></span>若要将大括号转换为小括号，请输入：
<p></p>
<a name="a0939d4"></a>
<pre id="a0939d4" class="xmp">tr&nbsp;'{}'&nbsp;'()'&nbsp;&lt;&nbsp;textfile&nbsp;>&nbsp;newfile</pre><p class="indatacontent"> 这便将每个 <tt>{</tt>（左大括号）转换成 <tt>(</tt>（左小括号），并将每个  <tt>}</tt>（右大括号）转换成 <tt>)</tt>（右小括号）。所有其它的字符都保持不变。</p></li>
<li><a name="a191c11af"></a><span id="a191c11af" class="pk"></span>若要将大括号转换成方括号，请输入：
<p></p>
<a name="a191c11b0"></a>
<pre id="a191c11b0" class="xmp">tr&nbsp;'{}'&nbsp;'\[]'&nbsp;&lt;&nbsp;textfile&nbsp;>&nbsp;newfile</pre><p class="indatacontent"> 这便将每个 <tt>{</tt>（左大括号）转换成 <tt>[</tt>（左方括号），并将每个 <tt>}</tt>（右大括号）转换成 <tt>]</tt>（右方括号）。左方括号必须与一个 "\"（反斜扛）转义字符一起输入。</p></li>
<li><a name="a0939d6"></a><span id="a0939d6" class="pk"></span>若要将小写字符转换成大写，请输入：
<p></p>
<a name="a86c11042"></a>
<pre id="a86c11042" class="xmp">tr&nbsp;'a-z'&nbsp;'A-Z'&nbsp;&lt;&nbsp;textfile&nbsp;>&nbsp;newfile</pre></li>
<li><a name="a0939b8"></a><span id="a0939b8" class="pk"></span>若要创建一个文件中的单词列表，请输入：
<p></p>
<a name="a0939b4"></a>
<pre id="a0939b4" class="xmp">tr&nbsp;-cs&nbsp;'[:lower:][:upper:]'&nbsp;'[\n*]'&nbsp;&lt;&nbsp;textfile&nbsp;>&nbsp;newfile</pre><p class="indatacontent"> 这便将每一序列的字符（除大、小写字母外）都转换成单个换行符。<tt>*</tt>（星号）可以使 <span class="bold">tr</span> 命令重复换行符足够多次以使第二个字符串与第一个字符串一样长。</p></li>
<li><a name="a0939df"></a><span id="a0939df" class="pk"></span>若要从某个文件中删除所有空字符，请输入：
<p></p>
<a name="a0939e0"></a>
<pre id="a0939e0" class="xmp">tr&nbsp;-d&nbsp;'\0'&nbsp;&lt;&nbsp;textfile&nbsp;>&nbsp;newfile</pre></li>
<li><a name="a206c151"></a><span id="a206c151" class="pk"></span>若要用单独的换行替换每一序列的一个或多个换行，请输入：
<p></p>
<a name="a0939e2"></a>
<pre id="a0939e2" class="xmp">tr&nbsp;-s&nbsp;'\n'&nbsp;&lt;&nbsp;textfile&nbsp;>&nbsp;newfile</pre><p class="indatacontent"> 或 </p>
<a name="a142924f"></a>
<pre id="a142924f" class="xmp">tr&nbsp;-s&nbsp;'\012'&nbsp;&lt;&nbsp;textfile&nbsp;>&nbsp;newfile</pre></li>
<li><a name="a0939e7"></a><span id="a0939e7" class="pk"></span>若要以“？”（问号）替换每个非打印字符（有效控制字符除外），请输入：
<p></p>
<a name="a0939e8"></a>
<pre id="a0939e8" class="xmp">tr&nbsp;-c&nbsp;'[:print:][:cntrl:]'&nbsp;'[?*]'&nbsp;&lt;&nbsp;textfile&nbsp;>&nbsp;newfile</pre><p class="indatacontent"> 这便对不同语言环境中创建的文件进行扫描，以查找当前语言环境下不能打印的字符。</p></li>
<li><a name="a206c153"></a><span id="a206c153" class="pk"></span>要以单个“#”字符替换 &lt;space> 字符类中的每个字符序列，请输入：
<p></p>
<a name="a206c154"></a>
<pre id="a206c154" class="xmp">tr -s '[:space:]' '[#*]'</pre></li></ol>
<a name="a0939eb"></a>
<h3 id="a0939eb">相关信息</h3>
<a name="a39c3afe886janb"></a>
<p id="a39c3afe886janb"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds2/ed.htm#a133z9c66"><span class="bold">ed</span></a> 命令、<a href="trbsd.htm#a191c112b"><span class="bold">trbsd</span></a> 命令。</p>
<a name="a39c3afe907janb"></a>
<p id="a39c3afe907janb"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/libs/basetrf1/ctype.htm#a142927c"><span class="bold">ctype</span></a> 子例程。</p>
<a name="a39c3afe928janb"></a>
<p id="a39c3afe928janb"><span class="italic">AIX 5L Version 5.2 National Language Support Guide and Reference</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/nlsgdrf/nat_lang_support.htm">National Language Support
Overview</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="tr.htm#Top_Of_Page">页的顶部</a> | <a href="tput.htm">上一页</a> | <a href="trace.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
