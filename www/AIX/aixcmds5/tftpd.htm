<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - tftpd 守护进程</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="tftpd 守护进程, tftpd, 守护进程, TCP/IP 守护进程,
使用 tftpd 守护进程, TFTP 服务器功能, TCP/IP" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="tftpd.htm#Bot_Of_Page">页的底部</a> | <a href="tftp.htm">上一页</a> | <a href="tic.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="dud120sara"></a>
<h2 id="dud120sara">tftpd 守护进程</h2><a id="idx429" name="idx429"></a><a id="idx430" name="idx430"></a><a id="idx431" name="idx431"></a><a id="idx432" name="idx432"></a>
<a name="mw11e0sara"></a>
<h3 id="mw11e0sara">用途</h3>
<a name="dff1c52967mart"></a>
<p id="dff1c52967mart">为次要文件传输协议提供服务器功能。</p>
<a name="wq949"></a>
<h3 id="wq949">语法</h3>
<p><span class="bold">/usr/sbin/tftpd</span> [&nbsp; <a href="tftpd.htm#qu1150mkm"><span class="bold">-c&nbsp;</span></a>]  [&nbsp; <a href="tftpd.htm#qu1150sara"><span class="bold">-n&nbsp;</span></a>]  [&nbsp; <a href="tftpd.htm#qu1150mkm1"><span class="bold">-p&nbsp;</span></a>]  [&nbsp; <a href="tftpd.htm#a8v11b0sara"><span class="bold">-r&nbsp;</span></a>]
 [&nbsp; <a href="tftpd.htm#gv11310sara"><span class="bold">-v&nbsp;</span></a>]  [&nbsp; <a href="tftpd.htm#qu1150mkm2"><span class="bold">-t&nbsp;</span></a>]  [&nbsp; <a href="tftpd.htm#a249x996c"><span class="bold">-s&nbsp;</span></a>]  [&nbsp; <a href="tftpd.htm#qu1150mkm4"><span class="bold">-x&nbsp;</span></a>]  [&nbsp; <a href="tftpd.htm#qu1150mkm3"><span class="bold">-z&nbsp;</span></a>]  [  <a href="tftpd.htm#df8d026117jani"><span class="bold">-d</span></a> <span class="italic">Directory</span>]</p>
<a name="a213x9b0f4"></a>
<h3 id="a213x9b0f4">描述</h3>
<p></p><blockquote><a name="a81c018c2f"></a><span id="a81c018c2f" class="pk"></span><span class="bold">注：</span><span class="bold">tftpd</span> 守护进程通常由 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/inetd.htm#dwd290sara"><span class="bold">inetd</span></a> 守护进程启动。也可使用 SRC 命令从命令行控制。</blockquote>
<a name="dff1c53409mart"></a>
<p id="dff1c53409mart"><span class="bold">/usr/sbin/tftpd</span> 守护进程运行次要文件传输协议（TFTP）服务器。使用 TFTP 发送的文件可在由 <a href="tftp.htm#a2049910"><span class="bold">tftp</span></a> 或 <a href="tftp.htm#a2049910"><span class="bold">utftp</span></a> 命令行上给出的完整路径名指定的目录中找到。</p>
<p></p><blockquote><a name="a213x9b0f9"></a><span id="a213x9b0f9" class="pk"></span><span class="bold">注：</span>当审计系统在使用中时，<span class="bold">tftp</span> 命令、<span class="bold">utftp</span> 命令和 <span class="bold">tftpd</span> 服务器不可用。有关更多信息，请参阅 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/security/tcpip_security.htm#tcpip_security_trusted_procs">TCP/IP安全性</a>、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/security/auditing_overview.htm">审计概述</a>和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds1/audit.htm#a14294a5"><span class="bold">audit</span></a> 命令。</blockquote>
<a name="dff1c53579mart"></a>
<p id="dff1c53579mart">使用系统管理界面程序（SMIT）或系统资源控制器（SRC）通过编辑 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/inetd.conf.htm#zb52b0joe"><span class="bold">/etc/inetd.conf</span></a> 或 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/services.htm#ys8120sara"><span class="bold">/etc/services</span></a> 文件可以对 <span class="bold">tftpd</span> 守护进程进行更改。当没有在 <span class="bold">/etc/inetd.conf</span> 文件中注释掉时，缺省情况下启动 <span class="bold">tftpd</span> 守护进程。</p>
<a name="dff1c53675mart"></a>
<p id="dff1c53675mart"><span class="bold">inetd</span> 守护进程从 <span class="bold">/etc/inetd.conf</span> 文件和 <span class="bold">/etc/services</span> 文件中获取其信息。</p>
<a name="dff1c53841mart"></a>
<p id="dff1c53841mart">在更改 <span class="bold">/etc/inetd.conf</span> 或 <span class="bold">/etc/services</span> 文件之后，运行 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds4/refresh.htm#a20092dd"><span class="bold">refresh</span></a> <span class="bold">-s inetd</span> 或 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/kill.htm#a1579872"><span class="bold">kill</span></a><span class="bold">&nbsp;-1&nbsp;</span><span class="italic">InetdPID</span> 命令以通知 <span class="bold">inetd</span> 守护进程其配置文件的更改情况。</p>
<a name="dff1c53937mart"></a>
<p id="dff1c53937mart"><span class="bold">tftpd</span> 服务器应有一个有最小特权的用户标识。<span class="bold">nobody</span> 标识允许最小权限，是缺省用户标识。</p>
<a name="dff1c54033mart"></a>
<p id="dff1c54033mart"><span class="bold">tftpd</span> 守护进程应使用系统管理界面程序（SMIT）或通过更改 <span class="bold">/etc/inetd.conf</span> 文件来进行控制。不推荐在命令行中输入 <tt>tftpd</tt>。</p>
<p>在 AIX 4.3.3 中，<span class="bold">tftpd</span> 服务器是一个多线程应用程序。另一个主要变化是服务器处理新的 TFTP 块大小选项（RFC1783）的能力。这种新的能力允许客户机协商较大的块大小，这能够显著地提高 tftp 文件传输性能。结果，也显著提高了使用 TFTP 的无盘节点的引导时间性能。tftp 客户机必须能够进行块大小协商以利用此性能改进。块大小选项在当前的 tftp 命令中还没有实行。</p>
<a name="a302c11"></a>
<h4 id="a302c11">tftpaccess.ctl 文件</h4>
<a name="dff1c54199mart"></a>
<p id="dff1c54199mart">搜索 <span class="bold">/etc/tftpaccess.ctl</span> 文件以查找那些以 <tt>allow:</tt> 或 <tt>deny:</tt> 开头的行。其余行被忽略。如果文件不存在，也允许访问。除去被拒绝的目录和文件，可以访问所允许的目录和文件。例如，可以允许访问<span class="bold">/usr</span> 目录而 <span class="bold">/usr/ucb</span> 目录则会被拒绝。这意味着在 <span class="bold">/usr</span> 目录中的任一目录或文件（除了 <span class="bold">/usr/ucb</span> 目录）都可被访问。<span class="bold">/etc/tftpaccess.ctl</span> 文件中的项必须为绝对路径名。</p>
<a name="dff1c54296mart"></a>
<p id="dff1c54296mart"><span class="bold">/etc/tftpaccess.ctl</span> 文件应为 root 用户只写而所有 <tt>groups</tt> 和 <tt>others</tt> 可读（即为有许可权 644 的 <tt>root 用户</tt>所拥有）可读。用户 <tt>nobody</tt> 必须能够读取 <span class="bold">/etc/tftpaccess.ctl</span> 文件。否则，<span class="bold">tftpd</span> 守护进程就不能识别文件是否存在并允许访问整个系统。有关更多信息，请参阅样本 <span class="bold">tftpaccess.ctl</span> 文件，它驻留在 <span class="bold">/usr/samples/tcpip</span> 目录。</p>
<a name="dff1c54395mart"></a>
<p id="dff1c54395mart">搜索算法假设在 <span class="bold">tftp</span> 命令中所用的本地路径名是绝对路径名。该算法搜索 <span class="bold">/etc/tftpaccess.ctl</span> 文件以查找 <tt>allow:</tt>/。它使用每一个部分路径名来重复搜索所允许的路径名，部分路径名通过从文件路径名添加下一个组件构造而成。匹配的最长路径名也是被允许的一种。然后对于拒绝路径名进行同样操作，从匹配最长允许路径名开始。</p>
<a name="dff1c54491mart"></a>
<p id="dff1c54491mart">例如，如果文件路径名为 <span class="bold">/a/b/c</span> 而 <span class="bold">/etc/tftpaccess.ctl</span> 文件包含 <tt>allow:/a/b</tt> 和 <tt>deny:/a</tt>，将会产生一个允许匹配（<tt>/a/b</tt>）并且不产生以 <tt>/a/b</tt> 开始的拒绝匹配，并允许访问。</p>
<a name="dff1c54590mart"></a>
<p id="dff1c54590mart">如果 <span class="bold">/etc/tftpaccess.ctl</span> 文件包含 <tt>allow:/a</tt> 和 <tt>deny:/a/b</tt>，将会产生一个允许匹配（<tt>/a</tt>）和一个以 <tt>/a</tt>（<tt>/a/b</tt>）开始的拒绝匹配，并拒绝访问。
如果 <span class="bold">/etc/tftpaccess.ctl</span> 文件既包含 <tt>allow:/a/b</tt> 也包含<tt>deny:/a/b</tt>，将会拒绝访问，因为允许的路径名被首先搜索。</p>
<a name="a992bfc397dee"></a>
<h4 id="a992bfc397dee">使用系统资源控制器操作 tftpd 守护进程</h4>
<a name="dff1c54765mart"></a>
<p id="dff1c54765mart"><span class="bold">tftpd</span> 守护进程是 <span class="bold">inetd</span> 守护进程的子服务器，这是系统资源控制器（<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/admnconc/sys_res_overview.htm#a2729f9">SRC</a>）的子系统。<span class="bold">tftpd</span> 守护进程是 <span class="bold">tcpip</span> SRC 子系统组的成员。当没有在 <span class="bold">/etc/inetd.conf</span> 文件中注释掉时，此守护进程被启用并可使用以下 SRC 命令操作：</p>
<a name="wq950"></a>
<table id="wq950" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="c0e73cc492judy" name="c0e73cc492judy"></a><a href="startsrc.htm#a200945a"><span class="bold">startsrc</span></a></td>
<td width="86%">  启动子系统、子系统组或子服务器。</td>
</tr>
<tr>
<td>
<a id="c0e73cc568judy" name="c0e73cc568judy"></a><a href="stopsrc.htm#a20094a5"><span class="bold">stopsrc</span></a></td>
<td>  停止子系统、子系统组或子服务器。</td>
</tr>
<tr>
<td>
<a id="c0e73cc645judy" name="c0e73cc645judy"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/lssrc.htm#a2009166"><span class="bold">lssrc</span></a></td>
<td>  获取子系统、子系统组或子服务器的状态。</td>
</tr>
</tbody>
</table>
<a name="a249x996d"></a>
<h3 id="a249x996d">标志</h3>
<p></p>
<a name="wq951"></a>
<table id="wq951" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="qu1150mkm" name="qu1150mkm"></a><span class="bold">-c</span></td>
<td width="80%">  指定每个进程的并行线程的最大数目，初始线程除外。</td>
</tr>
<tr>
<td>
<a id="df8d026117jani" name="df8d026117jani"></a><span class="bold">-d</span><span class="italic"> Directory</span><span class="bold"></span></td>
<td>  指定缺省目的地目录。指定的 <span class="italic">Directory</span> 将用作主目录，仅用来存储文件。仅当未指定全路径名时，此缺省目录才会被使用。用于检索文件的缺省目录仍为 <span class="bold">/tftpboot</span>。</td>
</tr>
<tr>
<td>
<a id="qu11b0sara" name="qu11b0sara"></a><span class="bold">-i</span></td>
<td>  记录有错误消息的调用机器的 IP 地址。</td>
</tr>
<tr>
<td>
<a id="qu1150sara" name="qu1150sara"></a><span class="bold">-n</span></td>
<td>  允许远程用户在本机上创建文件。如果此标志未指定，远程用户只被允许读取那些对其它用户有读许可权的文件。</td>
</tr>
<tr>
<td>
<a id="qu1150mkm1" name="qu1150mkm1"></a><span class="bold">-p</span></td>
<td>  指定输入请求的端口号。</td>
</tr>
<tr>
<td>
<a id="a8v11b0sara" name="a8v11b0sara"></a><span class="bold">-r</span></td>
<td>  在记录消息之前尝试将 IP 地址转换为的适当的主机名。此标志必须与 <span class="bold">-i</span> 标志
或 <span class="bold">-v</span> 标志一起使用。</td>
</tr>
<tr>
<td>
<a id="a249x996c" name="a249x996c"></a><span class="bold">-s</span></td>
<td>  打开套接字级别的调试。</td>
</tr>
<tr>
<td>
<a id="qu1150mkm2" name="qu1150mkm2"></a><span class="bold">-t</span></td>
<td>  为数据报指定超时值。</td>
</tr>
<tr>
<td>
<a id="gv11310sara" name="gv11310sara"></a><span class="bold">-v</span></td>
<td>  当所有文件被 <span class="bold">tftpd</span> 守护进程成功传输时，记录指示性消息。此记录跟踪是谁使用 <span class="bold">tftpd</span> 守护进程在系统之间来回远程传输文件。</td>
</tr>
<tr>
<td>
<a id="qu1150mkm4" name="qu1150mkm4"></a><span class="bold">-x</span></td>
<td>  指定等待数据报的最大超时。</td>
</tr>
<tr>
<td>
<a id="qu1150mkm3" name="qu1150mkm3"></a><span class="bold">-z</span></td>
<td>  指定用于传输的最大允许段大小。</td>
</tr>
</tbody>
</table>
<a name="a992bfc803dee"></a>
<h3 id="a992bfc803dee">示例</h3>
<p></p><blockquote><a name="c0e73cd256judy"></a><span id="c0e73cd256judy" class="pk"></span><span class="bold">注：</span><span class="bold">tftpd</span> 守护进程的参数可以通过使用 SMIT 或编辑 <span class="bold">/etc/inetd.conf</span> 文件来指定。</blockquote>
<ol type="1">
<li><a name="c0e73cd335judy"></a><span id="c0e73cd335judy" class="pk"></span>要启动 <span class="bold">tftpd</span> 守护进程，请输入以下命令：
<a id="c0e73cd427judy" name="c0e73cd427judy"></a>
<div class="lines"><tt>startsrc&nbsp;&nbsp;-t tftp</tt><br />
</div> 此命令启动 <span class="bold">tftpd</span> 子服务程序。</li>
<li><a name="c0e73cd578judy"></a><span id="c0e73cd578judy" class="pk"></span>要正常停止 <span class="bold">tftpd</span> 守护进程，请输入以下命令：
<a id="c0e73cd659judy" name="c0e73cd659judy"></a>
<div class="lines"><tt>stopsrc&nbsp;&nbsp;-t tftp</tt><br />
</div> 该命令允许启动所有暂挂的连接并完成现有的连接，但会阻止启动新的连接。</li>
<li><a name="c0e73cd840judy"></a><span id="c0e73cd840judy" class="pk"></span>要强制停止 <span class="bold">tftpd</span> 守护进程和所有 <span class="bold">tftpd</span> 连接，请输入以下命令：
<a id="c0e73ce244judy" name="c0e73ce244judy"></a>
<div class="lines"><tt>stopsrc -t&nbsp;&nbsp;-f tftp</tt><br />
</div> 此命令立即终止所有暂挂连接和现有连接。</li>
<li><a name="c0e73ce404judy"></a><span id="c0e73ce404judy" class="pk"></span>要显示 <span class="bold">tftpd</span> 守护进程的简短状态报告，请输入以下命令：
<a id="c0e73ce474judy" name="c0e73ce474judy"></a>
<div class="lines"><tt>lssrc -t tftp</tt><br />
</div> 此命令返回守护进程的名称、进程标识和状态（活动的或非活动的）。</li></ol>
<a name="a213x9b0fa"></a>
<h3 id="a213x9b0fa">相关信息</h3>
<a name="dff1c56876mart"></a>
<p id="dff1c56876mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/kill.htm#a1579872"><span class="bold">kill</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/lssrc.htm#a2009166"><span class="bold">lssrc</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds4/refresh.htm#a20092dd"><span class="bold">refresh</span></a> 命令、<a href="startsrc.htm#a200945a"><span class="bold">startsrc</span></a> 命令、<a href="stopsrc.htm#a20094a5"><span class="bold">stopsrc</span></a> 命令、<a href="tftp.htm#a2049910"><span class="bold">tftp</span></a> 命令。</p>
<a name="dff1c56963mart"></a>
<p id="dff1c56963mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/inetd.htm#dwd290sara"><span class="bold">inetd</span></a> 守护进程。</p>
<a name="dff1c57058mart"></a>
<p id="dff1c57058mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/inetd.conf.htm#zb52b0joe"><span class="bold">/etc/inetd.conf</span></a> 文件格式。</p>
<a name="dff1c57156mart"></a>
<p id="dff1c57156mart"><span class="italic">《AIX 5L V5.2 系统管理指南：通信与网络》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/commadmn/tcp_protocols.htm#a341c96c47">『次要接文件传输协议（TFTP）』</a>。</p>
<a name="dff1c57253mart"></a>
<p id="dff1c57253mart"><span class="italic">《AIX 5L V5.2 系统管理指南：通信与网络》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/commadmn/tcp_daemons.htm#a8c0a85e">『TCP/IP 守护进程』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="tftpd.htm#Top_Of_Page">页的顶部</a> | <a href="tftp.htm">上一页</a> | <a href="tic.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
