<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - tvi 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="tvi 命令, tvi, 命令, 使用 tvi 命令,
tvi 编辑器，调用, 编辑器, 调用, tvi 编辑器, 提供, 可信的编辑器, 限制, 操作方式,
定制" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="tvi.htm#Bot_Of_Page">页的底部</a> | <a href="turnon.htm">上一页</a> | <a href="twconvdict.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="a1439ec2"></a>
<h2 id="a1439ec2">tvi 命令</h2><a id="idx565" name="idx565"></a><a id="idx566" name="idx566"></a>
<a name="a30f022"></a>
<h3 id="a30f022">用途</h3><a id="idx567" name="idx567"></a><a id="idx568" name="idx568"></a><a id="idx569" name="idx569"></a>
<p>以全屏显示提供一个可信的编辑器。</p>
<a name="a30f024"></a>
<h3 id="a30f024">语法</h3>
<p><span class="bold">tvi</span> [ <span class="bold">-</span> <a href="tvi.htm#snb2a0frit"><span class="bold">l</span></a> ] [  <a href="tvi.htm#hmb100frit"><span class="bold">-R</span></a> ]
[  <a href="tvi.htm#lmb2a0frit"><span class="bold">-w</span></a> <span class="italic">Number</span> ] [  <a href="tvi.htm#unb40frit"><span class="bold">-c</span></a> [ <span class="italic">Subcommand</span> ] ] [ <span class="italic">File</span> ... ]</p>
<a name="a30f026"></a>
<h3 id="a30f026">描述</h3>
<p><span class="bold">tvi</span> 命令调用 <span class="bold">tvi</span> 编辑器（<span class="bold">vi</span> 编辑器的可信的版本）以编辑由 <span class="italic">File</span> 参数指定的文件。文件按照指定的顺序编辑。如果未提供文件名，命令将打开一个可创建文本的新文件，但如果尝试保存文本到文件时，将会提示用户添加文件名到保存命令，例如 <span class="bold">:w</span><span class="italic"> File</span>。关于更多信息，请参阅<a href="tvi.htm#a30f04e">示例</a>部分。</p>
<p>在<a href="tvi.htm#a30f036">命令方式</a>中进入或离开 <span class="bold">tvi</span> 编辑器，但要添加或更改文本，必须进入文本输入方式。
关于启动文本输入方式的子命令的信息，请参阅<a href="tvi.htm#a30f037">文本输入方式</a>的描述。要离开文本输入方式，请按下 <span class="bold">Esc</span> 键。这样您就能返回命令方式，在命令方式中可以使用一个 <span class="bold">:w</span> 命令<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#ef35280lein">保存文本</a>到文件中，例如对于<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#ye35380lein">退出</a> <span class="bold">tvi</span> 编辑器，使用 <span class="bold">:q</span> 命令。</p>
<p>因为由 <span class="bold">tvi</span> 命令启动的全屏显示的编辑器是基于 <span class="bold">ex</span> 编辑器的，用户可在 <span class="bold">tvi</span> 编辑器中使用 <span class="bold">ex</span> 子命令。子命令在显示屏的光标位置起作用。</p>
<p><span class="bold">tvi</span> 编辑器制作一份在编辑缓冲区中编辑的文件副本。除非用户保存更改，否则文件内容将不会发生更改。</p>
<a name="wq1321"></a>
<div class="notetitle" id="wq1321">注:</div>
<div class="notebody"><span class="bold">tvi</span> 编辑器不支持 <span class="bold">vi</span> 编辑器的<a name="a33f062d"></a><span id="a33f062d" class="pk"></span>几个功能。如果参考关于 <span class="bold">vi</span> 编辑器的信息，请注意 <span class="bold">tvi</span> 编辑器永远不支持 <span class="bold">-r</span> 标志、<span class="bold">-t</span> 标志、shell 转义、用户定义宏、键映射以及设置 <span class="bold">vi</span> 选项。</div>
<a name="a30f02a"></a>
<h4 id="a30f02a">tvi 编辑器限制</h4><a id="idx570" name="idx570"></a>
<p><span class="bold">tvi</span> 编辑器的最大限制假设为单字节字符。这些限制如下：</p>
<ul>
<li>每行 2048 个字符</li>
<li>每个全局命令列表 256 个字符</li>
<li>在先前插入和删除的文本中 128 个字符</li>
<li>在 shell 转义命令中 128 个字符</li>
<li>在一个字符串值的选项中 128 个字符</li>
<li>在一个标记名称中 30 个字符</li>
<li>静默强制 524,230 行，每行 2048 个字符</li>
<li>128 个映射宏，总计 2048 字符</li></ul>
<a name="a30f034"></a>
<h4 id="a30f034">编辑方式</h4>
<p><span class="bold">tvi</span> 编辑器按照以下方式操作：<a id="idx571" name="idx571"></a></p>
<a name="wq1322"></a>
<table id="wq1322" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="25%">
<a id="a30f036" name="a30f036"></a><span class="bold">命令方式</span></td>
<td width="75%">  <span class="bold">tvi</span> 编辑器在命令方式中启动。可以调用任何子命令，仅在文本输入方式中更改文本的子命令除外。要了解子命令的描述，请参见 <a href="tvi.htm#a30f03e">tvi 编辑器子命令</a>中的主题。要识别不能从命令方式调用的子命令，请参见<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#gx120lein">在输入方式中更改文本</a>。子命令和其它方式结束后，<span class="bold">tvi</span> 编辑器返回到命令方式。按下 Esc 键取消不完全的子命令。</td>
</tr>
<tr>
<td>
<a id="a30f037" name="a30f037"></a><span class="bold">文本输入方式</span></td>
<td>  当用户使用允许的命令添加或更改文本时，<span class="bold">tvi</span> 编辑器进入文本输入方式。要查看启用文本输入方式的子命令列表，请参考<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#cx25260lein">向文件添加文本</a>、从命令方式<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#nw1160lein">更改文本</a>的子命令、<span class="bold">C</span> 子命令和 <span class="bold">c</span><span class="bold-italic">x</span> 子命令。进入以上任意一个子命令后，用户可以使用在文本输入方式中起作用的任一子命令编辑文本。要了解关于子命令的描述，请参见『 tvi 编辑器子命令』中的主题。要从文本输入方式返回到命令方式，通常按 Esc 键退出，或者按 Ctrl+C 键创建一个 <span class="bold">INTERRUPT</span> 信号。</td>
</tr>
<tr>
<td>
<a id="a30f038" name="a30f038"></a><span class="bold">最后行方式</span></td>
<td>  某些子命令读取屏幕底端显示的一行的输入。这些子命令包括带有以下前缀的命令 :（冒号）、/（斜杠）和 ?（问号）。当用户输入起始字符时，<span class="bold">tvi</span> 编辑器将光标定位于屏幕的底端，使用户可输入剩余的命令字符。要运行子命令，按下 Enter 键。
要取消子命令，按下 Ctrl+C 键，创建一个 <span class="bold">INTERRUPT</span> 信号。当用户使用 :（冒号）进入最后行方式时，以下字符如果用在指定计数的命令前，有特定的含义：
<dl>
<dt id="a30f039" class="bold">
<a name="a30f039"></a>%</dt>
<dd>  所有与光标位置无关的行
</dd>
<dt id="a30f03a" class="bold">
<a name="a30f03a"></a>$</dt>
<dd>  最后行
</dd>
<dt id="a39c4369825janb" class="bold">
<a name="a39c4369825janb"></a>.</dt>
<dd>  当前行
</dd>
</dl></td>
</tr>
</tbody>
</table>
<a name="a30f03c"></a>
<h4 id="a30f03c">定制 tvi 编辑器</h4>
<p>用户可按照 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#sas4j26fjmcc">“设置 vi 编辑器选项”</a>中的指示，临时定制 <span class="bold">tvi</span> 编辑器。“永久设置 vi 选项”节内容<span class="italic">不</span>适用于 <span class="bold">tvi</span> 编辑器。<a id="idx572" name="idx572"></a></p>
<a name="a30f03e"></a>
<h4 id="a30f03e">tvi 编辑器子命令</h4>
<p>适用于 <span class="bold">tvi</span> 编辑器的 <span class="bold">vi</span> 编辑器子命令的信息，请见以下列表：</p>
<ul>
<li><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#jz290lein">vi 常规</a> 子命令语法。</li>
<li>用于调节屏幕的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#xk1160lein">vi 子命令</a>。</li>
<li>用 <span class="bold">vi</span> 编辑器<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm">编辑</a>文本。</li>
<li><span class="bold">tvi</span> 编辑器<span class="italic">不</span>支持 <span class="bold">vi</span> 编辑器中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#nl35320lein">Entering Shell</a> 命令。</li>
<li>用 <span class="bold">vi</span> 编辑器<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#a3b27e0a059endr">操作文件</a>。</li>
<li>中断和结束 <span class="bold">vi</span> 编辑器的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#ye35380lein">子命令</a>。</li></ul>
<a name="za420frit"></a>
<h3 id="za420frit">标志</h3>
<p></p>
<a name="wq1323"></a>
<table id="wq1323" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="31%">
<a id="unb40frit" name="unb40frit"></a><span class="bold">-c&nbsp;[</span><span class="italic">Subcommand</span><span class="bold">]</span></td>
<td width="68%">  编辑开始前，执行 <span class="bold">ex</span> 编辑器子命令。该子命令提供一个面向行的文本编辑器。当对于 <span class="italic">Subcommand</span> 参数输入了空操作数时，就像<tt>-c&nbsp;''</tt>，编辑器将光标定位于文件的最后一行。</td>
</tr>
<tr>
<td>
<a id="snb2a0frit" name="snb2a0frit"></a><span class="bold">-l</span></td>
<td>  在 ILSP 方式中进入编辑器。在该方式中，编辑器为 LISP 代码相应缩进, <span class="bold">(</span>, <span class="bold">)</span>, <span class="bold">{</span>, <span class="bold">}</span>, <span class="bold">[[</span> 和 <span class="bold">]]</span> 子命令也为适应 LISP 相应作出修改。这些子命令将光标定位于特定的 LISP 函数的位置。
关于更多 LISP 子命令的信息，请参见<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#ni1lein">移动到语句、段落和章节</a>。</td>
</tr>
<tr>
<td>
<a id="hmb100frit" name="hmb100frit"></a><span class="bold">-R</span></td>
<td>  设置 <span class="bold">readonly</span> 选项，保护文件不被重写。</td>
</tr>
<tr>
<td>
<a id="lmb2a0frit" name="lmb2a0frit"></a><span class="bold">-w&nbsp;</span><span class="italic">Number</span></td>
<td>  将窗口大小的缺省值设置为由 <span class="italic">Number</span> 参数指定的值。当您在低速行使用编辑器时，该参数十分有用。</td>
</tr>
<tr>
<td>
<a id="a207c15d" name="a207c15d"></a><span class="bold">+&nbsp;[</span><span class="italic">Subcommand</span><span class="bold">]</span></td>
<td>  与 <span class="bold">-c</span> 子命令相同。</td>
</tr>
</tbody>
</table>
<a name="a30f049"></a>
<h3 id="a30f049">安全性</h3>
<p>访问控制：此命令向所有拥有<span class="bold">可信计算库</span>的用户授予执行（x）权限。</p>
<p>审计事件：</p>
<a name="wq1324"></a>
<table id="wq1324" width="100%" summary="" border="1" frame="border" rules="all">
<thead valign="bottom">
<tr>
<th id="wq1325" width="31%" align="left">事件</th>
<th id="wq1326" width="68%" align="left">信息</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq1325"><span class="bold">TVI</span></td>
<td headers="wq1326">文件名</td>
</tr>
</tbody>
</table>
<a name="a30f04e"></a>
<h3 id="a30f04e">示例</h3>
<ol type="1">
<li>要调用可信的编辑器编辑 <tt>plans</tt> 文件，输入：
<p></p>
<pre class="xmp">tvi plans</pre><p class="indatacontent"> 该命令使 <span class="bold">tvi</span> 编辑器进入命令方式。要添加和更改文本，必须进入文本输入方式，或者使用命令方式接受的命令。更多信息，请参见<a href="tvi.htm#a30f037">文本输入方式</a>中的描述。</p></li>
<li>要保存经由 <span class="bold">tvi</span> 编辑器创建的文本，按 Esc 键离开文本输入方式，然后输入以下保存命令之一：<span class="bold">:w</span>、<span class="bold">:w</span><span class="italic"> File</span> 或者 <span class="bold">:w!</span><span class="italic"> File</span>，例如：
<p></p>
<pre class="xmp">:w&nbsp;plans</pre><p class="indatacontent"> 在该示例中，如果未经指定文件名即发出 <span class="bold">tvi</span> 命令，如 <tt>plans</tt> 之类的文件名是必须的。如果文件已命名，<span class="bold">:w</span> 命令则不需要 <span class="italic">File</span> 参数。如果希望覆盖现存的文件，使用以 <span class="italic">File</span> 参数指定要覆盖文件的 <span class="bold">:w!</span><span class="italic"> File</span> 命令。</p> 
<p>如果未经提供文件名即试图保存一个未命名的文件，将会出现以下消息：</p> 
<p></p>
<pre class="xmp">No&nbsp;current&nbsp;filename</pre><p class="indatacontent"> 如果出现这种情况，重复带有文件名的 <span class="bold">:w</span> 命令。</p></li>
<li>要从文本输入方式退出 <span class="bold">tvi</span> 编辑器，按 Esc 键，输入命令方式，然后输入：
<p></p>
<pre class="xmp">:q!</pre><p class="indatacontent"> 如果编辑器已处于命令方式，给出退出（<span class="bold">q!</span>）命令前，无需按 Esc 键。</p></li></ol>
<a name="a30f053"></a>
<h3 id="a30f053">文件</h3>
<p></p>
<a name="wq1328"></a>
<table id="wq1328" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="a30f054" name="a30f054"></a><span class="bold">/usr/bin/tvi</span></td>
<td width="80%">  包含 <span class="bold">tvi</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a30f055"></a>
<h3 id="a30f055">相关信息</h3>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds2/ex.htm#azlc1300lein"><span class="bold">ex</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds6/vi.htm#h2230maur"><span class="bold">vi</span></a> 命令。</p>
<p>关于用户的识别和认证、任意访问控制、可信计算库以及审计的详细信息，请参阅<span class="italic">《AIX 5L V5.2 安全指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/security/security_admin.htm">『安全性管理』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="tvi.htm#Top_Of_Page">页的顶部</a> | <a href="turnon.htm">上一页</a> | <a href="twconvdict.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
