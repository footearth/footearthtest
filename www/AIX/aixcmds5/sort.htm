<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - sort 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="sort 命令, 使用 sort 命令, 排序, 文件, 合并" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="sort.htm#Bot_Of_Page">页的底部</a> | <a href="soelim.htm">上一页</a> | <a href="sortbib.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="oog12b0fish"></a>
<h2 id="oog12b0fish">sort 命令</h2>
<p><a id="idx195" name="idx195"></a></p>
<a name="a133z92903"></a>
<h3 id="a133z92903">用途</h3>
<a name="e48104c068mart"></a>
<p id="e48104c068mart">排序文件、对已排序的文件进行合并，并检查文件以确定它们是否已排序。<a id="idx196" name="idx196"></a> <a id="idx197" name="idx197"></a></p>
<a name="a133z92905"></a>
<h3 id="a133z92905">语法</h3>
<p><span class="bold">sort</span> [  <a href="sort.htm#a133z92914"><span class="bold">-A</span></a><tt> ] [</tt>  <a href="sort.htm#a133z92915"><span class="bold">-b</span></a><tt> ] [</tt>  <a href="sort.htm#a133z92916"><span class="bold">-c </span></a>] [  <a href="sort.htm#a133z92917"><span class="bold">-d</span></a><span class="bold"></span> ]
[  <a href="sort.htm#a133z92918"><span class="bold">-f </span></a>] [  <a href="sort.htm#a133z92919"><span class="bold">-i </span></a>] [  <a href="sort.htm#a133z9291b"><span class="bold">-m</span></a>] [  <a href="sort.htm#a133z9291c"><span class="bold">-n </span></a>] [  <a href="sort.htm#a133z9291e"><span class="bold">-r </span></a>]  [  <a href="sort.htm#a133z92921"><span class="bold">-u</span></a><span class="bold"></span> ] [  <a href="sort.htm#a133z9291d"><span class="bold">-o</span></a><span class="italic"> OutFile</span> ] [  <a href="sort.htm#a133z9291f"><span class="bold">-t</span></a><span class="italic"> Character</span> ] [  <a href="sort.htm#a133z92920"><span class="bold">-T</span></a><span class="italic"> Directory</span> ] [  <a href="sort.htm#a4sj2210craw"><span class="bold">-y </span></a>[ <span class="italic">Kilobytes</span> ] ] [  <a href="sort.htm#mqqrg4bjenn"><span class="bold">-z</span></a> <span class="italic">RecordSize</span> ] [ [  <a href="sort.htm#a189c1e6"><span class="bold">+</span> </a>[ <span class="italic">FSkip</span> ] [ <span class="bold">.</span><span class="italic">CSkip</span> ] [ <span class="bold">b</span> ]  [<span class="bold"> d</span> ] [<span class="bold"> f</span> ] [<span class="bold"> i</span> ] [<span class="bold"> n</span> ] [ <span class="bold">r</span> ] ] [  <a href="sort.htm#a189c1e6"><span class="bold">-</span> </a>[ <span class="italic">FSkip</span> ] [ <span class="bold">.</span><span class="italic">CSkip</span> ] [<span class="bold"> b</span> ] [<span class="bold"> d</span> ] [<span class="bold"> f</span> ] [<span class="bold"> i</span> ] [<span class="bold"> n</span> ] [ <span class="bold">r</span> ] ] ] ... [  <a href="sort.htm#a2ct2250bob"><span class="bold">-k</span></a><span class="italic"> KeyDefinition</span> ] ... [ <span class="italic">File ...</span> ]</p>
<a name="a133z92907"></a>
<h3 id="a133z92907">描述</h3>
<a name="e48104c466mart"></a>
<p id="e48104c466mart"><span class="bold">sort</span> 命令对 <span class="italic">File</span> 参数指定的文件中的行排序，并将结果写到标准输出。如果 <span class="italic">File</span> 参数指定多个文件，那么 <span class="bold">sort</span> 命令将这些文件连接起来，并当作一个文件进行排序。<span class="bold">-</span>（减号）代替文件名指定标准输入。如果您不指定任何文件名，那么该命令对标准输入排序。可以使用 <span class="bold">-o</span> 标志指定输出文件。</p>
<a name="e48104c563mart"></a>
<p id="e48104c563mart">如果不指定任何标志，<span class="bold">sort</span> 命令基于当前语言环境的整理顺序对输入文件的所有行排序。</p>
<a name="a196c1137"></a>
<h4 id="a196c1137">排序关键字</h4>
<a name="e48104c765mart"></a>
<p id="e48104c765mart">排序关键字是输入行的一部分，由字段号和列号指定。字段是输入行的组成部分，由字段分隔符分隔。缺省字段分隔符是由一个或多个连续空格字符组成的序列。使用 <span class="bold">-t</span> 标志可指定不同的字段分隔符。在 C 语言和英语语言环境下，制表符和空格字符都是空格符。</p>
<a name="e48104c864mart"></a>
<p id="e48104c864mart">使用排序关键字时，<span class="bold">sort</span> 命令首先根据第一个排序关键字的内容对所有行排序。然后，根据第二个排序关键字的内容，对所有第一个排序关键字相同的行排序，如此进行下去。按照排序关键字在命令行中出现的顺序给它们编号。如果两行对所有排序关键字的排序都相同，则对全部行依据当前语言环境的整理顺序进行比较。</p>
<a name="e48104c962mart"></a>
<p id="e48104c962mart">对字段中的列进行编号时，缺省字段分隔符中的空格符将作为后继字段计数。前导空格不计作第一字段的一部分，<span class="bold">-t</span> 标志指定的字段分隔符将不作为字段的一部分计数。可使用 <span class="bold"> -b</span> 标志忽略前导空格符。</p>
<a name="e48104d057mart"></a>
<p id="e48104d057mart">可使用下列两种方法定义排序关键字：</p>
<ul>
<li><a name="a85c13a"></a><span id="a85c13a" class="pk"></span><span class="bold">-k</span><span class="italic"> KeyDefinition</span></li>
<li><a name="a85c139"></a><span id="a85c139" class="pk"></span><span class="italic">FSkip</span><span class="bold">.</span><span class="italic">CSkip</span>（废弃版本）。</li></ul>
<a name="a196c113b"></a>
<h4 id="a196c113b">使用 -k 标志定义排序关键字</h4>
<a name="e48104d359mart"></a>
<p id="e48104d359mart"><span class="bold">-k</span><span class="italic"> KeyDefinition</span> 标志采用下列形式：</p>
<a name="e48104d930mart"></a>
<p id="e48104d930mart"><span class="bold">-k</span> [<tt></tt><span class="italic">  FStart</span><tt></tt>  [<tt></tt><span class="bold">  .</span><span class="italic">CStart</span><tt></tt> 
]<tt></tt>  ]<tt></tt>  [<tt></tt><span class="italic">  Modifier</span><tt></tt>  ]<tt></tt> 
[<tt></tt><span class="bold">  ,</span><tt></tt><span class="bold"></span>   [<tt></tt><span class="italic">  FEnd</span><tt></tt>  [<tt></tt><span class="bold"> .</span><span class="italic">CEnd</span><tt></tt><tt></tt> 
  ]<tt></tt>  ][<tt></tt><span class="italic">  Modifier</span><tt></tt> ]<tt></tt> ]</p>
<a name="e48104e030mart"></a>
<p id="e48104e030mart">排序关键字包括所有以 <span class="italic">FStart</span> 变量指定的字段和 <span class="italic">CStart</span> 变量指定的列开头的及以 <span class="italic">FEnd</span> 变量指定的字段和 <span class="italic">CEnd</span> 变量指定的列结束的字符。如果不指定 <span class="italic">Fend</span>，就假定行的最后一个字符。如果不指定 <span class="italic">CEnd</span>，就假定 <span class="italic">FEnd</span> 字段的最后一个字符。<span class="italic">KeyDefinition</span> 变量中的任何字段号或列号都可以省略。缺省值为：</p>
<a name="wq351"></a>
<table id="wq351" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="10%">
<a id="a85c13f" name="a85c13f"></a><span class="italic">FStart</span></td>
<td width="90%">  行开头</td>
</tr>
<tr>
<td>
<a id="a85c140" name="a85c140"></a><span class="italic">CStart</span></td>
<td>  字段第一列</td>
</tr>
<tr>
<td>
<a id="a85c141" name="a85c141"></a><span class="italic">FEnd</span></td>
<td>  行结束</td>
</tr>
<tr>
<td>
<a id="a85c142" name="a85c142"></a><span class="italic">CEnd</span></td>
<td>  字段最后一列</td>
</tr>
</tbody>
</table>
<p>如果字段间有任意空格，<span class="bold">sort</span> 就把它们看作分隔的字段。</p>
<a name="e48104e396mart"></a>
<p id="e48104e396mart"><span class="italic">Modifier</span> 变量的值可以是字母 <span class="bold">b</span>、<span class="bold">d</span>、<span class="bold">f</span>、<span class="bold">i</span>、<span class="bold">n</span> 或 <span class="bold">r</span> 中的一个或多个。修饰符仅应用于它们连接的字段定义，与同一字母的标志有同样的效果。修饰符字母 <span class="bold">b</span> 仅应用于其连接的字段定义的末尾。例如：</p>
<p></p>
<a name="a133z928fa"></a>
<pre id="a133z928fa" class="xmp">-k 3.2b,3r</pre>
<a name="e48104e555mart"></a>
<p id="e48104e555mart">指定排序关键字，从第三字段的第二非空格列开始并扩展至第三字段结束，对这个关键字的排序以逆向整理顺序完成。如果 <span class="italic">FStart</span> 变量和 <span class="italic">CStart</span> 变量在命令行末尾以外或在 <span class="italic">FEnd</span> 变量和 <span class="italic">CEnd</span> 变量之后，那么该排序关键字被忽略。</p>
<a name="e48104e652mart"></a>
<p id="e48104e652mart">排序关键字也可用下列方式指定：</p>
<a name="a189c1e6"></a>
<p id="a189c1e6">[<span class="bold">+</span>[<span class="italic">FSkip1</span>]
[<span class="italic">.CSkip1</span>] [<span class="italic">Modifier</span>] ] [<span class="bold">-</span>[<span class="italic">FSkip2</span>] [<span class="italic">.CSkip2</span>] [<span class="italic">Modifier</span>]]</p>
<a name="e48104e848mart"></a>
<p id="e48104e848mart"><span class="bold">+</span><span class="italic">FSkip1</span> 变量指定跳过的字段数以到达排序关键字第一字段，<span class="bold">+</span><span class="italic">CSkip</span> 变量指定在该字段中跳过的列数以到达排序关键字第一个字符。<span class="bold">-</span><span class="italic">FSkip</span> 变量指定跳过的字段数以到达排序关键字<span class="italic">后</span>的第一个字符，<span class="bold">-</span><span class="italic">CSkip</span> 变量指定在该字段中跳过的列数。可以省略任何要跳过的字段和列。缺省值为：</p>
<a name="wq352"></a>
<table id="wq352" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="10%">
<a id="a196c1140" name="a196c1140"></a><span class="italic">FSkip1</span></td>
<td width="90%">  行开头</td>
</tr>
<tr>
<td>
<a id="a196c1141" name="a196c1141"></a><span class="italic">CSkip1</span></td>
<td>  零</td>
</tr>
<tr>
<td>
<a id="a196c1142" name="a196c1142"></a><span class="italic">FSkip2</span></td>
<td>  行结束</td>
</tr>
<tr>
<td>
<a id="a196c1143" name="a196c1143"></a><span class="italic">CSkip2</span></td>
<td>  零</td>
</tr>
</tbody>
</table>
<a name="e48104f195mart"></a>
<p id="e48104f195mart"><span class="italic">Modifier</span> 变量指定的修改量与 <span class="bold">-k</span> 标志关键字排序定义中的相同。</p>
<a name="a39c3043597janb"></a>
<p id="a39c3043597janb">因为 <span class="bold">+</span><span class="italic">FSkip1</span><span class="bold">.</span><span class="italic">CSkip1</span> 变量指定到达排序关键字前要跳过多少字段和列，所以这些变量指定的字段号和列号通常比排序关键字本身的字段号和列号小 1。例如：</p>
<p></p>
<a name="a196c1146"></a>
<pre id="a196c1146" class="xmp">+2.1b -3r</pre>
<a name="e48104f453mart"></a>
<p id="e48104f453mart">指定排序关键字，从第三字段的第二非空格列开始并扩展至第三字段结束，对这个关键字的排序以逆向整理顺序完成。语句 <tt>+2.1b</tt> 指定跳过两个字段，然后跳过前导空格和另一列。如果 <span class="bold"> +</span><span class="italic">FSkip1</span><span class="bold">.</span><span class="italic">CSkip1</span> 变量在命令行末尾以外或在 <span class="bold"> -</span><span class="italic">FSkip2</span><span class="bold">.</span><span class="italic">CSkip2</span> 变量之后，则忽略该排序关键字。</p>
<a name="e48104f549mart"></a>
<p id="e48104f549mart"><span class="bold">注：</span>一行的最大字段数为 10。</p>
<a name="a133z92913"></a>
<h3 id="a133z92913">标志</h3>
<p></p><blockquote><a name="a189c1e7"></a><span id="a189c1e7" class="pk"></span><span class="bold">注：</span>在任何排序关键字定义前出现的 <span class="bold">-b</span>、<span class="bold">-d</span>、<span class="bold">-f</span>、<span class="bold">-i</span>、<span class="bold">-n</span> 或 <span class="bold">-r</span> 标志应用于所有排序关键字。<span class="bold">-b</span>、<span class="bold">-d</span>、<span class="bold">-f</span>、<span class="bold">-i</span>、<span class="bold">-n</span> 或 <span class="bold">-r</span> 标志都不能单独出现在 <span class="bold">-k</span><span class="italic"> KeyDefinition</span> 之后；如果它们作为修饰符连接 <span class="italic">KeyDefinition</span> 变量，那么就只应用于连接排序关键字。如果这些标志之一跟随在 <span class="bold">+</span><span class="italic">Fskip.Cskip</span> 或 <span class="bold">-</span><span class="italic">Fskip.Cskip</span> 排序关键字定义后，那么该标志只能用于此排序关键字。</blockquote>
<a name="wq353"></a>
<table id="wq353" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="26%">
<a id="a133z92914" name="a133z92914"></a><span class="bold">-A</span></td>
<td width="73%">  使用 ASCII 整理顺序代替当前语言环境的整理顺序在逐字节的基础上排序。</td>
</tr>
<tr>
<td>
<a id="a133z92915" name="a133z92915"></a><span class="bold">-b</span></td>
<td>  忽略前导空格和制表符，找出字段的第一或最后列。</td>
</tr>
<tr>
<td>
<a id="a133z92916" name="a133z92916"></a><span class="bold">-c</span></td>
<td>  检查输入是否已按照标志中指定的排序规则进行排序。如果输入文件排序不正确，就返回一个非零值。</td>
</tr>
<tr>
<td>
<a id="a133z92917" name="a133z92917"></a><span class="bold">-d</span></td>
<td>  使用字典顺序排序。比较中仅考虑字母、数字和空格。</td>
</tr>
<tr>
<td>
<a id="a133z92918" name="a133z92918"></a><span class="bold">-f</span></td>
<td>  比较前将所有小写字母改成大写字母。</td>
</tr>
<tr>
<td>
<a id="a133z92919" name="a133z92919"></a><span class="bold">-i</span></td>
<td>  比较中忽略所有非打印字符。</td>
</tr>
<tr>
<td>
<a id="a2ct2250bob" name="a2ct2250bob"></a><span class="bold">-k</span><span class="italic"> KeyDefinition</span></td>
<td>  指定排序关键字。<span class="italic">KeyDefinition</span> 选项的格式为：
<a name="a39c3043654janb"></a>
<p id="a39c3043654janb">[<tt></tt><span class="italic">  FStart</span><tt></tt>  [<tt></tt><span class="bold">  .</span><span class="italic">CStart</span><tt></tt> 
]<tt></tt>  ]<tt></tt>  [<tt></tt><span class="italic">  Modifier</span><tt></tt>  ]<tt></tt> 
[<tt></tt><span class="bold">  ,</span><tt></tt><span class="bold"></span>   [<tt></tt><span class="italic">  FEnd</span><tt></tt>  [<tt></tt><span class="bold"> .</span><span class="italic">CEnd</span><tt></tt><tt></tt> 
  ]<tt></tt>  ][<tt></tt><span class="italic">  Modifier</span><tt></tt> ]<tt></tt> ]</p> 
<a name="a39c3043688janb"></a>
<p id="a39c3043688janb">排序关键字包括所有以 <span class="italic">FStart</span> 变量指定的字段和 <span class="italic">CStart</span> 变量指定的列开头的字符及以 <span class="italic">FEnd</span> 变量指定的字段和 <span class="italic">CEnd</span> 变量指定的列结束的字符。<span class="italic">Modifier</span> 变量的值可以是 <span class="bold">b</span>、<span class="bold">d</span>、<span class="bold">f</span>、<span class="bold">i</span>、<span class="bold">n</span> 或 <span class="bold">r</span>。 修饰符与同一字母的标志等价。</p></td>
</tr>
<tr>
<td>
<a id="a133z9291b" name="a133z9291b"></a><span class="bold">-m</span></td>
<td>  只合并多个输入文件；假设输入文件已经排序。</td>
</tr>
<tr>
<td>
<a id="a133z9291c" name="a133z9291c"></a><span class="bold">-n</span></td>
<td>  按算术值对数字字段排序。数字字段可包含前导空格、可选减号、十进制数字、千分位分隔符和可选基数符。对包含任何非数字字符的字段进行数字排序会出现无法预知的结果。</td>
</tr>
<tr>
<td>
<a id="a133z9291d" name="a133z9291d"></a><span class="bold">-o</span><span class="italic"> OutFile</span></td>
<td>  将输出指向 <span class="italic">OutFile</span> 参数指定的文件，而不是标准输出。<span class="italic">OutFile</span> 参数值可以与 <span class="italic">File</span> 参数值相同。</td>
</tr>
<tr>
<td>
<a id="a133z9291e" name="a133z9291e"></a><span class="bold">-r</span></td>
<td>  颠倒指定排序的顺序。</td>
</tr>
<tr>
<td>
<a id="a133z9291f" name="a133z9291f"></a><span class="bold">-t</span><span class="italic"> Character</span></td>
<td>  指定 <span class="italic">Character</span> 为单一的字段分隔符。</td>
</tr>
<tr>
<td>
<a id="a133z92921" name="a133z92921"></a><span class="bold">-u</span></td>
<td>  禁止按照排序关键字和选项的所有等同排序（每一组行中一行除外）。</td>
</tr>
<tr>
<td>
<a id="a133z92920" name="a133z92920"></a><span class="bold">-T</span><span class="italic"> Directory</span></td>
<td>  将创建的所有临时文件放入 <span class="italic">Directory</span> 参数指定的目录中。</td>
</tr>
<tr>
<td>
<a id="a4sj2210craw" name="a4sj2210craw"></a><span class="bold">-y</span>[<span class="italic">Kilobytes</span>]<span class="italic"></span></td>
<td>  用 <span class="italic">Kilobytes</span> 参数指定的主存储的千字节数启动 <span class="bold">sort</span> 命令，并根据需要增加存储量。（如果 <span class="italic">Kilobytes</span> 参数指定的值小于最小存储站点或大于最大存储站点，就以这个最小存储站点或最大存储站点取代）。如果省略 <span class="bold">-y</span> 标志，<span class="bold">sort</span> 命令以缺省的存储大小启动。<span class="bold">-y0</span> 标志用最小存储启动，
而 <span class="bold">-y</span> 标志（不带 <span class="italic">Kilobytes</span> 值）用最大存储启动。<span class="bold">sort</span> 命令使用的存储量显著地影响性能。以大存储量对小文件排序将很浪费。</td>
</tr>
<tr>
<td>
<a id="mqqrg4bjenn" name="mqqrg4bjenn"></a><span class="bold">-z</span><span class="italic"> RecordSize</span></td>
<td>  如果正在排序的任一行大于缺省的缓冲区大小，要防止出现异常终止。指定 <span class="bold">-c</span> 或 <span class="bold">-m</span> 标志时，省略排序阶段，使用系统的缺省缓冲大小。如果已排序行超出这一大小，排序异常终止。<span class="bold">-z</span> 选项指定排序阶段最长行的记录，因而可在合并阶段分配足够的缓冲区。<span class="italic">RecordSize</span> 必须指明等于或大于要合并的最长行的字节值。</td>
</tr>
</tbody>
</table>
<a name="d848f1b586jani"></a>
<h3 id="d848f1b586jani">退出状态</h3>
<a name="e481051310mart"></a>
<p id="e481051310mart">该命令返回以下出口值：</p>
<a name="wq354"></a>
<table id="wq354" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="d848f1b662jani" name="d848f1b662jani"></a><span class="bold">0</span></td>
<td width="95%">  所有输入文件成功输出，或指定了 <span class="bold">-c</span> 且正确排序了输入文件。</td>
</tr>
<tr>
<td>
<a id="d848f1b700jani" name="d848f1b700jani"></a><span class="bold">1</span></td>
<td>  在 <span class="bold">-c</span> 选项下，文件没有按指定排序，或如果指定 <span class="bold">-c</span> 和 <span class="bold">-u</span> 选项，找到了两个具有相同关键字的输入行。</td>
</tr>
<tr>
<td>
<a id="d848f1b735jani" name="d848f1b735jani"></a><span class="bold">&gt;1</span></td>
<td>  发生错误。</td>
</tr>
</tbody>
</table>
<a name="a133z92922"></a>
<h3 id="a133z92922">示例</h3>
<ol type="1">
<li><a name="a133z92923"></a><span id="a133z92923" class="pk"></span>要在 <span class="bold">LC_ALL</span>、<span class="bold">LC_COLLATE</span> 或 <span class="bold">LANG</span> 环境变量设置为 <tt>En_US</tt> 的情况下排序 <tt>fruits</tt> 文件，请输入：
<p></p>
<a name="a133z92924"></a>
<pre id="a133z92924" class="xmp">LANG=En_US sort fruits</pre><p class="indatacontent"> 此命令序列显示以升序词典顺序排序的 <tt>fruits</tt> 文件的内容。每一列的字符，包括空格、数字和特殊字符都经一一比较。例如，如果 <tt>fruits</tt> 文件包含文本：</p>
<a name="a133z92926"></a>
<pre id="a133z92926" class="xmp">banana
orange
Persimmon
apple
%%banana
apple
ORANGE</pre><p class="indatacontent"> <span class="bold">sort</span> 命令显示:</p>
<a name="a133z92928"></a>
<pre id="a133z92928" class="xmp">%%banana
ORANGE
Persimmon
apple
apple
banana
orange</pre><p class="indatacontent"> 在 ASCII 整理序列中，<tt>%</tt>（百分号）在大写字母前，大写字母在小写字母前。如果您当前的语言环境指定 ASCII 之外的字符集，结果可能不同。</p></li>
<li><a name="a133z9292a"></a><span id="a133z9292a" class="pk"></span>要以字典顺序排序，请输入：
<a id="a133z9292b" name="a133z9292b"></a>
<div class="lines"><tt>sort&nbsp;&nbsp;<a href="sort.htm#a133z92917">-d </a>fruits</tt><br />
</div> 此命令序列排序和显示 <tt>fruits</tt> 文件的内容，并且只比较字母、数字和空格。如果 <tt>fruits</tt> 文件与示例 1 相同，那么 <span class="bold">sort</span> 命令显示：
<p></p>
<a name="a133z9292d"></a>
<pre id="a133z9292d" class="xmp">ORANGE
Persimmon
apple
apple
%%banana
banana
orange</pre><p class="indatacontent"> <span class="bold">-d</span> 标志忽略 <tt>%</tt>（百分号）字符，因为它不是个字母、数字或空格。（即 <tt>%%banana</tt> 被 <tt>banana</tt> 取代）。</p></li>
<li><a name="a133z9292f"></a><span id="a133z9292f" class="pk"></span>要将包含大写字母和具有类似小写行的特殊字符行分组，请输入：
<a id="a133z92930" name="a133z92930"></a>
<div class="lines"><tt>sort <a href="sort.htm#a133z92917">-d </a> <a href="sort.htm#a133z92918">-f </a>fruits</tt><br />
</div> <span class="bold">-d</span> 标志忽略特殊字符，<span class="bold">-f</span> 标志忽略大小写差异。将 <span class="bold">LC_ALL</span>、<span class="bold">LC_COLLATE</span> 或 <span class="bold">LANG</span> 环境变量设置为 <tt>C</tt> 的情况下，<tt>fruits</tt> 文件的输出结果变为：
<p></p>
<a name="a133z92932"></a>
<pre id="a133z92932" class="xmp">apple
apple
%%banana
banana
ORANGE
orange
Persimmon</pre></li>
<li><a name="a133z92933"></a><span id="a133z92933" class="pk"></span>要除去重复行排序，请输入：
<a id="a133z92934" name="a133z92934"></a>
<div class="lines"><tt>sort&nbsp;&nbsp;<a href="sort.htm#a133z92917">-d</a>&nbsp;&nbsp;<a href="sort.htm#a133z92918">-f</a>&nbsp;&nbsp;<a href="sort.htm#a133z92921">-u</a> fruits</tt><br />
</div> <span class="bold">-u</span> 标志告诉 <span class="bold">sort</span> 命令除去重复的行，使文件中的每一行唯一。此命令序列显示：
<p></p>
<a name="a133z92936"></a>
<pre id="a133z92936" class="xmp">apple
%%banana
orange
Persimmon</pre><p class="indatacontent"> 不仅除去重复的 <tt>apple</tt>，而且也除去了 <tt>banana</tt> 和 <tt>ORANGE</tt>。除去这些是因为 <span class="bold">-d</span> 标志忽略 <tt>%%</tt> 这个特殊字符，<span class="bold">-f</span> 标志忽略大小写差异。</p></li>
<li><a name="a133z92939"></a><span id="a133z92939" class="pk"></span>要如例 4 那样排序，除去重复的实例（除非是大写字母或标点不同），请输入：
<a id="a133z9293a" name="a133z9293a"></a>
<div class="lines"><tt>sort&nbsp;&nbsp;<a href="sort.htm#a133z92921">-u </a>+0&nbsp;&nbsp;<a href="sort.htm#a133z92917">-d </a> <a href="sort.htm#a133z92918">-f </a>+0 fruits</tt><br />
</div> 输入 <tt>+0 -d -f</tt> 完成的排序与示例 3 中 <tt>-d -f</tt> 的排序类型相同，<tt>+0</tt> 进行另一项比较以区分不一样的行。这防止 <span class="bold">-u</span> 标志将它们除去。
<a name="a133z9293c"></a>
<p id="a133z9293c">示例 1 所示的 <tt>fruits</tt> 文件中，添加的 <tt>+0</tt> 将 <tt>%%banana</tt> 与 <tt>banana</tt> 及 <tt>ORANGE</tt> 与 <tt>orange</tt> 区分开来。然而，<tt>apple</tt> 的两个实例是相同的，所以其中之一被删除。</p> 
<p></p>
<a name="a133z9293d"></a>
<pre id="a133z9293d" class="xmp">apple
%%banana
banana
ORANGE
orange
Persimmon</pre></li>
<li><a name="a133z9293e"></a><span id="a133z9293e" class="pk"></span>要指定分隔字段的字符，请输入：
<a id="a133z9293f" name="a133z9293f"></a>
<div class="lines"><tt>sort&nbsp;&nbsp;<a href="sort.htm#a133z9291f">-t</a>: +1 vegetables</tt><br />
</div> 此命令序列排序 <tt>vegetables</tt> 文件，对每一行上第一个冒号后的文本进行比较。<tt>+1</tt> 告诉 <span class="bold"> sort</span> 命令忽略第一字段，从第二字段的开始到该行的结束进行比较。<tt>-t:</tt> 标志告诉 <span class="bold">sort</span> 命令冒号分隔字段。如果 <tt>vegetables</tt> 包含：
<p></p>
<a name="a133z92941"></a>
<pre id="a133z92941" class="xmp">yams:104
turnips:8
potatoes:15
carrots:104
green beans:32
radishes:5
lettuce:15</pre><p class="indatacontent"> 那么，将 <span class="bold">LC_ALL</span>、<span class="bold">LC_COLLATE</span> 或 <span class="bold">LANG</span> 环境变量设置为 C 的情况下，<span class="bold">sort</span> 命令将显示：</p>
<a name="a133z92943"></a>
<pre id="a133z92943" class="xmp">carrots:104
yams:104
lettuce:15
potatoes:15
green beans:32
radishes:5
turnips:8</pre><p class="indatacontent"> 注意数字没有按照数字排序。当用字典式分类从左至右比较每一个字符时出现这种情况。换句话说，<tt>3</tt> 在 <tt>5</tt> 之前，所以 <tt>32</tt> 在 <tt>5</tt> 之前。</p></li>
<li><a name="a133z92945"></a><span id="a133z92945" class="pk"></span>要排序数字，请输入：
<a id="a133z92946" name="a133z92946"></a>
<div class="lines"><tt>sort&nbsp;&nbsp;<a href="sort.htm#a133z9291f">-t</a>: +1&nbsp;&nbsp;<a href="sort.htm#a133z9291c">-n </a>vegetables</tt><br />
</div> 此命令序列按照第二个字段对 <tt>vegetables</tt> 文件进行数字排序。如果 <tt>vegetables</tt> 文件与示例 6 中的相同，那么 <span class="bold">sort</span> 命令将显示：
<p></p>
<a name="a133z92948"></a>
<pre id="a133z92948" class="xmp">radishes:5
turnips:8
lettuce:15
potatoes:15
green beans:32
carrots:104
yams:104</pre></li>
<li><a name="a133z92949"></a><span id="a133z92949" class="pk"></span>要对多个字段排序，请输入：
<a id="a133z9294a" name="a133z9294a"></a>
<div class="lines"><tt>sort&nbsp;&nbsp;<a href="sort.htm#a133z9291f">-t</a>: +1 -2&nbsp;&nbsp;<a href="sort.htm#a133z9291c">-n </a>+0 -1&nbsp;&nbsp;<a href="sort.htm#a133z9291e">-r </a>vegetables</tt><br />
</div> 或 
<a id="a85c148" name="a85c148"></a>
<div class="lines"><tt>sort&nbsp;&nbsp;<a href="sort.htm#a133z9291f">-t</a>:&nbsp;&nbsp;<a href="sort.htm#a2ct2250bob">-k</a>2,2 <a href="sort.htm#a133z9291c">n </a> <a href="sort.htm#a2ct2250bob">-k</a>1,1 <a href="sort.htm#a133z9291e">r </a>vegetables</tt><br />
</div> 此命令序列对第二字段（<tt>+1 -2 -n</tt>）进行数字排序。在这个顺序中，它以逆字母顺序（<tt>+0 -1 -r</tt>）对第一字段排序。将 <span class="bold">LC_ALL</span>、<span class="bold">LC_COLLATE</span> 或 <span class="bold">LANG</span> 环境变量设置为 C 的情况下，输出将类似于：
<p></p>
<a name="a133z9294c"></a>
<pre id="a133z9294c" class="xmp">radishes:5
turnips:8
potatoes:15
lettuce:15
green beans:32
yams:104
carrots:104</pre><p class="indatacontent"> 此命令按数字顺序对行排序。当两行数字相同时，它们以逆字母顺序出现。</p></li>
<li><a name="a133z9294e"></a><span id="a133z9294e" class="pk"></span>要使用排序的文本替换原始文件，请输入：
<a id="a133z9294f" name="a133z9294f"></a>
<div class="lines"><tt>sort&nbsp;&nbsp;<a href="sort.htm#a133z9291d">-o </a>vegetables vegetables</tt><br />
</div> 此命令序列将排序输出存入 <tt>vegetables</tt> 文件（ <tt>-o vegetables</tt>）。</li></ol>
<a name="a133z92953"></a>
<h3 id="a133z92953">文件</h3>
<p></p>
<a name="wq356"></a>
<table id="wq356" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="21%">
<a id="a285f07c" name="a285f07c"></a><span class="bold">/usr/bin/sort</span></td>
<td width="78%">  包含 <span class="bold">sort</span> 命令。</td>
</tr>
</tbody>
</table><p class="indatacontent"> </p>
<a name="wq357"></a>
<table id="wq357" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="bf81bb8736mary" name="bf81bb8736mary"></a><span class="bold">/var/tmp</span></td>
<td width="86%">  <span class="bold">sort</span> 命令处理期间的临时空间。</td>
</tr>
<tr>
<td>
<a id="bf81bb9011mary" name="bf81bb9011mary"></a><span class="bold">/usr/tmp</span></td>
<td>  如果不能在 <span class="bold">/var/tmp</span> 中创建文件，是 <span class="bold">sort</span> 命令处理期间的临时空间。</td>
</tr>
<tr>
<td>
<a id="a0476f79719mart" name="a0476f79719mart"></a><span class="bold">/tmp</span></td>
<td>  如果不能在 <span class="italic">/var/tmp</span> 或 <span class="bold">/usr/tmp</span> 中创建文件，是 <span class="bold">sort</span> 命令处理期间的临时空间。</td>
</tr>
</tbody>
</table>
<a name="a133z92955"></a>
<h3 id="a133z92955">相关信息</h3>
<a name="e481055852mart"></a>
<p id="e481055852mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds1/comm.htm#a1219b8d"><span class="bold">comm</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/join.htm#pcg120fish"><span class="bold">join</span></a> 命令和 <a href="uniq.htm#a133z925d9"><span class="bold">uniq</span></a> 命令。</p>
<a name="e481055947mart"></a>
<p id="e481055947mart"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixuser/usrosdev/files.htm#rl33b0fish">『文件概述』</a>和<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixuser/usrosdev/input_output_redir.htm#aan1340gsc">『输入输出重定向概述』</a>。</p>
<a name="e481056042mart"></a>
<p id="e481056042mart"><span class="italic">AIX 5L Version 5.2 National Language Support Guide and Reference</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/nlsgdrf/nat_lang_support.htm">National Language Support</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="sort.htm#Top_Of_Page">页的顶部</a> | <a href="soelim.htm">上一页</a> | <a href="sortbib.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
