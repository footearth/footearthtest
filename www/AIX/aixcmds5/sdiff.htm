<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - sdiff 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="sdiff 命令, 使用 sdiff 命令, 比较二者, 文件,
显示二者的并排比较" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="sdiff.htm#Bot_Of_Page">页的底部</a> | <a href="script.htm">上一页</a> | <a href="secldapclntd.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="c7j220filt"></a>
<h2 id="c7j220filt">sdiff 命令</h2>
<p><a id="idx60" name="idx60"></a></p>
<a name="a133z91b71"></a>
<h3 id="a133z91b71">用途</h3>
<a name="f9fad9e173mart"></a>
<p id="f9fad9e173mart">比较两个文件并以并排的格式显示差别。<a id="idx61" name="idx61"></a>
 <a id="idx62" name="idx62"></a></p>
<a name="a133z91b73"></a>
<h3 id="a133z91b73">语法</h3>
<p><span class="bold">sdiff</span> [&nbsp; <a href="sdiff.htm#a133z91b7a"><span class="bold">-l</span></a> |  <a href="sdiff.htm#aqz3e0fish"><span class="bold">-s&nbsp;</span></a>] [&nbsp; <a href="sdiff.htm#itz3160fish"><span class="bold">-o</span></a><span class="bold">&nbsp;</span><span class="italic">OutFile</span> ] [&nbsp; <a href="sdiff.htm#dxz320fish"><span class="bold">-w</span></a><span class="italic">&nbsp;Number&nbsp;</span>] <span class="italic">File1</span><span class="italic"> File2</span></p>
<a name="a133z91b75"></a>
<h3 id="a133z91b75">描述</h3>
<a name="f9fad9e547mart"></a>
<p id="f9fad9e547mart"><span class="bold">sdiff</span> 命令读取由 <span class="italic">File1</span> 和 <span class="italic">File2</span> 参数指定的文件，使用 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds2/diff.htm"><span class="bold">diff</span></a> 命令比较二者，并将结果以并排格式写到标准输出中。如果行相同，那么 <span class="bold">sdiff</span> 命令就会显示两个文件的每一行，其间有一系列的空格。如果行只存在于 <span class="italic">File1</span> 参数指定的文件中，那么在空白字段里就会显示 &lt;（小于号），如果行只存在于 <span class="italic">File2</span> 参数指定的文件中，那么就显示 &gt;（大于号），如果两行不同就显示 |（竖线）。</p>
<a name="f9fad9e642mart"></a>
<p id="f9fad9e642mart">当您指定了 <a href="sdiff.htm#itz3160fish"><span class="bold">-o</span></a> 标志时，<span class="bold">sdiff</span> 命令就会将 <span class="italic">File1</span> 和 <span class="italic">File2</span> 参数指定的文件合并，产生第三个文件。</p>
<a name="a133z91b78"></a>
<p id="a133z91b78"><span class="bold">注：</span><span class="bold">sdiff</span> 命令调用 <span class="bold">diff -b</span> 命令来比较两个输入文件。
<span class="bold">-b</span> 标志会引起 <span class="bold">diff</span> 命令忽略尾随空格和制表符，并将其它空格字符串视为相同。</p>
<a name="a133z91b79"></a>
<h3 id="a133z91b79">标志</h3>
<p></p>
<a name="wq67"></a>
<table id="wq67" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="16%">
<a id="a133z91b7a" name="a133z91b7a"></a><span class="bold">-l</span></td>
<td width="83%">  当行相同时只显示左侧。</td>
</tr>
<tr>
<td>
<a id="itz3160fish" name="itz3160fish"></a><span class="bold">-o</span><span class="italic"> OutFile</span></td>
<td>  通过将 <span class="italic">File1</span> 和 <span class="italic">File2</span> 参数指定的两个文件在受控下逐行合并，来创建 <span class="italic">OutFile</span> 变量指定的第三个文件。以下子命令管理该文件的创建：
<dl>
<dt id="a133z91b82" class="bold">
<a name="a133z91b82"></a><span class="bold">e</span></dt>
<dd>  以空文件开始 <span class="bold">ed</span> 命令。
</dd>
<dt id="c2ef63e998harr" class="bold">
<a name="c2ef63e998harr"></a><span class="bold">e b</span> or <span class="bold">e |</span></dt>
<dd>  从两侧开始 <span class="bold">ed</span> 命令。
</dd>
<dt id="c2ef63f076harr" class="bold">
<a name="c2ef63f076harr"></a><span class="bold">e l</span> or <span class="bold">e &lt;</span></dt>
<dd>  从左侧开始 <span class="bold">ed</span> 命令。
</dd>
<dt id="c2ef63f155harr" class="bold">
<a name="c2ef63f155harr"></a><span class="bold">e r</span> or <span class="bold">e &gt;</span></dt>
<dd>  从右侧开始 <span class="bold">ed</span> 命令。
</dd>
<dt id="c2ef63f234harr" class="bold">
<a name="c2ef63f234harr"></a><span class="bold">l</span></dt>
<dd>  将左侧添加到输出文件。
</dd>
<dt id="c2ef63f311harr" class="bold">
<a name="c2ef63f311harr"></a><span class="bold">r</span></dt>
<dd>  将右侧添加到输出文件。
</dd>
<dt id="c2ef63f388harr" class="bold">
<a name="c2ef63f388harr"></a><span class="bold">s</span></dt>
<dd>  停止显示相同的行。
</dd>
<dt id="c2ef63f466harr" class="bold">
<a name="c2ef63f466harr"></a><span class="bold">v</span></dt>
<dd>  开始显示相同的行。
</dd>
<dt id="a133z91b84" class="bold">
<a name="a133z91b84"></a><span class="bold">q</span></dt>
<dd>  执行以下功能之一：
<ul>
<li id="d80e9a5184jani">
<a name="d80e9a5184jani"></a>退出 <span class="bold">ed</span> 命令。</li>
<li id="d80e9a5285jani">
<a name="d80e9a5285jani"></a>如果没有运行 <span class="bold">ed</span> 命令，则退出 <span class="bold">sdiff</span> 命令。</li>
<li id="d80e9a5416jani">
<a name="d80e9a5416jani"></a>退出两条命令。不再有合并至输出文件的行时，执行该操作。</li></ul> 
<a name="d80e9a5530jani"></a>
<p id="d80e9a5530jani">每次退出 <span class="bold">ed</span> 命令时，<span class="bold">sdiff</span> 命令将作为结果的已编辑文件写到 <span class="italic">OutFile</span> 变量指定的文件结尾。如果您在退出之前没有保存更改（例如，按下 Ctrl-C 按键顺序），那么 <span class="bold">sdiff</span> 命令将初始的输入写到输出文件中。</p>
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="aqz3e0fish" name="aqz3e0fish"></a><span class="bold">-s</span></td>
<td>  不显示相同的行。</td>
</tr>
<tr>
<td>
<a id="dxz320fish" name="dxz320fish"></a><span class="bold">-w</span><span class="italic"> Number</span></td>
<td>  设置输出行的宽度。<span class="italic">Number</span> 变量的缺省值是 130 个字符。<span class="italic">Number</span> 变量的最大宽度是 2048。<span class="italic">Number</span> 变量的最小宽度是 20。如果指定的值大于 2048，那么 <span class="bold">sdiff</span> 命令使用 2048。</td>
</tr>
</tbody>
</table>
<a name="a2ik60fish"></a>
<h3 id="a2ik60fish">示例</h3>
<ol type="1">
<li><a name="pz31a0fish"></a><span id="pz31a0fish" class="pk"></span>要打印两个文件的比较，请输入：
<p></p>
<a name="a133z91b85"></a>
<pre id="a133z91b85" class="xmp">sdiff&nbsp;chap1.bak&nbsp;chap1&nbsp;</pre><p class="indatacontent"> <span class="bold">sdiff</span> 命令显示并排的列表，它比较 <tt>chap1.bak</tt> 和 <tt>chap1</tt> 文件的每行。</p></li>
<li><a name="a133z91b87"></a><span id="a133z91b87" class="pk"></span>要只显示不同的行，请输入：
<a id="a133z91b88" name="a133z91b88"></a>
<div class="lines"><tt>sdiff&nbsp; <a href="sdiff.htm#aqz3e0fish">-s&nbsp;</a> <a href="sdiff.htm#dxz320fish">-w&nbsp;</a>80&nbsp;chap1.bak&nbsp;chap1</tt><br />
</div> <span class="bold">sdiff</span> 命令在工作站显示差别。
<tt>-w 80</tt> 标志和变量将页宽设置为 80 列。
<tt>-s</tt> 标志表示不显示两个文件中相同的行。</li>
<li><a name="a133z91b8a"></a><span id="a133z91b8a" class="pk"></span>要有选择地组合两个文件的部分，请输入：
<a id="a133z91b8b" name="a133z91b8b"></a>
<div class="lines"><tt>sdiff&nbsp; <a href="sdiff.htm#aqz3e0fish">-s&nbsp;</a> <a href="sdiff.htm#dxz320fish">-w&nbsp;</a>80&nbsp; <a href="sdiff.htm#itz3160fish">-o&nbsp;</a>chap1.combo&nbsp;chap1.bak&nbsp;chap1</tt><br />
</div> <span class="bold">sdiff</span> 命令将 <tt>chap1.bak</tt> 和 <tt>chap1</tt> 文件组合成名为 <tt>chap1.combo</tt> 的新文件。对于每组不同的行，<span class="bold">sdiff</span> 命令会提示您保持哪个组或是否想使用 <span class="bold">ed</span> 命令来对其进行编辑。</li>
<li><a name="d80e9a7171jani"></a><span id="d80e9a7171jani" class="pk"></span>要组合和编辑两个文件（<tt>staff.jan</tt> 和 <tt>staff.apr</tt>），并将结果写到 <tt>staff.year</tt> 文件中，请执行标明的步骤。

<a name="d80e9a7260jani"></a>
<p id="d80e9a7260jani"><tt>staff.jan</tt> 文件包含以下行：</p> 
<p></p>
<a name="d80e9a7376jani"></a>
<pre id="d80e9a7376jani" class="xmp">会计部门成员
Andrea
George
Karen
Sam
Thomas</pre><p class="indatacontent"> <tt>staff.apr</tt> 文件包含以下行：
</p>
<a name="d80e9a7680jani"></a>
<pre id="d80e9a7680jani" class="xmp">会计部门成员
Andrea
Fred
Mark
Sam
Wendy</pre> 
<ol type="a">
<li><a name="d80e9a7838jani"></a><span id="d80e9a7838jani" class="pk"></span>请输入以下命令：
<p></p>
<a name="d80e9a8002jani"></a>
<pre id="d80e9a8002jani" class="xmp">sdiff -o staff.year staff.jan staff.apr</pre><p class="indatacontent"> <span class="bold">sdiff</span> 命令会开始比较 <tt>staff.jan</tt> 和 <tt>staff.apr</tt> 文件的内容，并将结果写到 <tt>staff.year</tt> 文件中。<span class="bold">sdiff</span> 命令显示以下内容：</p>
<a name="d80e9a8201jani"></a>
<pre id="d80e9a8201jani" class="xmp">会计部门成员&nbsp;&nbsp;&nbsp;会计部门成员
Andrea                          &nbsp;&nbsp;Andrea
George                          |&nbsp;Fred
%</pre><p class="indatacontent"> %（百分号）是命令提示符。</p></li>
<li><a name="d80e9a8397jani"></a><span id="d80e9a8397jani" class="pk"></span>输入 <span class="bold">e b</span> 子命令以开始使用 <span class="bold">ed</span> 命令编辑输出文件。
<a name="d80e9a8985jani"></a>
<p id="d80e9a8985jani"><span class="bold">sdiff</span> 命令显示数字序列，它表示合并的行的字节数。在这种情况下，字节数是 <tt>23</tt>。</p></li>
<li><a name="d80e9a9049jani"></a><span id="d80e9a9049jani" class="pk"></span>输入 <span class="bold">q</span> 子命令以退出 <span class="bold">ed</span> 命令，并继续组合和编辑这两个文件。
<span class="bold">sdiff</span> 命令显示以下内容：
<p></p>
<a name="d80e9a9194jani"></a>
<pre id="d80e9a9194jani" class="xmp">Sam                            &nbsp;&nbsp;Sam
Thomas                          |&nbsp;Wendy
  </pre></li>
<li><a name="d80e9a9318jani"></a><span id="d80e9a9318jani" class="pk"></span>请再次输入 <span class="bold">e b</span> 子命令。每当两个原始文件的一组行合并成输出文件时，必须运行 <span class="bold">ed</span> 命令。在本例中的字节数是 <tt>13</tt>。</li>
<li><a name="d80e9a9423jani"></a><span id="d80e9a9423jani" class="pk"></span>请输入 <span class="bold">q</span> 子命令来保存更改。当将两个文件的所有行都合并成输出文件时，<span class="bold">q</span> 子命令退出 <span class="bold">ed</span> 和 <span class="bold">sdiff</span> 命令。</li></ol> 现在 <tt>staff.year</tt> 文件包含以下内容：
<p></p>
<a name="d80e9a9643jani"></a>
<pre id="d80e9a9643jani" class="xmp">会计部门成员
Andrea
George
Karen
Fred
Mark
Sam
Thomas
Wendy</pre></li></ol>
<a name="a133z91b8f"></a>
<h3 id="a133z91b8f">文件</h3>
<p></p>
<a name="wq70"></a>
<table id="wq70" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="23%">
<a id="a133z91b90" name="a133z91b90"></a><span class="bold">/usr/bin/sdiff</span></td>
<td width="76%">  包含 <span class="bold">sdiff</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a133z91b91"></a>
<h3 id="a133z91b91">相关信息</h3>
<a name="f9fada2813mart"></a>
<p id="f9fada2813mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds2/diff.htm"><span class="bold">diff</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds2/ed.htm#a133z9c66"><span class="bold">ed</span></a> 命令。</p>
<a name="f9fada2909mart"></a>
<p id="f9fada2909mart"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixuser/usrosdev/files.htm#rl33b0fish">『文件概述』</a>和<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixuser/usrosdev/input_output_redir.htm#aan1340gsc">『输入和输出重定向概述』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="sdiff.htm#Top_Of_Page">页的顶部</a> | <a href="script.htm">上一页</a> | <a href="secldapclntd.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
