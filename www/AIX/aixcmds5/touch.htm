<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - touch 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="touch 命令, touch, 命令, 更新, 访问时间, 文件,
修改时间, 时间戳记" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="touch.htm#Bot_Of_Page">页的底部</a> | <a href="topsvcsctrl.htm">上一页</a> | <a href="tprof.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="ohk350craw"></a>
<h2 id="ohk350craw">touch 命令</h2><a id="idx480" name="idx480"></a><a id="idx481" name="idx481"></a>
<a name="a133z914c1"></a>
<h3 id="a133z914c1">用途</h3><a id="idx482" name="idx482"></a><a id="idx483" name="idx483"></a><a id="idx484" name="idx484"></a><a id="idx485" name="idx485"></a>
<a name="f896bf8026mart"></a>
<p id="f896bf8026mart">更新文件的访问和修改时间。</p>
<a name="a133z914c3"></a>
<h3 id="a133z914c3">语法</h3>
<p><span class="bold">touch&nbsp;</span>[&nbsp; <a href="touch.htm#a133z914cc"><span class="bold">-a&nbsp;</span></a>]&nbsp;[&nbsp; <a href="touch.htm#a133z914cd"><span class="bold">-c&nbsp;</span></a>]&nbsp;[&nbsp; <a href="touch.htm#a133z914ce"><span class="bold">-m&nbsp;</span></a>]&nbsp;[&nbsp; <a href="touch.htm#a133z914b9"><span class="bold">-f</span></a> ]&nbsp;[&nbsp; <a href="touch.htm#vop12e0bob"><span class="bold">-r</span></a><span class="italic">&nbsp;RefFile&nbsp;</span>] [&nbsp;<span class="italic">Time&nbsp;</span>|&nbsp; <a href="touch.htm#wqp11c0bob"><span class="bold">-t</span></a><span class="italic">&nbsp;Time&nbsp;</span>]&nbsp;{&nbsp;<span class="italic">File&nbsp;</span>...&nbsp;|&nbsp;<span class="italic">Directory&nbsp;</span>...&nbsp;}</p>
<a name="a133z914c7"></a>
<h3 id="a133z914c7">描述</h3>
<a name="f896bf8410mart"></a>
<p id="f896bf8410mart"><span class="bold">touch</span> 命令更新由 <span class="italic">Directory</span> 参数指定的每个目录下的由 <span class="italic">File</span> 参数指定的每个文件的访问和修改时间。如果没有指定 <span class="italic">Time</span> 变量值，<span class="bold">touch</span> 命令就使用当前时间。如果指定了一个不存在的文件，<span class="bold">touch</span> 命令就创建此文件，除非指定了 <a href="touch.htm#a133z914cd"><span class="bold">-c</span></a> 标志。</p>
<a name="f896bf8509mart"></a>
<p id="f896bf8509mart"><span class="bold">touch</span> 命令的返回码是时间没有被成功修改的文件数目（包括不存在的文件和没有创建的文件）。</p>
<a name="wq1034"></a>
<div class="notetitle" id="wq1034">注:</div>
<div class="notebody"><a name="d84cd9d751jani"></a><span id="d84cd9d751jani" class="pk"></span>任何超出 2038 年（包含2038年）的日期都是无效的。</div>
<a name="a133z914cb"></a>
<h3 id="a133z914cb">标志</h3>
<p></p>
<a name="wq1035"></a>
<table id="wq1035" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="16%">
<a id="a133z914cc" name="a133z914cc"></a><span class="bold">-a</span></td>
<td width="83%">  更改由 <span class="italic">File</span> 变量指定的文件的访问时间。不要更改修改时间，除非也指定了 <span class="bold">-m</span> 标志。</td>
</tr>
<tr>
<td>
<a id="a133z914cd" name="a133z914cd"></a><span class="bold">-c</span></td>
<td>  如果文件不存在，则不要进行创建。没有写任何有关此条件的诊断消息。</td>
</tr>
<tr>
<td>
<a id="a133z914b9" name="a133z914b9"></a><span class="bold">-f</span></td>
<td>  尝试强制 touch 运行，而不管文件的读和写许可权。</td>
</tr>
<tr>
<td>
<a id="a133z914ce" name="a133z914ce"></a><span class="bold">-m</span></td>
<td>  更改 <span class="italic">File</span> 的修改时间。不要更改访问时间，除非也指定了 <span class="bold">-m</span> 标志。</td>
</tr>
<tr>
<td>
<a id="vop12e0bob" name="vop12e0bob"></a><span class="bold">-r</span><span class="italic"> RefFile</span></td>
<td>  使用由 <span class="italic">RefFile</span> 变量指定的文件的相应时间，而不用当前时间。</td>
</tr>
<tr>
<td>
<a id="bfa5b96651judy" name="bfa5b96651judy"></a><span class="italic">Time</span></td>
<td>  以 <span class="italic">MMDDhhmm</span>[YY] 的格式指定新时间戳记的日期和时间，其中：
<dl>
<dt id="bfa5b96834judy" class="bold">
<a name="bfa5b96834judy"></a><span class="italic">MM</span></dt>
<dd>  指定一年的哪一月（从 01 到 12）。
</dd>
<dt id="bfa5b97108judy" class="bold">
<a name="bfa5b97108judy"></a><span class="italic">DD</span></dt>
<dd>  指定一月的哪一天（从 01 到 31）。
</dd>
<dt id="bfa5b97381judy" class="bold">
<a name="bfa5b97381judy"></a><span class="italic">hh</span></dt>
<dd>  指定一天中的哪一小时（从 00 到 23）。
</dd>
<dt id="bfa5b97567judy" class="bold">
<a name="bfa5b97567judy"></a><span class="italic">mm</span></dt>
<dd>  指定一小时的哪一分钟（从 00 到 59）。
</dd>
<dt id="a39c3ab9538janb" class="bold">
<a name="a39c3ab9538janb"></a><span class="italic">YY</span></dt>
<dd>  指定年份的后两位数字。如果 <span class="italic">YY</span> 变量没有被指定，缺省值为当前年份。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="wqp11c0bob" name="wqp11c0bob"></a><span class="bold">-t</span><span class="italic"> Time</span></td>
<td>  使用指定时间而不是当前时间。<span class="italic">Time</span> 变量以十进制形式 [[<span class="italic">CC</span>]<span class="italic">YY</span>]<span class="italic">MMDDhhmm</span>[<span class="bold">.</span><span class="italic">SS</span>] 指定，其中：
<dl>
<dt id="a92c117b53" class="bold">
<a name="a92c117b53"></a><span class="italic">CC</span></dt>
<dd>  指定年份的前两位数字。
</dd>
<dt id="a92c117b54" class="bold">
<a name="a92c117b54"></a><span class="italic">YY</span></dt>
<dd>  指定年份的后两位数字。
</dd>
<dt id="a92c117b55" class="bold">
<a name="a92c117b55"></a><span class="italic">MM</span></dt>
<dd>  指定一年的哪一月（从 01 到 12）。
</dd>
<dt id="a92c117b56" class="bold">
<a name="a92c117b56"></a><span class="italic">DD</span></dt>
<dd>  指定一月的哪一天（从 01 到 31）。
</dd>
<dt id="a92c117b57" class="bold">
<a name="a92c117b57"></a><span class="italic">hh</span></dt>
<dd>  指定一天中的哪一小时（从 00 到 23）。
</dd>
<dt id="a92c117b58" class="bold">
<a name="a92c117b58"></a><span class="italic">mm</span></dt>
<dd>  指定一小时的哪一分钟（从 00 到 59）。
</dd>
<dt id="a39c3ab9557janb" class="bold">
<a name="a39c3ab9557janb"></a><span class="italic">SS</span></dt>
<dd>  指定一分钟的哪一秒（从 00 到 59）。
</dd>
</dl></td>
</tr>
</tbody>
</table>
<a name="wq1036"></a>
<div class="notelisttitle" id="wq1036">注:</div>
<ol type="1">
<li><a name="f896bfa658mart"></a><span id="f896bfa658mart" class="pk"></span><span class="bold">touch</span> 命令调用 <span class="bold">utime ()</span> 子例程来更改所涉及文件的修改和访问时间。当没有真正拥有该文件，即使对文件有写许可权，使用标志时也可能使 <span class="bold">touch</span> 命令失败。</li>
<li><a name="f896bfa755mart"></a><span id="f896bfa755mart" class="pk"></span>当使用 <span class="bold">touch</span> 命令时，如果接收到错误消息，不要指定完整路径名 <span class="bold">/usr/bin/touch</span>。</li>
</ol>
<a name="ac32d3a947kare"></a>
<h3 id="ac32d3a947kare">退出状态</h3>
<a name="f896bfa915mart"></a>
<p id="f896bfa915mart">命令返回以下出口值：</p>
<a name="wq1038"></a>
<table id="wq1038" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="bfa5b99822judy" name="bfa5b99822judy"></a><span class="bold">0</span></td>
<td width="95%">  命令成功执行。所有请求的更改已完成。</td>
</tr>
<tr>
<td>
<a id="bfa5b9a037judy" name="bfa5b9a037judy"></a><span class="bold">&gt;0</span></td>
<td>  发生一个错误。</td>
</tr>
</tbody>
</table>
<a name="a133z914cf"></a>
<h3 id="a133z914cf">示例</h3>
<ol type="1">
<li><a name="a133z914d0"></a><span id="a133z914d0" class="pk"></span>要更新文件的访问和修改时间，请输入：
<p></p>
<a name="a133z914d1"></a>
<pre id="a133z914d1" class="xmp">touch&nbsp;program。c</pre><p class="indatacontent"> 这会将 <tt>program.c</tt> 文件的上次访问和修改时间设置为当前日期和时间。如果 <tt>program.c</tt> 文件不存在，<span class="bold">touch</span> 命令就创建一个同名的空文件。</p></li>
<li><a name="a133z914d3"></a><span id="a133z914d3" class="pk"></span>要避免创建新文件，请输入：
<a id="a133z914d4" name="a133z914d4"></a>
<div class="lines"><tt>touch&nbsp; <a href="touch.htm#a133z914cd">-c&nbsp;</a>program.c</tt><br />
</div></li>
<li><a name="a133z914d5"></a><span id="a133z914d5" class="pk"></span>要仅更新修改时间，请输入：
<a id="a133z914d6" name="a133z914d6"></a>
<div class="lines"><tt>touch&nbsp; <a href="touch.htm#a133z914ce">-m</a> *.o</tt><br />
</div> 这会更新当前目录下的以 <tt>.o</tt> 扩展名结尾的文件的上次修改时间（不更新访问时间）。<span class="bold">touch</span> 命令经常以此方式使用，来改变 <span class="bold">make</span> 命令的结果。</li>
<li><a name="a133z914d8"></a><span id="a133z914d8" class="pk"></span>要明确设置访问和修改时间，请输入：
<a id="a133z914d9" name="a133z914d9"></a>
<div class="lines"><tt>touch&nbsp; <a href="touch.htm#a133z914cd">-c&nbsp;</a> <a href="touch.htm#wqp11c0bob">-t&nbsp;</a>02171425&nbsp;program.c</tt><br />
</div> 这会将访问和修改时间设置为当前年份的 2 月 17 日的 14:25（2:25 p.m.）。</li>
<li><a name="a133z914be"></a><span id="a133z914be" class="pk"></span>要使用另一文件的时间戳记而不用当前时间，请输入：
<a id="a92c117b5a" name="a92c117b5a"></a>
<div class="lines"><tt>touch&nbsp; <a href="touch.htm#vop12e0bob">-r&nbsp;</a>file1&nbsp;program.c</tt><br />
</div>
这会将 <tt>program.c</tt> 文件的时间戳记设置成与 <tt>file1</tt> 文件一样。</li>
<li><a name="a92c117b5b"></a><span id="a92c117b5b" class="pk"></span>要使用指定时间而不是当前时间处理文件，请输入：
<a id="a92c117b5c" name="a92c117b5c"></a>
<div class="lines"><tt>touch&nbsp; <a href="touch.htm#wqp11c0bob">-t&nbsp;</a>198503030303.55&nbsp;program.c</tt><br />
</div> 这会将 <tt>program.c</tt> 文件的时间戳记设置为 1985 年 3 月 3 日上午 3:03:55。</li></ol>
<a name="a133z914bc"></a>
<h3 id="a133z914bc">文件</h3>
<p></p>
<a name="wq1040"></a>
<table id="wq1040" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="23%">
<a id="a167z94087" name="a167z94087"></a><span class="bold">/usr/bin/touch</span></td>
<td width="76%">  包含 <span class="bold">touch</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a133z914dd"></a>
<h3 id="a133z914dd">相关信息</h3>
<a name="f896bfe008mart"></a>
<p id="f896bfe008mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds2/date.htm#a270961"><span class="bold">date</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/locale.htm#a143c16d7"><span class="bold">locale</span></a>
命令。</p>
<a name="f896bfe101mart"></a>
<p id="f896bfe101mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/libs/basetrf2/utimes.htm#tk290shad"><span class="bold">utime</span></a> 子例程。</p>
<a name="f896bfe198mart"></a>
<p id="f896bfe198mart"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixuser/usrosdev/dir_overview.htm#jy490craw">『目录概述』</a>描述了文件系统中目录的结构和特征。</p>
<p><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixuser/usrosdev/files.htm#rl33b0fish">『文件概述』</a>描述了文件、文件类型以及如何命名文件。</p>
<p><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixuser/usrosdev/file_own_user_grps.htm#wkz4d0mart">『文件和目录访问方式』</a>介绍了文件的所有权和文件与目录的访问许可权。</p>
<a name="f896bfe491mart"></a>
<p id="f896bfe491mart"><span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixprggd/genprogc/ftypes.htm#dez5g3b4judy">Understanding File Types</a> 介绍了控制文件的命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="touch.htm#Top_Of_Page">页的顶部</a> | <a href="topsvcsctrl.htm">上一页</a> | <a href="tprof.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
