<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - strip 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="减少 XCOFF 的大小, 对象文件" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="strip.htm#Bot_Of_Page">页的底部</a> | <a href="strings.htm">上一页</a> | <a href="stripnm.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="a254b9ac39"></a>
<h2 id="a254b9ac39">strip 命令</h2><a id="idx278" name="idx278"></a>
<a name="a254b9ac3b"></a>
<h3 id="a254b9ac3b">用途</h3>
<a name="f9fc6a7297mart"></a>
<p id="f9fc6a7297mart">通过除去绑定程序和符号调试程序使用的信息，减少扩展公共对象文件格式（XCOFF）的对象文件的大小。</p>
<a name="d84a30f954jani"></a>
<h3 id="d84a30f954jani">语法</h3>
<p><span class="bold">strip&nbsp;</span>[ <a href="strip.htm#a27596f6"><span class="bold">-V</span></a>]&nbsp;[&nbsp; <a href="strip.htm#a27596f5"><span class="bold">-r&nbsp;</span></a>[&nbsp; <a href="strip.htm#a27596f4"><span class="bold">-l&nbsp;</span></a>]&nbsp;|&nbsp; <a href="strip.htm#a254b9ac31"><span class="bold">-x&nbsp;</span></a>[&nbsp; <a href="strip.htm#a27596f4"><span class="bold">-l&nbsp;</span></a>]&nbsp;|&nbsp; <a href="strip.htm#a265911cb"><span class="bold">-t&nbsp;</span></a>|&nbsp; <a href="strip.htm#arb7190harr"><span class="bold">-H&nbsp;</span></a>|&nbsp; <a href="strip.htm#hqddj313kbar"><span class="bold">-e&nbsp;</span></a>|&nbsp; <a href="strip.htm#aqddjd0kbar"><span class="bold">-E&nbsp;</span></a>]  [&nbsp; <a href="strip.htm#i0817970940mkm"><span class="bold">-X&nbsp;</span> {<span class="bold">32</span>|<span class="bold">64</span>|<span class="bold">32_64</span>}]</a> [&nbsp; <a href="strip.htm#taavi20evpow"><span class="bold">--&nbsp;</span></a>] &nbsp;<span class="italic">File&nbsp;</span>...</p>
<a name="a254b9ac3f"></a>
<h3 id="a254b9ac3f">描述</h3>
<a name="f9fc6a7958mart"></a>
<p id="f9fc6a7958mart"><span class="bold">strip</span> 命令减少 XCOFF 对象文件的大小。<span class="bold">strip</span> 命令从 XCOFF 对象文件中有选择地除去行号信息、重定位信息、调试段、typchk 段、注释段、文件头以及所有或部分符号表。
一旦您使用该命令，则很难调试文件的符号；因此，通常应该只在已经调试和测试过的生成模块上使用<span class="bold"> strip</span> 命令。使用 <span class="bold">strip</span> 命令减少对象文件所需的存储量开销。</p>
<a name="f9fc6a8198mart"></a>
<p id="f9fc6a8198mart">对于每个对象模块，<span class="bold">strip</span> 命令除去给出的选项所指定的信息。对于每个归档文件，<span class="bold">strip</span> 命令从归档中除去全局符号表。</p>
<a name="f9fc6a8293mart"></a>
<p id="f9fc6a8293mart">可以使用 <span class="bold">ar -s</span> 命令将除去的符号表恢复到归档文件或库文件中。</p>
<a name="f9fc6a8599mart"></a>
<p id="f9fc6a8599mart">没有选项的 <span class="bold">strip</span> 命令除去行号信息、重定位信息、符号表、调试段、typchk 段和注释段。</p>
<a name="a254b9ac43"></a>
<h3 id="a254b9ac43">标志</h3>
<p></p>
<a name="wq614"></a>
<table id="wq614" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="hqddj313kbar" name="hqddj313kbar"></a><span class="bold">-e</span></td>
<td width="95%">  在对象文件的可选头中设置 <span class="bold">F_LOADONLY</span> 标志。如果对象文件放置在归档中，则该标志告知绑定程序（<span class="bold">ld</span> 命令），在与此归档链接时应忽略该对象文件中的符号。</td>
</tr>
<tr>
<td>
<a id="aqddjd0kbar" name="aqddjd0kbar"></a><span class="bold">-E</span></td>
<td>  复位（关闭）对象文件的可选头中的 <span class="bold">F_LOADONLY</span> 位。（请参阅 <span class="bold">-e</span> 标志。）</td>
</tr>
<tr>
<td>
<a id="arb7190harr" name="arb7190harr"></a><span class="bold">-H</span></td>
<td>  除去对象文件头、任何可选的头以及所有段的头部分。

<p></p><blockquote><span class="bold">注：</span>不除去符号表信息。</blockquote></td>
</tr>
<tr>
<td>
<a id="a27596f4" name="a27596f4"></a><span class="bold">-l</span></td>
<td>  （小写 L）从对象文件中除去行号信息。</td>
</tr>
</tbody>
</table><p class="indatacontent"> </p>
<a name="wq615"></a>
<table id="wq615" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="11%">
<a id="a27596f5" name="a27596f5"></a><span class="bold">-r</span></td>
<td width="88%">  除了外部符号和静态符号条目，将全部符号表信息除去。不除去重定位信息。同时除去调试段和 typchk 段。这个选项产生一个对象文件，该对象文件仍可以用作输入到链接编辑器（<span class="bold">ld</span> 命令）中。</td>
</tr>
<tr>
<td>
<a id="a265911cb" name="a265911cb"></a><span class="bold">-t</span></td>
<td>  除去大多数符号表信息，但并不除去函数符号或行号信息。</td>
</tr>
<tr>
<td>
<a id="a27596f6" name="a27596f6"></a><span class="bold">-V</span></td>
<td>  打印 <span class="bold">strip</span> 命令的版本号。</td>
</tr>
<tr>
<td>
<a id="a254b9ac31" name="a254b9ac31"></a><span class="bold">-x</span></td>
<td>  除去符号表信息，但并不除去静态或外部符号信息。
<span class="bold">-x</span> 标志同时除去重定位信息，因此将不可能链接到该文件。</td>
</tr>
<tr>
<td>
<a id="i0817970940mkm" name="i0817970940mkm"></a><span class="bold">-X</span><span class="italic"> mode</span></td>
<td>  指定应检查 <span class="bold">strip</span> 的对象文件的类型。
<span class="italic">mode</span> 必须是下列之一：
<dl>
<dt class="bold">32</dt>
<dd>只处理 32 位对象文件
</dd>
<dt class="bold">64</dt>
<dd>只处理 64 位对象文件
</dd>
<dt class="bold">32_64</dt>
<dd>既处理 32 位对象文件，又处理 64 位对象文件
</dd>
</dl> 
<p>缺省值是处理 32 位对象文件（忽略 64 位对象文件）。也可以用 <span class="bold">OBJECT_MODE</span> 环境变量来设置 <span class="italic">mode</span>。例如，<span class="bold">OBJECT_MODE=64 </span>使 <span class="bold">strip</span> 处理任何 64 位对象文件，并忽略 32 位对象文件。<span class="bold">-X</span> 标志重设 <span class="bold">OBJECT_MODE</span> 变量。</p></td>
</tr>
<tr>
<td>
<a id="taavi20evpow" name="taavi20evpow"></a><span class="bold">--</span></td>
<td>  （双连字符）将跟随在该标志后的所有参数解释为文件名。这就允许除去名称是以连字符开始的文件。</td>
</tr>
</tbody>
</table>
<a name="d84a310825jani"></a>
<h3 id="d84a310825jani">退出状态</h3>
<a name="f9fc6a9901mart"></a>
<p id="f9fc6a9901mart">该命令返回以下退出值：</p>
<a name="wq616"></a>
<table id="wq616" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="d84a310922jani" name="d84a310922jani"></a><span class="bold">0</span></td>
<td width="95%">  成功完成。</td>
</tr>
<tr>
<td>
<a id="d84a310957jani" name="d84a310957jani"></a><span class="bold">>0</span></td>
<td>  出错。</td>
</tr>
</tbody>
</table>
<a name="a254b9ac45"></a>
<h3 id="a254b9ac45">示例</h3>
<ol type="1">
<li><a name="a254b9ac46"></a><span id="a254b9ac46" class="pk"></span>要除去 <span class="bold">a.out</span> 文件中的符号表和行号信息，请输入：
<p></p>
<a name="a254b9ac4a"></a>
<pre id="a254b9ac4a" class="xmp">strip a.out</pre></li>
<li><a name="a254b9ac4e"></a><span id="a254b9ac4e" class="pk"></span>要除去 <span class="bold">a.out</span> 文件中的对象文件头，请输入：
<p></p>
<a name="a254b9ac4f"></a>
<pre id="a254b9ac4f" class="xmp">strip -H a.out</pre></li>
<li>要除去 <span class="bold">lib.a</span> 中的 32 位和 64 位符号表，请输入：
<p></p>
<pre class="xmp">strip -X 32_64 lib.a</pre></li></ol>
<a name="a254b9ac54"></a>
<h3 id="a254b9ac54">文件</h3>
<p></p>
<a name="wq618"></a>
<table id="wq618" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="30%">
<a id="a254b9ac55" name="a254b9ac55"></a><span class="bold">/usr/ccs/bin/strip</span></td>
<td width="70%">  包含 <span class="bold">strip</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a254b9ac56"></a>
<h3 id="a254b9ac56">相关信息</h3>
<a name="f9fc6ab045mart"></a>
<p id="f9fc6ab045mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds1/ar.htm#a0949a5b"><span class="bold">ar</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds1/as.htm#d2e0shad"><span class="bold">as</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds2/dump.htm#a32099c2"><span class="bold">dump</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds3/ld.htm#a09493ac"><span class="bold">ld</span></a> 命令、<a href="size.htm#a0949660"><span class="bold">size</span></a> 命令。</p>
<a name="f9fc6ab141mart"></a>
<p id="f9fc6ab141mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/ar_small.htm#a306clm1"><span class="bold">ar</span></a> 文件、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/files/aixfiles/XCOFF.htm"><span class="bold">a.out</span></a> 文件。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="strip.htm#Top_Of_Page">页的顶部</a> | <a href="strings.htm">上一页</a> | <a href="stripnm.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
