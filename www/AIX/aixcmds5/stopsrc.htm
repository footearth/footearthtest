<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 5，s - u - stopsrc 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-04-30" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="stopsrc 命令, 使用 stopsrc 命令, 停止, 子系统,
子服务器" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="stopsrc.htm#Bot_Of_Page">页的底部</a> | <a href="stoprpnode.htm">上一页</a> | <a href="stopvsd.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 5，s - u</h1></center>

<a name="a20094a5"></a>
<h2 id="a20094a5">stopsrc 命令</h2>
<p><a id="idx252" name="idx252"></a></p>
<a name="a20094a7"></a>
<h3 id="a20094a7">用途</h3>
<a name="f9fc4dc324mart"></a>
<p id="f9fc4dc324mart">停止子系统、子系统组或子服务器。<a id="idx253" name="idx253"></a> <a id="idx254" name="idx254"></a></p>
<a name="a20094a9"></a>
<h3 id="a20094a9">语法</h3>
<a name="wq576"></a>
<h4 id="wq576">停止子系统</h4>
<p><span class="bold">stopsrc</span> [ <a href="stopsrc.htm#a20094ae"><span class="bold">-h</span></a><span class="italic"> Host</span>] [ <a href="stopsrc.htm#a20094af"><span class="bold">-f</span></a> |  <a href="stopsrc.htm#a20094b0"><span class="bold">-c</span></a>] { <a href="stopsrc.htm#a200947b"><span class="bold">-a</span></a> |  <a href="stopsrc.htm#a2139a7c"><span class="bold">-g</span></a> <span class="italic">Group</span> |  <a href="stopsrc.htm#a2139a80"><span class="bold">-p</span></a> <span class="italic">SubsystemPID</span> |  <a href="stopsrc.htm#a2139a7b"><span class="bold">-s</span></a> <span class="italic">Subsystem</span> }</p>
<a name="wq577"></a>
<h4 id="wq577">停止子服务器</h4>
<p><span class="bold">stopsrc</span> [ <a href="stopsrc.htm#a20094ae"><span class="bold">-h</span></a> <span class="italic">Host</span>] [ <a href="stopsrc.htm#a20094af"><span class="bold">-f</span></a>]  <a href="stopsrc.htm#a2139a7d"><span class="bold">-t</span></a> <span class="italic">Type</span> [ <a href="stopsrc.htm#a2139a80"><span class="bold">-p</span></a> <span class="italic">SubsystemPID</span>] [ <a href="stopsrc.htm#a2139a7f"><span class="bold">-P</span></a> <span class="italic">SubserverPID</span> |  <a href="stopsrc.htm#a2139a7e"><span class="bold">-o</span></a> <span class="italic">Object</span>]</p>
<a name="a20094ab"></a>
<h3 id="a20094ab">描述</h3>
<a name="f9fc4dc989mart"></a>
<p id="f9fc4dc989mart"><span class="bold">stopsrc</span> 命令向系统资源控制器（SRC）发送要求停止一个子系统、一组子系统或所有子系统的请求。<span class="bold">stopsrc</span> 命令向系统资源控制器发送子系统请求包，该请求包转发至子系统用于停止子服务器的请求。</p>
<a name="f9fc4dd089mart"></a>
<p id="f9fc4dd089mart">如果没有 <a href="stopsrc.htm#a20094af"><span class="bold">-f</span></a>（强制停止）标志, 则假设为正常的停止操作。正常停止要求子系统或子服务器完成所有当前处理，在所有应用程序活动完成时释放资源，然后结束。子系统不再接受任何新的工作请求。</p>
<a name="f9fc4dd187mart"></a>
<p id="f9fc4dd187mart">强制停止要求子系统或子服务器迅速结束，释放所有资源，但不等待应用程序活动完成。</p>
<a name="f9fc4dd287mart"></a>
<p id="f9fc4dd287mart">取消操作是在子系统的资源释放后以及一段宽延时间后才停止子系统。
此宽延时间在子系统的对象类中指定。
取消停止只用于子系统的停止，并且总是以 <span class="bold">SIGTERM</span> 信号发送给子系统。子系统抓取这个信号，执行子系统清除操作，然后结束。
如果子系统没有在等待时间内结束（等待时间在子系统对象类中指定），则将 <span class="bold">SIGKILL</span> 信号发送给子系统以确保子系统的停止。</p>
<a name="f9fc4dd386mart"></a>
<p id="f9fc4dd386mart">如果子系统使用套接字或消息队列进行通信，则构造一个数据包并发送给子系统。如果子系统使用信号进行通信，则将子系统对象类中的适当的信号发送给子系统。</p>
<a name="a20094ad"></a>
<h3 id="a20094ad">标志</h3>
<p></p>
<a name="wq578"></a>
<table id="wq578" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="25%">
<a id="a200947b" name="a200947b"></a><span class="bold">-a</span></td>
<td width="75%">  指定停止所有子系统。</td>
</tr>
<tr>
<td>
<a id="a20094b0" name="a20094b0"></a><span class="bold">-c</span></td>
<td>  指定停止请求是已取消的停止请求。对于取消停止请求，将 <span class="bold">SIGTERM</span> 信号发送至子系统。
在子系统对象类中指定的等待时间过去后，如果子系统仍未停止，则将 <span class="bold">SIGKILL</span> 信号发送至子系统。</td>
</tr>
<tr>
<td>
<a id="a20094af" name="a20094af"></a><span class="bold">-f</span></td>
<td>  指定强制停止请求。</td>
</tr>
<tr>
<td>
<a id="a2139a7c" name="a2139a7c"></a><span class="bold">-g</span><span class="italic"> Group</span></td>
<td>  指定停止一组子服务器。如果 <span class="italic">Group</span> 名称未包含在子系统对象类中，该命令将失败。</td>
</tr>
<tr>
<td>
<a id="a20094ae" name="a20094ae"></a><span class="bold">-h</span><span class="italic"> Host</span></td>
<td>  指定请求该停止操作的外部 <span class="italic">Host</span> 机器。
本地用户必须以“root 用户”身份运行。必须将远程系统配置为可接受远程系统资源控制器的请求。
即 <span class="bold">srcmstr</span> 守护进程（请参阅 <span class="bold">/etc/inittab</span>）必须以 <span class="bold">-r</span> 标志启动，并且 <span class="bold">/etc/hosts.equiv</span> 或 <span class="bold">.rhosts</span> 文件必须配置为允许远程请求。</td>
</tr>
<tr>
<td>
<a id="a2139a7e" name="a2139a7e"></a><span class="bold">-o</span><span class="italic"> Object</span></td>
<td>  指定子服务器 <span class="italic">Object</span> 值是作为字符串发送给子系统的。</td>
</tr>
<tr>
<td>
<a id="a2139a80" name="a2139a80"></a><span class="bold">-p</span><span class="italic"> SubsystemPID</span></td>
<td>  指定要停止的子系统的特定实例，或子服务器（停止子服务器请求要传递到该子系统）的特定实例。</td>
</tr>
<tr>
<td>
<a id="a2139a7f" name="a2139a7f"></a><span class="bold">-P</span><span class="italic"> SubserverPID</span></td>
<td>  指定子服务器 PID 是作为字符串传递给子系统的。</td>
</tr>
<tr>
<td>
<a id="a2139a7b" name="a2139a7b"></a><span class="bold">-s</span><span class="italic"> Subsystem</span></td>
<td>  指定要停止的子系统。<span class="italic">Subsystem</span> 参数可以是实际的子系统名称或子系统的同义词名称。
<span class="bold">stopsrc</span> 命令停止所有当前活动的子系统实例。如果子系统对象类中未包含 <span class="italic">Subsystem</span> 名称，该命令将失败。</td>
</tr>
<tr>
<td>
<a id="a2139a7d" name="a2139a7d"></a><span class="bold">-t</span><span class="italic"> Type</span></td>
<td>  指定要停止的子服务器。如果子服务器对象类中未包含指定的 <span class="italic">Type</span>，<span class="bold">stopsrc</span> 命令将失败。</td>
</tr>
</tbody>
</table>
<a name="a20094b1"></a>
<h3 id="a20094b1">示例</h3>
<ol type="1">
<li><a name="a20094b2"></a><span id="a20094b2" class="pk"></span>要在外部主机上强制停止一个子系统，请输入：
<a id="a20094b3" name="a20094b3"></a>
<div class="lines"><tt>stopsrc&nbsp;&nbsp;<a href="stopsrc.htm#a20094ae">-h</a> zork&nbsp;&nbsp;<a href="stopsrc.htm#a2139a7b">-s</a> srctest&nbsp;&nbsp;<a href="stopsrc.htm#a20094af">-f</a></tt><br />
</div> 这将强制停止 <tt>zork</tt> 机器上的 <tt>srctest</tt> 子系统的所有实例。</li>
<li><a name="a20094b5"></a><span id="a20094b5" class="pk"></span>要取消停止一个子系统组，请输入：
<a id="a20094b6" name="a20094b6"></a>
<div class="lines"><tt>stopsrc&nbsp;&nbsp;<a href="stopsrc.htm#a2139a7c">-g</a> tcpip&nbsp;&nbsp;<a href="stopsrc.htm#a20094b0">-c</a></tt><br />
</div> 这将在 <tt>tcpip</tt> 组的所有子系统上激活停止取消。</li>
<li><a name="a20094b8"></a><span id="a20094b8" class="pk"></span>要停止一个子服务器，请输入:
<a id="a20094b9" name="a20094b9"></a>
<div class="lines"><tt>stopsrc&nbsp;&nbsp;<a href="stopsrc.htm#a2139a7d">-t</a> tester&nbsp;&nbsp;<a href="stopsrc.htm#a2139a80">-p</a> 1234</tt><br />
</div> 这将停止 <tt>tester</tt> 子服务器，它属于子系统 PID 为 <tt>1234</tt> 的 <tt>srctest</tt> 子系统。</li>
<li><a name="a20094a2"></a><span id="a20094a2" class="pk"></span>要停止所有子系统，请输入：
<a id="a200949f" name="a200949f"></a>
<div class="lines"><tt>stopsrc&nbsp;&nbsp;<a href="stopsrc.htm#a200947b">-a</a></tt><br />
</div> 这将停止本地机器上所有活动的子系统。</li></ol>
<a name="a20094bd"></a>
<h3 id="a20094bd">文件</h3>
<p></p>
<a name="wq580"></a>
<table id="wq580" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="38%">
<a id="a20094be" name="a20094be"></a><span class="bold">/etc/objrepos/SRCsubsys</span></td>
<td width="61%">  指定 SRC 子系统配置对象类。</td>
</tr>
<tr>
<td>
<a id="a24f0232" name="a24f0232"></a><span class="bold">/etc/objrepos/SRCsubsvr</span></td>
<td>  指定 SRC 子服务器配置对象类。</td>
</tr>
<tr>
<td>
<a id="a96f01e" name="a96f01e"></a><span class="bold">/etc/services</span></td>
<td>  定义因特网服务使用的套接字和协议。</td>
</tr>
<tr>
<td>
<a id="a96f01f" name="a96f01f"></a><span class="bold">/dev/SRC</span></td>
<td>  指定 <span class="bold">AF_UNIX</span> 套接字文件。</td>
</tr>
<tr>
<td>
<a id="a352c110" name="a352c110"></a><span class="bold">/dev/.SRC-unix</span></td>
<td>  指定临时套接字文件的位置。</td>
</tr>
</tbody>
</table>
<a name="a20094c0"></a>
<h3 id="a20094c0">相关信息</h3>
<a name="f9fc4e0148mart"></a>
<p id="f9fc4e0148mart"><a href="startsrc.htm#a200945a"><span class="bold">startsrc</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds5/cmds/aixcmds4/refresh.htm#a20092dd"><span class="bold">refresh</span></a> 命令。</p>
<a name="f9fc4e0247mart"></a>
<p id="f9fc4e0247mart"><span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds5/aixbman/admnconc/sys_res_overview.htm#a2729f9">System Resource Controller Overview</a> 解释了子系统、子服务器和系统资源控制器。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="stopsrc.htm#Top_Of_Page">页的顶部</a> | <a href="stoprpnode.htm">上一页</a> | <a href="stopvsd.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds502.htm#wq1667">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
