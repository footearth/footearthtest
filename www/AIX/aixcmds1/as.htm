<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - as 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="as 命令, as, 命令, 使用 as 命令, 读取和汇编源,
文件, 读取和汇编, 源文件" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="as.htm#Bot_Of_Page">页的底部</a> | <a href="arp.htm">上一页</a> | <a href="asa.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="d2e0shad"></a>
<h2 id="d2e0shad">as 命令</h2>
<p><a id="idx106" name="idx106"></a><a id="idx107" name="idx107"></a></p>
<a name="a1369961"></a>
<h3 id="a1369961">用途</h3><a id="idx108" name="idx108"></a><a id="idx109" name="idx109"></a>
<a name="f9c06be865mart"></a>
<p id="f9c06be865mart">读取和汇编源文件。</p>
<a name="d720e75348jani"></a>
<h3 id="d720e75348jani">语法</h3>
<p><span class="bold">as</span> [  <a href="as.htm#a6r5zf8sls"><span class="bold">-a</span></a><span class="italic"> Mode</span> ]  [  <a href="as.htm#a6r5zf8eclif"><span class="bold">-o</span></a><span class="italic"> ObjectFile</span> ] [  <a href="as.htm#a1369968"><span class="bold">-n</span></a><span class="italic"> Name</span> ] [  <a href="as.htm#c2780f1469jeff"><span class="bold">-u</span></a> ] [  <a href="as.htm#a1369967"><span class="bold">-l   </span></a>[   <span class="italic">ListFile</span>   ]   ] [    <a href="as.htm#qs5zf15bclif"><span class="bold">-W   </span></a>|  <a href="as.htm#jr5zf220clif"><span class="bold">-w</span></a> ] [  <a href="as.htm#as5zf1c8clif"><span class="bold">-x</span></a><span class="italic"></span>   [   <span class="italic">XCrossFile</span>   ]   ] [  
 <a href="as.htm#beff690724jeff"><span class="bold">-s   </span></a>[   <span class="italic">ListFile</span>   ]   ] [    <a href="as.htm#beff691050jeff"><span class="bold">-m
  </span></a><span class="italic">ModeName</span> ] [<a href="as.htm#as_flag_e"><span class="bold">-E</span></a><span class="italic">off</span>|<span class="italic">on</span> ] [ <a href="as.htm#as_flag_p"><span class="bold">-p</span></a><span class="italic">off</span>|<span class="italic">on</span> ] [ <a href="as.htm#as_flag_i"><span class="bold">-i</span></a> ] [ <a href="as.htm#as_flag_v"><span class="bold">-v</span></a> ] [ <a href="as.htm#iu2yh1e7jeff"><span class="italic">File</span></a> ]</p>
<a name="a1369964"></a>
<h3 id="a1369964">描述</h3>
<a name="f9c06bf452mart"></a>
<p id="f9c06bf452mart"><span class="bold">as</span> 命令读取和汇编指定的 <span class="italic">File</span>（约定情况下，此文件以 <span class="bold">.s</span> 后缀结束）。如果不指定 <span class="italic">File</span>，则 <span class="bold">as</span> 命令读取和汇编标准输入。缺省情况下，它将其输出存储于名为 <span class="bold">a.out</span> 的文件中。输出以 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/XCOFF.htm#i08209709bcl">XCOFF</a> 文件格式存储。</p>
<a name="f9c06bf612mart"></a>
<p id="f9c06bf612mart"><span class="bold">as</span> 命令的所有标志都是可选的。</p>
<a name="a1369966"></a>
<h3 id="a1369966">标志</h3>
<p></p>
<a name="wq178"></a>
<table id="wq178" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="23%">
<a id="a6r5zf8sls" name="a6r5zf8sls"></a><span class="bold">-a</span><span class="italic"> Mode</span></td>
<td width="76%">  指定 <span class="bold">as</span> 命令运行的方式。缺省情况下，<span class="bold">as</span> 命令以 32 位方式运行，但此方式可明确地通过使用标志 <span class="bold">-a32</span> 设置为以 32 位方式运行或使用 <span class="bold">-a64</span> 设置为以 64 位方式运行。</td>
</tr>
<tr>
<td>
<a id="a1369967" name="a1369967"></a><span class="bold">-l</span>[<span class="italic">ListFile</span>]</td>
<td>  产生汇编程序列表。如果不指定文件名称，则通过用 <span class="bold">.lst</span> 扩展名替换源文件名称的后缀扩展名来产生一个缺省名称。约定情况下，源文件的后缀是 <span class="bold">.s</span>。例如：
<p></p>
<pre class="xmp">sourcefile.xyz</pre> 
<p>产生一个缺省名称，即：</p> 
<p></p>
<pre class="xmp">sourcefile.lst</pre> 
<p>如果从标准输入读取源代码，且不指定汇编程序列表的文件名称就使用 <span class="bold">-l</span> 标志，则列表文件名称是 <span class="bold">a.lst</span>。</p></td>
</tr>
<tr>
<td>
<a id="beff691050jeff" name="beff691050jeff"></a><span class="bold">-m</span><span class="italic"> ModeName</span></td>
<td>指明汇编方式。此标志的优先级比 <span class="bold">.machine</span> 伪操作低。
<p>如果不使用此标志，且在源程序中不存在 <span class="bold">.machine</span> 伪操作，则使用缺省汇编方式。缺省汇编方式将 POWER 系列/PowerPC 的交集作为目标环境，但将所有的 POWER 系列/PowerPC 的不兼容性错误（包含 POWER 系列/PowerPC 的交集外的指令和无效格式错误）当作指令性警告。</p> 
<p>如果指定了无效的汇编方式，且在源程序中不存在 <span class="bold">.machine</span> 伪操作，则报告一个错误且缺省汇编方式将用于汇编程序第 1 关的指令验证。</p> 
<p>如果使用 <span class="bold">-m</span> 标志，<span class="italic">ModeName</span> 变量可以指定以下值之一：</p> 
<dl>
<dt class="bold"><span class="bold">""</span></dt>
<dd>明确指定将具有 POWER 系列/PowerPC 交集的缺省汇编方式作为目标环境，但将 POWER 系列/PowerPC 交集之外的指令和无效格式错误当作指令性警告。<span class="bold">-m</span> 和空字符串参数（两个双引号）之间需要一个空格。
</dd>
<dt class="bold"><span class="bold">com</span></dt>
<dd>指定 POWER 系列/PowerPC 的相交方式。源程序只能包含公共于 POWER 系列和 PowerPC 的指令；任何其它指令将导致错误。任何具有无效格式的指令都将导致错误、终止汇编进程，并不生成任何目标代码。
<a name="wq179"></a>
<div class="notetitle" id="wq179">注:</div>
<div class="notebody">在 AIX 5.1 及较早版本中，某些 POWER 系列指令受到“PowerPC 601 RISC 微处理器”的支持，但不符合 PowerPC 体系结构。当使用 <span class="bold">com</span> 汇编方式时，这些指令将导致错误。</div>
</dd>
<dt id="de50902879joyc" class="bold">
<a name="de50902879joyc"></a> <span class="bold">any</span></dt>
<dd>指定任意方式。汇编程序为任何识别的指令生成目标代码，而不考虑体系结构。此方式主要用于操作系统开发以及测试和调试用途。
<a name="wq180"></a>
<div class="notetitle" id="wq180">注:</div>
<div class="notebody">当使用 <span class="bold">any</span> 汇编方式时，忽略所有 POWER 系列和 PowerPC 的不兼容性错误，且不生成警告。</div>
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt id="de50902731joyc" class="bold">
<a name="de50902731joyc"></a><span class="bold">ppc</span></dt>
<dd>指定 PowerPC 方式。源程序只能包含 PowerPC 指令。任何其他指令将导致错误。
<a name="wq181"></a>
<div class="notelisttitle" id="wq181">注:</div>
<ol type="1">
<li>PowerPC 的可选指令在每个 PowerPC 处理器中执行且不属于 <span class="bold">ppc</span> 方式。如果在用 <span class="bold">ppc</span> 汇编方式来汇编的源程序中出现这些指令，它们将生成错误。</li>
<li>在 AIX 5.1 及较早版本中，某些指令符合 PowerPC体系结构，但是不受“PowerPC 601 RISC 微处理器”支持。</li>
</ol>
</dd>
<dt id="de50902731sls" class="bold">
<a name="de50902731sls"></a><span class="bold">ppc64</span></dt>
<dd>指定基于 POWER 的 64 位方式。源程序可以包含基于 POWER 的 64 位指令。
</dd>
<dt id="de50902955joyc" class="bold">
<a name="de50902955joyc"></a> <span class="bold">pwr</span></dt>
<dd>指定 POWER 方式。一个源程序只能包含用于 POWER 体系结构的 POWER 实现的指令。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt id="de50902993joyc" class="bold">
<a name="de50902993joyc"></a><span class="bold">pwr2(pwrx)</span></dt>
<dd>指定仅通过 AIX 5.1 的 POWER2 方式。在 AIX 5.1 及较早版本中，源程序只能包含用于 POWER 体系结构的 POWER2 实现的指令。<span class="bold">pwr2</span> 是首选值。备用汇编方式值 <span class="bold">pwrx</span> 和 <span class="bold">pwr2</span> 含义相同。
<a name="wq183"></a>
<div class="notetitle" id="wq183">注:</div>
<div class="notebody">对于 AIX 5.1 及较早版本，POWER 实现指令集是 POWER2 实现指令集的子集。</div>
</dd>
<dt id="de50903069joyc" class="bold">
<a name="de50903069joyc"></a><span class="bold">601</span></dt>
<dd>指定仅通过 AIX 5.1 的“PowerPC 601 RISC 微处理器”方式。在 AIX 5.1 及较早版本中的源程序只能包含“PowerPC 601 RISC 微处理器”指令。
<p>对于 AIX 5.1 及较早版本，“PowerPC 601 RISC 微处理器”设计在基于 POWER 的平台之前完成。因此，在 AIX 5.1 及较早版本中 PowerPC 指令可能不受“PowerPC 601 RISC 微处理器”支持。</p>
<div class="attention"><span class="attentiontitle">注意: </span>推荐不要将 <span class="bold">601</span> 汇编方式用于将来打算移植到以后的 PowerPC 系统的应用程序。<span class="bold">com</span> 或 <span class="bold">ppc</span> 汇编方式应用于这样的应用程序。</div>
<p>在 AIX 5.1 及较早版本中，“PowerPC 601 RISC 微处理器”执行基于 POWER 的平台指令和一些不包含在基于 POWER 的平台中的 POWER 系列指令。这允许现有 POWER 应用程序以可接收的性能在基于 POWER 的系统上运行。</p>
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt id="de50903224joyc" class="bold">
<a name="de50903224joyc"></a><span class="bold">603</span></dt>
<dd>指定仅通过 AIX 5.1 的“PowerPC 603 RISC 微处理器”方式。在 AIX 5.1 及较早版本中，源程序只能包含“PowerPC 603 RISC 微处理器”指令。
</dd>
<dt id="de50903262joyc" class="bold">
<a name="de50903262joyc"></a><span class="bold">604</span></dt>
<dd>指定“PowerPC 604 RISC 微处理器”方式。源程序只能包含“PowerPC 604 RISC 微处理器”指令。
</dd>
<dt id="de50903262sls" class="bold">
<a name="de50903262sls"></a><span class="bold">A35</span></dt>
<dd>指定 A35 方式。源程序只能包含 A35 的指令。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a1369968" name="a1369968"></a><span class="bold">-n</span><span class="italic"> Name</span></td>
<td>  指定出现在汇编程序列表的报头中的名称。缺省情况下，报头包含汇编程序源文件的名称。</td>
</tr>
<tr>
<td>
<a id="a6r5zf8eclif" name="a6r5zf8eclif"></a><span class="bold">-o</span><span class="italic"> ObjectFile</span></td>
<td>  将汇编进程的输出写至指定文件而非写至 <span class="bold">a.out</span> 文件。</td>
</tr>
<tr>
<td>
<a id="beff690724jeff" name="beff690724jeff"></a><span class="bold">-s</span>[<span class="italic">ListFile</span>]</td>
<td>  指定 POWER 系列和 PowerPC 的助记符的交叉引用是否包含在汇编程序列表中。如果省略此标志，则不产生助记符的交叉引用。如果使用此标志，则假如源包含 PowerPC 助记符，那么汇编程序列表将具有 POWER 系列助记符，假如源包含 POWER 系列助记符，那么列表将具有 PowerPC 助记符。
<a name="de50902132joyc"></a>
<p id="de50902132joyc">助记符的交叉引用限制为在 POWER 系列和 PowerPC 中具有不同助记符的指令，但它们具有相同的操作代码、功能和输入操作数格式。</p> 
<a name="de50902172joyc"></a>
<p id="de50902172joyc">因为 <span class="bold">-s</span> 标志用来更改汇编程序列表格式，所以它隐含了 <span class="bold"> -l</span> 标志。如果使用两种选项标志并给出不同的汇编程序列表文件的名称（由 <span class="italic">ListFile</span> 变量指定），则使用由带有 <span class="bold">-l</span> 标志的 <span class="italic">ListFile</span> 变量指定的文件名称。如果没有用 <span class="bold">-l</span> 或<span class="bold"> -s</span> 标志指定汇编程序列表文件名称，则通过用<span class="bold"> .lst </span>扩展名替换源文件名称的后缀扩展名来产生一个缺省汇编程序列表文件名称。</p></td>
</tr>
<tr>
<td>
<a id="c2780f1469jeff" name="c2780f1469jeff"></a><span class="bold">-u</span></td>
<td>  接受将未定义符号作为一个 extern，这样就不会显示错误消息。否则将未定义符号标志为错误消息。</td>
</tr>
<tr>
<td>
<a id="qs5zf15bclif" name="qs5zf15bclif"></a><span class="bold">-W</span></td>
<td>  关闭所有警告消息报告，包含指令性警告消息（POWER 系列和 PowerPC 的不兼容性警告）。</td>
</tr>
<tr>
<td>
<a id="jr5zf220clif" name="jr5zf220clif"></a><span class="bold">-w</span></td>
<td>  打开警告消息报告，包含报告指令性警告消息（POWER 系列和 PowerPC 的不兼容性警告）。
<a name="wq184"></a>
<div class="notetitle" id="wq184">注:</div>
<div class="notebody">当不指定 <span class="bold">-W</span> 或 <span class="bold">-w</span> 时，报告指令性警告，但禁止其它警告。</div></td>
</tr>
<tr>
<td>
<a id="as5zf1c8clif" name="as5zf1c8clif"></a><span class="bold">-x</span>[<span class="italic">XCrossFile</span>]</td>
<td>产生交叉引用输出。如果不指定文件名称，则通过用 <span class="bold">.xref</span> 扩展名替换源文件名称的后缀扩展名来产生一个缺省名称。按惯例，后缀是 <span class="bold">.s</span>。例如：
<pre class="xmp">sourcefile.xyz</pre>
<p>产生一个缺省名称：</p>
<pre class="xmp">sourcefile.xref</pre>
<a name="wq185"></a>
<div class="notetitle" id="wq185">注:</div>
<div class="notebody">当使用 <span class="bold">-x</span> 标志时，汇编程序不生成目标文件。</div></td>
</tr>
<tr>
<td>
<a id="as_flag_e" name="as_flag_e"></a><span class="bold">-E</span></td>
<td>指定是否报告由于新 v2.00
语法而导致的错误（<tt class="xph">-Eon</tt>），或者忽略它们（<tt class="xph">-Eoff</tt>）。缺省情况下，忽略 v2.00 错误。</td>
</tr>
<tr>
<td>
<a id="as_flag_p" name="as_flag_p"></a><span class="bold">-p</span></td>
<td>指定是否使用新 v2.00 分支预测（<tt class="xph">-pon</tt>），或者 v2.00 以前的分支预测（<tt class="xph">(-poff</tt>）。缺省情况下，使用 v2.00 以前版本的分支预测。</td>
</tr>
<tr>
<td>
<a id="as_flag_i" name="as_flag_i"></a><span class="bold">-i</span></td>
<td>指定要编码的分支预测后缀。缺省情况下，没有设置该选项。如果指定了 <span class="bold">-p</span> 选项，则会忽略该选项。</td>
</tr>
<tr>
<td>
<a id="as_flag_v" name="as_flag_v"></a><span class="bold">-v</span></td>
<td>显示该命令的版本号。</td>
</tr>
<tr>
<td>
<a id="iu2yh1e7jeff" name="iu2yh1e7jeff"></a><span class="italic">File</span></td>
<td>指定源文件。如果未指定文件，则从标准输入获取源代码。</td>
</tr>
</tbody>
</table>
<a name="a2a1360666shad"></a>
<h3 id="a2a1360666shad">环境变量</h3>
<dl>
<dt class="bold"><span class="bold">OBJECT_MODE</span></dt>
<dd>汇编程序考虑 OBJECT_MODE 环境变量的设置。如果不使用 <span class="bold">-a32</span> 或 <span class="bold">-a64</span>，则在环境中检查此变量。如果变量的值不是以下表中列出的值，则生成一条错误消息且汇编程序以非零返回码退出。对应有效设置的默示行为如下：
<p></p>
<a name="wq186"></a>
<table id="wq186" width="100%" summary="" border="0" frame="void" rules="all">
<tbody valign="top">
<tr>
<td width="44%">OBJECT_MODE = <span class="bold">32</span></td>
<td width="55%">产生 32 位目标代码。缺省机器设置是 <span class="bold">com</span>。</td>
</tr>
<tr>
<td>OBJECT_MODE = <span class="bold">64</span></td>
<td>产生 64 位目标代码（XCOFF64 文件）。缺省机器设置 <span class="bold">ppc64</span>。</td>
</tr>
<tr>
<td>OBJECT_MODE = <span class="bold">32_64</span></td>
<td>无效。</td>
</tr>
<tr>
<td>OBJECT_MODE = <span class="italic">anything else</span></td>
<td>无效。</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<a name="a2a1360shad"></a>
<h3 id="a2a1360shad">示例</h3>
<ol type="1">
<li>要产生名为 file.lst 的列表文件和名为 <span class="bold">file.o</span> 的目标文件，请输入：
<p></p>
<pre class="xmp">as -l -o file.o file.s</pre></li>
<li>要产生将在 AIX 5.1 及较早版本的 601 处理器上运行的名为 <span class="bold">file.o</span> 的目标文件并要在名为 <span class="bold">file.lst</span> 的汇编程序列表文件中生成 POWER 系列和 PowerPC 助记符的交叉引用，请输入：
<p></p>
<pre class="xmp">as   -s   -m   601   -o   file.o   file.s</pre></li>
<li>要使用缺省汇编方式产生名为 <span class="bold">file.o</span> 的目标文件以及一个不具有助记符交叉引用的名为 <span class="bold">xxx.lst</span> 的汇编程序列表文件，请输入：
<p></p>
<pre class="xmp">as   -lxxx.lst   -o   file.o   file.s</pre></li></ol>
<a name="a136996a"></a>
<h3 id="a136996a">文件</h3>
<p></p>
<a name="wq188"></a>
<table id="wq188" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="23%">
<a id="a66f0b7" name="a66f0b7"></a><span class="bold">/usr/ccs/bin/as</span></td>
<td width="76%">  包含 <span class="bold">as</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a136996b" name="a136996b"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/XCOFF.htm#i08209709bcl"><span class="bold">a.out</span></a></td>
<td>  缺省输出文件。</td>
</tr>
</tbody>
</table>
<a name="a136996d"></a>
<h3 id="a136996d">相关信息</h3>
<a name="f9c06c5844mart"></a>
<p id="f9c06c5844mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/ld.htm#a09493ac"><span class="bold">ld</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/m4.htm#a258b9f"><span class="bold">m4</span></a> 命令。</p>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixassem/alangref/about.htm">Assembler Language Reference</a> 手册。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="as.htm#Top_Of_Page">页的顶部</a> | <a href="arp.htm">上一页</a> | <a href="asa.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
