<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - ctsvhbac 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="ctsvhbac.htm#Bot_Of_Page">页的底部</a> | <a href="ctsthl.htm">上一页</a> | <a href="ctsvhbal.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="ctsvhbac"></a>
<h2 id="ctsvhbac">ctsvhbac <span>命令</span></h2>
<a name="wq1579"></a>
<h3 id="wq1579">用途</h3>
<p><span></span>验证<span>本地系统上的基于 RSCT 主机的认证（HBA）安全机制的配置。</span></p>
<a name="wq1580"></a>
<h3 id="wq1580">语法</h3>
<p><span class="pk">ctsvhbac</span>  [ [<span class="pk">-d</span> | <span class="pk">-h</span> | <span class="pk">-m</span> | <span class="pk">-s</span> ] | [ <span class="pk">-e</span> <var class="pv">msgnum</var>[,<var class="pv">msgnum</var>...] ] [ <span class="pk">-l</span> { <span class="pk">1</span> | <span class="pk">2</span> | <span class="pk">3</span> | <span class="pk">4</span> }
| <span class="pk">-b</span> ] [ <span class="pk">-p</span> <var class="pv">pubkeyfile</var> ] [ <span class="pk">-q</span> <var class="pv">pvtkeyfile</var> ] [ <span class="pk">-t</span> <var class="pv">thlfile</var> ] ]</p>
<a name="wq1581"></a>
<h3 id="wq1581">描述</h3>
<p><span class="pk">ctsvhbac</span> 命令是基于 <span>RSCT</span> 的主机的认证（HBA）安全机制的验证实用程序。使用 <span class="pk">ctsvhbac</span> 命令来验证本地系统是否已配置且凭证文件和信息（如专用密钥和可信主机列表）是否已就绪，可供 HBA 安全机制使用。</p>
<p>此命令对 HBA 安全机制的配置执行以下系列测试：</p>
<ul>
<li>验证 HBA 机制配置文件是否存在且是否能够被处理。</li>
<li>验证 HBA 专用密钥文件是否存在且是否能够被处理。</li>
<li>验证 HBA 公用密钥文件是否存在且是否能够被处理。</li>
<li>验证本地系统的公用和专用密钥是否成对，成对就意味着知道公用密钥是从专用密钥派生的。</li>
<li>验证 HBA 可信主机列表文件是否存在且是否能够被处理。</li>
<li>检查 HBA 可信主机列表的内容以了解所有主机名和网络地址是否受本地节点支持，方法是确定可信主机列表文件中是否存在它们的条目。如果找到了主机名或网络地址，此命令将验证是否为该命令或地址列出了较早的测试中使用的相同公用密钥值。</li></ul>
<p>命令用户可指定该命令中要使用的专用密钥文件、公用密钥文件和可信主机列表文件。在缺省情况下，将从 HBA 安全机制的配置文件中抽取此信息。</p>
<a name="wq1582"></a>
<h3 id="wq1582">标志</h3>
<dl>
<dt class="bold">-b</dt>
<dd>产生简要输出。使用此选项时，该命令将仅显示测试的摘要输出和检测到的任何错误。
可通过不带此选项发出该命令确定任何错误的更多详细信息。
如果指定了 <span class="pk">-l</span> 选项，将忽略此操作。
</dd>
<dt class="bold">-d</dt>
<dd>显示成功执行此命令所需的探测列表。
</dd>
<dt class="bold">-e</dt>
<dd>指定此命令在执行过程中不显示的错误消息列表。可能指定一个或多个消息号。消息号的格式必须为 xxxx-yyy。多条消息应以逗号（,）隔开，但不能有空格字符。
</dd>
<dt class="bold">-h</dt>
<dd>显示此命令的帮助消息。
</dd>
<dt class="bold">-l</dt>
<dd>允许“群集系统管理（CSM）探测基础结构”设置输出的详细信息级别。接受的级别为：
<dl>
<dt class="bold">1</dt>
<dd>详细方式。显示命令目的摘要和所有测试的状态信息。
</dd>
<dt class="bold">2</dt>
<dd>显示命令目的摘要和任何注意事项或任何测试中检测到的错误情况。
</dd>
<dt class="bold">3</dt>
<dd>显示任何注意事项或任何测试中检测到的错误情况。
</dd>
<dt class="bold">4</dt>
<dd>静默方式。显示测试过程中检测到的错误。
</dd>
</dl>
</dd>
<dt class="bold">-m</dt>
<dd>显示此命令及其目的的详细描述。
</dd>
<dt class="bold">-p</dt>
<dd>指定此命令将使用的公用密钥文件的路径名。如果未指定此选项，命令将使用当前为 HBA 安全机制配置的公用密钥文件。
</dd>
<dt class="bold">-q</dt>
<dd>指定此命令将使用的专用密钥文件的路径名。如果未指定此选项，命令将使用当前为 HBA 安全机制配置的专用密钥文件。
</dd>
<dt class="bold">-s</dt>
<dd>显示此命令的目的摘要。
</dd>
<dt class="bold">-t</dt>
<dd>指定此命令将使用的可信主机列表文件的路径名。如果未指定此选项，命令将使用当前为 HBA 安全机制配置的可信主机列表文件。
</dd>
</dl>
<a name="wq1583"></a>
<h3 id="wq1583">参数</h3>
<p>无。</p>
<a name="wq1584"></a>
<h3 id="wq1584">安全性</h3>
<p><span class="pk">ctsvhbac</span> 命令的许可权允许 <span class="pk">bin</span> 用户组的成员执行此命令。</p>
<a name="wq1585"></a>
<h3 id="wq1585">退出状态</h3>
<p>退出状态符合“CSM 探测基础结构”约定。</p>
<dl>
<dt class="bold">0</dt>
<dd>未检测到问题。显示的消息不是信息性的，就是仅为不重要的警报。无需管理干预。
</dd>
<dt class="bold">10</dt>
<dd>未检测到问题，但发现某些项应该引起管理员的注意。此本地系统支持的 IP 地址或主机名在可信主机列表中未列出，或列出时公用密钥值不正确时，最可能发生这种退出状态。对于此退出状态，系统管理员应检查输出以确定检测到了哪些情况，以及这些情况是否需要更正操作。
<p>要更正报告的频率最高的情况：</p>
<ul>
<li>确保已正确忽略了可信主机列表中没有的任何 IP 地址或主机名。如果未正确忽略，则更新本地系统上的可信主机列表。</li>
<li>修复使用不正确的公用密钥的本地 IP 地址和主机名的任何条目。</li></ul>
</dd>
<dt class="bold">20</dt>
<dd>检测到一个或多个问题。以下情况下将会发生此退出状态：
<ul>
<li>HBA 安全机制配置不正确。</li>
<li>公用密钥和专用密钥可能不成对。</li>
<li>可信主机列表不包含本地系统支持的 IP 地址或主机名值。</li></ul>
<p>除非更正了这些情况，否则使用 HBA 机制的认证请求在该系统上可能会失败。
对于此退出状态，系统管理员必须检查命令输出以验证和解决报告的问题。要更正报告的问题，请遵循命令输出中列出的问题解决建议。</p>
</dd>
<dt class="bold">127</dt>
<dd>此命令中遇到意外故障。对于此退出状态，管理员应验证本地系统上是否至少有一个网络接口已配置且活动。
</dd>
</dl>
<a name="wq1586"></a>
<h3 id="wq1586">限制</h3>
<ul>
<li>群集安全性服务仅支持其自身的主机标识格式和可信主机列表文件格式。</li>
<li>可信主机列表仅可以使用该命令进行修改。</li>
<li>群集安全性服务不提供自动实用程序用于在群集内创建、管理和维护可信主机列表。该过程留给系统管理员或群集管理软件来执行。</li></ul>
<a name="wq1587"></a>
<h3 id="wq1587">标准输出</h3>
<p>当指定了 <span class="pk">-h</span> <span>标志</span>，此命令的用法语句写至标准输出。当指定了 <span class="pk">-l</span> <span>标志</span>时，可信主机列表文件的内容写入标准输出。</p>
<a name="wq1588"></a>
<h3 id="wq1588">标准错误</h3>
<p>有关任何检测到的故障情况的描述信息都写入标准错误。</p>
<a name="wq1589"></a>
<h3 id="wq1589">示例</h3>
<p>要验证 HBA 安全机制，请输入：</p>
<pre class="xmp">ctsvhbac</pre><p class="indatacontent">输出类似于：</p>
<pre class="xmp">------------------------------------------------------------------------
基于主机的认证机制验证检查

专用和公用密钥验证

      配置文件：/usr/sbin/rsct/cfg/ctcasd.cfg
                  状态：可用
                密钥类型：rsa512
                           RSA 密钥生成方法，512 位密钥

        专用密钥文件：/var/ct/cfg/ct_has.qkf
                  源：配置文件
                  状态：可用
                密钥类型：rsa512
                           RSA 密钥生成方法，512 位密钥

         公用密钥文件：/var/ct/cfg/ct_has.pkf
                  源：配置文件
                  状态：可用
                密钥类型：rsa512
                           RSA 密钥生成方法，512 位密钥

              密钥成对性：公用和专用密钥成对

可信主机列表文件验证

  可信主机列表文件：/var/ct/cfg/ct_has.thl
                  源：配置文件
                  状态：可用

                标识：avenger.pok.ibm.com
                  状态：可信主机

                标识：9.117.10.4
                  状态：可信主机

                标识：localhost
                  状态：可信主机

                标识：127.0.0.1
                  状态：可信主机

“基于主机的认证机制验证检查”已完成</pre>
<a name="wq1590"></a>
<h3 id="wq1590">位置</h3>
<dl>
<dt class="bold">/usr/sbin/rsct/bin/ctsvhbac</dt>
<dd>包含 <span class="pk">ctsvhbac</span> 命令
</dd>
</dl>
<a name="wq1591"></a>
<h3 id="wq1591">文件</h3>
<dl>
<dt class="bold">/usr/sbin/rsct/cfg/ctsec_map.global</dt>
<dd>缺省标识映射定义文件。该文件包含 RSCT 群集可信服务要求的定义，以使这些系统能在安装软件之后立即正确地执行。该文件在群集范围的标识映射定义文件 <span class="pk">/var/ct/cfg/ctsec_map.global</span> 存在于系统上时被忽略。因此，任何位于该文件中的定义也应被包含在群集范围的标识映射定义文件中（如果该文件存在的话）。
</dd>
<dt class="bold">/var/ct/cfg/ctsec_map.local</dt>
<dd>群集范围的标识映射定义的本地覆盖。不期望该文件中的定义在群集内的节点之间共享。
</dd>
<dt class="bold">/var/ct/cfg/ctsec_map.global</dt>
<dd>群集范围的标识映射定义。该文件预期包含在群集内通用的标识映射定义。如果该文件存在于系统上，缺省标识映射定义文件将被忽略。因此，如果该文件存在，它也应包含任何也将在缺省标识映射定义文件中找到的条目。
</dd>
</dl>
<a name="wq1592"></a>
<h3 id="wq1592">相关信息</h3>
<p>命令：<span class="pk">ctskeygen</span>、<span class="pk">ctsthl</span>、<span class="pk">ctsvhbal</span>、<span class="pk">ctsvhbar</span></p>
<p>文件：<span class="pk">ctcasd.cfg</span>、<span class="pk">ct_has.pkf</span>、<span class="pk">ct_has.qkf</span>、<span class="pk">ct_has.thl</span></p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="ctsvhbac.htm#Top_Of_Page">页的顶部</a> | <a href="ctsthl.htm">上一页</a> | <a href="ctsvhbal.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
