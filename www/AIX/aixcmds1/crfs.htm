<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - crfs 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="crfs 命令, 创建, 文件系统" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="crfs.htm#Bot_Of_Page">页的底部</a> | <a href="createvsd.htm">上一页</a> | <a href="cron.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="d860c4b271joyc"></a>
<h2 id="d860c4b271joyc">crfs 命令</h2>
<p><a id="idx572" name="idx572"></a></p>
<a name="d860c4b305joyc"></a>
<h3 id="d860c4b305joyc">用途</h3>
<p>添加一个文件系统。<a id="idx573" name="idx573"></a></p>
<a name="d860c4b550joyc"></a>
<h3 id="d860c4b550joyc">语法</h3>
<p><span class="bold">crfs</span>   <a href="crfs.htm#d860c4d156joyc"><span class="bold">-v</span></a><span class="italic"> VfsType</span> {   <a href="crfs.htm#d860c4c621joyc"><span class="bold">-g</span></a> <span class="italic">VolumeGroup</span> |   <a href="crfs.htm#d860c4c545joyc"><span class="bold">-d</span></a> <span class="italic">Device</span> } [   <a href="crfs.htm#d860c4c660joyc"><span class="bold">-l</span></a><span class="italic"> LogPartitions</span> ]    <a href="crfs.htm#d860c4c697joyc"><span class="bold">-m</span></a> <span class="italic">MountPoint</span>  [   <a href="crfs.htm#d860c4c812joyc"><span class="bold">-n </span></a><span class="italic">NodeName</span> ] [   <a href="crfs.htm#d860c4d118joyc"><span class="bold">-u</span> <span class="italic">MountGroup</span></a><span class="italic"></span> ]
[   <a href="crfs.htm#d860c4c432joyc"><span class="bold">-A </span></a>{    <span class="bold">yes </span>|   <span class="bold">no </span>} ] [   <a href="crfs.htm#d860c4c850joyc"><span class="bold">-p </span></a>{<span class="bold">ro</span> | <span class="bold">rw</span> }
]  [  <a href="crfs.htm#d860c4b913joyc"><span class="bold">-a </span></a><span class="italic">Attribute</span><span class="bold">=</span> <span class="italic">Value</span> ...<span class="italic"></span> ] [  <a href="crfs.htm#d860c4d005joyc"><span class="bold">-t</span></a>{<span class="bold"> yes</span>  |  <span class="bold">no</span> } ]</p>
<a name="d860c4b655joyc"></a>
<h3 id="d860c4b655joyc">描述</h3>
<p><span class="bold">crfs</span> 命令在预先创建的卷组内的逻辑卷上创建一个文件系统。为文件系统创建一个新的逻辑卷，除非已存在的逻辑卷的名字是用 <span class="bold">-d</span> 来指定的。文件系统的条目放在了 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/filesystems.htm#a1249cf"><span class="bold">/etc/filesystems</span></a> 文件中。</p>
<a name="wq1360"></a>
<div class="notelisttitle" id="wq1360">注:</div>
<ol type="1">
<li> 文件系统被创建并且 <span class="bold">setgid</span> （设置组标识）位已启用。这确定了缺省的组权限。所有创建在新的文件系统下的目录将拥有相同的缺省组权限。</li>
<li>要获取有关在条带逻辑卷上创建文件系统的信息，请参考 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/mklv.htm#izk4160frit"><span class="bold">mklv</span></a> 文档中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/mklv.htm#mklv_description_fs_on_striped_lv"><span class="bold">『条带逻辑卷上的文件系统』</span></a>。</li>
</ol>
<p>可以采用位于 基于 Web 的系统管理器（wsm）的 文件系统 应用程序来改变文件系统的特征。还可以采用系统管理界面程序（SMIT）<span class="bold">smit crfs</span> 快速路径运行这个命令。</p>
<a name="d860c4b835joyc"></a>
<h3 id="d860c4b835joyc">标志</h3>
<p></p>
<a name="wq1362"></a>
<table id="wq1362" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="23%">
<a id="d860c4b913joyc" name="d860c4b913joyc"></a><span class="bold">-a</span><span class="italic"> Attribute</span><span class="bold">=</span><span class="italic">Value</span></td>
<td width="76%">  指定一个虚拟的文件依赖系统属性／值对。要指定多个属性／值对，提供多个 <span class="bold">-a</span><span class="italic"> Attribute=Value</span> 参数（参阅<a href="crfs.htm#d860c4d189joyc">示例</a>）。
<a name="d860c4b951joyc"></a>
<p id="d860c4b951joyc">以下属性／值对指定为日志文件系统（JFS)：</p></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt class="bold">-a ag={ 8 | 16 | 32 | 64 }</dt>
<dd>以兆字节指定分配组的大小。一个分配组是一组和 BSD 柱面组相似的结点和磁盘块。缺省的 <span class="bold">ag</span> 值为 8。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt class="bold">-a bf={ true | false }</dt>
<dd>指定一个大的支持文件系统的文件。参阅“理解支持大文件的文件系统”可得到更多信息。如果不需要支持大文件的文件系统，设置此选项为 false，这是缺省的。指定 <span class="bold">bf=true</span> 需要一个段的大小为 4096 和 <span class="bold">compress=no</span>。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt class="bold">-a compress={ no | LZ }</dt>
<dd>指定数据的压缩。如果不想压缩数据，设置选项为 <span class="bold">no</span>。缺省的压缩值为 <span class="bold">no</span>。 选择压缩需要段的大小为 2048 或更小。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt class="bold">-a frag={ 512 | 1024 | 2048 |  4096 }</dt>
<dd>用字节指定 JFS 段的大小。一个文件系统段是最小的可被分配到文件的磁盘存储单元。缺省的段大小为 4096 字节。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt class="bold">-a logname=<span class="italic">LVName</span></dt>
<dd>指定日志逻辑卷名称。指定的逻辑卷将是新的 JFS 的日志设备。这个 <span class="italic">LVName</span> 逻辑卷必须已经存在。缺省的操作是使用目标卷组的已存在日志设备。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt class="bold">-a nbpi={ 512 | 1024 | 2048 |  4096 | 8192 | 16384 | 32768
| 65536 |  131072 }</dt>
<dd>指定每 i-node (nbpi) 上字节的数目。nbpi 影响文件系统上的 i-nodes 总数量。<span class="bold">nbpi</span> 值与文件系统上的 i-nodes 数目成反比。缺省的 <span class="bold">nbpi</span>  值是 4096 字节。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt class="bold">-a size=<span class="italic">Value</span></dt>
<dd>指定日志文件系统的大小。单元大小可以用 512 字节块、兆字节或 G 字节等单位来指定。如果值的后缀为 M，就被解释为兆字节。如果值的后缀为 G，就解释为 G 字节。如果指定的大小不能被物理分区大小平均分配，就会上舍入到最接近的平均分配数值。当创建一个 JFS 文件系统时，就需要这个属性。参阅“了解 JFS 大小限制”可得到更多的信息。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<p>JFS 文件系统的最大大小是一个它的段大小和 nbpi 值的函数。这些值产生了以下大小限制：</p> 
<p></p>
<pre class="xmp"><span class="bold">nbpi             Fragment size in bytes   Maximum size in  Maximum size in  Maximum size in
                                          512-byte blocks     Megabytes        Gigabytes</span>
512              512, 1024, 2048, 4096    16777216             8192              8
1024             512, 1024, 2048, 4096    33554432             16384             16
2048             512, 1024, 2048, 4096    67108864             32768             32
4096             512, 1024, 2048, 4096    134217728            65536             64
8192             512, 1024, 2048, 4096    268435456            131072            128
16384            512                      268435456            262144            256
16384            1024, 2048, 4096         536870912            524288            512
32768            512                      268435456            1048576           1024
32768            1024                     536870912            2097152           2048
32768            2048, 4096               1073741824           4194204           4096
65536, 131072    512                      268435456            8388608           8192
65536, 131072    1024                     536870912            16777216          16384
65536, 131072    2048                     1073741824           33554432          32768
65536, 131072    4096                     2147483648           67108804          65536

</pre><p class="indatacontent">可以拥有的 NBPI 值从 512 到 128K，和相应的最大文件系统大小。</p></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<p>文件系统所在的卷组定义了一个最大的逻辑卷大小，也限制了文件系统的大小。</p>
<a name="wq1363"></a>
<div class="notelisttitle" id="wq1363">注:</div>
<ol type="1">
<li><span class="bold">ag</span>、<span class="bold">bf</span>、<span class="bold">compress</span>、<span class="bold">frag</span>和 <span class="bold">nbpi</span> 的属性在文件系统创建时被设置，并在文件系统成功创建后不能修改。<span class="bold">size</span> 属性定义了最小的文件系统的大小，并且一旦文件系统创建后，不能减小它。</li>
<li>根文件系统（<span class="bold">/</span> ) 不能被压缩。</li>
<li>一些 <span class="bold">nbpi</span> 值和分配组的大小是相互排斥的。参阅“理解 JFS 大小限制”可得到更多的信息。</li>
</ol></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<p>以下的属性／值对针对提高日志文件系统（JFS2）的：</p></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt class="bold">-a agblksize={ 512 | 1024 | 2048 | 4096 } </dt>
<dd>用字节指定 JFS2 块的大小。一个文件系统段是最小可被分配到文件的磁盘存储单元。缺省的块大小为 4096 字节。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt class="bold">-a logname=<span class="italic">LVName</span></dt>
<dd>指定日志逻辑卷名称。指定的逻辑卷是新的 JFS2 的日志设备。这个 <span class="italic">LVName</span> 逻辑卷必须已经存在。缺省的操作是使用目标卷组的已存在日志设备。关键字 <span class="bold">INLINE</span> 可用来将日志放到使用 JFS2 文件系统的逻辑卷中。<span class="bold">INLINE</span> 日志缺省为逻辑卷大小的 .4%，如果 <span class="bold">logsize</span> 在没有被指定的情况下。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt class="bold">-a logsize=<span class="italic">Value</span></dt>
<dd>为 <span class="bold">INLINE</span> 的日志指定大小，以兆字节计算。如果 <span class="bold">INLINE</span> 日志未在使用则忽略。不会比文件系统的大小大 10%。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<dl>
<dt class="bold">-a size=<span class="italic">Value</span></dt>
<dd>以 512 字节块指定 JFS2 的大小。如果指定的大小不能被物理分区大小平均分配，就会上舍入到最接近的平均分配数值。当创建一个 JFS2 文件系统时，需要这个属性，除非 <span class="bold">-d</span> 标志已被指定。如果 <span class="bold">-d</span> 标志已被指定，文件系统就是逻辑卷的大小。文件系统所在的卷组定义了一个最大的逻辑卷大小并限制了文件系统的大小。
</dd>
</dl></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>
<a name="wq1365"></a>
<div class="notetitle" id="wq1365">注:</div>
<div class="notebody"><span class="bold">agblksize</span> 属性在创建文件系统时设置，不能在成功创建文件系统后更改。<span class="bold">size</span> 属性定义了最小的文件系统的大小，并且一旦文件系统创建后，不能减小它。</div></td>
</tr>
<tr>
<td>
<a id="d860c4c432joyc" name="d860c4c432joyc"></a><span class="bold">-A</span></td>
<td>指定在每次系统重新启动后，文件系统是否已经安装：
<dl>
<dt class="bold">yes</dt>
<dd>系统重新启动时，文件系统自动进行安装。
</dd>
</dl> 
<dl>
<dt class="bold">no</dt>
<dd>  系统重新启动时，文件系统不进行安装。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="d860c4c545joyc" name="d860c4c545joyc"></a><span class="bold">-d</span><span class="italic"> Device</span></td>
<td>   指定设备的名称或逻辑卷，在其上创建文件系统。这是用来在一个已存在的逻辑卷上创建一个文件系统。</td>
</tr>
<tr>
<td>
<a id="d860c4c621joyc" name="d860c4c621joyc"></a><span class="bold">-g</span><span class="italic"> VolumeGroup</span></td>
<td>    指定设备的名称或逻辑卷，在其上创建文件系统。一个卷组是一个或多个物理卷的集合。</td>
</tr>
<tr>
<td>
<a id="d860c4c660joyc" name="d860c4c660joyc"></a><span class="bold">-l</span><span class="italic"> LogPartitions</span></td>
<td>指定日志逻辑卷的大小，以一些逻辑分区的数字来表达。这个标志只应用到还没有日志设备的 JFS 和 JFS2 文件系统。</td>
</tr>
<tr>
<td>
<a id="d860c4c697joyc" name="d860c4c697joyc"></a><span class="bold">-m</span><span class="italic"> MountPoint</span></td>
<td>   指定安装点，它是文件系统将成为可用的目录。
<a name="wq1366"></a>
<div class="notetitle" id="wq1366">注:</div>
<div class="notebody">如果指定一个相对路径名，在插入到 <span class="bold">/etc/filesystems</span> 文件中以前它会转变为绝对路径名。</div></td>
</tr>
<tr>
<td>
<a id="d860c4c812joyc" name="d860c4c812joyc"></a><span class="bold">-n</span><span class="italic"> NodeName</span></td>
<td>   指定远程系统所在的远程主机名。此标志仅在远程虚拟文件系统上有效，例如网络文件系统（NFS）。</td>
</tr>
<tr>
<td>
<a id="d860c4c850joyc" name="d860c4c850joyc"></a><span class="bold">-p</span></td>
<td>  设置文件系统的权限。
<dl>
<dt class="bold">ro</dt>
<dd>  只读权限
</dd>
</dl> 
<dl>
<dt class="bold">rw</dt>
<dd>  读／写权限
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="d860c4d005joyc" name="d860c4d005joyc"></a><span class="bold">-t</span></td>
<td>指定文件系统是否由记帐子系统来处理：
<dl>
<dt class="bold">yes</dt>
<dd>  启用文件系统上的记帐功能。
</dd>
</dl> 
<dl>
<dt class="bold">no</dt>
<dd>  文件系统上的记帐功能不启用（缺省值）。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="d860c4d118joyc" name="d860c4d118joyc"></a><span class="bold">-u</span><span class="italic"> MountGroup</span></td>
<td> 指定安装组。</td>
</tr>
<tr>
<td>
<a id="d860c4d156joyc" name="d860c4d156joyc"></a><span class="bold">-v</span><span class="italic"> VfsType</span></td>
<td>  指定虚拟文件系统的类型。</td>
</tr>
</tbody>
</table>
<a name="a032000mkm"></a>
<h3 id="a032000mkm">安全性</h3>
<p>访问控制：只有 root 用户可以运行这个命令。</p>
<a name="d860c4d189joyc"></a>
<h3 id="d860c4d189joyc">示例</h3>
<ol type="1">
<li>
<p>为在 <tt>rootvg</tt> 卷组上创建一个 JFS，采用非缺省的段大小和非缺省的 nbpi，输入：</p>
<pre class="xmp">crfs  <a href="crfs.htm#d860c4d156joyc">-v</a> jfs  <a href="crfs.htm#d860c4c621joyc">-g</a>  rootvg  <a href="crfs.htm#d860c4c697joyc">-m</a> /test -a \ size=32768 -a frag=512 -a nbpi=1024</pre>
<p>此命令在 <tt> rootvg</tt> 卷组上创建了 <span class="bold">/test</span> 文件系统，段的大小为 512 字节，每 i-node(nbpi) 的字节比例是 1024，初始的大小是 16MB (512 *  32768)。</p></li>
<li>为在 <tt>rootvg</tt> 卷组上创建一个 JFS，采用非缺省段大小和非缺省的 nbpi，输入：
<pre class="xmp">crfs -v jfs -g rootvg -m /test -a size=16M -a frag=512 -a nbpi=1024</pre>  此命令在 <tt>rootvg</tt> 卷组上创建了 <span class="bold">/test</span> 文件系统，段的大小为 512 字节，每 i-node(nbpi) 的字节比例是 1024，初始的大小是 16MB。</li></ol>
<a name="d860c4d560joyc"></a>
<h3 id="d860c4d560joyc">文件</h3>
<p></p>
<a name="wq1368"></a>
<table id="wq1368" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="26%">
<a id="d860c4d597joyc" name="d860c4d597joyc"></a><span class="bold">/etc/filesystems</span></td>
<td width="73%">  列出已知的文件系统并定义它们的特征。</td>
</tr>
</tbody>
</table>
<a name="d860c4d633joyc"></a>
<h3 id="d860c4d633joyc">相关信息</h3>
<p><a href="chfs.htm#a3059b2"><span class="bold">chfs</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/mkfs.htm#a1019296c"><span class="bold">mkfs</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/mklv.htm#izk4160frit"><span class="bold">mklv</span></a> 命令。</p>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/admnconc/file_sys.htm#filesys">文件系统</a>，在 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中，解释了文件系统的类型、管理、结构和维护。</p>
<p>要想得到有关安装基于 Web 的系统管理器的信息，参阅 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/wsmadmn/install.htm">第 2 章：安装和系统需求</a>，在 <span class="italic">《AIX 5L V5.2 基于 Web 的系统管理器管理指南》</span> 中。</p>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/admnconc/sys_mgt_tools.htm">系统管理界面程序</a>，在 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中，解释了 SMIT 结构、主菜单和任务。</p>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/admnconc/fs_types.htm#d6ce066274meki">理解日志文件系统的大小的限制</a>，在 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="crfs.htm#Top_Of_Page">页的顶部</a> | <a href="createvsd.htm">上一页</a> | <a href="cron.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
