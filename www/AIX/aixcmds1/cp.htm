<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - cp 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="描述了, 复制, 文件, cp 命令" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="cp.htm#Bot_Of_Page">页的底部</a> | <a href="confsetcntrl.htm">上一页</a> | <a href="cpio.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="dup0123"></a>
<h2 id="dup0123">cp 命令</h2>
<p><a id="idx555" name="idx555"></a> <a id="idx556" name="idx556"></a></p>
<a name="a133z92232"></a>
<h3 id="a133z92232">用途</h3>
<a name="f008cb9630mart"></a>
<p id="f008cb9630mart">复制文件。</p>
<a name="a133z92234"></a>
<h3 id="a133z92234">语法</h3>
<a name="wq1296"></a>
<h4 id="wq1296">复制文件到另一文件</h4>
<p><span class="bold">cp</span> [ <a href="cp.htm#cp_flags_bige"><span class="bold">-E</span></a>{<span class="bold">force</span><span class="bold">|ignore</span>|<span class="bold">warn</span>} ] [ <a href="cp.htm#qokkibebill"><span class="bold">-f&nbsp;</span></a>]
[&nbsp; <a href="cp.htm#foq1a0judy"><span class="bold">-h&nbsp;</span></a>] [&nbsp; <a href="cp.htm#a133z9222a"><span class="bold">-i</span></a><span class="bold">&nbsp;</span>]
[&nbsp; <a href="cp.htm#a133z9223e"><span class="bold">-p&nbsp;</span></a>][&nbsp; <a href="cp.htm#a133z92240"><span class="bold">-&nbsp;</span></a>] <span class="italic">SourceFile&nbsp;TargetFile</span></p>
<a name="wq1297"></a>
<h4 id="wq1297">复制文件到目录</h4>
<p><span class="bold">cp</span> [ <a href="cp.htm#cp_flags_bige"><span class="bold">-E</span></a>{<span class="bold">force</span><span class="bold">|ignore</span>|<span class="bold">warn</span>} ] [ <a href="cp.htm#qokkibebill"><span class="bold">-f&nbsp;</span></a>] [&nbsp; <a href="cp.htm#foq1a0judy"><span class="bold">-h&nbsp;</span></a>] [&nbsp; <a href="cp.htm#a133z9222a"><span class="bold">-i</span></a><span class="bold">&nbsp;</span>] [&nbsp; <a href="cp.htm#a133z9223e"><span class="bold">-p&nbsp;</span></a>] [[&nbsp; <a href="cp.htm#jwbvo2d1janb"><span class="bold">-r&nbsp;</span></a>|&nbsp; <a href="cp.htm#orf1110bob"><span class="bold">-R&nbsp;</span></a>]
[ <a href="cp.htm#hyubng001"><span class="bold">-H</span></a> | <a href="cp.htm#hyubng002"><span class="bold">-L</span></a> | <a href="cp.htm#hyubng003"><span class="bold">-P</span></a> ]]
[&nbsp; <a href="cp.htm#a133z92240"><span class="bold">-&nbsp;</span></a>] <span class="italic">SourceFile&nbsp;... TargetDirectory</span></p>
<a name="wq1298"></a>
<h4 id="wq1298">复制目录到目录</h4>
<p><span class="bold">cp</span>  [ <a href="cp.htm#cp_flags_bige"><span class="bold">-E</span></a>{<span class="bold">force</span><span class="bold">|ignore</span>|<span class="bold">warn</span>} ] [  <a href="cp.htm#qokkibebill"><span class="bold">-f&nbsp;</span></a>] [&nbsp; <a href="cp.htm#foq1a0judy"><span class="bold">-h&nbsp;</span></a>] [&nbsp; <a href="cp.htm#a133z9222a"><span class="bold">-i&nbsp;</span></a>]
[&nbsp; <a href="cp.htm#a133z9223e"><span class="bold">-p&nbsp;</span></a>] {&nbsp; <a href="cp.htm#jwbvo2d1janb"><span class="bold">-r</span></a><span class="bold">&nbsp;</span>|&nbsp; <a href="cp.htm#orf1110bob"><span class="bold">-R</span></a><span class="bold">&nbsp;</span>}  [ <a href="cp.htm#hyubng001"><span class="bold">-H</span></a> | <a href="cp.htm#hyubng002"><span class="bold">-L</span></a> | <a href="cp.htm#hyubng003"><span class="bold">-P</span></a> ]
 [&nbsp; <a href="cp.htm#a133z92240"><span class="bold">-&nbsp;</span></a>] <span class="italic">SourceDirectory&nbsp;... TargetDirectory</span></p>
<a name="a133z92236"></a>
<h3 id="a133z92236">描述</h3>
<a name="f008cbb040mart"></a>
<p id="f008cbb040mart"><span class="bold">cp</span> 命令复制由 <span class="italic">SourceFile</span> 参数指定的源文件到由 <span class="italic">TargetFile</span> 参数指定的目标文件。如果目标文件已存在，<span class="bold">cp</span> 覆盖原来内容，但相关的方式、所有者和组不改变。<span class="italic">SourceFile</span> 的最后访问时间和<span class="italic">TargetFile</span> 的最后修改时间设置为复制进行的时间。如果 <span class="italic">TargetFile</span> 不存在，<span class="bold">cp</span> 创建一个新文件命名为 <span class="italic">TargetFile</span>，它和源文件除了粘滞位未设置外有相同的方式，除非超级用户来设置它，而所有者和 <span class="italic">TargetFile</span> 组正是这种用户。当 <span class="italic">TargetFile</span> 是另一文件的链接时，<span class="bold">cp</span> 用源文件内容覆盖目标链接；来自 <span class="italic">TargetFile</span> 的链接保留。而且，<span class="bold">cp</span> 命令能复制
由 <span class="italic">SourceFile</span> 参数（或由 <span class="italic">SourceDirectory</span> 参数命名的目录）指定的源文件到由 <span class="italic">TargetDirectory</span> 参数指定的目录。</p>
<p></p><blockquote><a name="d7265e0984jani"></a><span id="d7265e0984jani" class="pk"></span><span class="bold">注：</span>如果源参数之一是目录，您需要指定 <span class="bold">-r</span> 或 <span class="bold">-R</span> 标志。</blockquote>
<a name="f008cbb261mart"></a>
<p id="f008cbb261mart">如果有目录由 <span class="bold">cp</span> 命令在复制过程创建，新创建的目录与相应的源目录有相同的方式。</p>
<a name="f008cbb410mart"></a>
<p id="f008cbb410mart">您也能复制特殊设备文件。实现这一点的首选选项是 <span class="bold">-R</span> 标志。指定 <span class="bold">-R</span> 使特殊文件在新路径名下重新创建。指定 <span class="bold">-r</span> 标志使 <span class="bold">cp</span> 命令尝试复制特殊文件为常规文件。</p>
<a name="a133z9223d"></a>
<h3 id="a133z9223d">标志</h3>
<p></p>
<a name="wq1299"></a>
<table id="wq1299" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="cp_flags_bige" name="cp_flags_bige"></a><span class="bold">-E</span></td>
<td width="86%"><span class="bold">-E</span> 选项需要下列参数中的一个。
如果省略 <span class="bold">-E</span> 选项，<span class="bold">warn</span> 是缺省行为。
<dl>
<dt class="bold"><span class="bold">force</span></dt>
<dd>以下情况对文件的 <span class="bold">cp</span> 操作会失败，即如果文件的固定范围大小或空间保留不能被保存的话。
</dd>
</dl>
<dl>
<dt class="bold"><span class="bold">ignore</span></dt>
<dd>在保存范围属性时忽略任何错误。
</dd>
</dl>
<dl>
<dt class="bold"><span class="bold">warn</span></dt>
<dd>如果文件的固定范围大小或空间保留不能被保存的话，则发出警告。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="qokkibebill" name="qokkibebill"></a><span class="bold">-f</span></td>
<td>  如果目标文件不能被写操作打开的话，指定移去目标文件。移去操作在 <span class="bold">cp</span> 命令作任何复制之前执行。</td>
</tr>
<tr>
<td>
<a id="foq1a0judy" name="foq1a0judy"></a><span class="bold">-h</span></td>
<td>  强制 <span class="bold">cp</span> 命令复制符号链接。缺省值是跟随符号链接，也就是将文件复制到符号链接指向处。</td>
</tr>
<tr>
<td>
<a id="hyubng001" name="hyubng001"></a><span class="bold">-H</span></td>
<td>根据由指定为 <span class="italic">SourceFile</span> 操作数的任何符号链接引用的文件类型和内容来进行操作。</td>
</tr>
<tr>
<td>
<a id="a133z9222a" name="a133z9222a"></a><span class="bold">-i</span></td>
<td>  提示您将被覆盖的文件名。上述情况发生在当 <span class="italic">TargetDirectory</span> 或 <span class="italic">TargetFile</span> 参数含有与 <span class="italic">SourceFile</span> 或 <span class="italic">SourceDirectory</span> 参数所指定的文件同名的文件时。如果您输入 <tt>y</tt> 或在语言环境下的 <tt> y</tt> 的同义词，<span class="bold">cp</span> 命令将继续。任何其他的回答会避免 <span class="bold">cp</span> 命令覆盖文件。</td>
</tr>
<tr>
<td>
<a id="hyubng002" name="hyubng002"></a><span class="bold">-L</span></td>
<td>根据由指定为 <span class="italic">SourceFile</span> 操作数的任何符号链接或在遍历文件层次结构期间遇到的任何符号链接所引用的文件类型和内容来进行操作。</td>
</tr>
<tr>
<td>
<a id="a133z9223e" name="a133z9223e"></a><span class="bold">-p</span></td>
<td>  复制每个源文件/源目录的以下特征到相应的 <span class="italic">TargetFile</span> 和/或 <span class="italic">TargetDirectory</span>：
<ul>
<li id="a0476ee5176mart">
<a name="a0476ee5176mart"></a>最后修改数据和最后访问的时间。如果这一复制由于任何原因而失败，<span class="bold">cp</span> 命令将给标准错误写一个诊断消息。</li>
<li id="a0476ee5275mart">
<a name="a0476ee5275mart"></a>用户标识和组标识。如果这一复制由于任何原因而失败，<span class="bold">cp</span> 命令将给标准错误写一个诊断消息。</li>
<li id="a0476ee5374mart">
<a name="a0476ee5374mart"></a>文件许可位和 S_ISUID 和 S_ISGID 位。如果这一复制由于任何原因而失败，<span class="bold">cp</span> 命令将给标准错误写一个诊断消息。</li></ul> 
<a name="a0476ee5475mart"></a>
<p id="a0476ee5475mart">如果用户标识或组标识不能复制，则文件许可位 S_ISUID 和 S_ISGID 被清除。</p> 
<p>为了保存所有者标识和组标识、许可方式、修改和访问次数，用户必须有适当的文件访问许可权（用户应该是超级用户或与目标文件有相同的所有者标识）</p> 
<a name="a39c6833296janb"></a>
<p id="a39c6833296janb">如果不能保存这些特征，则目标文件不能删除。</p> 
<a name="a39c6833336janb"></a>
<p id="a39c6833336janb">与 <span class="italic">SourceFile 源文件</span>相关联的访问控制列表（ACL），也被保存。参见<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/security/user_accounts.htm">用户说明</a>，在 <span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span> 中，来获得关于 ACL 的更多信息。</p></td>
</tr>
<tr>
<td>
<a id="hyubng003" name="hyubng003"></a><span class="bold">-P</span></td>
<td>根据指定为 <span class="italic">SourceFile</span> 操作数的任何符号链接或在遍历文件层次结构期间遇到的任何符号链接来进行操作。</td>
</tr>
<tr>
<td>
<a id="jwbvo2d1janb" name="jwbvo2d1janb"></a><span class="bold">-r</span></td>
<td>  复制由 <span class="italic">SourceFile</span> 或 <span class="italic">SourceDirectory</span> 参数指定的文件或目录下的文件层次结构（递归复制）。<span class="bold">-r</span> 标志用处理常规文件的相同方式处理特殊文件。</td>
</tr>
<tr>
<td>
<a id="orf1110bob" name="orf1110bob"></a><span class="bold">-R</span></td>
<td>  复制由 <span class="italic">SourceFile</span> 或 <span class="italic">SourceDirectory</span> 参数指定的文件或目录下的文件层次结构到由 <span class="italic">TargetDirectory</span> 参数指定的目录。特殊文件类型，如先入先出（FIFO）文件和块及字符设备将被重新创建而非复制。符号链接也被跟随，除非指定 <span class="bold"> -h</span> 标志。（<span class="bold">-R</span> 标志优先于 <span class="bold">-r</span> 标志。）
<p>如果没有指定 <span class="bold">-H</span>、<span class="bold">-L</span> 或 <span class="bold">-P</span> 选项中的任何一个，则没有指定这些选项中哪一个将用作缺省值。请留心以下内容：</p>
<ul>
<li>如果指定了 <span class="bold">-H</span> 选项，则 <span class="bold">cp</span> 命令将根据由指定为 <span class="italic">SourceFile</span> 操作数的任何符号链接引用的文件类型和内容来进行操作。</li>
<li>如果指定了 <span class="bold">-L</span> 选项，<span class="bold">cp</span> 命令将根据由指定为 <span class="italic">SourceFile</span> 操作数的任何符号链接或在遍历文件层次结构期间遇到的任何符号链接所引用的文件类型和内容来进行操作。</li>
<li>如果指定了 <span class="bold">-P</span> 选项，则 <span class="bold">cp</span> 命令将复制指定为 <span class="italic">SourceFile</span> 操作数的任何符号链接和在遍历文件层次结构期间遇到的任何符号链接，但不会进行任何符号链接。</li></ul></td>
</tr>
<tr>
<td>
<a id="a133z92240" name="a133z92240"></a><span class="bold">--</span></td>
<td>  指示 <span class="bold">--</span>（破折号,破折号）标志之后的参数将被解释为文件名。空标志允许以 <span class="bold">-</span> （减号）开始的文件名规范。</td>
</tr>
</tbody>
</table>
<a name="aadfbfd449kare"></a>
<h3 id="aadfbfd449kare">退出状态</h3>
<a name="f008cbc267mart"></a>
<p id="f008cbc267mart">该命令返回以下退出值：</p>
<a name="wq1300"></a>
<table id="wq1300" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="c4474b5362elai" name="c4474b5362elai"></a><span class="bold">0</span></td>
<td width="79%">  所有文件成功复制。</td>
</tr>
<tr>
<td>
<a id="c4474b5433elai" name="c4474b5433elai"></a><span class="bold">>0</span></td>
<td>  发生错误。</td>
</tr>
</tbody>
</table>
<a name="a133z92241"></a>
<h3 id="a133z92241">示例</h3>
<ol type="1">
<li><a name="a133z92242"></a><span id="a133z92242" class="pk"></span>在当前目录做一个文件副本，输入：
<p></p>
<a name="a26fd127666janb"></a>
<pre id="a26fd127666janb" class="xmp">cp&nbsp;prog.c&nbsp;prog.bak</pre><p class="indatacontent"> 这将复制 <tt>prog.c</tt> 到 <tt>prog.bak</tt>。如果 <tt>prog.bak</tt> 现在不存在，则 <span class="bold">cp</span> 命令创建它。如果它存在，<span class="bold">cp</span> 命令用 <tt>prog.c</tt> 命令的副本取代它。</p></li>
<li><a name="a133z92245"></a><span id="a133z92245" class="pk"></span>复制您当前目录下的一个文件到另一个目录，输入：
<p></p>
<a name="a26fd127744janb"></a>
<pre id="a26fd127744janb" class="xmp">cp&nbsp;jones&nbsp;/home/nick/clients</pre><p class="indatacontent"> 这将复制 <tt>jones</tt> 文件到 <tt>/home/nick/clients/jones</tt>。</p></li>
<li><a name="a133z92248"></a><span id="a133z92248" class="pk"></span>复制一个文件到一个新的文件并保存与源文件相关联的修改日期、时间和访问控制列表，输入：
<a id="a133z92249" name="a133z92249"></a>
<div class="lines"><tt>cp&nbsp; <a href="cp.htm#a133z9223e">-p&nbsp;</a>smith&nbsp;smith.jr</tt><br />
</div> 这将复制 <tt>smith</tt> 文件到 <tt>smith.jr</tt> 文件。不是用当前日期和时间戳记创建文件，而是系统给 <tt>smith.jr</tt> 文件和 <tt>smith</tt> 文件相同的日期和时间。<tt>smith.jr</tt> 文件也继承 <tt>smith</tt> 文件的访问控制保护。</li>
<li><a name="a133z9224b"></a><span id="a133z9224b" class="pk"></span>复制一个目录下的所有文件到一个新目录，输入：
<p></p>
<a name="a26fd127899janb"></a>
<pre id="a26fd127899janb" class="xmp">cp&nbsp;/home/janet/clients/*&nbsp;/home/nick/customers</pre><p class="indatacontent"> 这只复制 <tt>clients</tt> 目录下的文件到 <tt>customers</tt> 目录。</p></li>
<li><a name="a133z9224e"></a><span id="a133z9224e" class="pk"></span>复制一个目录包括其所有的文件和子目录到另一个目录，输入：
<a id="a133z9224f" name="a133z9224f"></a>
<div class="lines"><tt>cp&nbsp; <a href="cp.htm#orf1110bob">-R&nbsp;</a>/home/nick/clients&nbsp;/home/nick/customers</tt><br />
</div>
<a name="wq1302"></a>
<div class="notetitle" id="wq1302">注:</div>
<div class="notebody">目录不能复制到目录本身。</div> 这将复制 <tt>clients</tt> 目录，包括所有文件、子目录和那些子目录中的文件到 <tt>customers/clients</tt> 目录。</li>
<li><a name="a133z92251"></a><span id="a133z92251" class="pk"></span>复制一个特殊的文件集合到另一个目录，输入：
<p></p>
<a name="a26fd128075janb"></a>
<pre id="a26fd128075janb" class="xmp">cp&nbsp;jones&nbsp;lewis&nbsp;smith&nbsp;/home/nick/clients</pre><p class="indatacontent"> 这将复制您当前工作目录的 <tt>jones</tt>，<tt>lewis</tt>，和 <tt>smith</tt> 文件到 <tt>/home/nick/clients</tt>目录。</p></li>
<li><a name="a133z92254"></a><span id="a133z92254" class="pk"></span>要使用模式匹配字符来复制文件，输入：
<p></p>
<a name="a26fd128507janb"></a>
<pre id="a26fd128507janb" class="xmp">cp&nbsp;programs/*.c .</pre><p class="indatacontent"> 这将复制 <tt>programs</tt> 目录下，以 <tt>.c</tt> 结尾的文件到当前目录，表示为单个 <tt>.</tt> （点号）。您必须在 <tt>c</tt> 和最后的点号间输入一个空格。</p></li></ol>
<a name="a133z9222d"></a>
<h3 id="a133z9222d">文件</h3>
<dl>
<dt class="bold"><span class="bold">/usr/bin/cp</span></dt>
<dd>包含 <span class="bold">cp</span> 命令。
</dd>
</dl>
<a name="a133z92259"></a>
<h3 id="a133z92259">相关信息</h3>
<a name="f008cc1753mart"></a>
<p id="f008cc1753mart"><a href="cpio.htm#a10192b06"><span class="bold">cpio</span></a> 命令，<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/link.htm"><span class="bold">link</span></a> 命令，<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/ln.htm"><span class="bold">ln</span></a> 命令，<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/mv.htm"><span class="bold">mv</span></a> 命令，<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds5/unlink.htm"><span class="bold">unlink</span></a> 命令。</p>
<a name="f008cc2061mart"></a>
<p id="f008cc2061mart"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixuser/usrosdev/file_sys_dirs.htm#obxuf265mart">『文件系统与目录概述』</a>。</p>
<a name="f008cc2472mart"></a>
<p id="f008cc2472mart"><span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixprggd/nlsgdrf/nat_lang_support.htm#baa4c69980mart">National Language Support
Overview for System Management</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="cp.htm#Top_Of_Page">页的顶部</a> | <a href="confsetcntrl.htm">上一页</a> | <a href="cpio.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
