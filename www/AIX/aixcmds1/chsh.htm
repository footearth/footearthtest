<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - chsh 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="chsh 命令, 更改登录 shell, 用户" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="chsh.htm#Bot_Of_Page">页的底部</a> | <a href="chservices.htm">上一页</a> | <a href="chslave.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="c2h2360frit"></a>
<h2 id="c2h2360frit">chsh 命令</h2>
<p><a id="idx469" name="idx469"></a></p>
<a name="a1949864"></a>
<h3 id="a1949864">用途</h3>
<a name="ed39ca4141mela"></a>
<p id="ed39ca4141mela">更改用户的登录 shell。<a id="idx470" name="idx470"></a></p>
<a name="a1949866"></a>
<h3 id="a1949866">语法</h3>
<p><span class="bold">chsh</span> [  <a href="chsh.htm#a050121js"><span class="bold">-R</span></a> <span class="italic">load_module</span> ] [&nbsp;<span class="italic">Name&nbsp;</span> [ <span class="italic">Shell</span> ] ]</p>
<a name="a1949869"></a>
<h3 id="a1949869">描述</h3>
<a name="ed39ca4507mela"></a>
<p id="ed39ca4507mela"><span class="bold">chsh</span> 命令更改用户的登录 <span class="bold">shell</span> 属性。<span class="bold">shell</span>
属性定义在用户登录到系统后所运行的初始程序。此属性在 <span class="bold">/etc/passwd</span> 文件中指定。缺省情况下，<span class="bold">chsh</span> 命令为给出该命令的用户更改登录 shell。</p>
<a name="ed39ca4601mela"></a>
<p id="ed39ca4601mela"><span class="bold">chsh</span> 命令是交互式的。
运行 <span class="bold">chsh</span> 命令时，系统显示可用 shell 和 <span class="bold">shell</span> 属性的当前值的列表。然后，系统提示您更改 shell。必须输入可用 shell 的全路径名。</p>
<a name="ed39ca4697mela"></a>
<p id="ed39ca4697mela">如果对 <span class="bold">chuser</span> 命令具有执行权限，则可以为另一个用户更改登录 shell。要为另一个用户更改登录 shell，请指定 <span class="italic">Name</span> 参数。有效的 shell 在 <span class="bold">/etc/security/login.cfg</span> 文件的 usw 节中定义。有效的 shell 缺省值列表是：<span class="bold">/usr/bin/ksh</span>、<span class="bold">/usr/bin/sh</span>、<span class="bold">/usr/bin/bsh</span> 和 <span class="bold">/usr/bin/csh</span>，但您的系统管理器可能定义了更多缺省值。</p>
<p>对于使用备用标识和权限（I&amp;A）机制创建的用户，可以使用 <span class="bold">-R</span> 标志指定用于创建用户的 I&amp;A 装入模块，装入模块在 <span class="bold">/usr/lib/security/methods.cfg</span> 文件中定义。</p>
<a name="a050120js"></a>
<h3 id="a050120js">标志</h3>
<p></p>
<a name="wq1119"></a>
<table id="wq1119" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="16%">
<a id="a050121js" name="a050121js"></a><span class="bold">-R</span><span class="italic"> load_module</span></td>
<td width="83%">指定用于更改用户 shell 的可装入 I&amp;A 模块。</td>
</tr>
</tbody>
</table>
<a name="a32196b2"></a>
<h3 id="a32196b2">安全性</h3>
<a name="ed39ca4852mela"></a>
<p id="ed39ca4852mela">访问控制：由于程序强制执行其自身的访问策略，所以所有用户都应该具有此命令的执行（x）访问权。
此命令应该作为可信计算基（TCB）中的程序来安装。命令应该由设置了 <span class="bold">setgid</span>（SGID）位的 <span class="bold">security</span> 组所拥有。</p>
<a name="ed39ca4935mela"></a>
<p id="ed39ca4935mela">访问的文件：</p>
<a name="wq1120"></a>
<table id="wq1120" width="100%" summary="" border="0" frame="void" rules="none">
<thead valign="bottom">
<tr>
<th id="wq1121" width="8%" align="left">方式</th>
<th id="wq1122" width="91%" align="left">  文件</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq1121"><span class="bold">x</span></td>
<td headers="wq1122">  <span class="bold">/usr/bin/chuser</span></td>
</tr>
<tr>
<td headers="wq1121"><span class="bold">r</span></td>
<td headers="wq1122">  <span class="bold">/etc/security/login.cfg</span></td>
</tr>
<tr>
<td headers="wq1121">
<a id="a39c608a720janb" name="a39c608a720janb"></a><span class="bold">rw</span></td>
<td headers="wq1122">  <span class="bold">/etc/passwd</span></td>
</tr>
</tbody>
</table>
<a name="a050122js"></a>
<h3 id="a050122js">限制</h3>
<p>更改用户的 shell 可能不受所有可装入的 I&amp;A 模块的支持。
如果可装入的 I&amp;A 模块不支持更改用户的 shell，则报告错误。</p>
<a name="a194986f"></a>
<h3 id="a194986f">示例</h3>
<ol type="1">
<li><a name="a1949873"></a><span id="a1949873" class="pk"></span>要更改在登录到系统后运行的 shell，请输入：
<p></p>
<a name="a1949874"></a>
<pre id="a1949874" class="xmp">chsh</pre><p class="indatacontent"> 出现类似如下的信息：</p>
<a name="a32196b9"></a>
<pre id="a32196b9" class="xmp">当前可用的 shell：
&nbsp;/usr/bin/sh
&nbsp;/usr/bin/bsh
&nbsp;/usr/bin/csh
&nbsp;/usr/bin/ksh:
当前登录 shell：
&nbsp;/usr/bin/ksh
更改&nbsp;(y/n)？&nbsp;&gt;</pre><p class="indatacontent"> 表示应该在更改 <tt>(y/n)?</tt> 提示后，通过输入 <tt>y</tt> 进行更改。然后，当出现 <tt>为？</tt> 提示符后，添加您想要的 shell 的名称，如同以下示例所示：</p>
<a name="a32196bb"></a>
<pre id="a32196bb" class="xmp">更改&nbsp;(y/n)？&nbsp;&gt;&nbsp;y
为？&nbsp;&gt;&nbsp;/usr/bin/csh</pre><p class="indatacontent"> 下次登录时，出现 <span class="bold">/usr/bin/csh</span> shell。</p></li>
<li><a name="d722e8e058jani"></a><span id="d722e8e058jani" class="pk"></span>要为 <tt>kim</tt> 将 shell 更改为 <tt>/usr/bin/ksh</tt>，请输入：
<p></p>
<a name="d722e8e092jani"></a>
<pre id="d722e8e092jani" class="xmp">chsh kim /usr/bin/ksh</pre></li>
<li>要更改为用户 <tt>davis</tt> 定义的 LDAP I&amp;A 装入模块 shell，请输入：
<p></p>
<pre class="xmp">chsh -R LDAP davis</pre></li></ol>
<a name="a1949878"></a>
<h3 id="a1949878">文件</h3>
<p></p>
<a name="wq1124"></a>
<table id="wq1124" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="38%"><span class="bold">/usr/bin/chsh</span></td>
<td width="61%">  将路径指定到 <span class="bold">chsh</span> 命令。</td>
</tr>
<tr>
<td><a href="chuser.htm#a067913d9"><span class="bold">/usr/bin/chuser</span></a><span class="bold"></span></td>
<td>  更改用户信息。</td>
</tr>
<tr>
<td><span class="bold">/etc/passwd</span></td>
<td>  包含基本用户属性。</td>
</tr>
<tr>
<td>
<a id="a194987c" name="a194987c"></a><span class="bold">/etc/security/login.cfg</span></td>
<td>  包含登录配置信息。</td>
</tr>
</tbody>
</table>
<a name="a194987d"></a>
<h3 id="a194987d">相关信息</h3>
<a name="ed39ca6739mela"></a>
<p id="ed39ca6739mela"><a href="chgroup.htm#a067914e9"><span class="bold">chgroup</span></a> 命令、<a href="chgrpmem.htm#ju21frit"><span class="bold">chgrpmem</span></a>
命令、<a href="chuser.htm#a067913d9"><span class="bold">chuser</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/lsgroup.htm#a093970"><span class="bold">lsgroup</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/lsuser.htm#a06791463"><span class="bold">lsuser</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/mkgroup.htm#a0679149b"><span class="bold">mkgroup</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/mkuser.htm#ga32320frit"><span class="bold">mkuser</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds4/passwd.htm#oah1a0craw"><span class="bold">passwd</span></a>
命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds4/pwdadm.htm#a349f935"><span class="bold">pwdadm</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds4/rmgroup.htm#a0879e"><span class="bold">rmgroup</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds4/rmuser.htm#rmuser"><span class="bold">rmuser</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds5/setgroups.htm#ji21200frit"><span class="bold">setgroups</span></a> 命令和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds5/setsenv.htm#wpg2f0frit"><span class="bold">setsenv</span></a> 命令。</p>
<a name="ed39ca6833mela"></a>
<p id="ed39ca6833mela"><span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/security/security_admin.htm#standalone_sys_security_part">Security Administration</a> 描述用户的标识和权限、任意访问控制、可信计算基以及审计。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="chsh.htm#Top_Of_Page">页的顶部</a> | <a href="chservices.htm">上一页</a> | <a href="chslave.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
