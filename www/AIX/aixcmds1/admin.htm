<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - admin 命令（SCCS）</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="admin, SCCS 命令, 创建, SCCS, 文件, 控制,
源代码控制系统, admin 命令" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="admin.htm#Bot_Of_Page">页的底部</a> | <a href="adfutil.htm">上一页</a> | <a href="aixmibd.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="a09497b4"></a>
<h2 id="a09497b4">admin 命令（SCCS）</h2>
<a name="a09497b5"></a>
<h3 id="a09497b5">用途</h3>
<p><a id="idx46" name="idx46"></a> <a id="idx47" name="idx47"></a> <a id="idx48" name="idx48"></a></p>
<a name="e47dc25961mart"></a>
<p id="e47dc25961mart">创建并控制“源代码控制系统”（SCCS）文件。</p>
<a name="d6e8e04087jani"></a>
<h3 id="d6e8e04087jani">语法</h3>
<p><a id="idx49" name="idx49"></a> <a id="idx50" name="idx50"></a> <a id="idx51" name="idx51"></a> <a id="idx52" name="idx52"></a></p>
<a name="wq73"></a>
<h4 id="wq73">要创建新的 SCCS 文件</h4>
<p><span class="bold">admin</span> {  <a href="admin.htm#a09497ce"><span class="bold">-n </span></a> <a href="admin.htm#a09497cc"><span class="bold">-i</span></a>[<span class="italic">FileName</span> ] } [  <a href="admin.htm#a09497c6"><span class="bold">-a </span></a>{<span class="bold"></span><span class="italic"> User</span> | <span class="italic">GroupID</span> } ] ... [  <a href="admin.htm#a09497ca"><span class="bold">-f</span></a> <span class="italic">HeaderFlag</span>[<span class="italic">Value</span> ] ... ] [  <a href="admin.htm#a09497cf"><span class="bold">-r</span></a> <span class="italic">SID</span> ] [  <a href="admin.htm#a09497d0"><span class="bold">-t</span></a><span class="italic"> FileName</span> ] [  <a href="admin.htm#a09497cd"><span class="bold">-m</span></a> <span class="italic">ModificationRequestList</span> ]
[  <a href="admin.htm#a09497d3"><span class="bold">-y</span></a>[<span class="italic">Comment</span> ] ] <span class="italic">File</span> ...</p>
<p></p><blockquote><span class="bold">注：</span>不要在标志和可选的（括在中括号中）变量之间留有空格。</blockquote>
<a name="wq74"></a>
<h4 id="wq74">要修改现有的 SCCS 文件</h4>
<p><span class="bold">admin</span> [  <a href="admin.htm#a09497c6"><span class="bold">-a </span></a>{<span class="bold"></span><span class="italic"> User</span> | <span class="italic">GroupID</span> } ] ... [  <a href="admin.htm#a09497c9"><span class="bold">-e </span></a>{ <span class="italic">User</span> | <span class="italic">GroupID</span> } ] ... [ {  <a href="admin.htm#a09497c8"><span class="bold">-d </span></a><span class="italic">HeaderFlag</span> |  <a href="admin.htm#a09497ca"><span class="bold">-f </span></a><span class="italic">HeaderFlag</span>[<span class="italic">Value</span> ] ... } ] [  <a href="admin.htm#a09497cd"><span class="bold">-m</span></a> <span class="italic">ModificationRequestList</span> ]
[  <a href="admin.htm#a09497d0"><span class="bold">-t</span></a>[<span class="italic">FileName</span> ] ] [  <a href="admin.htm#a09497d3"><span class="bold">-y</span></a>[<span class="italic">Comment</span> ] ] <span class="italic">File</span> ...</p>
<p></p><blockquote><span class="bold">注：</span>不要在标志和可选的（括在中括号中）变量之间留有空格。</blockquote>
<a name="wq75"></a>
<h4 id="wq75">要检查损坏的 SCCS 文件</h4>
<p><span class="bold">admin</span>   <a href="admin.htm#a09497cb"><span class="bold">-h </span></a> <span class="italic">File .</span>..</p>
<a name="wq76"></a>
<h4 id="wq76">要更正损坏的 SCCS 文件</h4>
<p><span class="bold">admin</span>   <a href="admin.htm#a09497d5"><span class="bold">-z </span></a> <span class="italic">File .</span>..</p>
<a name="a09497bb"></a>
<h3 id="a09497bb">描述</h3>
<a name="e47dc27936mart"></a>
<p id="e47dc27936mart"><span class="bold">admin</span> 命令创建新的“源代码控制系统”（SCCS）文件或在现有的 SCCS 文件中更改指定的参数。</p>
<a name="e47dc28033mart"></a>
<p id="e47dc28033mart"><span class="bold">admin</span> 命令可以更改控制 <span class="bold">get</span> 命令如何构建您能编辑的文件的参数。这些参数还能设置有关谁可以访问此文件以及可以编辑文件的哪个版本的条件。</p>
<a name="e47dc28131mart"></a>
<p id="e47dc28131mart">如果 <span class="italic">File</span> 参数指定的文件存在，则 <span class="bold">admin</span> 命令修改标志指定的文件。如果此文件不存在，且您提供了 <span class="bold">-i</span> 或 <span class="bold">-n</span> 标志，则 <span class="bold">admin</span> 命令就创建一个新的文件并提供未指定标志的缺省值。</p>
<a name="e47dc28230mart"></a>
<p id="e47dc28230mart">如果为 <span class="italic">File</span> 参数指定了目录名称，则 <span class="bold">admin</span> 命令就在该目录中的所有 SCCS 文件上执行请求的操作。所有 SCCS 文件的文件名称前面均包含 <span class="bold">s.</span> 前缀。如果对 <span class="italic">File</span> 参数使用 <span class="bold">-</span>（减号），则 <span class="bold">admin</span> 命令读取标准输入并将每行解释为是 SCCS 文件名称。文件结束字符结束输入。</p>
<a name="e47dc28333mart"></a>
<p id="e47dc28333mart">要创建文件，您必须具有在此目录中的写权限。所有 SCCS 文件名称必须具有格式 <span class="bold">s.</span><span class="italic">Name</span>。使用只读许可权来创建新的 SCCS 文件。<span class="bold">admin</span> 命令写至临时“x 文件”，此文件调用<span class="bold"> x.</span><span class="italic">Name</span>。如果它已经存在，则“x 文件”和原始 SCCS 文件具有相同的许可权。如果 <span class="bold">admin</span> 命令必须创建新文件，则“x 文件”是只读的。<span class="bold">admin</span> 命令成功完成后，“x 文件”更改为 SCCS 文件的名称。这确保了只有当 <span class="bold">admin</span> 命令在运行时未检测到任何错误，才对 SCCS 文件进行更改。</p>
<a name="e47dc28432mart"></a>
<p id="e47dc28432mart">包含 SCCS 文件的目录应使用许可代码 755（所有者的读、写和执行许可，组成员和其它人的读和执行许可）来创建。SCCS 文件本身应创建为只读文件（444）。由于这些许可，只有所有者可以使用非 SCCS 命令来修改 SCCS 文件。如果一个组可以访问并修改 SCCS 文件，则目录应包含组的写许可权。</p>
<a name="e47dc28528mart"></a>
<p id="e47dc28528mart"><span class="bold">admin</span> 命令还使用临时锁文件（称为<span class="bold"> z.</span><span class="italic">Name</span>）来防止不同用户对 SCCS 文件的同时更新。</p>
<a name="e47dc28627mart"></a>
<p id="e47dc28627mart">可以按任何顺序输入标志和输入文件名称。所有标志适用于所有文件。不要在标志和可选的变量（括在中括号中的变量）之间留有空格。<a href="admin.htm#a09497ae">报头标志</a>可以用 <span class="bold"> -f</span> 标志设置并用 <span class="bold">-d</span> 标志取消设置。报头标志控制用 <span class="bold">get</span> 命令创建的“g 文件”的格式。</p>
<a name="a18192c3"></a>
<h3 id="a18192c3">标志</h3>
<p></p>
<a name="wq77"></a>
<table id="wq77" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="43%">
<a id="a09497c6" name="a09497c6"></a><span class="bold">-a</span><span class="italic"> User</span> 或 <span class="bold">-a</span><span class="italic">  GroupID</span></td>
<td width="56%">将指定用户添加到可以对 SCCS 文件进行成组更改（增量）的用户的列表中。<span class="italic">User</span> 的值可以是用户名或组标识。指定组标识和指定该组中所有用户的名称是一样的。可以在单个 <span class="bold">admin</span> 命令行上指定一个以上的 <span class="bold">-a</span> 标志。如果 SCCS 文件包含空的用户列表，则任何人都可以添加增量。如果文件有用户列表，必须在列表中包含此文件的创建者以使该创建者可以对文件进行增量操作。如果 <span class="italic">User</span> 或 <span class="italic">GroupID</span> 参数前面是 !（感叹号），则拒绝指定用户进行增量操作的许可权。例如，输入 <tt>-a !User</tt>。</td>
</tr>
<tr>
<td>
<a id="a09497c8" name="a09497c8"></a><span class="bold">-d</span> <a href="admin.htm#a09497ae"><span class="italic">HeaderFlag</span></a></td>
<td>使指定的报头标志在 SCCS 文件中不起作用。可以仅用现有 SCCS 文件指定此标志。还可以在单个 <span class="bold">admin</span> 命令中指定一个以上的 <span class="bold">-d</span> 标志。请参考随后的报头标志列表来获得受支持值的更多信息。</td>
</tr>
<tr>
<td>
<a id="a09497c9" name="a09497c9"></a><span class="bold">-e</span><span class="italic"> User</span> 或 <span class="bold">-e</span><span class="italic"> GroupID</span></td>
<td>从允许对 SCCS 文件进行增量操作的用户列表中除去指定用户。指定组标识等同于指定该组共有的所有 <span class="italic">User</span> 名称。可以在单个 <span class="bold">admin</span> 命令行上指定多个 <span class="bold">-e</span> 标志。</td>
</tr>
<tr>
<td>
<a id="a09497ca" name="a09497ca"></a><span class="bold">-f</span> <a href="admin.htm#a09497ae"><span class="italic">HeaderFlag</span></a>[<span class="italic">Value</span> ]</td>
<td>  激活 SCCS 文件中的指定报头标志和值。可以在单个 <span class="bold">admin</span> 命令中指定一个以上的报头标志。有 12 种报头标志。请参考随后的报头标志列表来获得受支持值的更多信息。不要在 <span class="italic">HeaderFlag</span> 和 <span class="italic">Value</span> 变量之间留有空格。</td>
</tr>
<tr>
<td>
<a id="a09497cb" name="a09497cb"></a><span class="bold">-h</span></td>
<td>  检查 SCCS 文件的结构，并将新计算出的校验和与存储在 SCCS 文件第一行的校验和进行比较。当此校验和的值不正确时，文件已经被不正当修改或已损坏。此标志帮助您检测由于不正当使用非 SCCS 命令来修改 SCCS 文件导致的损坏以及意外的损坏。<span class="bold">-h</span> 标志阻止写至文件，所以它取消了任何其它标志提供的效果。如果返回表明文件已受损的错误消息，请使用 <span class="bold">-z</span> 标志来重新计算校验和。然后测试来查看是否已通过再次使用 <span class="bold">-h</span> 标志修正了那个文件。</td>
</tr>
<tr>
<td>
<a id="a09497cc" name="a09497cc"></a><span class="bold">-i</span>[<span class="italic">FileName</span> ]</td>
<td>  从 <span class="italic">FileName</span> 变量获取新的 SCCS 文件的文本。此文本是该文件的第一个增量的内容。如果指定 <span class="bold">-i</span> 标志但省略文件名称，则 <span class="bold">admin</span> 命令从标准输入读取文本直到它遇到了文件结束字符。如果不指定 <span class="bold">-i</span> 标志，但指定了 <span class="bold">-n</span> 标志，则该命令创建空的 SCCS 文件。<span class="bold">admin</span> 命令一次仅能创建一个包含文本的文件。如果您要通过调用一次 <span class="bold">admin</span> 命令来创建两个或更多的 SCCS 文件，则您必须使用 <span class="bold">-n</span> 标志，且创建的 SCCS 文件将是空的。<span class="italic">FileName</span> 变量指定文件的每行不能包含超过 512 个字符。文件名称可以包含 MBCS（多字节字符集）字符。不要在标志和 <span class="italic">FileName</span> 变量之间留有空格。</td>
</tr>
<tr>
<td>
<a id="a09497cd" name="a09497cd"></a><span class="bold">-m</span>  <span class="italic">ModificationRequestList</span></td>
<td>  指定要插入 SCCS 文件作为创建初始增量的原因的“修改请求”（MR）列表。空表可看作是有效的，这取决于所使用的验证程序。必须设置 <span class="bold">v</span> 报头标志。如果 <span class="bold">v</span> 报头标志有值（MR 号码验证程序的名称），则 MR 号码是有效的。如果没有设置 <span class="bold"> v</span> 报头标志或如果 MR 验证失败，则 <span class="bold">admin</span> 命令将报告错误。</td>
</tr>
<tr>
<td>
<a id="a09497ce" name="a09497ce"></a><span class="bold">-n</span></td>
<td>  创建新的空 SCCS 文件。当不带 <span class="bold">-i</span> 标志使用 <span class="bold">-n</span> 标志时，创建的 SCCS 文件具有控制信息，但没有任何文件数据。</td>
</tr>
<tr>
<td>
<a id="a09497cf" name="a09497cf"></a><span class="bold">-r</span><span class="italic"> SID</span></td>
<td>  指定要创建的 SCCS 标识字符串（SID）文件版本。<span class="italic">SID</span> 变量接受具有四个级别的增量：发行版、级别、分支和顺序，例如：3.2.5.1。如果仅指定了发行版，<span class="bold">admin</span> 命令就自动假定级别为 1。如果不指定 <span class="bold">-r</span> 标志，则初始增量就成为发行版 1、级别 1（即 1.1）。有关指定 SID 的更多详细信息，请参考 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds2/get.htm#a0949810"><span class="bold">get</span></a> 命令中描述的“SID 确定”表。
<a name="d6e8e05408jani"></a>
<p id="d6e8e05408jani">如果您还指定了 <span class="bold">-i</span> 或 <span class="bold">-n</span> 标志，则您只可以指定 <span class="bold">-r</span> 标志。仅当创建 SCCS 文件时才可使用此标志。</p></td>
</tr>
<tr>
<td>
<a id="a09497d0" name="a09497d0"></a><span class="bold">-t</span> [<span class="italic">FileName</span>]</td>
<td>从 <span class="italic">FileName</span> 变量指定的文件中取出 SCCS 文件的描述性文本。如果在创建新的 SCCS 文件时使用了 <span class="bold">-t</span> 标志，则必须提供文件名称。在存在 SCCS 文件的情况下：
<ul>
<li id="a09497d1">
<a name="a09497d1"></a>如果没有文件名称，则 <span class="bold">-t</span> 标志除去当前在 SCCS 文件中的任何描述性文本。</li>
<li id="a09497d2">
<a name="a09497d2"></a>如果有文件名称，则 <span class="bold">-t</span> 标志用指定文件中的文本替换当前在 SCCS 文件中的任何描述性文本。</li>
<li id="a112c1f0">
<a name="a112c1f0"></a>此文件名称可以包含 MBCS（多字节字符集）字符。</li></ul> 
<a name="a39c4adf416janb"></a>
<p id="a39c4adf416janb">不要在标志和 <span class="italic">FileName</span> 变量之间留有空格。</p></td>
</tr>
<tr>
<td>
<a id="a09497d3" name="a09497d3"></a><span class="bold">-y</span> [<span class="italic">Comment</span>]</td>
<td>将指定的注释插入初始增量，此方式与 <span class="bold">delta</span> 命令的做法相同。仅当创建 SCCS 文件时才可使用此标志。如果不指定注释，则 <span class="bold">admin</span> 命令将插入以下格式的一行：
<p></p>
<a name="a09497d4"></a>
<pre id="a09497d4" class="xmp">登录时创建的日期和时间 YY/MM/DD HH:MM:SS</pre> 
<a name="a39c4adf430janb"></a>
<p id="a39c4adf430janb">注释可包含 MBCS（多字节字符集）字符。不要在标志和 <span class="italic">FileName</span> 变量之间留有空格。</p></td>
</tr>
<tr>
<td>
<a id="a09497d5" name="a09497d5"></a><span class="bold">-z</span></td>
<td> 重新计算 SCCS 文件的校验和并将其存储在 SCCS 文件的第一行（请参阅 <span class="bold">-h</span> 标志）。
<p></p><blockquote><span class="bold">注意：</span>在已毁坏的文件上使用带有 <span class="bold">-z</span> 标志的 <span class="bold">admin</span> 命令可以防止以后检测到此损坏。只有 SCCS 文件因为严重错误而通过非 SCCS 命令来更改时，才应使用此标志。</blockquote></td>
</tr>
<tr>
<td>
<a id="a09497aa" name="a09497aa"></a><span class="italic">File</span></td>
<td>指定 <span class="bold">admin</span> 命令创建或更改的文件名称。如果指定了 <span class="bold">-</span>（减号），则 <span class="bold">admin</span> 命令从标准输入读取。文件结束符结束标准输入。</td>
</tr>
</tbody>
</table>
<a name="a09497ae"></a>
<h4 id="a09497ae">报头标志</h4>
<a name="e47dc2a837mart"></a>
<p id="e47dc2a837mart">以下列表包含了可以用 <span class="bold">-f</span> 标志设置或用<span class="bold"> -d</span> 标志取消设置的报头标志。报头标志控制用 <span class="bold">get</span> 命令创建的“g 文件”的格式。</p>
<a name="wq78"></a>
<table id="wq78" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="18%">
<a id="a118980" name="a118980"></a><span class="bold">b</span></td>
<td width="81%">  让您使用 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds2/get.htm#a0949810"><span class="bold">get</span></a> 命令的 <span class="bold">-b</span> 标志来创建分支增量。</td>
</tr>
<tr>
<td>
<a id="a118981" name="a118981"></a><span class="bold">c</span><span class="italic"> Number</span></td>
<td>  使 <span class="italic">Number</span> 变量成为 <span class="bold">get -e</span> 命令可以使用的最高发行版号。<span class="italic">Number</span> 变量的值必须大于 0 且小于或等于 9999。（缺省值是 9999。）</td>
</tr>
<tr>
<td>
<a id="a118985" name="a118985"></a><span class="bold">d</span><span class="italic"> SID</span></td>
<td>  使 <span class="italic">SID</span> 变量成为提供给 <span class="bold">get</span> 命令的缺省增量。</td>
</tr>
<tr>
<td>
<a id="a118983" name="a118983"></a><span class="bold">f</span><span class="italic"> Number</span></td>
<td>  使 <span class="italic">Number</span> 变量成为 <span class="bold">get -e</span> 命令可以检索的最低发行版号。<span class="italic">Number</span> 变量必须大于 0 且小于 9999。（缺省值是 1。）</td>
</tr>
<tr>
<td>
<a id="a118987" name="a118987"></a><span class="bold">i</span> [<span class="italic">String</span>]</td>
<td>  将以下 <span class="bold">get</span> 或 <span class="bold">delta</span> 命令发出的参考性消息作为错误消息：
<p></p>
<a name="d6e8e06143jani"></a>
<pre id="d6e8e06143jani" class="xmp">文件中没有 SCCS 标识关键字。（cm7）</pre><p class="indatacontent"> <a name="a39c4adf473janb"></a><span id="a39c4adf473janb" class="pk"></span>在缺省此标志的情况下，此消息仅作为警告消息。如果未在存储于 SCCS 文件或在 SCCS 文件中的检索文本中找到 SCCS 标识关键字，则发出此消息（请参考 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds2/get.htm#a0949810"><span class="bold">get</span></a> 命令）。如果提供字符串，则关键字必须和给出的字符串完全匹配。此字符串必须包含关键字且没有嵌入的新行。</p></td>
</tr>
<tr>
<td>
<a id="a118989" name="a118989"></a><span class="bold">j</span></td>
<td>  允许同时执行多个 <span class="bold">get</span> 命令来编辑 SCCS 文件的同一个 SID。<span class="bold">j</span> 报头标志的使用允许对同一个版本的 SCCS 文件进行多个同时更新。</td>
</tr>
<tr>
<td>
<a id="a11898b" name="a11898b"></a><span class="bold">l</span><span class="italic">List</span></td>
<td>  （小写 L）锁定 <span class="italic">List</span> 变量指定的版本使其不能编辑，这样与这些发行版之一相对的 <span class="bold">get -e</span> 命令会失败。此列表具有以下语法：
<p></p>
<a name="d6e8e06339jani"></a>
<pre id="d6e8e06339jani" class="xmp">&lt;List&gt; : : = &lt;Range&gt; | &lt;List&gt; , &lt;Range&gt;
&lt;Range&gt; : : = SID | a</pre><p class="indatacontent"> <a name="d6e8e06377jani"></a><span id="d6e8e06377jani" class="pk"></span>其中列表中的字符 <tt>a</tt> 等同于为指定的 SCCS 文件指定所有发行版。</p></td>
</tr>
<tr>
<td>
<a id="a118991" name="a118991"></a><span class="bold">m</span><span class="italic"> Module</span></td>
<td>  用 <span class="italic">Module</span> 变量代替 <span class="bold">get</span> 命令检索的 SCCS 文本文件中 <span class="bold">67</span> 关键字的所有具体值。缺省 <span class="italic">Module</span> 变量是不带 <span class="bold">s.</span> 前缀的 SCCS 文件的名称。module 名称可以包含 MBCS（多字节字符集）字符。</td>
</tr>
<tr>
<td>
<a id="a11898d" name="a11898d"></a><span class="bold">n</span></td>
<td>  当在新的发行版中添加增量时，使 <span class="bold">delta</span> 命令在任何跳过的发行版中创建空的增量。例如，如果在增量 2.7 后增加增量 5.1，则发行版 3 和 4 将是空的。发行版 3 和 4 将作为 <span class="bold">s.</span> 文件的增量表中的空增量条目来创建。最终生成的空增量可以作为构建分支增量的点。如果没有此标志，则跳过的发行版不会出现在 SCCS 文件中。</td>
</tr>
<tr>
<td>
<a id="a11898f" name="a11898f"></a><span class="bold">q</span><span class="italic"> Text</span></td>
<td>  用指定文本代替 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds2/get.htm#a0949810"><span class="bold">get</span></a> 命令检索的 SCCS 文本文件中 <span class="bold"></span> 关键字的所有具体值。</td>
</tr>
<tr>
<td>
<a id="a118993" name="a118993"></a><span class="bold">t</span><span class="italic"> Type</span></td>
<td>  用指定类型代替 <span class="bold">get</span> 命令检索的“g 文件”的所有 <span class="bold"></span> 关键字。</td>
</tr>
<tr>
<td>
<a id="a118995" name="a118995"></a><span class="bold">v</span> [<span class="italic">Program</span>]</td>
<td>  使 <span class="bold">delta</span> 命令提示“修改请求”（MR）号作为创建增量的原因。<span class="italic">Program</span> 变量指定 MR 号有效性检验程序的名称。如果在 SCCS 文件中设置 <span class="bold">v</span> 标志，则还必须使用 <span class="bold">-m</span> 标志，即使其值是空的。此程序的名称可以包含 MBCS（多字节字符集）字符。</td>
</tr>
</tbody>
</table>
<a name="a22697eb"></a>
<h4 id="a22697eb">定位损坏的 SCCS 文件</h4>
<a name="e47dc2c446mart"></a>
<p id="e47dc2c446mart">虽然 SCCS 提供一些错误保护，您可能需要恢复意外受损的文件。此损害可能由于系统故障、操作程序错误或未使用 SCCS 命令修改 SCCS 文件而引起。</p>
<a name="e47dc2c544mart"></a>
<p id="e47dc2c544mart">SCCS 命令使用校验和来确定最近一次使用文件后是否对其进行过修改。唯一处理受损文件的 SCCS 命令是和 <span class="bold">-h</span> 或 <span class="bold">-z</span> 标志一起使用的 <span class="bold">admin</span> 命令。<span class="bold">-h</span> 标志指示 <span class="bold">admin</span> 命令将存储于 SCCS 文件报头中的校验和与计算所得的校验和进行比较。<span class="bold">-z</span> 标志指示此命令重新计算校验和并将它存储在文件报头中。</p>
<a name="a8c32bd740eric"></a>
<h3 id="a8c32bd740eric">退出状态</h3>
<p>该命令返回以下退出值：</p>
<a name="wq79"></a>
<table id="wq79" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="8%">
<a id="bf2b341231joy" name="bf2b341231joy"></a><span class="bold">0</span></td>
<td width="91%">  成功完成。</td>
</tr>
<tr>
<td>
<a id="bf2b341301joy" name="bf2b341301joy"></a><span class="bold">&gt;0</span></td>
<td>  发生错误。</td>
</tr>
</tbody>
</table>
<a name="ql260shad"></a>
<h3 id="ql260shad">示例</h3>
<a name="e47dc2c984mart"></a>
<p id="e47dc2c984mart">这些示例使用名为 <tt>test.c</tt> 的虚构的文本文件和编辑器（比如 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds2/ed.htm#a133z9c66"><span class="bold">ed</span></a>）来编辑文件。</p>
<ol type="1">
<li><a name="a09497d7"></a><span id="a09497d7" class="pk"></span>首先，创建一个普通的 SCCS 文件。要创建名为 <tt>s.test.c</tt> 的空 SCCS 文件，请输入：
<p></p>
<a name="a09497d8"></a>
<pre id="a09497d8" class="xmp">$ admin -n s.test.c</pre><p class="indatacontent"> 使用带有 <span class="bold">-n</span> 标志的 <span class="bold">admin</span> 命令来创建空的 SCCS 文件。</p></li>
<li><a name="a09497d9"></a><span id="a09497d9" class="pk"></span>要将现有文本文件转换为 SCCS 文件，请输入：
<p></p>
<a name="a09497da"></a>
<pre id="a09497da" class="xmp">$ admin -itest.c s.test.c
在文件中没有 SCCS 标识关键字（cm7）
$ ls s.test.c test.c</pre><p class="indatacontent"> 如果使用 <span class="bold">-i</span> 标志，则 <span class="bold">admin</span> 命令将从指定文件创建增量 1.1。创建了增量 1.1 以后，重命名原始文本文件，这样它就不会干扰 SCCS 命令了：</p>
<a name="a22697e3"></a>
<pre id="a22697e3" class="xmp">$ mv test.c back.c</pre><p class="indatacontent"> 消息：<tt>文件中没有 SCCS 标识关键字（cm7）</tt>并不表示错误。当在文件中没有标识关键字时，SCCS 就会写此消息。标识关键字是可置于 SCCS 文件中的变量。这些变量的值提供了诸如日期、时间、SID 或文件名称的信息。有关标识关键字的解释，请参阅 <span class="bold">get</span> 命令。如果不存在标识关键字，则 SCCS 会写此消息。然而，如果在 <span class="bold">s.</span> 文件中设置了 <span class="bold">i</span> 报头标志，则此消息将导致错误情况。此标志由用户设置。</p> 
<a name="e47dc2d711mart"></a>
<p id="e47dc2d711mart">请给 SCCS 文件命名任何以 <span class="bold">s.</span> 开头的名称。在先前的示例中，原始文件和 SCCS 文件具有相同的名称，但这是不必要的。</p> 
<a name="e47dc2d810mart"></a>
<p id="e47dc2d810mart">因为没有指定版本号，<span class="bold">admin</span> 命令给 SCCS 文件 1.1 的 SID。SCCS 不使用数字 0 来标识增量。因此，文件不能具有，诸如 1.0 或 2.1.1.0 的 SID。所有新的发行版以级别 1 开始。</p></li>
<li><a name="a09497a7"></a><span id="a09497a7" class="pk"></span>要启动发行版号为 3.1 的 <tt>test.c</tt> 文件，请使用带有 <span class="bold">-r</span> 标志的 <span class="bold">admin</span> 命令（如下显示）并输入：
<p></p>
<a name="a22697e7"></a>
<pre id="a22697e7" class="xmp">$ admin -itest.c -r3 s.test.c</pre><p class="indatacontent"> 要将更改 SCCS 文件的许可权限制到一个特定的用户标识集，请通过使用<span class="bold"> admin</span> 命令的 <span class="bold">-a</span> 标志来列出 SCCS 文件的用户列表中的用户标识或组标识号码。此标志可能在命令行上多次出现。这些标识随后会出现在 SCCS 文件报头中。如果未用 <span class="bold">-a</span> 标志来限制访问，则所有的用户标识都可以更改 SCCS 文件。</p></li>
<li><a name="a22697e9"></a><span id="a22697e9" class="pk"></span>要限制对用户标识 <tt>dan</tt> 的编辑许可权，请输入：
<p></p>
<a name="a22697ea"></a>
<pre id="a22697ea" class="xmp">$ admin -adan s.test.c</pre></li>
<li><a name="a22697ee"></a><span id="a22697ee" class="pk"></span>请定期检查 SCCS 文件以防止可能的损害。做此工作的最简单方法就是在所有 SCCS 文件或 SCCS 目录上运行带有 <span class="bold">-h</span> 标志的 <span class="bold">admin</span> 命令，如下所示：
<p></p>
<a name="a22697ef"></a>
<pre id="a22697ef" class="xmp">$ admin -h s.file1 s.file2 ...
$ admin -h directory1 directory2 ...</pre><p class="indatacontent"> 如果 <span class="bold">admin</span> 命令找到一个文件，其中计算的校验和不等于在 SCCS 文件报头中列出的校验和，它将显示此信息：</p>
<a name="a09497ab"></a>
<pre id="a09497ab" class="xmp">ERROR [s. filename]:
1255-057 此文件受损。（co6）</pre><p class="indatacontent"> 如果文件受损，请尝试再次编辑此文件或读取备份副本。在修复此文件之后，请运行带有 <span class="bold">-z</span> 标志的 <span class="bold">admin</span> 命令和已修复文件的名称：</p>
<a name="a22697f1"></a>
<pre id="a22697f1" class="xmp">$ admin -z s.file1</pre><p class="indatacontent"> 此操作使用基于当前文件内容的新校验和来替换 SCCS 文件报头中旧的校验和。其它 SCCS 命令现在就可以处理此文件了。</p></li></ol>
<a name="a341f9536"></a>
<h3 id="a341f9536">文件</h3>
<p></p>
<a name="wq81"></a>
<table id="wq81" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="23%">
<a id="a341f9537" name="a341f9537"></a><span class="bold">/usr/bin/admin</span></td>
<td width="76%">  包含 SCCS 的<span class="bold"> admin</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a09497de"></a>
<h3 id="a09497de">相关信息</h3>
<a name="e47dc2f728mart"></a>
<p id="e47dc2f728mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds2/delta.htm#a1299fc8"><span class="bold">delta</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds2/ed.htm#a133z9c66"><span class="bold">ed</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds2/get.htm#a0949810"><span class="bold">get</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds4/prs.htm#a0949a12"><span class="bold">prs</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds5/sccshelp.htm#a226983f"><span class="bold">sccshelp</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds6/what.htm#a0949914"><span class="bold">what</span></a> 命令。</p>
<a name="e47dc2f819mart"></a>
<p id="e47dc2f819mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/sccsfile.htm#a107c116f"><span class="bold">sccsfile</span></a> 文件格式。</p>
<a name="e47dc2f918mart"></a>
<p id="e47dc2f918mart"><span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span> 的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixprggd/genprogc/ls_sccs_cmds.htm#a106c199a">List of SCCS Commands</a>。</p>
<a name="e47dc30016mart"></a>
<p id="e47dc30016mart"><span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span> 的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixprggd/genprogc/sccs.htm#a3209a9a">Source Code Control System
(SCCS) Overview</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="admin.htm#Top_Of_Page">页的顶部</a> | <a href="adfutil.htm">上一页</a> | <a href="aixmibd.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
