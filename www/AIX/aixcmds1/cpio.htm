<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - cpio 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="cpio 命令, 拷贝进出归档存储器, 文件, 拷贝进出目录" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="cpio.htm#Bot_Of_Page">页的底部</a> | <a href="cp.htm">上一页</a> | <a href="cplv.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>
<a id="idx557" name="idx557"></a><a id="idx558" name="idx558"></a><a id="idx559" name="idx559"></a>
<a name="a10192b06"></a>
<h2 id="a10192b06">cpio 命令</h2>
<a name="a10192b08"></a>
<h3 id="a10192b08">用途</h3>
<p>把文件拷贝进出归档存储器及目录。
本文档描述了 AIX <span class="bold">cpio</span> 命令和<a href="cpio.htm#systemvcpio">System V <span class="bold">cpio</span></a> 命令。</p>
<a name="a10192b0a"></a>
<h3 id="a10192b0a">语法</h3>
<p><a href="cpio.htm#oto3360bob"><span class="bold">cpio -o</span></a> [&nbsp; <a href="cpio.htm#a10192b1b"><span class="bold">a</span></a>&nbsp;]  [&nbsp; <a href="cpio.htm#a10192b1d"><span class="bold">c</span></a>&nbsp;]  [ <a href="cpio.htm#cpio_flags_bige"><span class="bold">-E</span></a>{<span class="bold">force</span><span class="bold">|ignore</span>|<span class="bold">warn</span>} ] [&nbsp; <a href="cpio.htm#a10192b2b"><span class="bold">v</span></a>&nbsp;] 
[&nbsp; <a href="cpio.htm#a10192b1c"><span class="bold">B</span></a>&nbsp;|   <a href="cpio.htm#a10192b1e"><span class="bold">C</span></a> <span class="italic">Value</span>&nbsp;]   <a href="cpio.htm#efn3b0marc">&lt;<span class="italic">FileName</span></a>   <a href="cpio.htm#a10192ada">&gt;<span class="italic">Output</span></a></p>
<p><a href="cpio.htm#a10192b10"><span class="bold">cpio -i</span></a> [&nbsp; <a href="cpio.htm#a10192afb"><span class="bold">b</span></a>&nbsp;]  [&nbsp; <a href="cpio.htm#a10192b1d"><span class="bold">c</span></a>&nbsp;] [&nbsp; <a href="cpio.htm#a10192b20"><span class="bold">d</span></a>&nbsp;]
 [ <a href="cpio.htm#cpio_flags_bige"><span class="bold">-E</span></a>{<span class="bold">force</span><span class="bold">|ignore</span>|<span class="bold">warn</span>} ] [&nbsp; <a href="cpio.htm#a10192b21"><span class="bold">f</span></a>&nbsp;] [&nbsp; <a href="cpio.htm#a10192b23"><span class="bold">m</span></a>&nbsp;]  [&nbsp; <a href="cpio.htm#wcc32699m"><span class="bold">M</span></a>&nbsp;]  [&nbsp; <a href="cpio.htm#a10192b24"><span class="bold">r</span></a>&nbsp;]
[&nbsp; <a href="cpio.htm#a10192b25"><span class="bold">s</span></a>&nbsp;]  [&nbsp; <a href="cpio.htm#a10192b29"><span class="bold">t</span></a>&nbsp;] [&nbsp; <a href="cpio.htm#a10192b2a"><span class="bold">u</span></a>&nbsp;]  [&nbsp; <a href="cpio.htm#a10192b2b"><span class="bold">v</span></a>&nbsp;] [&nbsp; <a href="cpio.htm#a10192b27"><span class="bold">S</span></a>&nbsp;]
 [&nbsp; <a href="cpio.htm#a10192b2c"><span class="bold">6</span></a>&nbsp;] [&nbsp; <a href="cpio.htm#a10192b1c"><span class="bold">B</span></a>&nbsp;|   <a href="cpio.htm#a10192b1e"><span class="bold">C</span></a> <span class="italic">Value</span>&nbsp;]  [&nbsp; <a href="cpio.htm#a325f955"><span class="italic">Pattern</span></a><span class="italic">...</span>&nbsp;]   <a href="cpio.htm#a107f06f">&lt;<span class="italic">Input</span></a></p>
<p><a href="cpio.htm#a10192b15"><span class="bold">cpio -p</span></a> [&nbsp; <a href="cpio.htm#a10192b1b"><span class="bold">a</span></a>&nbsp;]  [&nbsp; <a href="cpio.htm#a10192b20"><span class="bold">d</span></a>&nbsp;] [ <a href="cpio.htm#cpio_flags_bige"><span class="bold">-E</span></a>{<span class="bold">force</span><span class="bold">|ignore</span>|<span class="bold">warn</span>} ] [&nbsp; <a href="cpio.htm#a10192b22"><span class="bold">l</span></a>&nbsp;] 
[&nbsp; <a href="cpio.htm#a10192b23"><span class="bold">m</span></a>&nbsp;] [&nbsp; <a href="cpio.htm#wcc32699m"><span class="bold">M</span></a>&nbsp;]  [&nbsp; <a href="cpio.htm#a10192b2a"><span class="bold">u</span></a>&nbsp;]  [&nbsp; <a href="cpio.htm#a10192b2b"><span class="bold">v</span></a>&nbsp;]  <a href="cpio.htm#a325f954"><span class="italic">Directory</span></a> 
 <a href="cpio.htm#efn3b0marc">&lt;<span class="italic">FileName</span></a></p>
<a name="a10192b0c"></a>
<h3 id="a10192b0c">描述</h3>
<p>cpio 命令把文件从 cpio 归档中拷贝进出。cpio
归档可能跨越多个卷。<span class="bold">-i</span>、<span class="bold">-o</span> 和 <span class="bold">-p</span> 标志选择了要执行的操作。</p>
<p></p><blockquote><a name="a1749321"></a><span id="a1749321" class="pk"></span><span class="bold">注：</span> 如果您把输出从
<span class="bold">cpio</span> 命令重定向到一个特殊文件（设备），您应该把输出重定向到一个原始设备而不是一个块设备。因为
写块设备是异步地完成的，没有办法知道是否到达了
设备的末端。</blockquote>
<p></p><blockquote><a name="a181175a472mart"></a><span id="a181175a472mart" class="pk"></span><span class="bold">注：</span>  
<ol type="1">
<li><span class="bold">cpio</span> 命令由于 XPG/4 和 POSIX.2 标准的限制，当文件的大小超过 2G 时是不能启用的。</li>
<li><span class="bold">cpio</span> 不保存任何稀疏分配的文件的稀疏特性。
任何在恢复前原本稀疏的文件
将在文件系统中根据大小分配所有的空间。</li></ol></blockquote>
<a name="oto3360bob"></a>
<h4 id="oto3360bob">cpio -o 命令</h4>
<a name="edb7b61772mela"></a>
<p id="edb7b61772mela"><span class="bold">cpio -o</span> 命令从标准输入中读出文件路径名并且把这些文件连同路径名和状态信息拷贝到标准输出中。避免给予<span class="bold">cpio</span> 命令由许多唯一链接的文件组成的路径名，因为可能没有足够的存储器来跟踪它们，并可能会导致链接信息的丢失。</p>
<a name="a10192b10"></a>
<h4 id="a10192b10">cpio -i 命令</h4>
<a name="edb7b61937mela"></a>
<p id="edb7b61937mela"><span class="bold">cpio -i</span> 命令从标准输入中读入一个由 <a href="cpio.htm#oto3360bob"><span class="bold">cpio -o</span></a> 命令创建的归档，并且从中拷贝和 <span class="italic">Pattern</span> 参数相匹配的文件连同名称。这些文件被拷贝进当前目录树中。您可以列出多个的 <span class="italic">Pattern</span> 参数，通过使用 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/ksh.htm#a265912f6"><span class="bold">ksh</span></a> 命令中描述的文件名符号表示法。注意在这个应用程序中，特殊字符
 * （星号），? （问号），和 [...] （方括号和省略号）除了在 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/ksh.htm#a265912f6"><span class="bold">ksh</span></a> 命令中描述的使用，还匹配路径名中的 / （斜杠）<span class="bold">。</span> <span class="italic">Pattern</span> 参数的缺省值是
* （星号），即选择输入中所有文件。在表达式例如 [a-z] 中，
减号意味着根据当前的整理序列<span class="italic">贯穿</span>。</p>
<a name="edb7b62030mela"></a>
<p id="edb7b62030mela">一个整理序列可以定义字符范围中使用的同等类。</p>
<a name="a10192b15"></a>
<h4 id="a10192b15">cpio -p 命令</h4>
<a name="edb7b62189mela"></a>
<p id="edb7b62189mela"><span class="bold"> cpio -p</span> 命令从标准输入中读入文件路径名并且把这些文件拷贝到由  <span class="italic">Directory</span> 参数指定的目录中。指定的目录必须已经存在。如果这些路径名包括了不存在的目录名，您必须用 <a href="cpio.htm#a10192b20"><span class="bold">d</span></a> 标志来创建指定的目录。</p>
<p></p><blockquote><a name="a10192b17"></a><span id="a10192b17" class="pk"></span><span class="bold">注：</span> 只要您有 root 用户的权力，您就可以拷贝特殊文件。</blockquote>
<a name="a10192b00"></a>
<h3 id="a10192b00">参数</h3>
<p></p>
<a name="wq1304"></a>
<table id="wq1304" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="a325f954" name="a325f954"></a><span class="italic">Directory</span></td>
<td width="80%">  指定目录。</td>
</tr>
<tr>
<td>
<a id="efn3b0marc" name="efn3b0marc"></a><span class="bold">&lt;</span><span class="italic">FileName</span></td>
<td>  指定文件名列表，<span class="bold">cpio</span> 命令用来作为输入。</td>
</tr>
<tr>
<td>
<a id="a10192ada" name="a10192ada"></a><span class="bold">&gt;</span><span class="italic">Output</span></td>
<td>  指定输出设备，例如磁盘或者文件。如想获得更多关于使用磁带设备的信息，请参考 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/rmt.htm#vc90w2chris"><span class="bold">rmt</span></a> 特殊文件。</td>
</tr>
<tr>
<td>
<a id="a107f06f" name="a107f06f"></a><span class="bold">&lt;</span><span class="italic">Input</span></td>
<td>  指定输入设备（这里 <span class="italic">Input</span> 是由 <span class="bold">cpio
-o</span> 命令创建的 <span class="italic">Output</span> 文件）。如想获得更多关于使用磁带设备的信息，请参阅 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/rmt.htm#vc90w2chris"><span class="bold">rmt</span></a> 特殊文件。</td>
</tr>
<tr>
<td>
<a id="a325f955" name="a325f955"></a><span class="italic">Pattern</span></td>
<td>  指定命令使用的方式（如同 <span class="bold">ksh</span> 命令中描述的）。
<span class="italic">Pattern</span> 参数的缺省值是 * （星号），即选择 <span class="italic">Input</span>中所有的文件。</td>
</tr>
</tbody>
</table>
<a name="a10192b19"></a>
<h3 id="a10192b19">标志</h3>
<a name="edb7b62903mela"></a>
<p id="edb7b62903mela">所有的标志都必须列在一起，中间没有空格。
以下 <a href="cpio.htm#oto3360bob"><span class="bold">-o</span></a>、<a href="cpio.htm#a10192b10"><span class="bold">-i</span></a> 和 <a href="cpio.htm#a10192b15"><span class="bold">-p</span></a> 标志不是所有的都可以一起使用。</p>
<a name="wq1305"></a>
<table id="wq1305" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="11%">
<a id="a10192b1b" name="a10192b1b"></a><span class="bold">a</span></td>
<td width="88%">  源文件的访问时间重新设置为先前的时间。</td>
</tr>
<tr>
<td>
<a id="a10192afb" name="a10192afb"></a><span class="bold">b</span></td>
<td>  交换字节和半字。
<p></p><blockquote><span class="bold">注：</span> 正在处理的文件中如果有奇数个字节或者半字，那么数据会丢失。</blockquote></td>
</tr>
<tr>
<td>
<a id="a10192b1c" name="a10192b1c"></a><span class="bold">B</span></td>
<td>  执行使用 512 字节的块输入输出到一个记录。
<p></p><blockquote><span class="bold">注：</span>当使用 <span class="bold">B</span> 或 <a href="cpio.htm#a10192b1e"><span class="bold">C</span></a> 选项来抽取或是创建一个磁带归档时，块因子数必须是该磁带设备的物理块大小的倍数。
<a name="a39c6885277janb"></a>
<p id="a39c6885277janb">当使用 <span class="bold">B</span> 或 <span class="bold">C</span> 选项从磁带抽取一个归档时，块因子数必须不大于归档在磁带上的大小。</p> 
<a name="a39c6885288janb"></a>
<p id="a39c6885288janb"><span class="bold">B</span> 标志和 <span class="bold">C</span> 标志是相互排斥的。如果把两者列在一起，那么 <span class="bold">cpio</span> 命令将使用标志列表中的后者。</p></blockquote></td>
</tr>
<tr>
<td>
<a id="a10192b1d" name="a10192b1d"></a><span class="bold">c</span></td>
<td>  以 ASCII 字符的形式读写头信息。如果 <span class="bold">cpio</span> 归档是使用 <span class="bold">c</span> 标志创建的，
它必须使用 <span class="bold">c</span> 标志来抽取。</td>
</tr>
<tr>
<td>
<a id="a10192b1e" name="a10192b1e"></a><span class="bold">C</span><span class="italic">Value</span></td>
<td>  执行由 <span class="italic">Value</span> 参数定义的 512 字节的倍数个字节到一个记录的块输入输出。例如，<span class="bold">-C2</span> 标志改变块输入输出到记录的大小为 1024 字节。</td>
</tr>
<tr>
<td>
<a id="a10192b20" name="a10192b20"></a><span class="bold">d</span></td>
<td>  创建需要的目录。</td>
</tr>
<tr>
<td>
<a id="cpio_flags_bige" name="cpio_flags_bige"></a><span class="bold">-E</span></td>
<td> <span class="bold">-E</span> 选项需要下列参数中的一个。
如果您省略了 <span class="bold">-E</span> 选项，则<span class="bold">warn</span> 是缺省的 <span class="bold">cpio</span> 行为。
<dl>
<dt class="bold"><span class="bold">force</span></dt>
<dd>如果文件的范围属性不能保存，对文件的抽取或者拷贝操作就会失败。
</dd>
</dl>
<dl>
<dt class="bold"><span class="bold">ignore</span></dt>
<dd>忽略保存范围属性中的任何错误。
</dd>
</dl>
<dl>
<dt class="bold"><span class="bold">warn</span></dt>
<dd>如果文件的空间保留或者固定范围大小无法保存，就发出一个警告。这是缺省的行为。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a10192b21" name="a10192b21"></a><span class="bold">f</span></td>
<td>  拷贝除了匹配 <span class="italic">Pattern</span> 参数的所有文件。</td>
</tr>
<tr>
<td>
<a id="a10192b22" name="a10192b22"></a><span class="bold">l</span></td>
<td>  任何可能的时候，链接文件而不是拷贝他们。这个标志只可以和
<a href="cpio.htm#a10192b15"><span class="bold">cpio -p</span></a> 命令一起使用。</td>
</tr>
<tr>
<td>
<a id="a10192b23" name="a10192b23"></a><span class="bold">m</span></td>
<td>  保留先前的文件修改时间。这个标志在拷贝目录时不起作用。</td>
</tr>
<tr>
<td>
<a id="wcc32699m" name="wcc32699m"></a><span class="bold">M</span></td>
<td>即使目录被拷贝，保留先前文件的修改时间。</td>
</tr>
<tr>
<td>
<a id="a10192b24" name="a10192b24"></a><span class="bold">r</span></td>
<td>  交互式重命名文件。如果您不想改变文件名，
输入单个句点或者按 &lt;Enter&gt; 键。在后一种情况下，
 <span class="bold">cpio</span> 命令不拷贝那个文件。</td>
</tr>
<tr>
<td>
<a id="a10192b25" name="a10192b25"></a><span class="bold">s</span></td>
<td>  交换字节。这个标志只和 <a href="cpio.htm#a10192b10"><span class="bold">cpio -i</span></a> 命令一起使用。
<p></p><blockquote><span class="bold">注：</span>
如果正在处理的文件中有奇数个字节，数据可能丢失。</blockquote></td>
</tr>
<tr>
<td>
<a id="a10192b27" name="a10192b27"></a><span class="bold">S</span></td>
<td>  交换半字。这个标志只有在 <a href="cpio.htm#a10192b10"><span class="bold">cpio -i</span></a> 命令中可用。
<p></p><blockquote><span class="bold">注：</span>
如果正在处理的文件中有奇数个半字，数据可能丢失。</blockquote></td>
</tr>
<tr>
<td>
<a id="a10192b29" name="a10192b29"></a><span class="bold">t</span></td>
<td>  创建一个目录。这个操作不拷贝任何文件。</td>
</tr>
<tr>
<td>
<a id="a10192b2a" name="a10192b2a"></a><span class="bold">u</span></td>
<td>  无条件拷贝。旧文件用同样的名字取代新文件。</td>
</tr>
<tr>
<td>
<a id="a10192b2b" name="a10192b2b"></a><span class="bold">v</span></td>
<td>  列出文件名。如果和 <a href="cpio.htm#a10192b29"><span class="bold">t</span></a> 标志一起使用，输出看起来和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/ls.htm#a133z91906"><span class="bold">ls -l</span></a> 命令相似。</td>
</tr>
<tr>
<td>
<a id="a10192b2c" name="a10192b2c"></a><span class="bold">6</span></td>
<td>  处理一个旧文件（例如，一个以 UNIX 第六版格式写的文件）。
这个标志只和 <a href="cpio.htm#a10192b10"><span class="bold">cpio -i</span></a> 命令一起使用。</td>
</tr>
</tbody>
</table>
<a name="ac325c0132mike"></a>
<h3 id="ac325c0132mike">退出状态</h3>
<a name="edb7b64625mela"></a>
<p id="edb7b64625mela">这个命令返回以下退出值：</p>
<a name="wq1306"></a>
<table id="wq1306" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="ac325c0309mike" name="ac325c0309mike"></a><span class="bold">0</span></td>
<td width="95%">  成功完成。</td>
</tr>
<tr>
<td>
<a id="ac325c0395mike" name="ac325c0395mike"></a><span class="bold">&gt;0</span></td>
<td>  有错误发生。</td>
</tr>
</tbody>
</table>
<a name="a10192b2d"></a>
<h3 id="a10192b2d">示例</h3>
<ol type="1">
<li><a name="a10192b2e"></a><span id="a10192b2e" class="pk"></span>要拷贝文件到磁盘上，输入
<p></p>
<a name="a10192b2f"></a>
<pre id="a10192b2f" class="xmp">cpio -ov &lt;filenames &gt;/dev/rfd0</pre><p class="indatacontent"> 以压缩格式拷贝有 <tt>filenames</tt> 文件中列出的路径名的文件到磁盘（<tt>&gt;/dev/rfd0</tt>）上。<a href="cpio.htm#a10192b2b"><span class="bold">v</span></a> 标志使得 <span class="bold">cpio</span> 命令显示它所拷贝的每一个文件的名字。这个命令
在拷贝文件的备份时有用。磁盘必须已经格式化，
但不必包含一个文件系统或已被安装。</p> 
<a name="a340f0d"></a>
<p id="a340f0d"></p><blockquote><span class="bold">注：</span>uid 和 gid 的大小超过 65535 的文件不能用
 <span class="bold">cpio</span> 命令归档。
在这种情况下，使用者应该使用 backup 和 restore。</blockquote></li>
<li><a name="a10192b31"></a><span id="a10192b31" class="pk"></span>把当前目录中的文件拷贝到磁盘上，输入：

<p></p>
<a name="a10192b32"></a>
<pre id="a10192b32" class="xmp">ls *.c | cpio -ov &gt;/dev/rfd0</pre><p class="indatacontent"> 拷贝当前目录中所有名字以
<tt>.c</tt> 结尾的文件。</p></li>
<li><a name="a10192b34"></a><span id="a10192b34" class="pk"></span>要拷贝当前目录和所有的子目录到磁盘上，输入：

<p></p>
<a name="a10192b35"></a>
<pre id="a10192b35" class="xmp">find . -print | cpio -ov &gt;/dev/rfd0</pre><p class="indatacontent"> 这将保存以当前目录（<tt>.</tt>）开始的目录树，并且包含它的所有子目录和文件。
输入这个命令会更快：</p>
<a name="a10192b37"></a>
<pre id="a10192b37" class="xmp">find . -cpio /dev/rfd0 -print</pre><p class="indatacontent"> <tt>-print</tt> 条目显示每一个被拷贝的文件的名字。</p></li>
<li><a name="a10192b39"></a><span id="a10192b39" class="pk"></span>要用 <span class="bold">cpio</span> 命令列出已经保存到磁盘上的文件，输入：
<p></p>
<a name="a10192b3a"></a>
<pre id="a10192b3a" class="xmp">cpio -itv &lt;/dev/rfd0</pre><p class="indatacontent"> 这显示先前保存到 <tt>/dev/rfd0</tt> 的，<span class="bold">cpio</span> 命令格式的文件的目录。这个清单和
 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/ls.htm"><span class="bold">ls -l</span></a> 命令生成的长目录清单相似。只列出文件路径名，只要使用 <span class="bold">-it</span> 标志。</p></li>
<li><a name="a10192b3c"></a><span id="a10192b3c" class="pk"></span>要从磁盘拷贝先前用 <span class="bold">cpio</span> 命令保存的文件，输入：
<p></p>
<a name="a10192b3d"></a>
<pre id="a10192b3d" class="xmp">cpio -idmv &lt;/dev/rfd0</pre><p class="indatacontent"> 这将把先前用 <span class="bold">cpio</span> 命令保存到 <tt>/dev/rfd0</tt> 文件的文件拷贝回文件系统（指定 <a href="cpio.htm#a10192b10"><span class="bold">-i</span></a> 标志）。<a href="cpio.htm#a10192b20"><span class="bold">d</span></a> 标志在目录树被保存时，允许 <span class="bold">cpio</span> 命令创建适合的目录。
<a href="cpio.htm#a10192b23"><span class="bold">m</span></a> 标志在保存文件时，保持最后的修改时间有效。
<a href="cpio.htm#a10192b2b"><span class="bold">v</span></a> 标志
使得 <span class="bold">cpio</span> 命令显示每一个被拷贝的文件名。</p></li>
<li><a name="a10192b3f"></a><span id="a10192b3f" class="pk"></span>从磁盘上拷贝选择的文件，输入：
<a id="a10192b40" name="a10192b40"></a>
<div class="lines"><tt>cpio <a href="cpio.htm#a10192b10">-i </a>"*.c" "*.o" &lt;/dev/rfd0</tt><br />
</div> 这样从磁盘上拷贝以 <tt>.c</tt> 或 <tt>.o</tt> 结束的文件。注意，模式
 <tt>“*.c”</tt> 和 <tt>“*.o”</tt> 必须
附上引号以阻止 shell 把 * （星号）作为一个模式匹配字符。<span class="bold"> cpio</span> 命令自己解码模式匹配字符，是一种特殊的情况。</li>
<li><a name="a10192b42"></a><span id="a10192b42" class="pk"></span>要从磁盘拷贝文件时重命名文件，输入：

<p></p>
<a name="a10192b43"></a>
<pre id="a10192b43" class="xmp">cpio -ir &lt;/dev/rfd0</pre><p class="indatacontent"> <a href="cpio.htm#a10192b24"><span class="bold">-r</span></a> 标志使得 <span class="bold">cpio</span> 命令
询问您是否要在从磁盘拷贝文件前重命名每个文件。例如，消息：</p>
<a name="a10192b45"></a>
<pre id="a10192b45" class="xmp">Rename &lt;prog.c&gt;</pre><p class="indatacontent"> 询问
是否要在以 <tt>prog.c</tt> 名字保存的文件被拷贝时给它一个新的名字。如果想重命名这个文件，输入新名字，按 Enter 键。如果想保持同样的名字，必须再次输入那个名字。要根本避免拷贝那个文件，按 Enter 键。</p></li>
<li><a name="a10192b47"></a><span id="a10192b47" class="pk"></span>要拷贝目录和它的所有子目录，输入：
 
<p></p>
<a name="a10192b48"></a>
<pre id="a10192b48" class="xmp">mkdir /home/jim/newdir
find . -print | cpio -pdl /home/jim/newdir</pre><p class="indatacontent"> 这将复制当前的目录树，包括当前的目录和它的所有子目录及文件。复本放在新的 <tt>/home/jim/newdir</tt> 目录中。<a href="cpio.htm#a10192b22"><span class="bold">l</span></a> 标志
使得 <span class="bold">cpio</span> 命令在可能时链接文件而不是拷贝它们。</p> 
<a name="a92c117850"></a>
<p id="a92c117850"></p><blockquote><span class="bold">注：</span> 对于 9348 Magnetic Tape Unit Model 12，<span class="bold">cpio</span> 的性能可以通过改变缺省的块大小来提高。
如果想改变块大小，输入下面的命令行：

<p></p>
<a name="a92c117851"></a>
<pre id="a92c117851" class="xmp">chdev -1 &lt;device_name&gt; -a block_size=32k</pre></blockquote></li></ol>
<a name="a10192b4c"></a>
<h3 id="a10192b4c">文件</h3>
<p></p>
<a name="wq1308"></a>
<table id="wq1308" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="21%">
<a id="a10192b4d" name="a10192b4d"></a><span class="bold">/usr/bin/cpio</span></td>
<td width="78%">  包含 <span class="bold">cpio</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a10192b4f"></a>
<h3 id="a10192b4f">相关信息</h3>
<a name="edb7b67716mela"></a>
<p id="edb7b67716mela"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds2/find.htm#a133z92523"><span class="bold">find</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/ksh.htm#a265912f6"><span class="bold">ksh</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/ln.htm#a8c1270craw"><span class="bold">ln</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/ls.htm#gvb310fish"><span class="bold">ls</span></a> 命令。</p>
<a name="edb7b67809mela"></a>
<p id="edb7b67809mela"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/cpio.htm#a13691484"><span class="bold">cpio</span></a> 文件格式，<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/rmt.htm#vc90w2chris"><span class="bold">rmt</span></a> 特殊文件。</p>
<a name="edb7b67904mela"></a>
<p id="edb7b67904mela"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/admnconc/backup_overview.htm#a29891267">系统管理备份概述</a>，在 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span>中，提供不同备份模式的信息，
恢复处理，不同类型的备份介质和备份策略的指导。</p>
<a name="edb7b68000mela"></a>
<p id="edb7b68000mela"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixuser/usrosdev/dir_overview.htm#jy490craw">目录概述</a>，在 <span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span> 中，解释了使用目录和路径名。</p>
<a name="edb7b68094mela"></a>
<p id="edb7b68094mela"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/admnconc/file_sys.htm#filesys">文件系统</a>，在 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中，说明文件系统类型、管理、结构和维护。</p>
<a name="edb7b68188mela"></a>
<p id="edb7b68188mela"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixuser/usrosdev/files.htm#rl33b0fish">文件概述</a>，在 <span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span> 中，提供关于操作文件的信息。</p>
<a name="systemvcpio"></a>
<h3 id="systemvcpio">System V cpio 命令</h3>
<a name="wq1309"></a>
<h3 id="wq1309">用途</h3>
<p>把文件拷贝进出归档存储器及目录。</p>
<a name="wq1310"></a>
<h3 id="wq1310">语法</h3>
<p><a href="cpio.htm#systemvcpio_description_i"><span class="bold">cpio -i</span></a> [ <a href="cpio.htm#systemvcpio_flags_b"><span class="bold">-b</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_bigb"><span class="bold">-B</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_c"><span class="bold">-c</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_d"><span class="bold">-d</span></a> ]
[ <a href="cpio.htm#systemvcpio_flags_f"><span class="bold">-f</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_k"><span class="bold">-k</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_m"><span class="bold">-m</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_r"><span class="bold">-r</span></a> ]
[ <a href="cpio.htm#systemvcpio_flags_s"><span class="bold">-s</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_bigs"><span class="bold">-S</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_bigt"><span class="bold">-T</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_t"><span class="bold">-t</span></a> ]
[ <a href="cpio.htm#systemvcpio_flags_u"><span class="bold">-u</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_v"><span class="bold">-v</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_bigv"><span class="bold">-V</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_6"><span class="bold">-6</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_bigc"><span class="bold">-C</span></a> <span class="italic">bufsize</span> ] [ <a href="cpio.htm#systemvcpio_flags_bige"><span class="bold">-E</span></a> <span class="italic">file</span> ] [ <a href="cpio.htm#systemvcpio_flags_bigh"><span class="bold">-H</span></a> <span class="italic">hdr</span> ] [ <a href="cpio.htm#systemvcpio_flags_bigi"><span class="bold">-I</span></a>  <span class="italic">file</span> [ <a href="cpio.htm#systemvcpio_flags_bigm"><span class="bold">-M</span></a> <span class="italic">message</span> ] ] [ <a href="cpio.htm#systemvcpio_flags_bigr"><span class="bold">-R</span></a> <span class="italic">ID</span> ] ] [ <a href="cpio.htm#systemvcpio_parameters_patterns"><span class="italic">Patterns</span></a> ...]</p>
<p><a href="cpio.htm#systemvcpio_description_o"><span class="bold">cpio -o</span></a> [ <a href="cpio.htm#systemvcpio_flags_a"><span class="bold">-a</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_biga"><span class="bold">-A</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_bigb"><span class="bold">-B</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_c"><span class="bold">-c</span></a> ]
[ <a href="cpio.htm#systemvcpio_flags_bigl"><span class="bold">-L</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_v"><span class="bold">-v</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_bigv"><span class="bold">-V</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_bigc"><span class="bold">-C</span></a> <span class="italic">bufsize</span> ] [ <a href="cpio.htm#systemvcpio_flags_bigh"><span class="bold">-H</span></a> <span class="italic">hdr</span> ] [ <a href="cpio.htm#systemvcpio_flags_bigk"><span class="bold">-K</span></a> <span class="italic">mediasize</span> ] [ <a href="cpio.htm#systemvcpio_flags_bigo"><span class="bold">-O</span></a> <span class="italic">file</span> [ <a href="cpio.htm#systemvcpio_flags_bigm"><span class="bold">-M</span></a> <span class="italic">message</span> ] ]</p>
<p><a href="cpio.htm#systemvcpio_description_p"><span class="bold">cpio -p</span></a> [ <a href="cpio.htm#systemvcpio_flags_a"><span class="bold">-a</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_d"><span class="bold">-d</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_l"><span class="bold">-l</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_bigl"><span class="bold">-L</span></a> ]
[ <a href="cpio.htm#systemvcpio_flags_m"><span class="bold">-m</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_u"><span class="bold">-u</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_v"><span class="bold">-v</span></a> ] [ <a href="cpio.htm#systemvcpio_flags_bigv"><span class="bold">-V</span></a> ]
[ <a href="cpio.htm#systemvcpio_flags_bigr"><span class="bold">-R</span></a> <span class="italic">ID</span> ] <a href="cpio.htm#systemvcpio_parameters_directory"><span class="italic">Directory</span></a></p>
<a name="wq1311"></a>
<h3 id="wq1311">描述</h3>
<p><span class="bold">cpio</span> 命令拷贝文件进出归档。
<span class="bold">-i</span>, <span class="bold">-o</span> 和 <span class="bold">-p</span> 选项选择要执行的操作。下列的列表描述了每个操作。
<span class="bold">-o</span>, <span class="bold">-p</span> 和 <span class="bold">-i</span> 选项是相互排斥的。</p>
<a name="systemvcpio_description_i"></a>
<h4 id="systemvcpio_description_i">cpio -i（拷贝进）</h4>
<p><span class="bold">cpio -i</span>（拷贝进）从标准输入中抽取文件
（只要 <span class="bold">-I</span> 没有被指定），
这个输入被假定是先前 <span class="bold">cpio -o </span>的结果。只有名字和 <span class="italic">Patterns</span> 匹配的文件被选择。
<span class="italic">Patterns</span> 是在常规
 <span class="bold">ksh</span> 符号表示法的文件名中给出的正则表达式。在 <span class="italic">Patterns</span> 中，元字符“?”，“*” 和“[.. . ]”匹配正斜杠（“/”），
而反斜杠 ("\") 是转义符。一个“!” 元字符意味着否。（例如，“[!abc]”模式将排除所有以 a、b 或 c 开始的文件。）可以指定多种模式，并且如果没有模式被指定，
 <span class="italic">Patterns</span> 的缺省值是
“*”（那就是选择全部）。每个模式都必须引在双引号中；
另外，当前目录中的文件的名字可以被使用。抽取的文件是有条件的创建的，并且被拷贝进基于下面描述的选项的当前目录树中。</p>
<p><span class="bold">cpio -i</span> 命令从标准输入读一个归档，这个文档是使用 <span class="bold">cpio
-o</span> 命令创建的，并且拷贝名字匹配 <span class="italic">pattern</span> 参数的文件。<span class="italic">pattern</span> 参数是以
常规 <span class="bold">ksh</span> 符号表示法给出的正则表达式。
这些文件被拷贝进当前目录树中。使用 <span class="bold">ksh</span> 命令中描述的文件名符号表示法，可以使用多个参数。模式可以是特殊字符 * （星号）、?（问号）和[...]（方括号和省略号）。模式参数的缺省值是
一个 * （星号），即选择输入中的所有文件。在表达式例如 [a-z] 中，
减号意味着根据当前的整理序列<tt class="xph">贯穿</tt>。</p>
<p>文件的许可权就是先前 <span class="bold">cpio -o</span> 中的。所有者和组的许可与当前使用者相同。
如果这样，所有者和组的许可将和先前
 <span class="bold">cpio -o</span> 中产生的相同。以 512 字节的数量报告块。</p>
<p>如果 <span class="bold">cpio -i</span> 试图创建一个已经存在的文件并且
存在的那个文件的寿命一样或更小（较新），<span class="bold">cpio</span> 将输出一个警告消息并且不替换那个文件。在另一方面
如果被抽取的那个文件比 cpio 归档中的那个文件旧，那么
已经存在的那个文件将被替换，而且命令不发出任何警告消息。</p>
<a name="systemvcpio_description_o"></a>
<h4 id="systemvcpio_description_o">cpio -o（拷贝出）</h4>
<p><span class="bold">cpio -o</span> 读标准输入以获取路径名列表并且将这些文件连同路径名和状态信息复制到标准输出上。</p>
<a name="systemvcpio_description_p"></a>
<h4 id="systemvcpio_description_p">cpio -p（拷贝传递）</h4>
<p><span class="bold">cpio -p</span> 读标准输入以获得文件的路径名列表
并且把它们拷贝进以
 <span class="italic">Directory</span> 参数命名的目录中。指定的目录必须已经存在。如果这些路径名包含不存在的目录名，必须使用 d 标志来创建指定的目录。缺省的，仅使用该选项从源文件传送（拷贝） Access Control List's （ ACL ）到目标文件。</p>
<a name="wq1312"></a>
<h3 id="wq1312">标志</h3>
<a name="wq1313"></a>
<table id="wq1313" width="100%" summary="" border="0" frame="void" rules="all">
<tbody valign="top">
<tr>
<td width="14%">
<a id="systemvcpio_flags_a" name="systemvcpio_flags_a"></a><span class="bold">-a</span></td>
<td width="85%">重新设置源文件的访问时间为先前的访问时间。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_biga" name="systemvcpio_flags_biga"></a><span class="bold">-A</span></td>
<td>附加文件到归档。The <span class="bold">-A</span> 选项需要 <span class="bold">-O</span> 选项。附加选项 <span class="bold">-A</span> 对于 <span class="bold">rmt</span> 特殊文件和磁盘无效。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_b" name="systemvcpio_flags_b"></a><span class="bold">-b</span></td>
<td>反转每个字中的字节顺序。这个选项只有和
 <span class="bold">-i</span> 选项一起时有效。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigb" name="systemvcpio_flags_bigb"></a><span class="bold">-B</span></td>
<td>这个选项
和 <span class="bold">-C</span> 选项都没有使用时，缺省的缓冲区大小是 512 个字节。但是当 <span class="bold">-B</span> 标志被使用时，对于输入／输出操作，缓冲区大小就被设定为 5120 个字节。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_c" name="systemvcpio_flags_c"></a><span class="bold">-c</span></td>
<td>为了系统的互操作性和可移植性，以 ASCII
字符格式读或写头文件信息。<span class="bold">-c</span> 选项和 <span class="bold">-H</span> 及 <span class="bold">-6</span> 是互相排斥的。当目标和目的地机器是不同类型时，<span class="bold">-c</span> 或者 <span class="bold">-H</span> 选项可以被使用。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigc" name="systemvcpio_flags_bigc"></a><span class="bold">-C</span> <span class="italic">bufsize</span></td>
<td>对于输入／输出操作的块大小被设置为 <span class="italic">bufsize</span> ，这里 <span class="italic">bufsize</span> 以正整数形式指示了缓冲区大小。
如果和 <span class="bold">-K</span> 一起使用，<span class="italic">bufsize</span> 必须是 1K 的倍数。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_d" name="systemvcpio_flags_d"></a><span class="bold">-d</span></td>
<td>创建需要的目录。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bige" name="systemvcpio_flags_bige"></a><span class="bold">-E</span> <span class="italic">file</span></td>
<td>指定一个输入文件（<span class="italic">file</span>）
包含了一个要从归档中抽取的文件名列表，一行一个文件名。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_f" name="systemvcpio_flags_f"></a><span class="bold">-f</span></td>
<td>拷贝除了在 <span class="italic">Pattern</span> 参数中的所有文件。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigh" name="systemvcpio_flags_bigh"></a><span class="bold">-H</span> <span class="italic">hdr</span></td>
<td>以 hdr 格式读或写头信息。当目标和目的地机器是不同类型时，<span class="bold">-h</span> 或者 <span class="bold">-c</span> 选项可以被使用。
这个选项和
 <span class="bold">-c</span> 及 <span class="bold">-6</span> 选项是相互排斥的。这种格式允许系统的互操作和可移植性。
<span class="bold">cpio</span> 当文件是 ASCII（<span class="bold">-c</span>）、CRC （<span class="bold">-Hcrc</span>）、tar（<span class="bold">-Htar</span>）或 ustar（<span class="bold">- Hustar</span>）格式时，实用程序支持大小超过 2 GB 的文件的归档。 <span class="italic">hdr</span> 的有效值是：
<dl>
<dt class="bold">crc</dt>
<dd>和 <span class="bold">CRC</span> 相同。 有附加的每个文件校验和的 ASCII 头。
<span class="bold">crc</span> 文件格式会处理超过 2 GB 的文件。
</dd>
<dt class="bold">ustar</dt>
<dd>和 <span class="bold">USTAR</span> 相同。IEEE/P1003 交换数据标准头和格式。
</dd>
<dt class="bold">tar</dt>
<dd>和 <span class="bold">TAR</span> 相同。Tar 头和格式。<span class="bold">tar</span> 格式用来和 <span class="bold">tar</span> 程序兼容。
</dd>
<dt class="bold">odc</dt>
<dd>有小的基础类型的 ASCII 头。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigi" name="systemvcpio_flags_bigi"></a><span class="bold">-I</span> <span class="italic">file</span></td>
<td> 读 <span class="italic">file</span> 的内容作为
一个输入归档。如果 <span class="italic">file</span> 是一个字符特殊设备，
而且目前的介质已经读完，替换那个介质并按 Enter 键以继续到下一个介质。这个选项只有和
 <span class="bold">-i</span> 选项一起时有效。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_k" name="systemvcpio_flags_k"></a><span class="bold">-k</span></td>
<td>试图跳过可能碰到的损坏的文件头和输入／输出错误。
这个选项在介质损坏时，让用户只读那些有好头的文件。
这个选项只有和
 <span class="bold">-i</span> 选项一起时有效。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigk" name="systemvcpio_flags_bigk"></a><span class="bold">-K</span> <span class="italic">mediasize</span></td>
<td>指定介质的 1K 倍数的大小。如果和
 <span class="bold">-C</span> <span class="italic">bufsize</span> 一起使用，那么 <span class="italic">bufsize</span> 必须是 1K 的倍数。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_l" name="systemvcpio_flags_l"></a><span class="bold">-l</span></td>
<td>在可能时硬链接文件而不是拷贝它们。
如果一个文件无法链接，那么它就被拷贝。这个选项只有和
 <span class="bold">-p</span> 选项一起使用时有效。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigl" name="systemvcpio_flags_bigl"></a><span class="bold">-L</span></td>
<td>这个选项帮助拷贝文件而不是链接。
链接文件的内容和链接名一起被拷贝。没有 <span class="bold">-L</span> 或 <span class="bold">-l</span> 选项，符号链接将缺省的被维护，由
 <span class="bold">-p</span> 选项使之成为缺省。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_m" name="systemvcpio_flags_m"></a><span class="bold">-m</span></td>
<td>恢复先前的文件修改时间。一个恢复文件的修改时间
和存取时间被设定为它被备份时的修改时间。
目录的修改时间没有保留。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigm" name="systemvcpio_flags_bigm"></a><span class="bold">-M</span> <span class="italic">message</span></td>
<td>定义一个换介质时的消息。当 <span class="bold">-O</span> 或 <span class="bold">-I</span> 选项被给予在一个特殊设备上的 cpio 时，
这个选项可以用来定义当到达介质底部时打印的消息。
<span class="bold">%d</span> 可以放在消息中用来打印需要继续的下一个介质的顺序号。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigo" name="systemvcpio_flags_bigo"></a><span class="bold">-O</span> <span class="italic">file</span></td>
<td><span class="bold">cpio</span> 的输出定向到 <span class="italic">file</span>。如果 <span class="italic">file</span> 是一个特殊设备并且当前的介质满了，
替换那个介质并按 Enter 键继续下一个介质。
这个选项只有和 <span class="bold">-o</span> 选项一起时有效。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_r" name="systemvcpio_flags_r"></a><span class="bold">-r</span></td>
<td>交互式重命名文件。如果想跳过一个文件，按 Enter 键。
如果想保留原来的路径名，输入 . （点）。这个选项只有和
 <span class="bold">-i</span> 选项一起时有效。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigr" name="systemvcpio_flags_bigr"></a><span class="bold">-R</span> <span class="italic">ID</span></td>
<td>重新分配每个文件的所有权和组信息给每个有效用户
<span class="italic">ID</span>。 这个选项只对 root 用户有效。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_s" name="systemvcpio_flags_s"></a><span class="bold">-s</span></td>
<td>在每个半字间交换字节。
<a name="wq1314"></a>
<div class="notetitle" id="wq1314">注:</div>
<div class="notebody"><span class="bold">-s</span> 和 <span class="bold">-S</span> 标志基本上是针对字节先后顺序的。</div></td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigs" name="systemvcpio_flags_bigs"></a><span class="bold">-S</span></td>
<td>在每个字间交换半字。
<a name="wq1315"></a>
<div class="notetitle" id="wq1315">注:</div>
<div class="notebody"><span class="bold">-s</span> 和 <span class="bold">-S</span> 标志基本上是针对字节先后顺序的。</div></td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_t" name="systemvcpio_flags_t"></a><span class="bold">-t</span></td>
<td>创建一个目录。这个操作不创建任何文件。
<span class="bold">-t</span> 标志和 <span class="bold">-V</span> 标志互相排斥。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigt" name="systemvcpio_flags_bigt"></a><span class="bold">-T</span></td>
<td>把长文件名截短到 14个字符。这个选项只有和
 <span class="bold">-i</span> 选项一起时有效。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_u" name="systemvcpio_flags_u"></a><span class="bold">-u</span></td>
<td>无条件拷贝（通常一个旧文件不会取代一个相同名字的新文件）。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_v" name="systemvcpio_flags_v"></a><span class="bold">-v</span></td>
<td>这是打印文件名列表的详细选项。
当和 <span class="bold">-t</span> 选项一起使用时，
目录看起来像是 <span class="bold">ls -l</span> 命令的一个输出。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_bigv" name="systemvcpio_flags_bigv"></a><span class="bold">-V</span></td>
<td>这是一个特殊的详细选项，对于每个已读或已写的文件，允许打印一个点。对于用户不打印所有的文件名就可以确定 cpio 在工作是有用的。
注意，<span class="bold">-V</span> 和 <span class="bold">-v</span> 选项是互相排斥的并且在命令行中哪一个出现的早就被处理，相应的忽略另一个。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_flags_6" name="systemvcpio_flags_6"></a><span class="bold">-6</span></td>
<td>处理 UNIX 系统第六版归档格式文件。
这个选项和 <span class="bold">-c</span> 及 <span class="bold">-H</span> 选项相互排斥。</td>
</tr>
</tbody>
</table>
<a name="wq1316"></a>
<h3 id="wq1316">参数</h3>
<a name="wq1317"></a>
<table id="wq1317" width="100%" summary="" border="0" frame="void" rules="all">
<tbody valign="top">
<tr>
<td width="20%">
<a id="systemvcpio_parameters_directory" name="systemvcpio_parameters_directory"></a><span class="italic">Directory</span></td>
<td width="79%">指定目录。</td>
</tr>
<tr>
<td>
<a id="systemvcpio_parameters_patterns" name="systemvcpio_parameters_patterns"></a><span class="italic">Patterns</span></td>
<td>指定一个或多个模式（如在 <span class="bold">ksh</span> 命令中所描述的）和命令一起使用。<span class="italic">Patterns</span> 参数的缺省值是一个 * （星号），即选择输入中的所有文件。</td>
</tr>
</tbody>
</table>
<a name="wq1318"></a>
<h3 id="wq1318">退出状态</h3>
<dl>
<dt class="bold">0</dt>
<dd>命令成功完成。
</dd>
<dt class="bold">> 0</dt>
<dd>有错误发生。
</dd>
</dl>
<a name="wq1319"></a>
<h3 id="wq1319">示例</h3>
<ol type="1">
<li>拷贝当前目录中所有文件到磁带设备 <span class="bold">/dev/rmt0</span>，输入：
<pre class="xmp">find . | /usr/sysv/bin/cpio -oc >/dev/rmt0</pre><span class="bold">-c</span> 选项确保那个文件可移植到其它机器上。除了 <span class="bold">find</span> 您还可以使用 <span class="bold">ls</span>、<span class="bold">cat</span>、<span class="bold">echo</span> 等等，以管道输送名字列表到 <span class="bold">cpio</span>。输出也可以重定向到一个常规 <span class="bold">cpio</span> 文件而不是一个设备。</li>
<li>要抽取一个名为“arfile”的 <span class="bold">cpio</span> 归档文件，这个文件是由
 <span class="bold">cpio</span> 命令创建的，使用下列命令：
<pre class="xmp">/usr/sysv/bin/cpio -icdI arfile </pre>这里，所有的文件都是从 <span class="bold">cpio</span> 归档中抽取的，并且
 <span class="bold">-d</span> 选项确保在需要时创建需要的目录路径。</li>
<li><span class="bold">cpio</span> 归档文件也可以这样抽取：
<pre class="xmp">/usr/sysv/bin/cpio -icd &lt; arfile </pre><span class="bold">-d</span> 选项
确保在当前目录下创建所有需要的目录。
标准输入只有在 <span class="bold">-I</span> 标志没有被指定时可以使用。</li>
<li>要无条件地抽取“arfile”中所有的文件，使用下列命令：
<pre class="xmp">/usr/sysv/bin/cpio -icduI arfile </pre></li>
<li>跳过头损坏的文件，<span class="bold">cpio</span> 可以这样使用：

<pre class="xmp">/usr/sysv/bin/cpio -ickudI arfile </pre></li>
<li>当使用 cpio 创建一个归档时，如果归档的文件的存取时间需要重新设置，<span class="bold">cpio</span> 可以以下列方式使用：

<pre class="xmp">ls | /usr/sysv/bin/cpio -oca > arfile </pre></li>
<li>从归档“ar”中只抽取和模式“a*”匹配的文件，使用下列命令：
<pre class="xmp">cat ar | /usr/sysv/bin/cpio -ickud "a*"</pre>这个命令抽取所有
以字母“a”开始的文件。</li>
<li>显示归档的文件列表，以下列方式使用 <span class="bold">cpio</span> ：

<pre class="xmp">cat ar | /usr/sysv/bin/cpio -itv</pre>详细选项
（<span class="bold">-v</span>）确保 <span class="bold">-t</span> 选项给出的列表以和 <span class="bold">ls -l</span> 命令非常相似的方式列出。</li>
<li><span class="bold">cpio -p</span> 命令可用来拷贝一个目录树到一个新的路径
，如下：
<pre class="xmp">find . -print | /usr/sysv/bin/cpio -pd /home/user1/newdir </pre>当前目录中的整个目录树都被拷贝到 <span class="bold">/home/user1/newdir</span>。<span class="bold">-d</span> 选项确保必要时创建目录。</li>
<li>拷贝目录树时，为了保持修改时间和访问控制列表，以下列方式使用 <span class="bold">cpio</span> 命令：
<pre class="xmp">find . -name "*.o" -print | /usr/sysv/bin/cpio -pdlmv /home/user1/newdir </pre>在这个示例中，只有目录树下的 <span class="bold">.o</span> 文件
被拷贝到 <span class="bold">/home/user1/newdir</span>。</li>
<li>附加一个文件列表到匹配一个特殊模式的 <span class="bold">cpio</span> 归档中，调用和下列相似的命令：

<pre class="xmp">ls d* | /usr/sysv/bin/cpio -oAO /tmp/ar </pre>在这个示例中，当前目录中所有以“d”开始的文件
将被附加到 <span class="bold">cpio</span> 归档。</li>
<li>要从 <span class="bold">cpio</span> 归档中只抽取一个常规文件中的文件列表，使用下列命令：
<pre class="xmp">cat ar | /usr/sysv/bin/cpio -i -E Efile </pre>在这个示例中，<span class="bold">cpio</span> 只抽取那些在常规文件“Efile”中列出的文件，
这里假定归档中存在指定的文件名。</li>
<li>硬链接所有的文件而不是拷贝它们，调用和下列相似的命令：

<pre class="xmp">ls d* | /usr/sysv/bin/cpio -pdl /home/user2/newdir </pre>在这个示例中，<span class="bold">-l</span> 标志确保所有的以字符“d”开头的文件名
被硬链接到 <span class="bold">/home/user2/newdir</span> 这个指定的目录。跨越文件系统的硬链接是不允许的，
这样 <span class="bold">-l</span> 选项就不能在当目的地目录是在另外一个文件系统中时使用。</li></ol>
<a name="wq1321"></a>
<h3 id="wq1321">文件</h3>
<a name="wq1322"></a>
<table id="wq1322" width="100%" summary="" border="0" frame="void" rules="all">
<tbody valign="top">
<tr>
<td><span class="bold">/usr/sysv/bin/cpio</span></td>
<td>包含 System V <span class="bold">cpio</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="wq1323"></a>
<h3 id="wq1323">相关信息</h3>
<p><a href="cpio.htm#a10192b06"><span class="bold">/usr/bin/cpio</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds5/tar.htm"><span class="bold">tar</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds2/dd.htm#a101930e6"><span class="bold">dd</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds4/pax.htm#a143c1754"><span class="bold">pax</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="cpio.htm#Top_Of_Page">页的顶部</a> | <a href="cp.htm">上一页</a> | <a href="cplv.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
