<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - acctmerg 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="acctmerg 命令, 合并记录, 记帐系统,
将记录合并入日常报告" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="acctmerg.htm#Bot_Of_Page">页的底部</a> | <a href="acctdisk.htm">上一页</a> | <a href="acctprc1.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="a10991ac5"></a>
<h2 id="a10991ac5">acctmerg 命令</h2>
<p><a id="idx15" name="idx15"></a> <a id="idx16" name="idx16"></a> <a id="idx17" name="idx17"></a></p>
<a name="a10991ac7"></a>
<h3 id="a10991ac7">用途</h3>
<a name="e3ea241082mart"></a>
<p id="e3ea241082mart">将总记帐文件合并入一个中间文件或日常报告。</p>
<a name="a10991ac9"></a>
<h3 id="a10991ac9">语法</h3>
<p>/<span class="bold">usr/sbin/acct/acctmerg</span> [&nbsp; <a href="acctmerg.htm#a10991ad2"><span class="bold">-a&nbsp;</span></a>[&nbsp;<span class="italic">Specification&nbsp;</span>]&nbsp;]
[&nbsp; <a href="acctmerg.htm#a10991ad3"><span class="bold">-h&nbsp;</span></a>[&nbsp;<span class="italic">Specification&nbsp;</span>]&nbsp;] [&nbsp; <a href="acctmerg.htm#a10991ad4"><span class="bold">-i&nbsp;</span></a>[&nbsp;<span class="italic">Specification&nbsp;</span>]&nbsp;] [&nbsp; <a href="acctmerg.htm#a10991ad5"><span class="bold">-p&nbsp;</span></a>[&nbsp;<span class="italic">Specification&nbsp;</span>]&nbsp;] [&nbsp; <a href="acctmerg.htm#a000c42639mike"><span class="bold">-q</span></a> <span class="italic">Filename&nbsp;</span>]&nbsp;[&nbsp; <a href="acctmerg.htm#a10991ad8"><span class="bold">-v&nbsp;</span></a>[&nbsp;<span class="italic">Specification&nbsp;</span>]&nbsp;]
[&nbsp; <a href="acctmerg.htm#a10991ad6"><span class="bold">-t&nbsp;</span></a>]&nbsp;[&nbsp; <a href="acctmerg.htm#a10991ad7"><span class="bold">-u&nbsp;</span></a>] [&nbsp;<span class="italic">File&nbsp;...&nbsp;</span>]</p>
<a name="a10991acb"></a>
<h3 id="a10991acb">描述</h3>
<a name="e3ea241534mart"></a>
<p id="e3ea241534mart"><span class="bold">acctmerg</span> 命令合并进程、连接时间、费用、磁盘使用和排队的（打印机）总记帐记录（<span class="bold">tacct</span> 二进制或 <span class="bold">tacct</span> ASCII 格式），然后将结果写至标准输出。（请参阅“<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/acct.htm#j23190clm"><span class="bold">acct</span></a> 文件格式”中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/acct.htm#a19995c"><span class="bold">tacct </span>结构</a>以获得总记帐格式的描述）。<span class="bold">acctmerg</span> 命令从标准输入和 <span class="italic">File</span> 参数指定的其它文件（最多九个）读取总记帐记录。<span class="bold">acctmerg </span>命令然后按相同的密钥（通常为用户标识和名称）合并记录。为简化存储，除非您使用 <span class="bold">-a</span>、<span class="bold">-v</span> 或 <span class="bold">-p</span> 标志，否则 <span class="bold">acctmerg</span> 命令将输出写成二进制格式。</p>
<a name="e3ea241635mart"></a>
<p id="e3ea241635mart"><span class="bold">acctmerg</span> 命令由 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds4/runacct.htm#a10991b49"><span class="bold">runacct</span></a> 命令调用来当其中一个输入文件满时产生中间报告，或将中间报告合并入累积总数。中间报告存储于 <span class="bold">/var/adm/acct/nite/daytacct</span> 文件中。累积报告存储于 <span class="bold">/var/adm/acct/sum/tacct</span> 文件中。累积总数是 <span class="bold">monacct</span> 命令产生的 ASCII 格式的每月摘要报告的源。每月摘要报告存储于 <span class="bold">/var/adm/acct/fiscal</span> 文件中。</p>
<a name="e3ea241734mart"></a>
<p id="e3ea241734mart"><span class="italic">Specification</span> 变量允许您选择输入或输出字段（如<a href="acctmerg.htm#a10991ae1">示例 1</a> 中所示）。字段说明是一个由逗号隔开的字段编号的列表（以 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/acct.htm#j23190clm"><span class="bold">acct</span></a>“文件格式”中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/acct.htm#a19995c"><span class="bold">tacct </span>结构</a>中指定的顺序排列）。当考虑到数组大小时，可能使用除了 <span class="italic">ta_name</span> 字符外的各字段范围。在以下示例中：</p>
<a name="e3ea241822mart"></a>
<p id="e3ea241822mart"><tt>-h2-3,11,15-13,2</tt></p>
<a name="e3ea241917mart"></a>
<p id="e3ea241917mart"><span class="bold">-h</span> 标志使列报头按下列顺序显示以下数据类型：</p>
<ul>
<li><a name="d6e8d8e441jani"></a><span id="d6e8d8e441jani" class="pk"></span>登录名（<tt>2</tt>）</li>
<li><a name="d6e8d8e475jani"></a><span id="d6e8d8e475jani" class="pk"></span>高峰 CPU（<tt>3</tt>）</li>
<li><a name="d6e8d8e509jani"></a><span id="d6e8d8e509jani" class="pk"></span>连接时间（<tt>11）</tt></li>
<li><a name="d6e8d8e542jani"></a><span id="d6e8d8e542jani" class="pk"></span>费用（<tt>15</tt>）</li>
<li><a name="d6e8d8e579jani"></a><span id="d6e8d8e579jani" class="pk"></span>排队系统（<tt>14 </tt>，如范围中隐含的）</li>
<li><a name="d6e8d8e614jani"></a><span id="d6e8d8e614jani" class="pk"></span>磁盘使用数据（<tt>13</tt>）</li>
<li><a name="d6e8d8e650jani"></a><span id="d6e8d8e650jani" class="pk"></span>（再一次）登录名（<tt>2</tt>）</li></ul>
<a name="e3ea242463mart"></a>
<p id="e3ea242463mart">除非另行指定为 1-18 或 1-，否则缺省显示所有字段，并生成包含所有可用记帐数据的宽输出行。</p>
<a name="e3ea242584mart"></a>
<p id="e3ea242584mart">通过使用 <span class="bold">acctmerg -i</span><span class="italic"> Specification</span> 命令，排队系统、磁盘使用或费用数据可以转换为 <span class="bold">tacct</span> 记录。</p>
<a name="e3ea242672mart"></a>
<p id="e3ea242672mart"><span class="bold">tacct</span> 字段是：</p>
<a name="wq25"></a>
<table id="wq25" width="100%" summary="" border="0" frame="void" rules="none">
<thead valign="bottom">
<tr>
<th id="wq26" width="30%" align="left">报头号</th>
<th id="wq27" width="70%" align="left">  描述</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq26">
<a id="e3ea242853mart" name="e3ea242853mart"></a>1  UID</td>
<td headers="wq27">  用户标识号。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea242948mart" name="e3ea242948mart"></a>2  LOGIN NAME</td>
<td headers="wq27">  用户的登录名。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea243044mart" name="e3ea243044mart"></a>3  CPU PRIME</td>
<td headers="wq27">  高峰时间内累积的 CPU 分钟。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea243141mart" name="e3ea243141mart"></a>4  CPU NPRIME</td>
<td headers="wq27">  非高峰时间的累积。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea243239mart" name="e3ea243239mart"></a>5  KCORE PRIME</td>
<td headers="wq27">  高峰时间内在内核消耗的累积的分钟。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea243336mart" name="e3ea243336mart"></a>6  KCORE NPRIME</td>
<td headers="wq27">  非高峰时间的累积。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea243433mart" name="e3ea243433mart"></a>7  BLKIO PRIME</td>
<td headers="wq27">  高峰时间内已传送的累积的块。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea243529mart" name="e3ea243529mart"></a>8  BLKIO NPRIME</td>
<td headers="wq27">  非高峰时间的累积。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea243627mart" name="e3ea243627mart"></a>9  RW/WR PRIME</td>
<td headers="wq27">  高峰时间内读／写的累积的块数。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea243725mart" name="e3ea243725mart"></a>10  RW/WR NPRIME</td>
<td headers="wq27">  非高峰时间的累积。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea243821mart" name="e3ea243821mart"></a>11  CONNECT PRIME</td>
<td headers="wq27">  高峰时间内累积的连接时间（分钟）。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea243918mart" name="e3ea243918mart"></a>12  CONNECT NPRIME</td>
<td headers="wq27">  非高峰时间的累积。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea244013mart" name="e3ea244013mart"></a>13  DISK BLOCKS</td>
<td headers="wq27">  累积磁盘使用。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea244109mart" name="e3ea244109mart"></a>14  PRINT</td>
<td headers="wq27">  排队系统收费。（页数）</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea244205mart" name="e3ea244205mart"></a>15  FEES</td>
<td headers="wq27">  特别服务的费用。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea244299mart" name="e3ea244299mart"></a>16  # OF PROCS</td>
<td headers="wq27">  进程计数。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea244396mart" name="e3ea244396mart"></a>17  # OF SESS</td>
<td headers="wq27">  登录会话计数。</td>
</tr>
<tr>
<td headers="wq26">
<a id="e3ea244492mart" name="e3ea244492mart"></a>18  # OF SAMPLES</td>
<td headers="wq27">  磁盘样本计数的统计。</td>
</tr>
</tbody>
</table>
<a name="a10991ad1"></a>
<h3 id="a10991ad1">标志</h3>
<p></p>
<a name="wq28"></a>
<table id="wq28" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="30%">
<a id="a10991ad2" name="a10991ad2"></a><span class="bold">-a</span>[<span class="italic">Specification</span>]</td>
<td width="70%">  产生 ASCII 记录格式的输出。</td>
</tr>
<tr>
<td>
<a id="a10991ad3" name="a10991ad3"></a><span class="bold">-h</span>[<span class="italic">Specification</span>]</td>
<td>  显示列报头。此标志隐含 <span class="bold">-a</span> 标志，但和 <span class="bold">-p</span> 或<span class="bold"> -v</span> 一起使用时才有效。</td>
</tr>
<tr>
<td>
<a id="a10991ad4" name="a10991ad4"></a><span class="bold">-i</span>[<span class="italic">Specification</span>]</td>
<td>  期望转换为二进制记录的输入文件由 ASCII 记录构成。</td>
</tr>
<tr>
<td>
<a id="a10991ad5" name="a10991ad5"></a><span class="bold">-p</span>[<span class="italic">Specification</span>]</td>
<td>  显示未处理过的输入。以 ASCII 格式输出。</td>
</tr>
<tr>
<td>
<a id="a000c42639mike" name="a000c42639mike"></a><span class="bold">-q</span><span class="italic"> Filename</span></td>
<td>  读取指定的 <span class="bold">qacct</span> 文件（<span class="bold">accrec.h</span> 文件格式）并生成按用户标识和用户名排列的输出记录。这些记录包含用户标识、用户名和打印的页数。</td>
</tr>
<tr>
<td>
<a id="a10991ad6" name="a10991ad6"></a><span class="bold">-t</span></td>
<td>  生成单个包含所有输入总和的记录。</td>
</tr>
<tr>
<td>
<a id="a10991ad7" name="a10991ad7"></a><span class="bold">-u</span></td>
<td>  按用户标识总结，而不是按用户名。</td>
</tr>
<tr>
<td>
<a id="a10991ad8" name="a10991ad8"></a><span class="bold">-v</span>[<span class="italic">Specification</span>]</td>
<td>  产生 ASCII 格式的输出，具有对于浮点数而言更精确的符号。</td>
</tr>
</tbody>
</table>
<a name="a71f0b6"></a>
<h3 id="a71f0b6">安全性</h3>
<a name="e3ea245356mart"></a>
<p id="e3ea245356mart">访问控制：此命令应仅向 <span class="bold">adm</span> 组的成员授予执行（x）访问权。</p>
<a name="a10991adc"></a>
<h3 id="a10991adc">示例</h3>
<ol type="1">
<li><a name="a10991ae1"></a><span id="a10991ae1" class="pk"></span>要将具有字段规范 <tt>-i1-2,13,18 </tt>的磁盘记帐文件 <tt>dacct&nbsp;</tt>合并入现有的总记帐文件 <tt>tacct</tt>，请输入：
<p></p>
<a name="a10991ae2"></a>
<pre id="a10991ae2" class="xmp">acctmerg&nbsp;-i1-2,13,18&nbsp;&lt;dacct&nbsp;|&nbsp;acctmerg&nbsp;tacct&nbsp;&gt;output</pre><p class="indatacontent"> <span class="bold">acctmerg</span> 命令从 <span class="bold">dacct</span> 文件读取用户标识、登录名、块数、磁盘样本数（<tt>i1-2,13,18</tt>）的字段规范，并将这些信息和 <span class="bold">tacct</span> 记录合并，然后将结果写至标准输出。</p></li>
<li><a name="a10991ade"></a><span id="a10991ade" class="pk"></span>要修复<span class="bold"> tacct</span> 格式文件 <tt>jan2.rpt</tt>，请首先输入：
<a id="a10991adf" name="a10991adf"></a>
<div class="lines"><tt>acctmerg&nbsp;&nbsp;<a href="acctmerg.htm#a10991ad8">-v</a> &lt;Jan.2.rpt &gt;jan2.tmp</tt><br />
</div> 现在编辑期望的文件<tt> jan2.tmp</tt>。此命令将<tt> Jan2.rpt</tt> 的内容重定向至 <tt>Jan2.tmp</tt>，以 ASCII 格式输出。</li>
<li><a name="a10991ac2"></a><span id="a10991ac2" class="pk"></span>要将 <tt>Jan2.tmp</tt> 重定向至 <tt>Jan2.rpt</tt>（输出格式为二进制记录格式），请输入以下命令：
<a id="a108c1c92" name="a108c1c92"></a>
<div class="lines"><tt>acctmerg&nbsp;&nbsp;<a href="acctmerg.htm#a10991ad4">-i</a> &lt;jan2.tmp&nbsp;&gt;jan2.rpt</tt><br />
</div></li></ol>
<a name="a10991ae9"></a>
<h3 id="a10991ae9">文件</h3>
<p></p>
<a name="wq30"></a>
<table id="wq30" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="45%">
<a id="a10991aea" name="a10991aea"></a><span class="bold">/usr/sbin/acct/acctmerg</span></td>
<td width="55%">  包含 <span class="bold">acctmerg</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a16397e3" name="a16397e3"></a><span class="bold">/usr/include/sys/acct.h</span></td>
<td>  包含 <span class="bold">acct</span> 和 <span class="bold">tacct</span> 文件格式。</td>
</tr>
<tr>
<td>
<a id="a10991aeb" name="a10991aeb"></a><span class="bold">/var/adm/acct/nite/daytacct</span></td>
<td>  包含二进制格式的中间日常总记帐报告。</td>
</tr>
<tr>
<td>
<a id="a16397e4" name="a16397e4"></a><span class="bold">/var/adm/acct/sum/tacct</span></td>
<td>  包含二进制格式的每月累积总记帐报告。</td>
</tr>
<tr>
<td>
<a id="a16397e5" name="a16397e5"></a><span class="bold">/var/adm/acct/fiscal</span></td>
<td>  包含每月记帐摘要报告，从 <span class="bold">/var/adm/acct/sum/tacct&nbsp;</span>文件中的记录产生。</td>
</tr>
</tbody>
</table>
<a name="a10991aec"></a>
<h3 id="a10991aec">相关信息</h3>
<a name="e3ea247206mart"></a>
<p id="e3ea247206mart"><a href="acctcms.htm#dnl1290frit"><span class="bold">acctcms</span></a> 命令、<a href="acctcom.htm#a1099194f"><span class="bold">acctcom</span></a>
命令、<a href="acctcon1.htm#a109919be"><span class="bold">acctcon1</span> 或 <span class="bold">acctcon2</span></a> 命令、<a href="acctdisk.htm#a10991a6d"><span class="bold">acctdisk</span></a> 命令、<a href="acctprc1.htm#a10991a14"><span class="bold">acctprc1</span>、<span class="bold">acctprc2</span> 或 <span class="bold">accton</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds2/fwtmp.htm#trda0frit"><span class="bold">fwtmp</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds4/runacct.htm#a10991b49"><span class="bold">runacct</span></a> 命令。</p>
<a name="e3ea247302mart"></a>
<p id="e3ea247302mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/acct.htm#j23190clm"><span class="bold">acct</span></a> 文件格式、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/utmp.htm#a3039269f"><span class="bold">utmp</span>、<span class="bold">wtmp</span>、<span class="bold">failedlogin</span></a> 文件格式。</p>
<a name="e3ea247498mart"></a>
<p id="e3ea247498mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/libs/basetrf1/acct.htm#a087914aa"><span class="bold">acct</span></a> 子例程。</p>
<a name="e3ea247594mart"></a>
<p id="e3ea247594mart"><span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/admnconc/acct_overview.htm#a346f9497">Accounting Overview</a>。</p>
<p><span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/printrgd/spooler_overview.htm#a350p928a">Queuing System Overview for System Management</a>。</p>
<a name="a26fbb97783janb"></a>
<p id="a26fbb97783janb"><span class="italic">《AIX 5L V5.2 系统管理指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/baseadmn/sys_acctg.htm#a290915">『建立记帐系统』</a>描述了要建立一个记帐系统而必须执行的步骤。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="acctmerg.htm#Top_Of_Page">页的顶部</a> | <a href="acctdisk.htm">上一页</a> | <a href="acctprc1.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
