<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - auditstream 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="auditstream 命令, 读取, audit 记录, 读取审计记录,
审计系统" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="auditstream.htm#Bot_Of_Page">页的底部</a> | <a href="auditselect.htm">上一页</a> | <a href="autoconf6.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="a1169478"></a>
<h2 id="a1169478">auditstream 命令</h2>
<p><a id="idx193" name="idx193"></a></p>
<a name="a116947a"></a>
<h3 id="a116947a">用途</h3>
<a name="eb6842c363mela"></a>
<p id="eb6842c363mela">创建读取审计记录的通道。<a id="idx194" name="idx194"></a> <a id="idx195" name="idx195"></a></p>
<a name="wq285"></a>
<h3 id="wq285">语法</h3>
<p><span class="bold">auditstream</span>  [ <a href="auditstream.htm#minusm"><span class="bold"> -m</span></a> ] [  <a href="auditstream.htm#minusc"><span class="bold">-c</span></a> <span class="italic">Class ...</span>]</p>
<a name="a116947f"></a>
<h3 id="a116947f">描述</h3>
<p><span class="bold">auditstream</span> 命令是审计子系统的一部分。此命令从 <span class="bold">/dev/audit</span> 文件（审计设备）读取审计记录，并将记录以二进制格式复制到标准输出。可以通过用 <span class="bold">-c</span> 标志指定审计类（在 <span class="bold">/etc/security/audit/config</span> 文件中定义）来选择审计记录的子集；否则，将复制所有当前启用的审计类。</p>
<p>审计流数据可以在它生成时显示并处理。例如，命令输出可以传送到审计后端命令以获得进一步的处理或可以重定向至文件。<span class="bold">auditselect</span> 命令（根据定义的标准选择数据记录）和 <span class="bold">auditpr</span> 命令（格式化记录来查看或打印）都是后端命令的示例。</p>
<p><span class="bold">auditstream</span> 命令可从命令行调用或可作为审计系统配置的一部分配置为多次运行。有关配置 <span class="bold">auditstream</span> 命令的信息，请参考<span class="italic">《AIX 5L V5.2 安全指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/security/setting_up_auditing.htm">『建立审计』</a>和 <span class="bold">/etc/security/audit/config</span> 文件。</p>
<p></p><blockquote><span class="bold">注：</span><span class="bold">auditstream</span> 命令应在后台运行。</blockquote>
<a name="a1169484"></a>
<h3 id="a1169484">标志</h3>
<p></p>
<a name="wq286"></a>
<table id="wq286" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="minusc" name="minusc"></a><span class="bold">-c</span><span class="italic"> Class</span></td>
<td width="86%">  指定要复制的审计类。每个类必须在 <span class="bold">etc/security/audit/config</span> 文件中配置为以逗号隔开的审计事件的列表。缺省值是所有当前启用的审计事件。</td>
</tr>
<tr>
<td>
<a id="minusm" name="minusm"></a><span class="bold">-m</span></td>
<td>  在每个审计记录中包含 CPU 标识。</td>
</tr>
</tbody>
</table>
<a name="a2999137b"></a>
<h3 id="a2999137b">安全性</h3>
<a name="eb6842d348mela"></a>
<p id="eb6842d348mela">访问控制：此命令应向 root 用户和审计组的成员授予执行（x）访问权。此命令应该是 root 用户的 <span class="bold">setuid</span> 并具有<span class="bold">可信计算基</span>属性。</p>
<a name="eb6842d446mela"></a>
<p id="eb6842d446mela">访问的文件：</p>
<a name="wq287"></a>
<table id="wq287" width="100%" summary="" border="0" frame="void" rules="none">
<thead valign="bottom">
<tr>
<th id="wq288" width="8%" align="left">方式</th>
<th id="wq289" width="91%" align="left">  文件</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq288">
<a id="a29991381" name="a29991381"></a><span class="bold">r</span></td>
<td headers="wq289">  <span class="bold">/dev/audit</span></td>
</tr>
</tbody>
</table>
<a name="a1169486"></a>
<h3 id="a1169486">示例</h3>
<ol type="1">
<li><a name="a1169487"></a><span id="a1169487" class="pk"></span>要在审计系统初始化时配置审计数据的流收集，请将以下命令添加到 <span class="bold">/etc/security/audit/config</span> 文件的流节中：
<p></p>
<a name="a1169488"></a>
<pre id="a1169488" class="xmp">cmds  =  /etc/security/audit/streamcmds</pre><p class="indatacontent"> 然后将以下命令添加到启动节中：</p>
<a name="c1637a7149doug"></a>
<pre id="c1637a7149doug" class="xmp">streammode=on</pre><p class="indatacontent"> 接着，将应在审计系统初始化时执行的所有流命令添加到 <span class="bold">etc/security/audit/streamcmds</span> 文件中。例如：</p>
<a name="a29991382"></a>
<pre id="a29991382" class="xmp">/usr/sbin/auditstream  -c  authentication  |  \
/usr/sbin/auditpr  -v  &gt;  /dev/console
 
/usr/sbin/auditstream  |  /usr/sbin/auditselect  -e  \
"result  ==  FAIL_ACCESS"  |  \
/usr/sbin/auditpr  -t  2  -v  &gt;  /dev/lpr2 </pre><p class="indatacontent"> 第一个命令格式化认证类中事件的所有记录并将它们写至系统控制台。第二个命令格式化在访问被拒时生成的所有记录并将它们打印到打印机 <span class="bold">/dev/lp2</span> 上。</p></li>
<li><a name="a1169491"></a><span id="a1169491" class="pk"></span>要将审计流事件记录到行式打印机上，请输入：
<p></p>
<a name="a1169492"></a>
<pre id="a1169492" class="xmp">/usr/sbin/auditstream  |  /usr/sbin/auditselect  -e  "event  ==  \
USER_Login  ||  event  ==  USER_SU"    |  \
/usr/sbin/auditpr  -v  &gt;  /dev/lp0  &amp;</pre><p class="indatacontent"> 此命令格式化所有用户登录和 <span class="bold">su</span> 事件并将它们写至行式打印机。</p></li></ol>
<a name="a1169498"></a>
<h3 id="a1169498">文件</h3>
<p></p>
<a name="wq291"></a>
<table id="wq291" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="50%">
<a id="a13193a6" name="a13193a6"></a><span class="bold">/usr/sbin/auditstream</span></td>
<td width="50%">  指定 <span class="bold">auditstream</span> 命令的路径。</td>
</tr>
<tr>
<td>
<a id="a13193a7" name="a13193a7"></a><span class="bold">/etc/rc</span></td>
<td>  包含系统启动例程。</td>
</tr>
<tr>
<td>
<a id="a116949a" name="a116949a"></a><span class="bold">/dev/audit</span></td>
<td>  指定审计设备。</td>
</tr>
<tr>
<td>
<a id="a170921d4" name="a170921d4"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/config.htm#evc0frit"><span class="bold">/etc/security/audit/config</span></a></td>
<td>  包含审计系统配置信息。</td>
</tr>
<tr>
<td>
<a id="a29991384" name="a29991384"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/events.htm#a137914cd"><span class="bold">/etc/security/audit/events</span></a></td>
<td>  包含系统的审计事件。</td>
</tr>
<tr>
<td>
<a id="a29991385" name="a29991385"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/objects.htm#a1219943"><span class="bold">/etc/security/audit/objects</span></a></td>
<td>  包含被审计对象（文件）的审计事件。</td>
</tr>
<tr>
<td>
<a id="a29991386" name="a29991386"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/bincmds.htm#aw51a0frit"><span class="bold">/etc/security/audit/bincmds</span></a></td>
<td>  包含 auditbin 后端命令。</td>
</tr>
<tr>
<td>
<a id="a29991387" name="a29991387"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/streamcmds.htm#a7co140frit"><span class="bold">/etc/security/audit/streamcmds</span></a></td>
<td>  包含审计流命令。</td>
</tr>
<tr>
<td><span class="bold">/etc/security/audit/hosts</span></td>
<td>  包含主机和 CPU 标识。</td>
</tr>
</tbody>
</table>
<a name="a116949b"></a>
<h3 id="a116949b">相关信息</h3>
<a name="eb6842f628mela"></a>
<p id="eb6842f628mela"><a href="audit.htm#a14294a5"><span class="bold">audit</span></a> 命令、<a href="auditcat.htm#phn3310frit"><span class="bold">auditcat</span></a> 命令、<a href="auditconv.htm#hi9si161thom"><span class="bold">auditconv</span></a> 命令、<a href="auditpr.htm#a1169571"><span class="bold">auditpr</span></a> 命令、<a href="auditselect.htm#a163c11669"><span class="bold">auditselect</span></a> 命令。</p>
<a name="eb6842f723mela"></a>
<p id="eb6842f723mela"><a href="auditbin.htm#a116951b"><span class="bold">auditbin</span></a> 守护进程。</p>
<a name="eb6842f816mela"></a>
<p id="eb6842f816mela">有关审计的一般信息，请参考<span class="italic">《AIX 5L V5.2 安全指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/security/auditing_overview.htm">『审计概述』</a>。</p>
<a name="eb6842f913mela"></a>
<p id="eb6842f913mela">有关用户的标识和认证，任意访问控制、可信计算基以及审计的更多信息，请参考<span class="italic">《AIX 5L V5.2 安全指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/security/security_admin.htm#standalone_sys_security_part">『单机系统安全性』</a>。</p>
<a name="eb68430026mela"></a>
<p id="eb68430026mela">要参阅您建立“审计系统”必须采取的步骤，请参考<span class="italic">《AIX 5L V5.2 安全指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/security/setting_up_auditing.htm">『建立审计』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="auditstream.htm#Top_Of_Page">页的顶部</a> | <a href="auditselect.htm">上一页</a> | <a href="autoconf6.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
