<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - bosboot 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="bosboot 命令, bosboot, 命令, 使用 bosboot 命令,
创建, 引导映像" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="bosboot.htm#Bot_Of_Page">页的底部</a> | <a href="bootptodhcp.htm">上一页</a> | <a href="bosdebug.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="a275977f"></a>
<h2 id="a275977f">bosboot 命令</h2>
<p><a id="idx255" name="idx255"></a><a id="idx256" name="idx256"></a></p>
<a name="a175c1ceb"></a>
<h3 id="a175c1ceb">用途</h3><a id="idx257" name="idx257"></a><a id="idx258" name="idx258"></a>
<a name="e5b71dc871mart"></a>
<p id="e5b71dc871mart">创建引导映像。</p>
<a name="d21acbe027raga"></a>
<h3 id="d21acbe027raga">语法</h3>
<a name="wq455"></a>
<h4 id="wq455">常规用法：</h4>
<p><span class="bold">bosboot -</span><span class="italic">Action</span> [     <a href="bosboot.htm#a175c1d14"><span class="bold">-d    </span></a><span class="italic">Device</span>    ] [    <span class="bold">-</span><span class="italic">Options</span>   
...    ]</p>
<a name="wq456"></a>
<h4 id="wq456">要创建设备引导映像：</h4>
<p><span class="bold">bosboot</span>  <a href="bosboot.htm#a175c1d11"><span class="bold">-a</span></a> [     <a href="bosboot.htm#a175c1d14"><span class="bold">-d    </span></a><span class="italic">Device</span>    ] [     <a href="bosboot.htm#a175c1d20"><span class="bold">-p    </span></a><span class="italic">Proto</span>    ] [     <a href="bosboot.htm#a175c1d17"><span class="bold">-k    </span></a><span class="italic">Kernel</span>    ]  [     <a href="bosboot.htm#a175c1d18"><span class="bold">-I    </span></a>|     <a href="bosboot.htm#a175c1d15"><span class="bold">-D    </span></a>] [     <a href="bosboot.htm#a175c1d19"><span class="bold">-l    </span></a><span class="italic">LVdev</span>    ] [ <a href="bosboot.htm#dd276bc560lynn"><span class="bold">-L</span></a>] [     <a href="bosboot.htm#a175c1d1b"><span class="bold">-M
   </span></a>{    <span class="italic">Norm</span>    |    <span class="italic">Serv</span>    |    <span class="italic">Both</span>    }    ] <tt></tt> [<tt></tt>  <a href="bosboot.htm#lhamk290mart"><span class="bold">-T</span></a><tt></tt><span class="italic"> Type</span><tt></tt> 
  ]<tt></tt> [     <a href="bosboot.htm#a175c1d12"><span class="bold">-b    </span></a><span class="italic">FileName</span>    ] [     <a href="bosboot.htm#mujyi154kbar"><span class="bold">-q    </span></a>]</p>
<a name="a175c1cef"></a>
<h3 id="a175c1cef">描述</h3>
<a name="e5b71de162mart"></a>
<p id="e5b71de162mart"><span class="bold">bosboot</span> 命令创建与机器引导 ROS（只读存储器）EPROM（可擦可编程只读存储器）连接的引导映像。</p>
<a name="e5b71de261mart"></a>
<p id="e5b71de261mart"><span class="bold">bosboot</span> 命令从 RAM（随机存取存储器）磁盘文件系统和内核创建引导文件（引导映像）。该引导映像被传送至 ROS 引导代码可识别的特定介质。打开或重新引导机器时，ROS 引导代码会从介质将引导映像装入内存。ROS 然后将控制传送给已装入的映像内核。</p>
<a name="e5b71de360mart"></a>
<p id="e5b71de360mart">相关联的 RAM 磁盘文件系统包含使机器的设备和文件系统成为可用的设备配置例程。随着引导设备的不同，RAM 磁盘文件系统包含不同的配置文件。为每种设备类型提供一个 <span class="bold">mkfs</span> 原型文件。（请参阅下面的注 6）。当前受支持的设备是：</p>
<ul>
<li>CD-ROM</li>
<li>磁盘</li>
<li>磁带</li>
<li>网络</li></ul>
<a name="e5b71de749mart"></a>
<p id="e5b71de749mart">网络设备可以是令牌环、以太网或光纤分布数据接口（FDDI），这些设备都用于在局域网（LAN）上从网络引导服务器引导。</p>
<a name="e5b71de846mart"></a>
<p id="e5b71de846mart">该引导映像随着被引导设备类型的不同而不同，且被压缩以适于特定的介质并减少实内存请求。引导逻辑卷对于引导映像必须够大。</p>
<a name="e5b71de944mart"></a>
<p id="e5b71de944mart">除了创建引导映像，<span class="bold">bosboot</span> 命令通常保存磁盘的设备配置数据。它不更新 NVRAM（非易失性随机存取存储器）中的引导设备列表。可以使用 <span class="bold">bootlist</span> 命令修改此列表。</p>
<a name="e5b71df040mart"></a>
<p id="e5b71df040mart">通常在“基本操作系统”安装期间调用 <span class="bold">bosboot</span> 命令，且当升级操作系统时 <span class="bold">updatep</span> 命令经常会调用该命令。</p>
<a name="wq457"></a>
<div class="notelisttitle" id="wq457">注:</div>
<ol type="1">
<li><a name="a175c1cfc"></a><span id="a175c1cfc" class="pk"></span>必须具有使用 <span class="bold">bosboot</span> 命令的 root 用户权限。</li>
<li><a name="d21acc0873raga"></a><span id="d21acc0873raga" class="pk"></span>在创建引导磁盘时，如果 <span class="bold">bosboot</span> 命令不成功，且有消息表示不要重新引导机器，就请不要这样做。应该解决此问题且 <span class="bold">bosboot</span> 命令应该运行直至成功完成。</li>
<li><a name="d21acc1093raga"></a><span id="d21acc1093raga" class="pk"></span><span class="bold">bosboot</span> 命令需要目标映像（如果有此映像的话）将要驻留的文件系统和 <span class="bold">/tmp</span> 文件系统中的一些空间。</li>
<li><a name="d21acc1320raga"></a><span id="d21acc1320raga" class="pk"></span><span class="bold">bosboot</span> 命令要求所指定的物理磁盘包含引导逻辑卷。要确定指定哪个磁盘设备，可发出以下命令：
<p></p>
<a name="a220c16ec"></a>
<pre id="a220c16ec" class="xmp">lsvg    -M    rootvg</pre><p class="indatacontent"> 该命令显示所有逻辑卷的图示。缺省的引导逻辑卷是 <span class="bold">hd5</span>。使用包含引导逻辑卷的磁盘设备。</p></li>
<li><a name="d21acc1813raga"></a><span id="d21acc1813raga" class="pk"></span>没有使用 <span class="bold">-d</span> 标志指定设备时，<span class="bold">bosboot</span> 命令会将缺省设备假定为从磁盘引导系统的磁盘。然而，如果使用 <span class="bold">-p</span> 标志指定原型文件，则也必须使用 <span class="bold">-d</span> 标志指定该设备。</li>
<li><a name="e5b71df939mart"></a><span id="e5b71df939mart" class="pk"></span><span class="bold">bosboot</span> 命令用于构建 RAM 磁盘文件系统的原型文件依赖于将运行引导映像的机器的引导设备和硬件平台（<span class="bold">sys0</span> ）类型。
<a name="e5b71e0044mart"></a>
<p id="e5b71e0044mart">硬件平台类型是允许机器根据基础的配置特征，比如处理器数量或 I/O 总线结构或此两者进行分组的抽象概念。具有不同硬件平台类型的机器在引导时对其设备进行动态配置的方法上具有基本的差异。AIX 5.1 和更早版本中的硬件平台类型 <span class="bold">rs6k</span> 应用于所有仅通过 AIX 5.1 的基于通道的微型单处理器型号。<span class="bold">rs6ksmp</span> 类型应用于所有仅通过 AIX 5.1 基于通道的微型对称多处理器型号。AIX 5.1 和更早版本中的 <span class="bold">rspc</span> 类型应用于所有 ISA 总线型号。由于已经开发出新型号，它们的硬件平台类型或者是先前已经提到过的类型，或者（如果存在基础性配置差异）是将要定义的新类型。已给出引导设备类型的引导映像一般随着机器所具有的硬件平台类型的不同而不同。</p>
<a name="e5b71e0145mart"></a>
<p id="e5b71e0145mart">由 <span class="bold">bosboot</span> 使用的原型文件的构造从平台类型和引导设备的基本原型文件副本开始（例如，<span class="bold">/usr/lib/boot/chrp.disk.proto</span>）。接着，<span class="bold">bosboot</span> 命令在 <span class="bold">pcfg</span> 文件中查找正在使用的平台类型（例如，<span class="bold">/usr/lib/boot/chrp.pcfg</span>）。<span class="bold">pcfg</span> 包含 bosboot 用以在模板中搜索原型扩展文件的条目。这些文件位于 <span class="bold">/usr/lib/boot/protoext</span> 目录中，提供至正在构造的原型文件的扩展。例如，如果平台类型是 <span class="bold">chrp</span> 且引导设备是<span class="bold">磁盘</span>，则文件 <span class="bold">/usr/lib/boot/protoext/chrp.pcfg</span> 包含以下内容：
</p>
<pre class="xmp">scsi.
chrp.
chrp_lpar.
fcp.
graphics.
ide.
isa_sio.
pci.
ssa.
sys.pci.
tty.
usbif.</pre><span class="bold">bosboot</span><p class="indatacontent"> 命令会从基本原型文件 <span class="bold">/usr/lib/boot/chrp.disk.proto</span> 开始，并搜索目录 <span class="bold">/usr/lib/boot/protoext</span> 以查找任何匹配模板 <span class="bold">disk.proto.ext.scsi.*</span> 的文件。这些文件的内容被添加至正在构造的原型文件。接着，匹配模板<span class="bold"> /usr/lib/boot/protoext/disk.proto.ext.scsi.*</span> 的文件内容被添加至正在构造的原型文件。此过程一直持续到 <span class="bold">pcfg</span> 文件中的所有行都已被处理为止。此时，原型文件的构造完成。<span class="bold">bosboot</span> 命令将此原型文件传递至构建 RAM 磁盘文件系统的 <span class="bold">mkfs</span> 命令。</p></li>
<li>BOSBOOT 命令用以构建引导映像的原型文件依赖于引导设备。此外，原型文件还依赖于机器的系统设备类型（sys0），而引导映像是为此机器构建的。
<a name="a1570ae6309mart"></a>
<p id="a1570ae6309mart">这在以下这些原型文件的名称中有所反映：</p> 
<a name="a39c581a082janb"></a>
<p id="a39c581a082janb"><span class="bold">/usr/lib/boot/chrp.disk.proto</span></p> 
<a name="a39c581a134janb"></a>
<p id="a39c581a134janb"><span class="bold">/usr/lib/boot/chrp.cd.proto</span></p> 
<a name="a39c581a205janb"></a>
<p id="a39c581a205janb"><span class="bold">/usr/lib/boot/chrp.tape.proto</span></p> 
<a name="a39c581a242janb"></a>
<p id="a39c581a242janb"><span class="bold">/usr/lib/boot/network/chrp.ent.proto</span></p> 
<a name="a39c581a374janb"></a>
<p id="a39c581a374janb"><span class="bold">/usr/lib/boot/network/chrp.tok.proto</span></p> 
<a name="a39c581a684janb"></a>
<p id="a39c581a684janb"><span class="bold">/usr/lib/boot/network/chrp.atm.proto</span></p> 
<a name="a39c581a726janb"></a>
<p id="a39c581a726janb"><span class="bold">/usr/lib/boot/network/chrp.fddi.proto</span></p> 
<a name="a39c581a811janb"></a>
<p id="a39c581a811janb">系统设备类型是允许机器根据基础的配置特征比如处理器数量和 I/O 总线结构进行分组的抽象概念。此系统设备是系统节点中最高级别的设备，由系统中的所有物理设备组成。</p>
<a name="a1570ae6429mart"></a>
<p id="a1570ae6429mart">具有不同系统设备类型的机器在引导时对它们的设备进行动态配置的方法上具有基本的差异。</p>
<a name="a1570ae6471mart"></a>
<p id="a1570ae6471mart">缺省情况下，<span class="bold">bosboot</span> 命令使用与执行此命令的机器的系统设备类型相匹配的原型文件。-p 选项允许指定原型文件的系统设备类型。</p></li>
</ol>
<a name="a175c1cfd"></a>
<h3 id="a175c1cfd">标志</h3>
<p></p>
<a name="wq459"></a>
<table id="wq459" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="15%">
<a id="a175c1d14" name="a175c1d14"></a><span class="bold">-d</span><span class="italic"> device</span></td>
<td width="85%">  指定引导设备。此标志对于硬盘是可选的。</td>
</tr>
</tbody>
</table>
<a name="e5b71e0656mart"></a>
<p id="e5b71e0656mart">以下标志是操作标志。必须且只能指定一个标志。</p>
<a name="wq460"></a>
<table id="wq460" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="18%">
<a id="a175c1d11" name="a175c1d11"></a><span class="bold">-a</span></td>
<td width="81%">  创建完整的引导映像和设备。</td>
</tr>
</tbody>
</table>
<a name="e5b71e0967mart"></a>
<p id="e5b71e0967mart">以下标志是选项标志：</p>
<a name="wq461"></a>
<table id="wq461" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="38%">
<a id="a175c1d12" name="a175c1d12"></a><span class="bold">-b</span><span class="italic"> FileName</span></td>
<td width="61%">  将指定的文件名用作引导映像名。此标志是可选的。</td>
</tr>
<tr>
<td>
<a id="a175c1d15" name="a175c1d15"></a><span class="bold">-D</span></td>
<td>  装入低级别调试器。此标志是可选的。</td>
</tr>
<tr>
<td>
<a id="a175c1d18" name="a175c1d18"></a><span class="bold">-I</span>（大写 i）</td>
<td>  装入并调用低级别调试器。此标志是可选的。</td>
</tr>
<tr>
<td>
<a id="a175c1d17" name="a175c1d17"></a><span class="bold">-k</span><span class="italic"> Kernel</span></td>
<td>  为引导映像使用指定的内核文件。此标志是可选的，且如果未指定，缺省为 <span class="bold">/unix</span>。</td>
</tr>
<tr>
<td>
<a id="dd276bc560lynn" name="dd276bc560lynn"></a><span class="bold">-L</span></td>
<td>  启用 MP 系统的锁定检测。对于不使用 MP 内核的系统，此标志无效。</td>
</tr>
<tr>
<td>
<a id="a175c1d19" name="a175c1d19"></a><span class="bold">-l</span>（小写 L）<span class="italic">LVDev</span></td>
<td>  为引导映像使用目标引导逻辑卷。此标志是可选的。</td>
</tr>
<tr>
<td>
<a id="a175c1d1b" name="a175c1d1b"></a><span class="bold">-M</span><span class="italic"> Norm</span>|<span class="italic">Serv</span>|<span class="italic">Both</span></td>
<td>  指定引导方式。选项是：
<dl>
<dt class="bold"><span class="bold">norm</span></dt>
<dd>  表示常规方式。
</dd>
<dt class="bold"><span class="bold">serv</span></dt>
<dd>  表示服务方式。
</dd>
<dt class="bold"><span class="bold">both</span></dt>
<dd>  表示两种方式。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a175c1d20" name="a175c1d20"></a><span class="bold">-p</span><span class="italic"> Proto</span></td>
<td>  将指定的原型文件用于 RAM 磁盘文件系统。此标志是可选的。</td>
</tr>
<tr>
<td>
<a id="mujyi154kbar" name="mujyi154kbar"></a><span class="bold">-q</span></td>
<td>  确定需要用多少磁盘空间才能使文件系统创建引导映像。不会创建引导映像。此标志是可选的。</td>
</tr>
<tr>
<td>
<a id="lhamk290mart" name="lhamk290mart"></a><span class="bold">-T</span><span class="italic"> Type</span></td>
<td>  指定硬件平台类型（请参阅注 6）。它使得 <span class="bold">bosboot</span> 命令为指定的硬件平台类型创建引导映像。如果未指定类型，<span class="bold">bosboot</span> 命令创建引导映像，而该引导映像的硬件平台类型与当前正在运行的机器类型相匹配。此标志是可选的。</td>
</tr>
</tbody>
</table>
<a name="a175c1d25"></a>
<h3 id="a175c1d25">安全性</h3>
<a name="e5b71e2484mart"></a>
<p id="e5b71e2484mart">访问控制：仅 root 用户可以读取并执行此命令。</p>
<a name="a175c1d27"></a>
<h3 id="a175c1d27">示例</h3>
<ol type="1">
<li>要创建固定磁盘（从该磁盘引导系统）上的缺省引导逻辑卷上的引导映像，输入：
<p></p>
<a name="d21acc5237raga"></a>
<pre id="d21acc5237raga" class="xmp">bosboot -a</pre></li>
<li>要创建用于磁带设备的称为 <span class="bold">/tmp/tape.bootimage</span> 的可引导映像，输入：
<p></p>
<a name="d21acc5597raga"></a>
<pre id="d21acc5597raga" class="xmp">bosboot -ad /dev/rmt0 -b /tmp/tape.bootimage</pre></li>
<li>要创建用于以太网引导的引导映像文件，输入：
<p></p>
<a name="d21acc6458raga"></a>
<pre id="d21acc6458raga" class="xmp">bosboot -ad /dev/ent0</pre></li>
<li>要创建用于具有类型为 <span class="bold">chrp</span> 的硬件平台的机器的令牌环引导映像，而此时正在具有类型为 <span class="bold">chrp</span> 的硬件平台的机器上运行，输入：
<p></p>
<a name="e5b71e3424mart"></a>
<pre id="e5b71e3424mart" class="xmp">bosboot -ad /dev/tok -T chrp</pre></li></ol>
<a name="a175c1d33"></a>
<h3 id="a175c1d33">文件</h3>
<p></p>
<a name="wq463"></a>
<table id="wq463" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="40%">
<a id="e5b71e3987mart" name="e5b71e3987mart"></a><span class="bold">/usr/sbin/mkboot</span></td>
<td width="59%">  指定引导创建例程。</td>
</tr>
<tr>
<td><span class="bold">/usr/lib/boot/chrp.disk.proto</span></td>
<td>指定磁盘 RAM 文件系统模板。</td>
</tr>
<tr>
<td><span class="bold">/usr/lib/boot/chrp.cd.proto</span></td>
<td>指定 CD-ROM RAM 文件系统模板。</td>
</tr>
<tr>
<td><span class="bold">/usr/lib/boot/chrp.tape.proto</span></td>
<td>指定磁带 RAM 文件系统模板。</td>
</tr>
<tr>
<td><span class="bold">/usr/lib/boot/network/chrp.ent.proto</span></td>
<td>指定以太网 RAM 文件系统模板。</td>
</tr>
<tr>
<td><span class="bold">/usr/lib/boot/network/chrp.tok.proto</span></td>
<td>指定令牌环 RAM 文件系统模板。</td>
</tr>
<tr>
<td><span class="bold">/usr/lib/boot/network/chrp.atm.proto</span></td>
<td>指定 ATM 文件系统模板。</td>
</tr>
<tr>
<td><span class="bold">/usr/lib/boot/network/chrp.fddi.proto</span></td>
<td>指定 FDDI RAM 文件系统模板。</td>
</tr>
</tbody>
</table>
<a name="a275979a"></a>
<h3 id="a275979a">相关信息</h3>
<a name="e5b71e5446mart"></a>
<p id="e5b71e5446mart"><a href="bootlist.htm#az7x8b0chri"><span class="bold">bootlist</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/mkboot.htm#a2789c1c"><span class="bold">mkboot</span></a> 命令和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/locktrace.htm#bet9i14dthom"><span class="bold">locktrace</span></a> 命令。</p>
<a name="e5b71e5544mart"></a>
<p id="e5b71e5544mart"><span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/admnconc/under_boot.htm#a42f23e6">理解引导进程</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="bosboot.htm#Top_Of_Page">页的顶部</a> | <a href="bootptodhcp.htm">上一页</a> | <a href="bosdebug.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
