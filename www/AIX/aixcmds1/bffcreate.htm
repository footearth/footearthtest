<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - bffcreate 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="bffcreate 命令, 备份格式, 创建, 文件, 创建文件中" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="bffcreate.htm#Bot_Of_Page">页的底部</a> | <a href="bellmail.htm">上一页</a> | <a href="bfs.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="a3189793"></a>
<h2 id="a3189793">bffcreate 命令</h2>
<p><a id="idx226" name="idx226"></a></p>
<a name="a3189795"></a>
<h3 id="a3189795">用途</h3>
<a name="e0f5014490joyc"></a>
<p id="e0f5014490joyc">以备份格式创建安装映像文件。<a id="idx227" name="idx227"></a> <a id="idx228" name="idx228"></a></p>
<a name="wq392"></a>
<h3 id="wq392">语法</h3>
<p><span class="bold">bffcreate</span>  [ <a href="bffcreate.htm#a135f1115"><span class="bold">-q</span></a> ]  [ <a href="bffcreate.htm#wcc31999bgs"><span class="bold">-S</span></a> ] [ <a href="bffcreate.htm#a135f1116"><span class="bold">-v</span></a> ] [ <a href="bffcreate.htm#a135f1118"><span class="bold">-X</span></a> ] [ <a href="bffcreate.htm#a135f1113"><span class="bold">-d</span></a> <span class="italic">Device</span> ] [ <a href="bffcreate.htm#if1b0tayl"><span class="bold">-t</span></a> <span class="italic">SaveDir</span> ]  [ <a href="bffcreate.htm#a135f1117"><span class="bold">-w</span></a> <span class="italic">Directory</span> ]  [  <a href="bffcreate.htm#upmflag"><span class="bold">-M</span></a> <span class="italic">Platform</span> ]  { [ <a href="bffcreate.htm#hitwj97joyc"><span class="bold">-l</span></a> | <span class="pk">-L</span> ] | <a href="bffcreate.htm#bffcreate_flag_sml_c"><span class="pk">-c</span></a> [ <a href="bffcreate.htm#bffcreate_flag_sml_s"><span class="pk">-s</span></a> <span class="italic">LogFile</span> ] | <span class="italic">Package</span> [<span class="italic">Level</span> ] ... | <a href="bffcreate.htm#w123wccyow20"><span class="bold">-f</span></a> <span class="italic">ListFile</span> | <span class="bold">all</span> }</p>
<a name="bf2be41964joy"></a>
<h3 id="bf2be41964joy">描述</h3>
<a name="e0f5014753joyc"></a>
<p id="e0f5014753joyc"><span class="bold">bffcreate</span> 命令以备份文件格式（bff）创建安装映像文件来支持软件安装操作。</p>
<a name="e0f5014793joyc"></a>
<p id="e0f5014793joyc"><span class="bold">bffcreate</span> 命令从指定安装介质上的安装映像文件创建安装映像文件。同样，它自动从超文本映像（比如在操作系统文档 CD-ROM 上的那些）创建安装映像文件。<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/installp.htm#a1539ad6"><span class="bold">installp</span></a> 命令可以使用新创建的安装文件将软件安装在系统上。文件以备份格式创建并被保存至 <span class="italic">SaveDir</span> 指定的目录。更新 <span class="italic">SaveDir</span> 参数指定目录中的 <span class="bold">.toc</span> 文件以包括该映像文件的一个条目。</p>
<a name="e0f5014831joyc"></a>
<p id="e0f5014831joyc"><span class="bold">bffcreate</span> 命令根据此信息确定 bff 名称：</p>
<a name="wq393"></a>
<table id="wq393" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="40%">中性软件包（Neutral Package）&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td width="59%"><span class="italic">package.v.r.m.f.platform.installtype</span></td>
</tr>
<tr>
<td>基于 POWER 的平台 包</td>
<td><span class="italic">package.v.r.m.f.installtype</span></td>
</tr>
</tbody>
</table>
<a name="wq394"></a>
<table id="wq394" width="100%" summary="" border="0" frame="void" rules="none">
<thead valign="bottom">
<tr>
<th id="wq395" width="61%" align="left">映像类型</th>
<th id="wq396" width="38%" align="left">目标 bff 名称</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq395">
<a id="e0f5014904joyc" name="e0f5014904joyc"></a>基于 POWER 的平台 的安装映像</td>
<td headers="wq396"><span class="italic">package.v.r.m.f.I</span></td>
</tr>
<tr>
<td headers="wq395">
<a id="e0f5014906joyc" name="e0f5014906joyc"></a>中性软件包的安装映像</td>
<td headers="wq396"><span class="italic">package.v.r.m.f.N.I</span></td>
</tr>
<tr>
<td headers="wq395">
<a id="e0f5014943joyc" name="e0f5014943joyc"></a>基于 POWER 的平台 的 3.1 更新版</td>
<td headers="wq396"><span class="italic">package.v.r.m.f.service#</span></td>
</tr>
<tr>
<td headers="wq395">
<a id="e0f5014979joyc" name="e0f5014979joyc"></a>基于 POWER 的平台 的 3.2 更新版</td>
<td headers="wq396"><span class="italic">package.v.r.m.f.ptf</span></td>
</tr>
<tr>
<td headers="wq395">
<a id="e0f5015017joyc" name="e0f5015017joyc"></a>基于 POWER 的平台 的 4.X** 或更高更新版</td>
<td headers="wq396"><span class="italic">package.part.v.r.m.f.U</span></td>
</tr>
<tr>
<td headers="wq395">
<a id="e0f5015019joyc" name="e0f5015019joyc"></a>中性软件包的更新映像</td>
<td headers="wq396"><span class="italic">package.v.r.m.f.N.U</span></td>
</tr>
</tbody>
</table>
<a name="wq397"></a>
<table id="wq397" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="100%">
<a id="wcc3199941" name="wcc3199941"></a> 
<p>** 4.X 或更高更新版仅包含一个<span class="italic">软件包</span>。此外，AIX V4 及其后续更新版本不包含 <span class="italic">ptf</span> 标识。</p></td>
</tr>
</tbody>
</table>
<a name="e0f5015090joyc"></a>
<p id="e0f5015090joyc"><span class="italic">package</span> = 由 <span class="italic">PackageName</span> 参数描述的软件包名称。</p>
<a name="e0f5015163joyc"></a>
<p id="e0f5015163joyc"><span class="italic">v.r.m.f</span> = 版本.发行版.修订版.修正包，与软件包相关联的级别。<span class="italic">PackageName</span> 通常同 <span class="italic">fileset</span> 名称是不一样的。</p>
<a name="w123wccyow13"></a>
<p id="w123wccyow13"><span class="italic">ptf</span> = 程序临时修订标识（也被称为修订标识）</p>
<a name="e0f5015202joyc"></a>
<p id="e0f5015202joyc">安装映像文件名的形式为 <span class="italic">Package.Level.I</span>。<span class="italic">Package</span> 是软件包的名称，如同对于 <span class="italic">Package Name</span> 参数的描述那样。<span class="italic">Level</span> 的格式为  <span class="italic">v.r.m.f</span>，其中 <span class="italic">v</span> = 版本，<span class="italic">r</span> = 发行版，<span class="italic">m</span> = 修订版，<span class="italic">f</span> = 修正包。<span class="italic">I</span> 扩展名意思是映像是安装映像而非更新映像。</p>
<a name="are0f5015240joyc"></a>
<p id="are0f5015240joyc">包含 AIX 3.1 格式更新的更新映像文件在级别后跟有服务号扩展名。<span class="italic">Servicenum</span> 参数的长度可以多达 4 个数字。一个示例为 <tt>xlccmp.3.1.5.0.1234</tt>。</p>
<a name="e0f5015278joyc"></a>
<p id="e0f5015278joyc">包含 AIX 3.2 格式更新的更新映像文件具有跟在级别后的 <span class="italic">ptf</span> 扩展名。一个示例为 <tt>bosnet.3.2.0.0.U412345</tt>。</p>
<p>AIX V4 和后续更新映像文件名以 <span class="italic">fileset</span> 名称开头，而不是 <span class="italic">PackageName</span>。它们也有 <span class="italic">U</span> 扩展名表示它们确实是更新映像文件，而不是安装映像。更新映像文件的一个示例为 <tt>bos.rte.install.4.3.2.0.U</tt>。</p>
<p><span class="bold">all</span> 关键字表示为设备上的每个可安装软件包创建安装映像文件。</p>
<p>可以使用 AIX V4 和更新 <span class="bold">bffcreate</span> 命令抽取单一更新映像。然后必须指定 <span class="italic">fileset</span> 名称和 <span class="italic">v.r.m.f.</span> 参数。如同<a href="bffcreate.htm#a135f111a">示例</a>一节中的示例 3 所示，<span class="italic">PackageName</span> 参数必须是整个 <span class="italic">fileset</span> 名称，<tt>bos.net.tcp.client</tt>，而非仅仅 <tt>bos.net</tt>。</p>
<div class="attention"><span class="attentiontitle">注意: </span>在为所抽取的映像选择目标目录时请小心，特别当该目录已经包含可安装的映像时。如果处于特定级别的 <span class="italic">fileset</span> 同时作为安装映像和更新映像存在于同一目录时，可能发生意外的安装结果。在此种情况下，<span class="bold">installp</span> 会选择它在目录（<span class="bold">.toc</span>）文件中最先找到的映像。所选择的映像可能并非您所期望的，因而可能引起意外的必然故障。千万记住，应该抽取维护包级别来清除目录。</div>
<a name="a135f1112"></a>
<h3 id="a135f1112">标志</h3>
<p></p>
<a name="wq398"></a>
<table id="wq398" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="bffcreate_flag_sml_c" name="bffcreate_flag_sml_c"></a><span class="pk">-c</span></td>
<td width="80%">将映像名更改为软件包名称格式。</td>
</tr>
<tr>
<td>
<a id="a135f1113" name="a135f1113"></a><span class="bold">-d</span><span class="italic"> Device</span></td>
<td>指定了原始映像驻留的设备名称。该设备可以是 CD、磁带、软盘或目录。如果映像包含在磁带中，必须将磁带设备指定为“关闭时不倒带”和“打开时不保存”（对于高密度磁带，<span class="bold">/dev/rmt</span><span class="italic">*</span><span class="bold">.1</span>；对于低密度磁带，<span class="bold">/dev/rmt</span><span class="italic">*</span><span class="bold">.5</span>）。缺省设备是 /<span class="bold">dev</span>/<span class="bold">rfd0</span>。</td>
</tr>
<tr>
<td>
<a id="w123wccyow20" name="w123wccyow20"></a><span class="bold">-f</span><span class="italic"> ListFile</span></td>
<td>从 <span class="italic">ListFile</span> 读取 <span class="italic">PackageNames</span> 和 <span class="italic">Levels</span> 列表。文本的每一行都应该出现一个可选择地跟有级别的 <span class="italic">PackageNames</span>。一行上任何紧接着第二组空格或跳格集的文本都被忽略。</td>
</tr>
<tr>
<td>
<a id="hitwj97joyc" name="hitwj97joyc"></a><span class="bold">-l</span></td>
<td>列出介质上的所有软件包的 <span class="italic">Package</span>、<span class="italic">Level</span>、<span class="italic">Image Type</span>（<span class="italic">I</span> 用于安装映像而 <span class="italic">U</span> 用于更新映像）和<span class="italic"> Part(s)</span>。</td>
</tr>
<tr>
<td>
<a id="upmflag" name="upmflag"></a><span class="bold">-M</span><span class="italic">Platform</span></td>
<td>指定以下任何 <span class="italic">Platform</span> 值可被用来列出或创建对于指定平台可安装的软件产品的备份文件格式（bff）映像：
<dl>
<dt class="bold"><span class="bold">A</span></dt>
<dd>指定所有软件包。
</dd>
<dt class="bold"><span class="bold">N</span></dt>
<dd>指定中性平台软件包。
</dd>
<dt class="bold"><span class="bold">R</span></dt>
<dd>仅指定 基于 POWER 的平台 软件包。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a135f1115" name="a135f1115"></a><span class="bold">-q</span></td>
<td>消除对于介质的要求。</td>
</tr>
<tr>
<td>
<a id="bffcreate_flag_sml_s" name="bffcreate_flag_sml_s"></a><span class="pk">-s</span> <span class="italic">LogFile</span></td>
<td>将更改后的映像名保存到 <span class="italic">LogFile</span> 指示的文件中。</td>
</tr>
<tr>
<td>
<a id="if1b0tayl" name="if1b0tayl"></a><span class="bold">-t</span><span class="italic"> SaveDir</span></td>
<td>指定创建安装映像文件的目录。如果它不存在，<span class="bold">bffcreate</span> 命令会创建所指定的目录。如果未指定 <span class="bold">-t</span> 标志，文件保存于 <span class="bold">/usr/sys/inst.images</span> 目录。</td>
</tr>
<tr>
<td>
<a id="a135f1116" name="a135f1116"></a><span class="bold">-v</span></td>
<td>  将备份格式文件名写至标准输出。</td>
</tr>
<tr>
<td>
<a id="a135f1117" name="a135f1117"></a><span class="bold">-w</span><span class="italic"> Directory</span></td>
<td>  指定可以创建临时工作目录的目录。如果它不存在，<span class="bold">bffcreate</span> 命令会创建所指定的目录。缺省目录是 <span class="bold">/tmp</span>。</td>
</tr>
<tr>
<td>
<a id="wcc31999bgs" name="wcc31999bgs"></a><span class="bold">-S</span></td>
<td>  当安装设备是 CD-ROM 时，禁止正进行处理的多个卷。从 CD-ROM 的安装总是作为单一卷来对待，即使 CD-ROM 包含多个卷 CD 集的信息。如果设置了 <span class="bold">INU_SINGLE_CD</span> 环境，也会执行同样的对正在进行处理的多个卷的禁止。</td>
</tr>
<tr>
<td>
<a id="a135f1118" name="a135f1118"></a><span class="bold">-X</span></td>
<td>  如果需要空间，自动扩展文件系统。</td>
</tr>
</tbody>
</table>
<a name="a175f1164"></a>
<h3 id="a175f1164">安全性</h3>
<a name="a1810d9b026mart"></a>
<p id="a1810d9b026mart">访问控制：必须具有运行该命令的 root 用户权限。</p>
<a name="a135f111a"></a>
<h3 id="a135f111a">示例</h3>
<ol type="1">
<li><a name="a135f111d"></a><span id="a135f111d" class="pk"></span>要从 <span class="bold">/dev/rmt0</span> 磁带机中磁带上的 <span class="bold">bos.net</span> 软件包创建安装映像文件并将 <span class="bold">/var/tmp</span> 用作工作的目录，输入：
<a id="a135f111e" name="a135f111e"></a>
<div class="lines"><tt>bffcreate&nbsp;&nbsp;<a href="bffcreate.htm#a135f1113">-d</a> /dev/rmt0.1 <br />
 <a href="bffcreate.htm#a135f1117">-w</a> /var/tmp bos.net</tt><br />
</div></li>
<li><a name="a135f111f"></a><span id="a135f111f" class="pk"></span>要从 <span class="bold">/dev/rfd0</span> 软盘驱动器中的软盘上的 <span class="bold">package</span> 软件包创建安装映像文件并无需提示就打印安装映像文件的名称，输入：
<a id="a135f1120" name="a135f1120"></a>
<div class="lines"><tt>bffcreate&nbsp;&nbsp;<a href="bffcreate.htm#a135f1115">-q</a>&nbsp;&nbsp;<a href="bffcreate.htm#a135f1116">-v</a> <br />
package</tt><br />
</div></li>
<li><a name="deca4c0588joyc"></a><span id="deca4c0588joyc" class="pk"></span>要从 <span class="bold">/dev/cd0</span> 中 CD 上的 <span class="bold">bos.net.tcp.client</span> 软件包创建单一更新映像文件，输入：
<a id="deca4c0625joyc" name="deca4c0625joyc"></a>
<div class="lines"><tt>bffcreate&nbsp;&nbsp;<a href="bffcreate.htm#a135f1113">-d</a> <br />
/dev/cd0 bos.net.tcp.client 4.2.2.1</tt><br />
</div></li>
<li><a name="deca4c0701joyc"></a><span id="deca4c0701joyc" class="pk"></span>要列出 <span class="bold">/dev/cd0</span> 中 CD 上的软件包，输入：
<a id="deca4c0736joyc" name="deca4c0736joyc"></a>
<div class="lines"><tt>bffcreate&nbsp;&nbsp;<a href="bffcreate.htm#hitwj97joyc">-l</a> <br />
 <a href="bffcreate.htm#a135f1113">-d</a> /dev/cd0</tt><br />
</div></li>
<li><a name="w123wccyow100"></a><span id="w123wccyow100" class="pk"></span>要通过指定被称作 MyListFile 的 <span class="italic">ListFile</span> 中的 <span class="italic">PackageNames</span> 和 <span class="italic">Levels</span> 列表从 <span class="bold">/dev/cd0</span> 中的 CD 创建安装和／或更新映像，输入：
<a id="w123wccyow101" name="w123wccyow101"></a>
<div class="lines"><tt>bffcreate&nbsp;&nbsp;<a href="bffcreate.htm#a135f1113">-d</a> /dev/cd0 <br />
 <a href="bffcreate.htm#w123wccyow20">-f</a> MyListFile</tt><br />
</div></li>
<li>为当前平台创建 CD-ROM 介质上所有软件包的安装或更新映像，输入：
<p></p>
<pre class="xmp">bffcreate -d /dev/cd0 all</pre></li>
<li>从特定设备为 bos.games 软件包列出文件集信息，输入：
<p></p>
<pre class="xmp">bffcreate -d /usr/sys/inst.images/bos.games -l</pre></li>
<li>要列出 CD-ROM 介质上所有中性软件包，输入：
<p></p>
<pre class="xmp">bffcreate -d /dev/cd0 -MN -l</pre></li></ol>
<a name="a135f1123"></a>
<h3 id="a135f1123">文件</h3>
<p></p>
<a name="wq400"></a>
<table id="wq400" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="41%">
<a id="c480dbb175elai" name="c480dbb175elai"></a><span class="bold">/usr/sbin/bffcreate</span></td>
<td width="58%">包含 <span class="bold">bffcreate</span> 命令。</td>
</tr>
<tr>
<td>
<a id="bf2be45366joy" name="bf2be45366joy"></a><span class="bold">/usr/sys/inst.images</span></td>
<td>包含备份格式的文件，用于安装或更新软件包的全集或子集。</td>
</tr>
<tr>
<td>
<a id="a221f158" name="a221f158"></a><span class="bold">/usr/sys/inst.images/.toc</span></td>
<td>用于保留目录中安装映像文件列表的缺省目录的目录文件。</td>
</tr>
</tbody>
</table>
<a name="a31897bb"></a>
<h3 id="a31897bb">相关信息</h3>
<a name="e0f5016313joyc"></a>
<p id="e0f5016313joyc"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/installp.htm#a1539ad6"><span class="bold">installp</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/inutoc.htm#a92f11165"><span class="bold">inutoc</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="bffcreate.htm#Top_Of_Page">页的顶部</a> | <a href="bellmail.htm">上一页</a> | <a href="bfs.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
