<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - auditpr 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="auditpr 命令, 格式化, audit 记录" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="auditpr.htm#Bot_Of_Page">页的底部</a> | <a href="auditmerge.htm">上一页</a> | <a href="auditselect.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="a1169571"></a>
<h2 id="a1169571">auditpr 命令</h2>
<p><a id="idx188" name="idx188"></a></p>
<a name="a1169573"></a>
<h3 id="a1169573">用途</h3>
<a name="eb67f5f538mela"></a>
<p id="eb67f5f538mela">格式化显示设备或打印机的二进制或流审计记录。<a id="idx189" name="idx189"></a></p>
<a name="a1169576"></a>
<h3 id="a1169576">语法</h3>
<p><span class="bold">auditpr</span> [  <a href="auditpr.htm#a1169583"><span class="bold">-m</span></a> "<span class="italic">Message</span>" ] [  <a href="auditpr.htm#a1169580"><span class="bold">-t </span></a> { <span class="bold">0</span> | <span class="bold">1</span> | <span class="bold">2</span> } ]  [  <a href="auditpr.htm#a116958d"><span class="bold">-h</span></a> {<span class="bold"> e l R t c r p P T h</span> } ] [  <a href="auditpr.htm#a1169584"><span class="bold">-r</span></a> ] [  <a href="auditpr.htm#a1169585"><span class="bold">-v</span></a> ]</p>
<a name="a1169578"></a>
<h3 id="a1169578">描述</h3>
<a name="eb67f5f971mela"></a>
<p id="eb67f5f971mela"><span class="bold">auditpr</span> 命令是审计子系统的一部分。此命令从标准输入读取二进制或流格式的审计记录，并将格式化后的记录发送到标准输出。</p>
<a name="eb67f60066mela"></a>
<p id="eb67f60066mela">输出格式由所选的标志确定。如果指定 <span class="bold">-m</span> 标志，则在每个报头前显示一条消息。请使用 <span class="bold">-t</span> 和 <span class="bold">-h</span> 标志来更改缺省报头标题和字段，并使用<span class="bold">-v</span> 标志来附加审计跟踪。<span class="bold">auditpr</span> 命令搜索本地 <span class="bold">/etc/passwd</span> 文件以将用户和组标识转换为名称。</p>
<a name="eb67f60161mela"></a>
<p id="eb67f60161mela">使用缺省报头信息的输出的示例如下：</p>
<p></p>
<a name="a99f060"></a>
<pre id="a99f060" class="xmp"><span class="bold">事件    登录    状态     时间                             命令</span>
登录    dick     OK       星期五 2 月 8 日  14:03:57   1990   login
 . . . . . 跟踪部分 . . . . .</pre>
<a name="eb67f60330mela"></a>
<p id="eb67f60330mela">有关审计跟踪的示例，请参阅定义审计跟踪格式的 <span class="bold">/etc/security/audit/events</span> 文件。</p>
<a name="eb67f60423mela"></a>
<p id="eb67f60423mela">可能的话，跳过无效记录并发出错误消息。如果命令不能从错误恢复，则处理停止。</p>
<a name="a116957e"></a>
<h3 id="a116957e">标志</h3>
<p></p>
<a name="wq270"></a>
<table id="wq270" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="23%">
<a id="mkm0911971215" name="mkm0911971215"></a><span class="bold">-d</span></td>
<td width="76%">以微秒分辨率计算的输出数据。该格式的日期的输出是：
<p></p>
<pre class="xmp">DD MMM YYYY hh:mm:ss.uuuuuu </pre></td>
</tr>
<tr>
<td>
<a id="a116958d" name="a116958d"></a><span class="bold">-h</span><span class="italic"> Fields</span></td>
<td>  选择要显示的字段以及显示它们的顺序，缺省为 <span class="bold">e</span>、<span class="bold">l、R</span>、<span class="bold">t</span> 和 <span class="bold">c</span>。有效的值是：
<dl>
<dt id="a9kn120frit" class="bold">
<a name="a9kn120frit"></a><span class="bold">e</span></dt>
<dd>  审计事件
</dd>
<dt id="a355f92a" class="bold">
<a name="a355f92a"></a><span class="bold">l</span></dt>
<dd>  用户登录名
</dd>
<dt id="a1169544" class="bold">
<a name="a1169544"></a><span class="bold">R</span></dt>
<dd>  审计状态
</dd>
<dt id="a355f929" class="bold">
<a name="a355f929"></a><span class="bold">t</span></dt>
<dd>  写记录的时间
</dd>
<dt id="a355f92b" class="bold">
<a name="a355f92b"></a><span class="bold">c</span></dt>
<dd>  命令名称
</dd>
<dt class="bold"><span class="bold">r</span></dt>
<dd>  实际用户名
</dd>
<dt class="bold"><span class="bold">p</span></dt>
<dd>  进程标识
</dd>
<dt class="bold"><span class="bold">P</span></dt>
<dd>  父进程的标识。
</dd>
<dt class="bold"><span class="bold">T</span></dt>
<dd>  内核线程标识。这是进程的本地标识；不同的进程可能包含具有相同线程标识的线程。
</dd>
<dt class="bold"><span class="bold">h</span></dt>
<dd>生成审计记录的主机的名称。如果审计记录中没有 CPU 标识，则使用值 <span class="bold">none</span>。如果在审计记录中没有与 CPU 标识相匹配的条目，则使用 CPU 标识的 16 位字符值。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a1169583" name="a1169583"></a><span class="bold">-m "</span><span class="italic">Message</span><span class="bold">"</span></td>
<td>  指定要和每个报头一起显示的 <span class="italic">Message</span>。必须将 <span class="italic">Message</span> 字符串括在双引号内。</td>
</tr>
<tr>
<td>
<a id="a1169584" name="a1169584"></a><span class="bold">-r</span></td>
<td>  禁止标识转化为符号名称。</td>
</tr>
<tr>
<td>
<a id="a1169580" name="a1169580"></a><span class="bold">-t</span> {<span class="bold">0</span> | <span class="bold">1</span> | <span class="bold">2</span>}</td>
<td>  指定显示报头标题的时间。缺省标题由一条可选的消息（请参阅 <a href="auditpr.htm#a1169583"><span class="bold">-m</span></a> 标志）后跟输出的每个列的名称构成。
<dl>
<dt class="bold"><span class="bold">0</span></dt>
<dd>  忽略任何标题。
</dd>
<dt class="bold"><span class="bold">1</span></dt>
<dd>  在一系列记录的开头显示标题一次。
</dd>
<dt class="bold"><span class="bold">2</span></dt>
<dd>  在每个记录前显示标题。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a1169585" name="a1169585"></a><span class="bold">-v</span></td>
<td>  使用 <span class="bold">/etc/security/audit/events</span> 文件中的格式规范来显示每个审计记录的跟踪。</td>
</tr>
</tbody>
</table>
<a name="a2999134b"></a>
<h3 id="a2999134b">安全性</h3>
<a name="eb67f61985mela"></a>
<p id="eb67f61985mela">访问控制：此命令应向 root 用户和审计组的成员授予执行（x）访问权。此命令应该是 root 用户的 <span class="bold">setuid</span> 并具有<span class="bold">可信计算基</span>属性。</p>
<a name="eb67f62067mela"></a>
<p id="eb67f62067mela">访问的文件：</p>
<a name="wq271"></a>
<table id="wq271" width="100%" summary="" border="0" frame="void" rules="none">
<thead valign="bottom">
<tr>
<th id="wq272" width="8%" align="left">方式</th>
<th id="wq273" width="91%" align="left">  文件</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq272">
<a id="a29991351" name="a29991351"></a><span class="bold">r</span></td>
<td headers="wq273">  <span class="bold">/etc/security/audit/events</span></td>
</tr>
<tr>
<td headers="wq272">
<a id="a1169546" name="a1169546"></a><span class="bold">r</span></td>
<td headers="wq273">  <span class="bold">/etc/passwd</span></td>
</tr>
<tr>
<td headers="wq272">
<a id="a355f930" name="a355f930"></a><span class="bold">r</span></td>
<td headers="wq273">  <span class="bold">/etc/group</span></td>
</tr>
</tbody>
</table>
<a name="a116959b"></a>
<h3 id="a116959b">示例</h3>
<ol type="1">
<li><a name="a1519c69"></a><span id="a1519c69" class="pk"></span>要读取具有缺省报头标题和字段以及审计跟踪的系统审计跟踪文件，请输入：
<a id="a1519c6a" name="a1519c6a"></a>
<div class="lines"><tt>/usr/sbin/auditpr&nbsp;&nbsp;<a href="auditpr.htm#a1169585">-v &lt; </a>/audit/trail </tt><br />
</div> <span class="bold">/audit/trail</span> 文件必须包含有效的审计二进制文件或记录。</li>
<li><a name="a1519c6f"></a><span id="a1519c6f" class="pk"></span>要从一个审计跟踪文件格式化所有 <tt>witte</tt> 用户引起的审计事件，请输入：
<a id="a1519c70" name="a1519c70"></a>
<div class="lines"><tt>/usr/sbin/auditselect -e"login == witte"\<br />
/audit/trail | auditpr&nbsp;&nbsp;<a href="auditpr.htm#a1169585">-v</a></tt><br />
</div> 用缺省值（<a href="auditpr.htm#a9kn120frit"><span class="bold">e</span></a>、<a href="auditpr.htm#a355f92b"><span class="bold">c</span></a>、<a href="auditpr.htm#a355f92a"><span class="bold">l</span></a>、<a href="auditpr.htm#a1169544"><span class="bold">R</span></a> 和 <a href="auditpr.htm#a355f929"><span class="bold">t</span></a>）来格式化最终生成的记录且包含一个跟踪。</li>
<li><a name="a29991353"></a><span id="a29991353" class="pk"></span>要从审计设备交互地读取记录，请输入：
<p></p>
<pre class="xmp">/usr/sbin/auditstream | /usr/sbin/auditpr -t0 -heRl </pre></li></ol>
<a name="a11695a7"></a>
<h3 id="a11695a7">文件</h3>
<p></p>
<a name="wq275"></a>
<table id="wq275" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="50%">
<a id="a11695a8" name="a11695a8"></a><span class="bold">/usr/sbin/auditpr</span></td>
<td width="50%">  指定<span class="bold"> auditpr</span> 命令的路径。</td>
</tr>
<tr>
<td>
<a id="a29991355" name="a29991355"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/config.htm#evc0frit"><span class="bold">/etc/security/audit/config</span></a></td>
<td>  包含审计系统配置信息。</td>
</tr>
<tr>
<td>
<a id="a29991356" name="a29991356"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/events.htm#a137914cd"><span class="bold">/etc/security/audit/events</span></a></td>
<td>  包含系统的审计事件。</td>
</tr>
<tr>
<td>
<a id="a29991359" name="a29991359"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/objects.htm#a1219943"><span class="bold">/etc/security/audit/objects</span></a><span class="bold"></span></td>
<td>  包含被审计对象（文件）的审计事件。</td>
</tr>
<tr>
<td>
<a id="a29991357" name="a29991357"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/bincmds.htm#aw51a0frit"><span class="bold">/etc/security/audit/bincmds</span></a><span class="bold"></span></td>
<td>  包含 auditbin 后端命令。</td>
</tr>
<tr>
<td>
<a id="a29991358" name="a29991358"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/streamcmds.htm#a7co140frit"><span class="bold">/etc/security/audit/streamcmds</span></a><span class="bold"></span></td>
<td>  包含审计流命令。</td>
</tr>
<tr>
<td><span class="bold">/etc/security/audit/hosts</span></td>
<td>  包含“CPU 标识到主机名”的映射。</td>
</tr>
</tbody>
</table>
<a name="a11695ab"></a>
<h3 id="a11695ab">相关信息</h3>
<a name="eb67f63969mela"></a>
<p id="eb67f63969mela"><a href="audit.htm#a14294a5"><span class="bold">audit</span></a> 命令、<a href="auditcat.htm#phn3310frit"><span class="bold">auditcat</span></a> 命令、<a href="auditconv.htm#hi9si161thom"><span class="bold">auditconv</span></a> 命令、<a href="auditselect.htm#a163c11669"><span class="bold">auditselect</span></a> 命令、<a href="auditstream.htm#a1169478"><span class="bold">auditstream</span></a> 命令。</p>
<a name="eb67f64054mela"></a>
<p id="eb67f64054mela"><a href="auditbin.htm#a116951b"><span class="bold">auditbin</span></a> 守护进程。</p>
<a name="eb67f64148mela"></a>
<p id="eb67f64148mela"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/libs/basetrf1/audit.htm#uqm2c0gaco"><span class="bold">audit</span></a> 子例程。</p>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/events.htm"><span class="bold">events</span></a> 文件。</p>
<a name="eb67f64241mela"></a>
<p id="eb67f64241mela">有关审计的一般信息，请参考<span class="italic">《AIX 5L V5.2 安全指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/security/auditing_overview.htm">『审计概述』</a>。</p>
<a name="eb67f64334mela"></a>
<p id="eb67f64334mela">要参阅您建立“审计系统”必须采取的步骤，请参考<span class="italic">《AIX 5L V5.2 安全指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/security/setting_up_auditing.htm">『建立审计』</a>。</p>
<a name="eb67f64428mela"></a>
<p id="eb67f64428mela">有关用户的标识和认证，任意访问控制、可信计算基以及审计的更多信息，请参考<span class="italic">《AIX 5L V5.2 安全指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/security/security_admin.htm#standalone_sys_security_part">『单机系统安全性』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="auditpr.htm#Top_Of_Page">页的顶部</a> | <a href="auditmerge.htm">上一页</a> | <a href="auditselect.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
