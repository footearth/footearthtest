<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - alog 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="alog 命令, 创建和维护, 日志文件" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="alog.htm#Bot_Of_Page">页的底部</a> | <a href="alias.htm">上一页</a> | <a href="alstat.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="e021ca5405jani"></a>
<h2 id="e021ca5405jani">alog 命令</h2>
<p><a id="idx83" name="idx83"></a> <a id="idx84" name="idx84"></a></p>
<a name="e021ca5482jani"></a>
<h3 id="e021ca5482jani">用途</h3>
<a name="e108637032joyc"></a>
<p id="e108637032joyc">创建并维护创建自标准输入的固定大小的日志文件。</p>
<a name="e021ca5563jani"></a>
<h3 id="e021ca5563jani">语法</h3>
<a name="wq120"></a>
<h4 id="wq120">要显示日志文件的内容</h4>
<p><span class="bold">alog</span>  <a href="alog.htm#e108638086joyc"><span class="bold">-f</span></a> <span class="italic">LogFile</span> [  <a href="alog.htm#e108638216joyc"><span class="bold">-o</span></a> ]</p>
<a name="wq121"></a>
<h4 id="wq121">要将数据记录到指定日志文件</h4>
<a name="e108637228joyc"></a>
<p id="e108637228joyc"><span class="bold">alog</span>  <a href="alog.htm#e108638086joyc"><span class="bold">-f</span></a> <span class="italic">LogFile</span> | [ [  <a href="alog.htm#e108638256joyc"><span class="bold">-q</span></a> ] [  <a href="alog.htm#e108638295joyc"><span class="bold">-s</span></a> <span class="italic">Size</span> ] ]</p>
<a name="wq122"></a>
<h4 id="wq122">要显示指定日志类型的冗余值</h4>
<p><span class="bold">alog</span>  <a href="alog.htm#e108638362joyc"><span class="bold">-t</span></a> <span class="italic">LogType</span>  <a href="alog.htm#e108638458joyc"><span class="bold">-V</span></a></p>
<a name="wq123"></a>
<h4 id="wq123">要更改指定日志类型的属性</h4>
<p><span class="bold">alog</span>  <a href="alog.htm#e108637991joyc"><span class="bold">-C</span></a>  <a href="alog.htm#e108638362joyc"><span class="bold">-t</span></a> <span class="italic">LogType</span> [  <a href="alog.htm#e108638086joyc"><span class="bold">-f</span></a><span class="italic"> LogFile</span> ] [  <a href="alog.htm#e108638295joyc"><span class="bold">-s</span></a> <span class="italic">Size</span> ] [  <a href="alog.htm#e108638525joyc"><span class="bold">-w</span></a> <span class="italic">Verbosity</span> ]</p>
<a name="wq124"></a>
<h4 id="wq124">要显示指定日志类型的当前属性</h4>
<p><span class="bold">alog</span>  <a href="alog.htm#e108638125joyc"><span class="bold">-L</span></a> [  <a href="alog.htm#e108638362joyc"><span class="bold">-t</span></a> <span class="italic">LogType</span> ]</p>
<a name="e108637704joyc"></a>
<h3 id="e108637704joyc">描述</h3>
<a name="e108637742joyc"></a>
<p id="e108637742joyc"><span class="bold">alog</span> 命令读取标准输入，并写至标准输出，然后将输出复制到固定大小的文件。此文件当作是一个循环的日志。如果此文件满了，新的条目覆盖最旧的现有条目。</p>
<a name="e108637803joyc"></a>
<p id="e108637803joyc"><span class="bold">alog</span> 命令处理在命令行指定的日志文件或在 alog 配置数据库中定义的日志。在 alog 配置数据库中定义的日志由 <span class="italic">LogType</span> 标识。每个定义的 <span class="italic">LogType</span> 的 <span class="bold">File</span>、<span class="bold">Size</span> 和 <span class="bold">Verbosity</span> 属性保存在 <span class="italic">LogType</span> 的 alog 配置数据库中。可以使用 <span class="bold">odmadd</span> 命令将一个新的 <span class="italic">LogType</span> 添加到 alog 配置数据库。可以使用 <span class="bold">alog</span> 命令更改在 alog 配置数据库中定义的 <span class="italic">LogType</span> 的属性。</p>
<a name="e021ca6985jani"></a>
<h3 id="e021ca6985jani">标志</h3>
<p></p>
<a name="wq125"></a>
<table id="wq125" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="e108637991joyc" name="e108637991joyc"></a><span class="bold">-C</span><span class="italic"></span></td>
<td width="80%">更改指定 <span class="italic">LogType</span> 的属性。请将 <span class="bold">-C</span> 标志与 <span class="bold">-f</span>、<span class="bold">-s</span> 和 <span class="bold">-w</span> 标志一起使用来更改指定 <span class="italic">LogType</span> 的 <span class="bold">File</span>、<span class="bold">Size</span> 和 <span class="bold">Verbosity</span> 属性。<span class="bold">-t</span><span class="italic"> LogType</span> 标志是必需的。
<a name="e021ca7111jani"></a>
<p id="e021ca7111jani">如果使用 <span class="bold">-C</span> 标志，<span class="bold">alog</span> 命令不会将标准输入复制到标准输出或一个日志文件中。</p> 
<a name="e021ca7178jani"></a>
<p id="e021ca7178jani">当使用 <span class="bold">-C</span> 标志来修改控制台日志类型的属性时，控制台日志文件也将得到修改，且控制台设备驱动程序将更新以使用新的值。这是 <span class="bold">alog -C</span> 的常规操作的一种背离，用于适应控制台日志文件中的特殊格式。</p> 
<p></p><blockquote><span class="bold">注：</span>您必须具有 root 用户权限才能更改 <span class="bold">alog</span> 属性。</blockquote></td>
</tr>
<tr>
<td>
<a id="e108638086joyc" name="e108638086joyc"></a><span class="bold">-f&nbsp;</span><span class="italic">LogFile</span></td>
<td>  指定日志文件的名称。如果指定的 <span class="italic">LogFile</span> 不存在，则创建一个。如果 <span class="bold">alog</span> 命令不能写至 <span class="italic">LogFile</span>，则它写至 <span class="bold">/dev/null</span>。请将 <span class="bold">-f</span><span class="italic"> LogFile</span> 标志与 <span class="bold">-C</span> 和 <span class="bold">-t</span> 标志一起使用来更改在 alog 配置数据库中定义的 <span class="italic">LogType</span> 的 <span class="bold">File</span> 属性。</td>
</tr>
<tr>
<td>
<a id="e108638125joyc" name="e108638125joyc"></a><span class="bold">-L</span><span class="italic"></span></td>
<td>  列出当前在 alog 配置数据库中定义的日志类型。如果将 <span class="bold">-L</span> 标志和 <span class="bold">-t</span><span class="italic">LogType</span> 标志一起使用，则列出指定 <span class="italic">LogType</span> 的属性。<span class="bold">File</span>、<span class="bold">Size</span> 和 <span class="bold">Verbosity</span> 的当前属性以用冒号隔开的值列出：
<p></p>
<a name="e021ca7369jani"></a>
<pre id="e021ca7369jani" class="xmp">&lt;File&gt;:&lt;Size&gt;:&lt;Verbosity&gt;</pre> 
<a name="e021ca7439jani"></a>
<p id="e021ca7439jani">如果使用 <span class="bold">-L</span> 标志，则 <span class="bold">alog</span>
命令不会将标准输入复制到标准输出或<span class="bold">文件</span>。</p></td>
</tr>
<tr>
<td>
<a id="e108638216joyc" name="e108638216joyc"></a><span class="bold">-o</span></td>
<td>  列出 <span class="italic">LogFile</span> 的内容。将 <span class="italic">LogFile</span> 的内容按顺序写至标准输出。</td>
</tr>
<tr>
<td>
<a id="e108638256joyc" name="e108638256joyc"></a><span class="bold">-q</span></td>
<td>  将标准输入写至 <span class="italic">LogFile</span>，但不写至标准输出。</td>
</tr>
<tr>
<td>
<a id="e108638295joyc" name="e108638295joyc"></a><span class="bold">-s</span><span class="italic"> Size</span></td>
<td>  指定以字节为单位的 <span class="italic">LogFile</span> 大小限制。当创建 <span class="italic">LogFile</span> 时，保留其空间。如果创建一个新的 <span class="italic">LogFile</span> 且不指定 <span class="bold">Size</span> 属性，则使用最小的 <span class="italic">LogFile</span>
大小，4096 字节。如果 <span class="italic">LogFile</span> 已经存在，它的大小将更改。您指定的大小会变大，成为下一个 4096 整数倍字节。如果您减少 <span class="italic">LogFile</span> 的大小，则假如日志中最旧的条目不能适合新大小限制，则删除它们。要更改 <span class="italic">LogFile</span> 的大小，您必须具有对它进行写操作的许可。
<a name="e021ca7686jani"></a>
<p id="e021ca7686jani">请将 <span class="bold">-s</span> <span class="italic">Size</span> 标志与 <span class="bold">-C</span> 和 <span class="bold">-t</span> 标志一起使用来更改在 alog 配置数据库中定义的 <span class="italic">LogType</span> 的 <span class="bold">Size</span> 属性。在下一次创建 <span class="italic">LogFile</span> 时就使用新的 <span class="bold">Size</span> 属性值。</p></td>
</tr>
<tr>
<td>
<a id="e108638362joyc" name="e108638362joyc"></a><span class="bold">-t</span><span class="italic"> LogType</span></td>
<td>  标识在 alog 配置数据库中定义的日志。<span class="bold">alog</span> 命令从 alog 配置数据库中获取日志的文件名称和大小。如果 <span class="italic">LogFile</span> 不存在，则创建一个。
<a name="e021ca7823jani"></a>
<p id="e021ca7823jani">如果 <span class="bold">alog</span>
命令不能从 alog 配置数据库中获取指定 <span class="italic">LogType</span> 的信息或 <span class="bold">alog</span> 命令不能写至 <span class="italic">LogFile</span>，则它写至 <span class="bold">/dev/null</span>。</p> 
<a name="e021ca7893jani"></a>
<p id="e021ca7893jani">如果使用 <span class="bold">-f</span> 标志指定 <span class="italic">LogType</span> 和 <span class="italic">LogFile</span>，则只有 <span class="italic">LogFile</span> 有用而忽略 <span class="italic">LogType</span>。</p></td>
</tr>
<tr>
<td>
<a id="e108638458joyc" name="e108638458joyc"></a><span class="bold">-V</span><span class="italic"></span></td>
<td>  将在 alog 配置数据库中定义的 <span class="italic">LogType</span> 的 <span class="bold">Verbosity</span> 属性的当前值写至标准输出。如果不指定 <span class="italic">LogType</span>，或您指定的 <span class="italic">LogType</span> 未定义，则没有值写至标准输出。
<a name="e021ca8019jani"></a>
<p id="e021ca8019jani">使用带有 <span class="bold">-t</span><span class="italic"> LogType</span> 和 <span class="bold">-V</span> 标志的 <span class="bold">alog</span> 命令的值输出可以由将其输出传送到 <span class="bold">alog</span> 命令以控制由它写至管道的数据的详细程度的命令使用。</p></td>
</tr>
<tr>
<td>
<a id="e108638525joyc" name="e108638525joyc"></a><span class="bold">-w</span><span class="italic"> Verbosity</span></td>
<td>  当与 <span class="bold">-C</span> 和 <span class="bold">-t</span> 标志一起使用时，将更改在 alog 配置数据库中定义的 <span class="italic">LogType</span> 的 <span class="bold">Verbosity</span> 属性。
<a name="e021ca8155jani"></a>
<p id="e021ca8155jani"><span class="bold">Verbosity</span> 属性可具有一个从 0 到 9 的值。如果值为 0，则 <span class="bold">alog</span> 命令不将任何信息复制到 <span class="italic">LogFile</span>。所有的信息依旧写至标准输出。如果值不为 0，则所有传送到 <span class="bold">alog</span> 命令的标准输入复制到 <span class="italic">LogFile</span> 和标准输出。</p></td>
</tr>
</tbody>
</table>
<a name="e021ca8218jani"></a>
<h3 id="e021ca8218jani">示例</h3>
<ol type="1">
<li><a name="e021ca8303jani"></a><span id="e021ca8303jani" class="pk"></span>要记录名为 <tt>sample.log</tt> 的日志文件中的当前日期和时间，请输入：
<p></p>
<a name="e021ca8369jani"></a>
<pre id="e021ca8369jani" class="xmp">date | alog -f /tmp/sample.log</pre></li>
<li><a name="e021ca8439jani"></a><span id="e021ca8439jani" class="pk"></span>要列出 <tt>/tmp/sample.log</tt> 日志文件的内容，请输入：
<p></p>
<a name="e021ca8514jani"></a>
<pre id="e021ca8514jani" class="xmp">alog -f /tmp/sample.log -o</pre></li>
<li><a name="e021ca8576jani"></a><span id="e021ca8576jani" class="pk"></span>要将名为 <tt>/tmp/sample.log</tt> 的日志文件的大小更改为 8192 字节，请输入：
<p></p>
<a name="e021ca8661jani"></a>
<pre id="e021ca8661jani" class="xmp">echo "resizing log file" | alog -f /tmp/sample.log -s 8192</pre></li>
<li><a name="e021ca8728jani"></a><span id="e021ca8728jani" class="pk"></span>要将新的日志类型 <tt>sample</tt> 添加至 alog 配置数据库，请以下列格式创建 <tt>alog.add</tt> 文件：
<p></p>
<a name="e021ca8807jani"></a>
<pre id="e021ca8807jani" class="xmp">SWservAt:
    attribute="alog_type"
    deflt="sample"
    value="sample"
 </pre><p class="indatacontent"> </p>
<a name="a156fa17069mart"></a>
<pre id="a156fa17069mart" class="xmp">SWservAt:
    attribute="sample_logname"
    deflt="/tmp/sample.log"
    value="/tmp/sample.log"
 </pre><p class="indatacontent"> </p>
<a name="a156fa17108mart"></a>
<pre id="a156fa17108mart" class="xmp">SWservAt:
    attribute="sample_logsize"
    deflt="4096"
    value="4096"
 </pre><p class="indatacontent"> </p>
<a name="a156fa17148mart"></a>
<pre id="a156fa17148mart" class="xmp">SWservAt:
    attribute="sample_logverb"
    deflt="1"
    value="1"</pre> 
<a name="e021ca8877jani"></a>
<p id="e021ca8877jani">在创建了 <tt>alog.add</tt> 文件后，请输入：</p> 
<p></p>
<a name="e021ca8950jani"></a>
<pre id="e021ca8950jani" class="xmp">odmadd alog.add</pre> 
<a name="e021ca9017jani"></a>
<p id="e021ca9017jani">这将 <tt>alog.add</tt> 文件添加至 <tt>SWservAt</tt> 数据库。</p></li>
<li><a name="e021ca9094jani"></a><span id="e021ca9094jani" class="pk"></span>要在 alog 配置数据库中将日志类型 <tt>sample</tt> 的日志文件的名称更改为 <tt>/var/sample.log</tt>，请输入：
<p></p>
<a name="e021ca9169jani"></a>
<pre id="e021ca9169jani" class="xmp">alog -C -t sample -f /var/sample.log</pre></li></ol>
<a name="e021ca9424jani"></a>
<h3 id="e021ca9424jani">文件</h3>
<p></p>
<a name="wq127"></a>
<table id="wq127" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="36%">
<a id="e021ca9494jani" name="e021ca9494jani"></a><span class="bold">/etc/objrepos/SWservAt</span></td>
<td width="63%">  软件服务辅助属性对象类</td>
</tr>
</tbody>
</table>
<a name="e021ca9554jani"></a>
<h3 id="e021ca9554jani">相关信息</h3>
<a name="e108639137joyc"></a>
<p id="e108639137joyc"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds4/odmadd.htm#a26491517"><span class="bold">odmadd</span></a> 命令。</p>
<a name="e108639195joyc"></a>
<p id="e108639195joyc"><span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixprggd/genprogc/odm.htm#dp62d0prio">How to Add Objects to an Object
Class</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="alog.htm#Top_Of_Page">页的顶部</a> | <a href="alias.htm">上一页</a> | <a href="alstat.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
