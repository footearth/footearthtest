<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 1，a - c - acctcms 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="acctcms 命令, 命令使用摘要, 制作, 摘要, 记帐系统" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="acctcms.htm#Bot_Of_Page">页的底部</a> | <a href="accept.htm">上一页</a> | <a href="acctcom.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 1，a - c</h1></center>

<a name="dnl1290frit"></a>
<h2 id="dnl1290frit">acctcms 命令</h2>
<p><a id="idx4" name="idx4"></a> <a id="idx5" name="idx5"></a> <a id="idx6" name="idx6"></a></p>
<a name="a165915d3"></a>
<h3 id="a165915d3">用途</h3>
<a name="f9bffd1924mart"></a>
<p id="f9bffd1924mart">根据记帐记录产生命令使用摘要。</p>
<a name="d6e8d4c069jani"></a>
<h3 id="d6e8d4c069jani">语法</h3>
<a name="f9bffd2271mart"></a>
<p id="f9bffd2271mart"><span class="bold">/usr/sbin/acct/acctcms</span> [&nbsp; <a href="acctcms.htm#m4k10frit"><span class="bold">-t&nbsp;</span></a>|&nbsp; <a href="acctcms.htm#aqj1f0frit"><span class="bold">-a&nbsp;</span></a>[&nbsp; <a href="acctcms.htm#o2k250frit"><span class="bold">-o&nbsp;</span></a>]&nbsp;[&nbsp; <a href="acctcms.htm#o3k130frit"><span class="bold">-p&nbsp;</span></a>]&nbsp;] [  <a href="acctcms.htm#wqj250frit"><span class="bold">-c</span></a> ]
[  <a href="acctcms.htm#taj330frit"><span class="bold">-j</span></a> ] [  <a href="acctcms.htm#a4dk370frit"><span class="bold">-n</span></a> ] [  <a href="acctcms.htm#a54k10frit"><span class="bold">-s</span></a> ] [ <span class="italic">File</span> ... ]</p>
<a name="a165915d8"></a>
<h3 id="a165915d8">描述</h3>
<a name="f9bffd2540mart"></a>
<p id="f9bffd2540mart"><span class="bold">acctcms</span> 命令读取 <span class="italic">File</span> 参数指定的每个文件，添加并排序相同名称的进程的所有记录，且将记录写至标准输出。缺省情况下，输出文件是二进制格式。输入文件通常是 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/acct.htm#j23190clm"><span class="bold">acct</span></a> 文件格式。</p>
<a name="f9bffd2695mart"></a>
<p id="f9bffd2695mart">当您一起使用 <span class="bold">-o</span> 和 <span class="bold">-p</span> 标志时，<span class="bold">acctcms</span> 命令产生出一份结合高峰时间和非高峰时间的报告。高峰时间和非高峰时间由 <span class="bold">/etc/acct/holidays</span> 文件中的条目定义。高峰时间假定为系统最活跃的时期，比如工作日。周六和周日一直是记帐系统的非高峰时间，同样您在 <span class="bold">/etc/acct/holidays</span> 文件中指定的任何假期也是非高峰时间。除了分为高峰分钟和非高峰分钟的运行次数、CPU 分钟和实际分钟以外，所有输出摘要都是关于整个使用状况的。</p>
<a name="a165915db"></a>
<h3 id="a165915db">标志</h3>
<p></p>
<a name="wq13"></a>
<table id="wq13" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="aqj1f0frit" name="aqj1f0frit"></a><span class="bold">-a</span></td>
<td width="95%">  显示是 ASCII 摘要格式而非二进制摘要格式的输出。每个输出行包含命令名称、命令运行的次数、总 kcore 时间（以千字节段为单位的内存评估）、总 CPU 时间、总实际时间、平均内存大小（以千字节为单位）、每调用一次命令所花的平均 CPU 时间，以及 CPU 使用因子。所有列出的时间以分钟为单位。<span class="bold">acctcms</span> 命令通常按总 kcore 分钟将其输出排序。单元 kcore 分钟通过已用的内存量（以千字节为单位）乘以使用中的时间量求得。此标志不能和 <span class="bold">-t</span> 标志一起使用。
<p>请将以下选项仅和 -a 选项一起使用：</p>
<dl>
<dt class="bold">-o</dt>
<dd>显示非高峰时间命令的命令摘要。
</dd>
<dt class="bold">-p</dt>
<dd>显示高峰时间命令的命令摘要。
</dd>
</dl><p class="indatacontent">当您一起使用 <span class="bold">-o</span> 和 <span class="bold">-p</span> 标志时，<span class="bold">acctcms</span> 命令产生一份结合高峰时间和非高峰时间的报告。高峰时间和非高峰时间由 <span class="bold">/etc/acct/holidays</span> 文件中的条目定义。高峰时间假定为系统最活跃的时期，比如工作日。周六和周日一直是记帐系统的非高峰时间，同样您在 <span class="bold">/etc/acct/holidays</span> 文件中指定的任何假期也是非高峰时间。除了分为高峰和非高峰分钟的运行次数、CPU 分钟和实际分钟以外，所有输出摘要是关于整个使用状况的。</p>
<a name="a30191a93"></a>
<p id="a30191a93">缺省项在输出中具有以下报头：</p> 
<p></p>
<a name="a30191a94"></a>
<pre id="a30191a94" class="xmp">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TOTAL COMMAND SUMMARY
 
 
COMMAND&nbsp;&nbsp;NUMBER&nbsp;&nbsp;TOTAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TOTAL&nbsp;&nbsp;&nbsp;&nbsp;TOTAL&nbsp;&nbsp;&nbsp;&nbsp;
NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CMDS&nbsp;&nbsp;&nbsp;&nbsp;KCOREMIN&nbsp;&nbsp;CPU-MIN&nbsp;&nbsp;REAL-MIN&nbsp;
 
 
MEAN&nbsp;&nbsp;&nbsp;&nbsp;MEAN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HOG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CHARS&nbsp;&nbsp;&nbsp;BLOCKS
SIZE-K&nbsp;&nbsp;CPU-MIN&nbsp;&nbsp;FACTOR&nbsp;&nbsp;TRNSFD&nbsp;&nbsp;READ</pre></td>
</tr>
<tr>
<td>
<a id="wqj250frit" name="wqj250frit"></a><span class="bold">-c</span></td>
<td>  按 CPU 时间而非总 kcore 分钟来排序。当此标志和 <span class="bold">-n</span> 标志一起使用时，只有 <span class="bold">-n</span> 标志生效。</td>
</tr>
<tr>
<td>
<a id="taj330frit" name="taj330frit"></a><span class="bold">-j</span></td>
<td>  结合所有在报头 <tt>other</tt> 下仅被调用过一次的命令。</td>
</tr>
<tr>
<td>
<a id="a4dk370frit" name="a4dk370frit"></a><span class="bold">-n</span></td>
<td>  按调用命令的次数排序。当此标志和 <span class="bold">-c</span> 标志一起使用时，只有 <span class="bold">-n</span> 标志生效。</td>
</tr>
<tr>
<td>
<a id="o2k250frit" name="o2k250frit"></a><span class="bold">-o</span></td>
<td>  显示非高峰时间命令的命令摘要。仅当使用了 <span class="bold">-a</span> 标志时，才可以使用此标志。</td>
</tr>
<tr>
<td>
<a id="o3k130frit" name="o3k130frit"></a><span class="bold">-p</span></td>
<td>  显示高峰时间命令的命令摘要。仅当使用了 <span class="bold">-a</span> 标志时，才可以使用此标志。</td>
</tr>
<tr>
<td>
<a id="a54k10frit" name="a54k10frit"></a><span class="bold">-s</span></td>
<td>  假定任何跟在此标志后的指定的文件已是二进制格式。</td>
</tr>
<tr>
<td>
<a id="m4k10frit" name="m4k10frit"></a><span class="bold">-t</span></td>
<td>  将所有记录作为总记帐记录处理。缺省二进制格式将每个字段分割为高峰时间和非高峰时间两部分。此选项将高峰时间和非高峰时间两部分组合成单个的字段（即两部分的总和），并且提供了与旧样式 acctcms 二进制摘要格式记录的向上兼容性。此标志不能和 <span class="bold">-a</span> 标志一起使用。</td>
</tr>
</tbody>
</table>
<a name="a71f0af"></a>
<h3 id="a71f0af">安全性</h3>
<a name="f9bffd3775mart"></a>
<p id="f9bffd3775mart">访问控制：此命令应仅向 <span class="bold">adm</span> 组的成员授予执行（x）访问权。</p>
<a name="a165915dc"></a>
<h3 id="a165915dc">示例</h3>
<a name="f9bffd3984mart"></a>
<p id="f9bffd3984mart">要在 <tt>today</tt> 文件中收集日常命令记帐记录并在 <tt>total</tt> 文件中保留运行总数，请在 shell 脚本添加以下内容：</p>
<p></p>
<a name="a165915de"></a>
<pre id="a165915de" class="xmp">acctcms&nbsp;File&nbsp;.&nbsp;.&nbsp;.&nbsp;&gt;&nbsp;today
cp&nbsp;total&nbsp;previoustotal
acctcms&nbsp;-s&nbsp;today&nbsp;previoustotal&nbsp;&gt;&nbsp;total
acctcms&nbsp;-a&nbsp;-s&nbsp;total</pre>
<a name="f9bffd4206mart"></a>
<p id="f9bffd4206mart">您指定的 <span class="italic">File</span> 参数重定向至名为 <tt>today</tt> 的文件，并添加到先前总和（在重命名为 <tt>previoustotal</tt> 文件中）以产生新的总和（名为 <tt>total</tt>）。所有的文件都是二进制文件。在最后一行中，<span class="bold">-a</span> 标志显示了 ASCII 格式的 <tt>total</tt> 文件，这样您就可以查看报告。</p>
<a name="a165915e2"></a>
<h3 id="a165915e2">文件</h3>
<p></p>
<a name="wq14"></a>
<table id="wq14" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="36%">
<a id="d6e8d4d795jani" name="d6e8d4d795jani"></a><span class="bold">/etc/acct/holidays</span></td>
<td width="63%">  指定记帐记录的高峰时间和非高峰时间。</td>
</tr>
<tr>
<td>
<a id="a165915e3" name="a165915e3"></a><span class="bold">/usr/sbin/acct/acctcms</span></td>
<td>  包含 <span class="bold">acctcms</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a165915e5"></a>
<h3 id="a165915e5">相关信息</h3>
<a name="f9bffd4981mart"></a>
<p id="f9bffd4981mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds3/lastcomm.htm#a2899411"><span class="bold">lastcomm</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/cmds/aixcmds4/runacct.htm#a10991b49"><span class="bold">runacct</span></a> 命令。</p>
<a name="f9bffd5129mart"></a>
<p id="f9bffd5129mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/acct.htm#j23190clm"><span class="bold">acct</span></a> 文件格式、<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/files/aixfiles/utmp.htm#a3039269f"><span class="bold">utmp</span>、<span class="bold">wtmp</span>、<span class="bold">failedlogin</span></a> 文件格式。</p>
<a name="f9bffd5272mart"></a>
<p id="f9bffd5272mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/libs/basetrf1/acct.htm#a087914aa"><span class="bold">acct</span></a> 子例程。</p>
<a name="f9bffd5422mart"></a>
<p id="f9bffd5422mart">想要了解更多关于“记账系统”、日报表和月报表的准备以及记账文件的信息，请参阅 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/admnconc/acct_overview.htm#a346f9497">Accounting Overview</a>。</p>
<a name="a26fba4e915janb"></a>
<p id="a26fba4e915janb"><span class="italic">《AIX 5L V5.2 系统管理指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/baseadmn/sys_acctg.htm#a290915">『建立一个记帐系统』</a>描述了您建立一个记帐系统时须采取
的步骤。</p>
<a name="f9bffd5720mart"></a>
<p id="f9bffd5720mart"><span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/admnconc/acct_overview.htm#a256b95f0">Accounting Commands</a>。</p>
<a name="f9bffd5873mart"></a>
<p id="f9bffd5873mart"><span class="italic">《AIX 5L V5.2 性能管理指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds1/zh_CN/aixbman/prftungd/2365ax1.htm">『性能监视、调整命令和子例程』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="acctcms.htm#Top_Of_Page">页的顶部</a> | <a href="accept.htm">上一页</a> | <a href="acctcom.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds102.htm#wq1687">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
