<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 6，v - z - who 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="" />
<meta name="keywords" content="who 命令, who, 命令, 用 who 命令, 识别那些登录的,
用户, 识别, 已登录，用户" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="who.htm#Bot_Of_Page">页的底部</a> | <a href="which_fileset.htm">上一页</a> | <a href="whoami.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds602.htm#wq704">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 6，v - z</h1></center>

<a name="karen7"></a>
<h2 id="karen7">who 命令</h2>
<p><a id="idx79" name="idx79"></a><a id="idx80" name="idx80"></a></p>
<a name="a3c15a2b165endr"></a>
<h3 id="a3c15a2b165endr">用途</h3>
<a name="a3b27eed574endr"></a>
<p id="a3b27eed574endr">识别当前登录的用户。<a id="idx81" name="idx81"></a><a id="idx82" name="idx82"></a></p>
<a name="a3c15a2b208endr"></a>
<h3 id="a3c15a2b208endr">语法</h3>
<p><span class="bold">who</span> [  <a href="who.htm#a3b27eee584endr"><span class="bold">-a</span></a> |<span class="bold">&nbsp;</span> <a href="who.htm#a3b27eee654endr"><span class="bold">-b</span></a>  <a href="who.htm#a3b27eee725endr"><span class="bold">-d</span></a>  <a href="who.htm#a3b27eef286endr"><span class="bold">-i</span></a>  <a href="who.htm#a3b27eee791endr"><span class="bold">-l</span></a>  <a href="who.htm#a3b27eee862endr"><span class="bold">-m</span></a>  <a href="who.htm#a3b27eee932endr"><span class="bold">-p</span></a>  <a href="who.htm#a3b27eef000endr"><span class="bold">-q</span></a>  <a href="who.htm#a3b27eef077endr"><span class="bold">-r</span></a>  <a href="who.htm#a3b27eef146endr"><span class="bold">-s</span></a>  <a href="who.htm#a3b27eef218endr"><span class="bold">-t</span></a>  <a href="who.htm#a3b27eef286endr"><span class="bold">-u&nbsp;</span></a> <a href="who.htm#a3b27eef492endr"><span class="bold">-w</span></a>  <a href="who.htm#a3b27eef356endr"><span class="bold">-A</span></a>  <a href="who.htm#a3b27eef423endr"><span class="bold">-H</span></a>  <a href="who.htm#a3b27eef492endr"><span class="bold">-T&nbsp;</span></a>]
[&nbsp;<span class="italic">File&nbsp;</span>]</p>
<p><span class="bold">who&nbsp;am&nbsp;</span>{&nbsp;<span class="bold">i&nbsp;</span>|&nbsp;<span class="bold">I&nbsp;</span>}</p>
<a name="a3c15a2b430endr"></a>
<h3 id="a3c15a2b430endr">描述</h3>
<a name="a3b27eed787endr"></a>
<p id="a3b27eed787endr"><span class="bold">who</span> 命令显示关于
当前在本地系统上的所有用户的信息。显示以下内容：
登录名、tty、登录日期和时间。输入 <tt>who am i</tt> 或 <tt>who am I</tt> 显示您的
登录名、tty、您登录的日期和时间。如果用户是从一个远程机器
登录的，那么该机器的主机名也会被显示出来。</p>
<a name="a3b27eed833endr"></a>
<p id="a3b27eed833endr"><span class="bold">who</span> 命令也能显示自从线路活动发生以来经过的时间、命令解释器（shell）的进程标识、登录、注销、重新启动和系统时钟的变化，还能显示由初始化进程生成的其它进程。</p>
<a name="a3b27eed876endr"></a>
<p id="a3b27eed876endr"><span class="bold">who</span> 命令的一般输出格式如下：</p>
<p></p>
<a name="a0729770"></a>
<pre id="a0729770" class="xmp">名称 [状态] 线路 时间 [活动] [进程标识] [出口]&nbsp;（主机名）</pre>
<a name="a0729771"></a>
<p id="a0729771">其中：</p>
<a name="wq272"></a>
<table id="wq272" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="a3c15a2b696endr" name="a3c15a2b696endr"></a><tt>名称</tt></td>
<td width="86%">  标识用户的登录名。</td>
</tr>
<tr>
<td>
<a id="a3c15a2b867endr" name="a3c15a2b867endr"></a><tt>状态</tt></td>
<td>  表明线路是否对每个用户都是可写的(请参阅 <a href="who.htm#a3b27eef492endr"><span class="bold">-T</span></a> 标志)。</td>
</tr>
<tr>
<td>
<a id="a3c15a2b971endr" name="a3c15a2b971endr"></a><tt>线路</tt></td>
<td>  标识为在 <span class="bold">/dev</span> 目录中查找到线路名。</td>
</tr>
<tr>
<td>
<a id="a3c15a2c105endr" name="a3c15a2c105endr"></a><tt>时间</tt></td>
<td>  表示用户登录的时间。</td>
</tr>
<tr>
<td>
<a id="a3c15a2c192endr" name="a3c15a2c192endr"></a><tt>活动</tt></td>
<td>  表示自从在那个用户线路上的最后一个活动发生以来的小时和分钟数。这里的一个 .（点）表明在上一分钟里的线路活动。如果线路保持静止已经超过 24 小时或自从最近系统启动以来还没有被使用，项就被标记为旧的。</td>
</tr>
<tr>
<td>
<a id="a3c15a2c308endr" name="a3c15a2c308endr"></a><tt>Pid</tt></td>
<td>  标识用户登录 shell 的进程标识。</td>
</tr>
<tr>
<td>
<a id="a3c15a2c483endr" name="a3c15a2c483endr"></a><tt>项</tt></td>
<td>  标识进程终止状态（请参阅 <a href="who.htm#a3b27eee725endr"><span class="bold">-d</span></a> 标志）。要得到关于终止值的更多信息，
请参考 <a href="http://study.chyangwa.com/IT/AIX/aixcmds6/libs/basetrf2/wait_waitpid_wait3_wait364.htm"><span class="bold">wait</span></a> 子例程
或 <span class="bold">/usr/include/sys/signal.h</span> 文件。</td>
</tr>
<tr>
<td>
<a id="a3c15a2c676endr" name="a3c15a2c676endr"></a><tt>出口</tt></td>
<td>  标识已结束进程的退出状态（请参阅 <a href="who.htm#a3b27eee725endr"><span class="bold">-d</span></a> 标志）。</td>
</tr>
<tr>
<td>
<a id="a3c15a2c792endr" name="a3c15a2c792endr"></a><tt>主机名</tt></td>
<td>  指出用户从其进行登录的机器名。</td>
</tr>
</tbody>
</table>
<a name="a3b27eee293endr"></a>
<p id="a3b27eee293endr">要获取信息，<span class="bold">who</span>
命令通常检查 <a href="http://study.chyangwa.com/IT/AIX/aixcmds6/files/aixfiles/utmp.htm#a3039269f"><span class="bold">/etc/utmp</span></a> 文件。如果用 <span class="italic">File</span> 参数指定另一个文件，<span class="bold">who</span> 命令改为
检查那个文件。这个新文件通常是 <a href="http://study.chyangwa.com/IT/AIX/aixcmds6/files/aixfiles/utmp.htm#a3039269f"><span class="bold">/var/adm/wtmp</span></a> 或 <a href="http://study.chyangwa.com/IT/AIX/aixcmds6/files/aixfiles/utmp.htm#a3039269f"><span class="bold">/etc/security/failedlogin</span></a> 文件。</p>
<a name="a3b27eee337endr"></a>
<p id="a3b27eee337endr">如果 <span class="italic">File</span> 参数
指定了不止一个文件名，则只会使用最后的文件名。</p>
<a name="wq273"></a>
<div class="notetitle" id="wq273">注:</div>
<div class="notebody"><a name="a072977b"></a><span id="a072977b" class="pk"></span>这个命令仅标识在
本地节点上的用户。</div>
<a name="a3c15a2c935endr"></a>
<h3 id="a3c15a2c935endr">标志</h3>
<p></p>
<a name="wq274"></a>
<table id="wq274" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="a3b27eee584endr" name="a3b27eee584endr"></a><span class="bold">-a</span></td>
<td width="86%">  处理 <a href="http://study.chyangwa.com/IT/AIX/aixcmds6/files/aixfiles/utmp.htm#a3039269f"><span class="bold">/etc/utmp</span></a> 文件或有全部信息的指定文件。等同于指定 <span class="bold">-bdlprtTu</span> 标志。</td>
</tr>
<tr>
<td>
<a id="a3b27eee654endr" name="a3b27eee654endr"></a><span class="bold">-b</span></td>
<td>  指出最近系统启动的时间和日期。</td>
</tr>
<tr>
<td>
<a id="a3b27eee725endr" name="a3b27eee725endr"></a><span class="bold">-d</span></td>
<td>  显示没有被 init 重新生成的所有到期的进程。退出字段用于显示死进程并包含死进程的终止和退出值(由 wait 进程返回的)。（这个标志用于通过察看应用程序返回的错误号来确定一个进程的结束原因。）</td>
</tr>
<tr>
<td>
<a id="a3b27eee791endr" name="a3b27eee791endr"></a><span class="bold">-l</span></td>
<td>  列出任何登录进程。</td>
</tr>
<tr>
<td>
<a id="a3b27eee862endr" name="a3b27eee862endr"></a><span class="bold">-m</span></td>
<td>  仅显示关于当前终端的信息。<span class="bold">who -m</span> 命令等同于 <span class="bold">who am i</span> 和 <span class="bold">who am I</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a3b27eee932endr" name="a3b27eee932endr"></a><span class="bold">-p</span></td>
<td>  列出任何当前活动的和以前已由 init 生成的活动进程。</td>
</tr>
<tr>
<td>
<a id="a3b27eef000endr" name="a3b27eef000endr"></a><span class="bold">-q</span></td>
<td>  打印一份在本地系统上的用户和用户数的快速清单。</td>
</tr>
<tr>
<td>
<a id="a3b27eef077endr" name="a3b27eef077endr"></a><span class="bold">-r</span></td>
<td>  显示当前进程的运行级别。</td>
</tr>
<tr>
<td>
<a id="a3b27eef146endr" name="a3b27eef146endr"></a><span class="bold">-s</span></td>
<td>  仅列出名字、线路和时间字段。这个标志是缺省值；
因此，<span class="bold">who</span> 和 <span class="bold">who -s</span>
 命令是等效的。</td>
</tr>
<tr>
<td>
<a id="a3b27eef218endr" name="a3b27eef218endr"></a><span class="bold">-t</span></td>
<td>  显示 root 用户上一次用
 <span class="bold">date</span> 命令对系统时钟做的更改。如果 <span class="bold">date</span>
 命令自从系统安装以来还没有被运行过，<span class="bold"> who -t</span> 命令就不产生输出。</td>
</tr>
<tr>
<td>
<a id="a3b27eef286endr" name="a3b27eef286endr"></a><span class="bold">-u</span> 或 <span class="bold">-i</span></td>
<td>  显示每个当前用户的用户名、tty、登录时间、线路活动和进程标识。</td>
</tr>
<tr>
<td>
<a id="a3b27eef356endr" name="a3b27eef356endr"></a><span class="bold">-A</span></td>
<td>  显示在 <span class="bold">/etc/utmp</span> 文件中的所有记帐项。这些项是通过 <a href="http://study.chyangwa.com/IT/AIX/aixcmds6/cmds/aixcmds1/acctwtmp.htm#nqb8n1b1mart"><span class="bold">acctwtmp</span></a> 命令生成的。</td>
</tr>
<tr>
<td>
<a id="a3b27eef423endr" name="a3b27eef423endr"></a><span class="bold">-H</span></td>
<td>  显示一个头（标题）。</td>
</tr>
<tr>
<td>
<a id="a3b27eef492endr" name="a3b27eef492endr"></a><span class="bold">-T</span> 或 <span class="bold">-w</span></td>
<td>  显示 tty 的状态并如下显示谁能够对 tty 写入：
<dl>
<dt id="a3b27eef557endr" class="bold">
<a name="a3b27eef557endr"></a><span class="bold">+</span></dt>
<dd>  对任何人都可写。
</dd>
<dt id="a3b27eef627endr" class="bold">
<a name="a3b27eef627endr"></a><span class="bold">-</span></dt>
<dd>  仅对 root 用户或其所有者可写。
</dd>
<dt id="a3b27eef694endr" class="bold">
<a name="a3b27eef694endr"></a><span class="bold">?</span></dt>
<dd>  遇到线路故障。
</dd>
</dl></td>
</tr>
</tbody>
</table>
<a name="a3c15a2d271endr"></a>
<h3 id="a3c15a2d271endr">退出状态</h3>
<a name="a3b27eef792endr"></a>
<p id="a3b27eef792endr">这个命令返回以下退出值：</p>
<a name="wq275"></a>
<table id="wq275" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="c42bcf9120harr" name="c42bcf9120harr"></a><span class="bold">0</span></td>
<td width="95%">  成功完成。</td>
</tr>
<tr>
<td>
<a id="a3b27eef864endr" name="a3b27eef864endr"></a><span class="bold">&gt;0</span></td>
<td>  发生错误。</td>
</tr>
</tbody>
</table>
<a name="a3b27ef0097endr"></a>
<h3 id="a3b27ef0097endr">示例</h3>
<ol type="1">
<li><a name="ahn13639"></a><span id="ahn13639" class="pk"></span>要显示关于谁正在使用本地系统节点的信息，请输入：
<p></p>
<a name="ahn13640"></a>
<pre id="ahn13640" class="xmp">who</pre><p class="indatacontent"> 显示类似于以下内容的
信息：</p>
<a name="a17192476"></a>
<pre id="a17192476" class="xmp">joe lft/0 Jun 8 08:34</pre></li>
<li><a name="a072978f"></a><span id="a072978f" class="pk"></span>要显示您的用户名，请输入：
<p></p>
<a name="ahn13641"></a>
<pre id="ahn13641" class="xmp">who am i</pre><p class="indatacontent"> 显示类似于以下内容的
信息：</p>
<a name="a17192477"></a>
<pre id="a17192477" class="xmp">george lft/0 Jun 8 08:34</pre></li>
<li><a name="ahn13643"></a><span id="ahn13643" class="pk"></span>要显示登录、注销、系统启动
和系统关闭的历史记录，请输入：
<p></p>
<a name="ahn13644"></a>
<pre id="ahn13644" class="xmp">who /var/adm/wtmp</pre><p class="indatacontent"> 显示类似于以下内容的
信息：</p>
<a name="a17192479"></a>
<pre id="a17192479" class="xmp">hank&nbsp;&nbsp;&nbsp;lft/0&nbsp;&nbsp;&nbsp;Jun&nbsp;&nbsp;&nbsp;8&nbsp;&nbsp;&nbsp;08:34&nbsp;&nbsp;(ausnix5)
john&nbsp;&nbsp;&nbsp;lft/0&nbsp;&nbsp;&nbsp;Jun&nbsp;&nbsp;&nbsp;8&nbsp;&nbsp;&nbsp;08:34&nbsp;&nbsp;(JIKey)
mary&nbsp;&nbsp;&nbsp;lft/0&nbsp;&nbsp;&nbsp;Jun&nbsp;&nbsp;&nbsp;8&nbsp;&nbsp;&nbsp;08:22&nbsp;&nbsp;(machine.austin.ibm)
jan&nbsp;&nbsp;&nbsp;&nbsp;pts4&nbsp;&nbsp;&nbsp;&nbsp;Jun&nbsp;&nbsp;&nbsp;8&nbsp;&nbsp;&nbsp;09:19&nbsp;&nbsp;(puff.wisc.edu)</pre></li>
<li><a name="a1719247e"></a><span id="a1719247e" class="pk"></span>要显示本地系统节点的运行级别，请输入：
<a id="a1719247f" name="a1719247f"></a>
<div class="lines"><tt>who&nbsp;&nbsp;<a href="who.htm#a3b27eef077endr">-r</a></tt><br />
</div> 显示类似于以下内容的
信息：
<p></p>
<a name="a17192481"></a>
<pre id="a17192481" class="xmp">. run-level 2 Jun 8 04:15 2 0 s</pre></li>
<li><a name="a17192482"></a><span id="a17192482" class="pk"></span>要显示任何当前活动的和以前已
由 init 生成的活动进程，请输入：
<a id="a17192483" name="a17192483"></a>
<div class="lines"><tt>who&nbsp;&nbsp;<a href="who.htm#a3b27eee932endr">-p</a></tt><br />
</div> 显示类似于以下内容的
信息：
<p></p>
<a name="a072975f"></a>
<pre id="a072975f" class="xmp">srcmstr&nbsp;&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;Jun&nbsp;8&nbsp;&nbsp;04:15&nbsp;&nbsp;old&nbsp;&nbsp;2896
cron&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;Jun&nbsp;8&nbsp;&nbsp;04:15&nbsp;&nbsp;old&nbsp;&nbsp;4809
uprintfd&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;Jun&nbsp;8&nbsp;&nbsp;04:15&nbsp;&nbsp;old&nbsp;&nbsp;5158</pre></li>
<li><a name="a219c1673"></a><span id="a219c1673" class="pk"></span>要通过指定 <span class="bold">-bdlprtTu</span> 标志来处理 <span class="bold">/var/adm/wtmp</span> 文件，请输入：
<a id="a219c1674" name="a219c1674"></a>
<div class="lines"><tt>who&nbsp; <a href="who.htm#a3b27eee584endr">-a&nbsp;</a>/var/adm/wtmp</tt><br />
</div> 显示类似于以下内容的
信息：
<p></p>
<a name="a219c1676"></a>
<pre id="a219c1676" class="xmp">
   .        system boot Jun 19 10:13
   .        run-level 2 Jun 19 10:13        
   .            .       Jun 19 10:14    old 
   .            .       Jun 19 10:14    old 
   .            .       Jun 19 10:14    old 
rc        -     .       Jun 19 10:13    old 
   .            .       Jun 19 10:16    old 
   .            .       Jun 19 10:14    old 
srcmstr   -     .       Jun 19 10:14    old 
rctcpip   -     .       Jun 19 10:14    old 
rcdce     -     .       Jun 19 10:14    old 
rccm      -     .       Jun 19 10:15    old 
dceupdt   -     .       Jun 19 10:15    old 
rcnfs     -     .       Jun 19 10:15    old 
cron      -     .       Jun 19 10:16    old 
piobe     -     .       Jun 19 10:16    old 
qdaemon   -     .       Jun 19 10:16    old 
writesrv  -     .       Jun 19 10:16    old 
uprintfd  -     .       Jun 19 10:16    old 
   .            .       Jun 19 10:16    old 
LOGIN     - lft0        Jun 19 10:16    old 
   .            .       Jun 19 10:16    old 
   .            .       Jun 19 10:16    old </pre></li></ol>
<a name="a3b27ef0954endr"></a>
<h3 id="a3b27ef0954endr">文件</h3>
<p></p>
<a name="wq277"></a>
<table id="wq277" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="36%"><a href="http://study.chyangwa.com/IT/AIX/aixcmds6/files/aixfiles/utmp.htm#a3039269f"><span class="bold">/etc/utmp</span></a></td>
<td width="63%">  包含用户和记帐信息。</td>
</tr>
<tr>
<td><a href="http://study.chyangwa.com/IT/AIX/aixcmds6/files/aixfiles/utmp.htm#a3039269f"><span class="bold">/etc/security/failedlogin</span></a></td>
<td>  包含所有无效登录的历史记录。</td>
</tr>
<tr>
<td><a href="http://study.chyangwa.com/IT/AIX/aixcmds6/files/aixfiles/utmp.htm#a3039269f"><span class="bold">/var/adm/wtmp</span></a></td>
<td>  包含自从上次文件创建以来的所有登录历史记录。</td>
</tr>
<tr>
<td>
<a id="a3b27ef1126endr" name="a3b27ef1126endr"></a><span class="bold">/usr/include/sys/signal.h</span></td>
<td>  包含一个终止值的列表。</td>
</tr>
</tbody>
</table>
<a name="a3b27ef1194endr"></a>
<h3 id="a3b27ef1194endr">相关信息</h3>
<a name="a3b27ef1263endr"></a>
<p id="a3b27ef1263endr"><a href="http://study.chyangwa.com/IT/AIX/aixcmds6/cmds/aixcmds2/date.htm#a270961"><span class="bold">date</span></a> 命
令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds6/cmds/aixcmds3/mesg.htm#x21250kare"><span class="bold">mesg</span></a> 命
令、<a href="whoami.htm#a151z93316"><span class="bold">whoami</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds6/cmds/aixcmds5/su.htm#a248y99c6d"><span class="bold">su</span></a> 命令。</p>
<a name="a3b27ef1304endr"></a>
<p id="a3b27ef1304endr"><a href="http://study.chyangwa.com/IT/AIX/aixcmds6/libs/basetrf2/wait_waitpid_wait3_wait364.htm"><span class="bold">wait</span></a> 子例程。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="who.htm#Top_Of_Page">页的顶部</a> | <a href="which_fileset.htm">上一页</a> | <a href="whoami.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds602.htm#wq704">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
