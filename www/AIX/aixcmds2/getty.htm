<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - getty 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="getty 命令, 设置特征, 端口" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="getty.htm#Bot_Of_Page">页的底部</a> | <a href="gettable.htm">上一页</a> | <a href="glbd.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="a301913bc"></a>
<h2 id="a301913bc">getty 命令</h2>
<p><a id="idx587" name="idx587"></a></p>
<a name="a301913bd"></a>
<h3 id="a301913bd">用途</h3>
<a name="f031a50711mela"></a>
<p id="f031a50711mela">设置端口特征。<a id="idx588" name="idx588"></a></p>
<a name="a301913bf"></a>
<h3 id="a301913bf">语法</h3>
<p><span class="bold">getty</span> [ [ <a href="getty.htm#kurosawa1"><span class="bold">-r</span></a> | <a href="getty.htm#a335f968f"><span class="bold">-u</span></a> | <a href="getty.htm#getty_flags_bigu"><span class="bold">-U</span></a> ] [ <a href="getty.htm#getty_flags_d"><span class="bold">-d</span></a> ] [ <a href="getty.htm#getty_flags_bigh"><span class="bold">-H</span></a> <span class="italic">HeraldString</span> ] [ <a href="getty.htm#getty_flags_bigm"><span class="bold">-M</span></a> <span class="italic">motdFile</span> ] [ <a href="getty.htm#getty_flags_bign"><span class="bold">-N</span></a> ] ] <span class="italic">PortName</span></p>
<a name="a301913c0"></a>
<h3 id="a301913c0">描述</h3>
<a name="f031a51074mela"></a>
<p id="f031a51074mela"><span class="bold">getty</span> 命令设置和管理终端线路和端口。<span class="bold">getty</span> 命令由<span class="bold"> init</span> 命令来运行。<span class="bold">getty</span> 命令与终端状态管理员程序相链接。终端状态管理员程序提供了终端控制和登录的复合功能。</p>
<p></p><blockquote><a name="c31e1c8406doug"></a><span id="c31e1c8406doug" class="pk"></span><span class="bold">注意：</span><span class="bold">getty</span> 命令不在命令行输入。</blockquote>
<a name="f031a51241mela"></a>
<p id="f031a51241mela">当作为 <span class="bold">getty</span> 命令调用时，终端状态管理员程序提供了通常的端口管理功能，这包括 :</p>
<a name="wq1494"></a>
<table id="wq1494" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="41%">
<a id="a301913c2" name="a301913c2"></a><span class="bold">双向使用</span></td>
<td width="58%">  允许使用终端线路用来启动和接受连接。</td>
</tr>
<tr>
<td>
<a id="a301913c3" name="a301913c3"></a><span class="bold">线路速度</span></td>
<td>  设置发送和接收的波特率。</td>
</tr>
<tr>
<td>
<a id="a301913c4" name="a301913c4"></a><span class="bold">奇偶性</span></td>
<td>  将奇偶性设置为偶数、奇数或无。</td>
</tr>
<tr>
<td>
<a id="a301913c5" name="a301913c5"></a><span class="bold">延迟</span></td>
<td>  设置回车、制表符、换行以及换页延迟。</td>
</tr>
<tr>
<td>
<a id="ahn13195" name="ahn13195"></a><span class="bold">字符集映射</span></td>
<td>  为大小写、制表符和换行控制设置字符集映射。</td>
</tr>
<tr>
<td>
<a id="a335f9684" name="a335f9684"></a><span class="bold">登录器程序</span></td>
<td>  指定用于使用户登录到系统的程序。如果设置了此属性，则禁用安全注意密钥（SAK）的处理功能。如果没有设置此属性，则其缺省值为 <span class="bold">/usr/sbin/login
  </span>。<span class="bold">logger</span>属性包含在对象数据管理员（ODM）数据库中。</td>
</tr>
<tr>
<td>
<a id="a335f9680" name="a335f9680"></a><span class="bold">字符和行擦除</span></td>
<td>  设置用于字符和行擦除的击键。</td>
</tr>
<tr>
<td>
<a id="a335f9681" name="a335f9681"></a><span class="bold">回应方式</span></td>
<td>  设置本地或远程回应。</td>
</tr>
</tbody>
</table>
<a name="f031a51910mela"></a>
<p id="f031a51910mela">当调用 <span class="bold">getty</span> 命令时，会发生下列步骤：</p>
<ol type="1">
<li><a name="a335f9686"></a><span id="a335f9686" class="pk"></span>根据 ODM 数据库中的<span class="bold">     所有者</span>和<span class="bold">保护</span>属性来设置端口保护。如果没有指定这些属性,则其缺省值为 root 用户和
     622。</li>
<li><a name="a158986"></a><span id="a158986" class="pk"></span>打开由<span class="italic">端口名</span>参数指定的端口。如果在端口可以进行载波检测，则直到载波出现或其它的进程已丢失此端口的载波，打开才完成。</li>
<li><a name="a335f9687"></a><span id="a335f9687" class="pk"></span>指定的端口可能会被锁定。如果<span class="bold"> getty</span> 命令带<a href="getty.htm#a335f968f"><span class="bold"> -u</span></a> 或<a href="getty.htm#kurosawa1"><span class="bold"> -r</span></a> 标志运行，它会试图锁定端口。如果锁定了端口，此命令将一直等待端口可用为止，继而退出。如果指定了 <span class="bold">-r</span> 标志，<span class="bold">getty</span> 命令将等待从端口接收一个字节的数据，然后继续。</li>
<li><a name="a335f9688"></a><span id="a335f9688" class="pk"></span>根据所指定端口的配置信息设置终端属性。此时能否启用安全注意密钥处理就在于系统的配置如何。</li>
<li><a name="a335f9689"></a><span id="a335f9689" class="pk"></span>载波消息被写入到指定的端口。</li>
<li><a name="a335f968a"></a><span id="a335f968a" class="pk"></span>从指定端口读取登录名。如果发生帧错误或中断，则<span class="bold"> getty</span> 命令将使用下一组配置的终端属性重复第四和第五步。这是循环调制解调器波特率最常使用的方法。但是可以通过在 ODM 数据库中输入以逗号隔开的值来循环任何 ODM 字段(除了<tt> logmodes</tt>和 <tt> runmodes</tt>)。</li>
<li><a name="a335f968b"></a><span id="a335f968b" class="pk"></span>按照 <tt>runmodes</tt> 参数和登录名称复位终端方式。如果登录名称由新行终止，则 <span class="bold">getty</span> 命令打开回车符到新行的映射。如果所有的字母字符都是大写，如果可能的话，提示用户使用小写字符登录，并打开从小写到大写的映。</li>
<li><a name="a335f968c"></a><span id="a335f968c" class="pk"></span>如果程序由登录器参数指定，则会执行它且禁用安全注意密钥处理。否则，“终端状态管理器”程序执行标准系统登录。
<a name="a335f968d"></a>
<p id="a335f968d"></p><blockquote><span class="bold">注：</span>如果用户在登录时输入了 Sequence Attention Key 序列，则用户登录的是可信的 shell（如果系统经配置，端口安全可信，允许用户从可信路径登录）。</blockquote></li></ol>
<a name="a301913d8"></a>
<h3 id="a301913d8">标志</h3>
<p></p>
<a name="wq1496"></a>
<table id="wq1496" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="25%">
<a id="getty_flags_d" name="getty_flags_d"></a><span class="bold">-d</span></td>
<td width="74%">提供调试信息。</td>
</tr>
<tr>
<td>
<a id="getty_flags_bigh" name="getty_flags_bigh"></a><span class="bold">-H</span> <span class="italic">HeraldString</span></td>
<td>指定备用预告消息以在端口写入提示的登录名。
消息字符串必须是一个字而且不能包含任何空格。
该字符串将优先于在 <span class="bold">/etc/security/login.cfg</span> 文件中定义的预告消息。如果
没有字符串以该选项或在 <span class="bold">login.cfg</span> 文件中指定，
则使用来自于消息编目的缺省预告。</td>
</tr>
<tr>
<td>
<a id="getty_flags_bigm" name="getty_flags_bigm"></a><span class="bold">-M</span> <span class="italic">motdFile</span></td>
<td>指定到每日文件的备用消息的路径。如果没有指定，
在缺省情况下该值为 <span class="bold">/etc/motd</span>。</td>
</tr>
<tr>
<td>
<a id="getty_flags_bign" name="getty_flags_bign"></a><span class="bold">-N</span></td>
<td>使 <span class="bold">getty</span> 绕过在 <span class="bold">/etc/utmp</span> 文件中任何进程标识的检查。这
允许不同于最低登录 shell 的进程来<span class="bold">执行</span> <span class="bold">getty</span>。</td>
</tr>
<tr>
<td>
<a id="kurosawa1" name="kurosawa1"></a><span class="bold">-r</span></td>
<td>  将端口设为可共享（双向）使用。如果锁定不成功，则 <span class="bold"> getty</span> 命令一直等待至锁可用为止，然后退出。如果锁定成功, <span class="bold">getty</span>
  命令将在锁定端口后等待从端口接收一字节的数据。</td>
</tr>
<tr>
<td>
<a id="a335f968f" name="a335f968f"></a><span class="bold">-u</span></td>
<td>  将端口设为可共享（双向）使用。如果锁定不成功，<span class="bold">getty </span>命令将一直等待锁定为止，然后退出。</td>
</tr>
<tr>
<td>
<a id="getty_flags_bigu" name="getty_flags_bigu"></a><span class="bold">-U</span></td>
<td>除了 <span class="bold">getty</span> 不会等待锁可用之外，与 <span class="bold">-u</span> 标志相同。这使得端口可用，而无需顾虑锁。</td>
</tr>
</tbody>
</table>
<a name="a335f9690"></a>
<h3 id="a335f9690">安全性</h3>
<a name="f031a52921mela"></a>
<p id="f031a52921mela">访问控制：应该如可信计算库中的程序一样安装本程序，任何用户和到根的 <span class="bold">setuid</span> 都可执行。</p>
<a name="a301913dc"></a>
<h3 id="a301913dc">例子</h3>
<a name="f031a56038mela"></a>
<p id="f031a56038mela">如果想要能够登录 tty0, 请将下一行添加到<span class="bold"> /etc/inittab</span> 文件中:</p>
<p></p>
<a name="c165828193doug"></a>
<pre id="c165828193doug" class="xmp">tty0:2:respawn: /usr/sbin/getty /dev/tty0</pre>
<a name="f031a56203mela"></a>
<p id="f031a56203mela">此命令初始化端口<tt>/dev/tty0</tt> 并设置端口特征。</p>
<a name="a301913e0"></a>
<h3 id="a301913e0">文件</h3>
<p></p>
<a name="wq1497"></a>
<table id="wq1497" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="27%">
<a id="c165828753doug" name="c165828753doug"></a><span class="bold">/usr/sbin/getty</span></td>
<td width="72%">  包含<span class="bold"> getty</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a301913e1" name="a301913e1"></a><span class="bold">/etc/locks</span></td>
<td>  包含阻止多重使用通信设备和多重调用远程系统的锁文件。</td>
</tr>
<tr>
<td>
<a id="a301913e3" name="a301913e3"></a><span class="bold">/usr/sbin/login</span></td>
<td>  <span class="bold">login</span> 命令。</td>
</tr>
<tr>
<td><span class="bold">/etc/security/login.cfg</span></td>
<td>包含端口登录配置。</td>
</tr>
<tr>
<td><span class="bold">/etc/motd</span></td>
<td>包含登录后显示的日消息。</td>
</tr>
<tr>
<td>
<a id="a301913e4" name="a301913e4"></a><span class="bold">/usr/bin/setmaps</span></td>
<td>  <span class="bold">setmaps</span> 命令。</td>
</tr>
<tr>
<td><span class="bold">/etc/utmp</span></td>
<td>包含有关用户登录系统的信息。</td>
</tr>
</tbody>
</table>
<a name="a301913e5"></a>
<h3 id="a301913e5">相关信息</h3>
<a name="f031a56700mela"></a>
<p id="f031a56700mela"><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/login.htm#a68v042f7"><span class="bold">login</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/setgroups.htm#ji21200frit"><span class="bold">setgroups</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/shell.htm#a30794cf"><span class="bold">shell</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/su.htm#a248y99c6d"><span class="bold">su</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/telinit.htm#a15891e19"><span class="bold">telinit or init</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/tsm.htm#a22297d3"><span class="bold">tsm</span></a> 命令。</p>
<a name="f031a56794mela"></a>
<p id="f031a56794mela"><span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixprggd/genprogc/odm.htm#a29f038e">Object Data Manager (ODM)
Overview for Programmers</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="getty.htm#Top_Of_Page">页的顶部</a> | <a href="gettable.htm">上一页</a> | <a href="glbd.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
