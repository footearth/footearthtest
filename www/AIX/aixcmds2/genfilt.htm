<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - genfilt 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="添加过滤规则, genfilt 命令" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="genfilt.htm#Bot_Of_Page">页的底部</a> | <a href="gencore.htm">上一页</a> | <a href="geninstall.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="i0815971303mkm"></a>
<h2 id="i0815971303mkm">genfilt 命令</h2>
<p><a id="idx558" name="idx558"></a></p>
<a name="i052198bclg"></a>
<h3 id="i052198bclg">用途</h3>
<p>添加过滤规则。</p>
<a name="i052198bclh"></a>
<h3 id="i052198bclh">语法</h3>
<p><span class="bold">genfilt</span>  <a href="genfilt.htm#ck05120335"><span class="bold">-v 4</span>|<span class="bold">6</span></a> [ <a href="genfilt.htm#ck05120336"><span class="bold">-n</span></a> <span class="italic">fid</span>] [ <a href="genfilt.htm#ck05120337"><span class="bold">-a</span></a> <span class="italic">D|P</span>]  <a href="genfilt.htm#ck05120338"><span class="bold">-s</span></a> <span class="italic">s_addr</span>  <a href="genfilt.htm#ck05120339"><span class="bold">-m</span></a> <span class="italic">s_mask</span>  <a href="genfilt.htm#ck05120340"><span class="bold">[-d</span></a> <span class="italic">d_addr</span>] [ <a href="genfilt.htm#ck05120341"><span class="bold">-M</span></a> <span class="italic">d_mask</span>] [ <a href="genfilt.htm#ck05120342"><span class="bold">-g</span> <span class="bold">Y</span>|<span class="bold">N</span> </a>]
[ <a href="genfilt.htm#ck05120343"><span class="bold">-c</span></a> <span class="italic">协议 </span>] [ <a href="genfilt.htm#ck05120344"><span class="bold">-o</span></a> <span class="italic">s_opr</span>] [ <a href="genfilt.htm#ck05120345"><span class="bold">-p</span></a> <span class="italic">s_port</span>] [ <a href="genfilt.htm#ck05120346"><span class="bold">-O</span></a> <span class="italic">d_opr</span>] [ <a href="genfilt.htm#ck05120347"><span class="bold">-P</span></a> <span class="italic">d_port</span>] [ <a href="genfilt.htm#ck05120348"><span class="bold">-r</span> <span class="bold">R</span>|<span class="bold">L</span>|<span class="bold">B</span></a> ] [ <a href="genfilt.htm#ck05120349"><span class="bold">-w</span> <span class="bold">I</span>|<span class="bold">O</span>|<span class="bold">B</span></a> ] [ <a href="genfilt.htm#ck05120350"><span class="bold">-l</span> <span class="bold">Y</span>|<span class="bold">N</span></a> ]
[ <a href="genfilt.htm#ck05120351"><span class="bold">-f</span> <span class="bold">Y</span>|<span class="bold">N</span>|<span class="bold">O</span>|<span class="bold">H</span></a> ]
[ <a href="genfilt.htm#ck05120352"><span class="bold">-t</span></a> <span class="italic">tid</span>] [ <a href="genfilt.htm#ck05120353"><span class="bold">-i</span></a> <span class="italic">接口</span>][<a href="genfilt.htm#ck0512035d"><span class="bold">-D</span></a><span class="italic">描述</span>]</p>
<a name="i052198bcli"></a>
<h3 id="i052198bcli">描述</h3>
<p>用 <span class="bold">genfilt</span> 命令向过滤规则表添加过滤规则。由此命令生成的过滤规则叫做手工过滤规则。</p>
<a name="i052198bclj"></a>
<h3 id="i052198bclj">标志</h3>
<p></p>
<a name="wq1390"></a>
<table id="wq1390" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="ck05120335" name="ck05120335"></a><span class="bold"> -v </span></td>
<td width="86%">过滤规则的 IP 版本。有效值为 <span class="bold">4</span> 和 <span class="bold">6</span>。</td>
</tr>
<tr>
<td>
<a id="ck05120336" name="ck05120336"></a><span class="bold">-n</span></td>
<td>过滤规则标识。新规则将添加在您指定的过滤规则“前面”。IP 版本 4 的标识必须大于 1，因为第一个过滤规则是由系统生成的，而且不可移动。如果不用这个标志，新规则就添加到过滤规则表的末尾。</td>
</tr>
<tr>
<td>
<a id="ck05120337" name="ck05120337"></a><span class="bold">-a</span></td>
<td>操作。值为拒绝（<span class="bold">D</span> )时将阻塞流通，而值为许可（<span class="bold">P</span>）时允许流通。缺省值为<span class="bold"> D</span>。</td>
</tr>
<tr>
<td>
<a id="ck05120338" name="ck05120338"></a><span class="bold">-s</span></td>
<td>源地址。可以是 IP 地址或主机名。如果指定了主机名，使用名称服务器返回的该主机的第一个 IP 地址。这个值连同源子网掩码将与 IP 包的源地址进行比较。</td>
</tr>
<tr>
<td>
<a id="ck05120339" name="ck05120339"></a><span class="bold">-m</span></td>
<td>源子网掩码：用于 IP 包源地址和过滤规则源地址的对比中。</td>
</tr>
<tr>
<td>
<a id="ck05120340" name="ck05120340"></a><span class="bold">-d</span></td>
<td>目标地址。目标地址可以是 IP 地址或主机名。如果指定了主机名，使用名称服务器返回的该主机的第一个 IP 地址。这个值连同目的地子网掩码将与 IP 包的目标地址进行比较。</td>
</tr>
<tr>
<td>
<a id="ck05120341" name="ck05120341"></a><span class="bold">-M</span></td>
<td>目标子网掩码：用于 IP 包目标地址和过滤规则目标地址的对比中。</td>
</tr>
<tr>
<td>
<a id="ck05120342" name="ck05120342"></a><span class="bold">-g</span></td>
<td>是否应用到源路由中？必须指定为 <span class="bold">Y</span>（是）或 <span class="bold">N</span>（否）。如果指定 <span class="bold">Y</span>，过滤规则可以用于使用源路由的 IP 包。缺省值为是（<span class="bold">Y</span>）。这个域仅用于许可规则。</td>
</tr>
<tr>
<td>
<a id="ck05120343" name="ck05120343"></a><span class="bold">-c</span></td>
<td>协议。有效值为：<span class="bold">udp</span>、<span class="bold">icmp</span>、<span class="bold">icmpv6</span>、<span class="bold">tcp</span>、<span class="bold">tcp/ack</span>、<span class="bold">ospf</span>、<span class="bold">ipip</span>、<span class="bold">esp</span>、<span class="bold">ah</span> 和 <span class="bold">all。值 <span class="bold">all</span> 表示过滤规则应用于所有协议。协议也可以通过数字来指定（1 到 252）。缺省值为 <span class="bold">all</span>。</span></td>
</tr>
<tr>
<td>
<a id="ck05120344" name="ck05120344"></a><span class="bold">-o</span></td>
<td>源端口或 ICMP 类型操作。这就是要用于将包的源端口／ICMP 类型和过滤规则中所指定的源端口或 ICMP 类型（<span class="bold">-p</span> 标志）进行比较的操作。有效值为：<span class="bold">lt</span>、<span class="bold">le</span>、<span class="bold">gt</span>、<span class="bold">ge</span>、<span class="bold">eq</span>、<span class="bold">neq</span> 和 <span class="bold">any</span>。缺省值为 <span class="bold">any</span>。在 <span class="bold">-c</span> 标志为 <span class="bold">ospf</span> 时值必须为<span class="bold">any</span>。</td>
</tr>
<tr>
<td>
<a id="ck05120345" name="ck05120345"></a><span class="bold">-p</span></td>
<td>源端口或 ICMP 类型。这是将要用于和 IP 包的源端口（或 ICMP 类型）进行比较的值/类型。</td>
</tr>
<tr>
<td>
<a id="ck05120346" name="ck05120346"></a><span class="bold">-O</span></td>
<td>目标端口或 ICMP 码操作。这就是用于将包的目标端口 /ICMP 码和目标端口或 ICMP 码（<span class="bold">-P</span> 标志）进行比较的操作。有效值为：<span class="bold">lt</span>、<span class="bold">le</span>、<span class="bold">gt</span>、<span class="bold">ge</span>、<span class="bold">eq</span>、<span class="bold">neq</span> 和 <span class="bold">any</span>。缺省值为 <span class="bold">any</span>。在 <span class="bold">-c</span> 标志为<span class="bold">ospf</span> 时值必须为<span class="bold">any</span>。</td>
</tr>
<tr>
<td>
<a id="ck05120347" name="ck05120347"></a><span class="bold">-P</span></td>
<td>目标端口 /ICMP 码。这是将要用于和 IP 包的目标端口（或 ICMP 码）进行比较的值/码。</td>
</tr>
<tr>
<td>
<a id="ck05120348" name="ck05120348"></a><span class="bold">-r</span></td>
<td>路由。它指定规则是应用于转发包（<span class="bold">R</span>）、发往或来自本地主机的包（<span class="bold">L</span>）或同时用于两者（<span class="bold">B</span>）。缺省值为 <span class="bold">B</span>。</td>
</tr>
<tr>
<td>
<a id="ck05120349" name="ck05120349"></a><span class="bold">-w</span></td>
<td>方向。指定规则是应用于输入包（<span class="bold">I</span>）、外发包（<span class="bold">O</span>）或同时用于两者（<span class="bold">B</span>）。缺省值为 <span class="bold">B</span>。</td>
</tr>
<tr>
<td>
<a id="ck05120350" name="ck05120350"></a><span class="bold">-l</span></td>
<td>日志控制。必须指定为 <span class="bold">Y</span>（是）或 <span class="bold">N</span>（否）。如果指定为 <span class="bold">Y</span>与过滤规则匹配的包将被包含在过滤日志中。缺省值为 <span class="bold">N</span>（否）。</td>
</tr>
<tr>
<td>
<a id="ck05120351" name="ck05120351"></a><span class="bold">-f</span></td>
<td> 分段控制。分段控制标志指定规则应用于所有包（<span class="bold">Y</span>）、只应用于分段头和未分段包（<span class="bold">H</span>）、只应用于分段和分段头（<span class="bold">O</span>）或只应用于未分段包（<span class="bold"> N</span>）。缺省值为 <span class="bold">Y</span>。</td>
</tr>
<tr>
<td>
<a id="ck05120352" name="ck05120352"></a><span class="bold">-t</span></td>
<td>过滤规则相关通道的标识。所有与过滤规则匹配的包都要通过指定的通道。如果没有指定此标志，规则只用于非通道流量。</td>
</tr>
<tr>
<td>
<a id="ck05120353" name="ck05120353"></a><span class="bold">-i</span></td>
<td>应用过滤规则的 IP 接口名。这些 IP 接口名的示例有：<span class="bold">all</span>、<span class="bold">tr0</span>、<span class="bold">en0</span>、<span class="bold">lo0</span> 和 <span class="bold">pp0</span>。缺省值为 <span class="bold">all</span>。</td>
</tr>
<tr>
<td>
<a id="ck0512035d" name="ck0512035d"></a><span class="bold">-D</span></td>
<td>过滤器描述。过滤器规则的简短描述文本。这是静态过滤规则的一个可选标志，但不适用于动态过滤规则。</td>
</tr>
</tbody>
</table>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="genfilt.htm#Top_Of_Page">页的顶部</a> | <a href="gencore.htm">上一页</a> | <a href="geninstall.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
