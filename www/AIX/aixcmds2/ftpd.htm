<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - ftpd 守护进程</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="描述, ftpd 守护进程, ftpd, TCP/IP 守护进程,
守护进程, 使用 ftpd 守护进程, TCP/IP, FTP 协议下的服务器功能,
FTP 协议下的服务器函数, 子树方针, 文件传送协议请求" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="ftpd.htm#Bot_Of_Page">页的底部</a> | <a href="ftp.htm">上一页</a> | <a href="fuser.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="a57d320sara"></a>
<h2 id="a57d320sara">ftpd 守护进程</h2>
<p><a id="idx535" name="idx535"></a><a id="idx536" name="idx536"></a><a id="idx537" name="idx537"></a></p>
<a name="a229x9bea"></a>
<h3 id="a229x9bea">用途</h3><a id="idx538" name="idx538"></a><a id="idx539" name="idx539"></a>
<a name="dff1bac990mart"></a>
<p id="dff1bac990mart">为因特网 FTP 协议提供服务器功能。</p>
<a name="a229x9bec"></a>
<h3 id="a229x9bec">语法</h3>
<p></p><blockquote><a name="a75c017b56"></a><span id="a75c017b56" class="pk"></span><span class="bold">注意：</span><span class="bold"> ftpd </span>守护进程一般由 inetd 守护进程启动。<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/inetd.htm#dwd290sara"><span class="bold"></span></a>也可以用 SRC 命令从命令行来控制。</blockquote>
<p><span class="bold"> /usr/sbin/ftpd</span> [  <a href="ftpd.htm#a229x9bfd"><span class="bold">-d </span></a>]  [  <a href="ftpd.htm#a229x9bffd"><span class="bold">-f </span></a>] [
 <a href="ftpd.htm#a229x9bfff"><span class="bold">-ff </span></a>] [  <a href="ftpd.htm#uoqvh123sylv"><span class="bold">-k</span></a> ] [  <a href="ftpd.htm#a229x9bfe"><span class="bold">-l</span></a>] [ <a href="ftpd.htm#ftpd_flags_bigu"><span class="bold">-U</span></a> ] [
 <a href="ftpd.htm#a229x9bff"><span class="bold">-t</span></a> <span class="italic">TimeOut</span> ] [  <a href="ftpd.htm#a234x93b4"><span class="bold">-T</span></a> <span class="italic">MaxTimeOut</span> ] [  <a href="ftpd.htm#a213x9a704"><span class="bold">-s </span></a>]
[  <a href="ftpd.htm#hev6g1bfblai"><span class="bold">-u</span></a> <span class="italic">OctalVal</span> ] [<a href="ftpd.htm#ftpdqflag072002hf"><span class="bold">-q</span></a> [<a href="ftpd.htm#ftpdcflag072002hf"><span class="bold">-C</span></a>]]</p>
<a name="a229x9bee"></a>
<h3 id="a229x9bee">描述</h3>
<a name="dff1bad443mart"></a>
<p id="dff1bad443mart"><span class="bold"> /usr/sbin/ftpd</span> 守护进程是 DARPA 因特网文件传输协议（FTP）服务器进程。<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/commadmn/tcp_protocols.htm#a341c96c15"></a><span class="bold"> ftpd </span>守护进程使用传输控制协议（TCP）侦听指定的端口，端口在 /etc/services 文件中的 ftp 命令服务规范中指定。<span class="bold"></span><span class="bold"></span><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/services.htm#ys8120sara"><span class="bold"></span></a></p>
<a name="dff1bad541mart"></a>
<p id="dff1bad541mart"><span class="bold">ftpd</span> 守护进程的修改可以通过系统管理界面程序（SMIT）或者系统资源控制器（SRC）来完成，通过编辑<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/inetd.conf.htm#zb52b0joe"><span class="bold"> /etc/inetd.conf </span> </a>或者 /<span class="bold">etc</span>/<span class="bold">services</span>文件来实现。不建议在命令行下输入<tt> ftp。</tt><span class="bold"> ftpd </span>守护进程如果在 /etc/inetd.conf 文件中未注释，缺省情况下它将启动。<span class="bold"></span></p>
<a name="dff1bad638mart"></a>
<p id="dff1bad638mart"><span class="bold"> inetd </span>守护进程从 /etc/inetd.conf 文件和 /etc/services 文件中获取信息。<span class="bold"></span><span class="bold"></span><span class="bold"></span><span class="bold"></span></p>
<a name="dff1bad807mart"></a>
<p id="dff1bad807mart">如果您改变 /etc/inetd.conf 或者 /etc/ services 文件，<span class="bold"></span><span class="bold"></span><span class="bold"></span>运行<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/refresh.htm#a20092dd"><span class="bold"> refresh</span></a> <span class="bold">-s inetd</span> 或者 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/kill.htm#a1579872"><span class="bold">kill</span></a><span class="bold"> -1</span><span class="italic"> InetdPID </span>命令以通知<span class="bold"> inetd </span>守护进程关于配置文件的改动。</p>
<a name="dff1bad906mart"></a>
<p id="dff1bad906mart"><span class="bold"> ftpd </span>守护进程根据 csh 命令的约定来扩展文件名。<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds1/csh.htm#a27991075"><span class="bold"></span></a> 此命令可以使用如下的元字符串：*（星号）, ? （问号）, [ ]（左右方括号）, {
} (左右花括号) 以及 ~ (代字号)。</p>
<a name="wq1318"></a>
<h4 id="wq1318">ftpaccess.ctl 文件</h4>
<p>搜索<span class="bold">/etc/ftpaccess.ctl </span>文件，寻找以<span class="bold"> allow: </span>、<span class="bold">deny: </span>、<span class="bold"> readonly: </span>、<span class="bold"> writeonly: </span>、<span class="bold"> readwrite: </span>、<span class="bold"> useronly: </span>、<span class="bold"> grouponly:</span>、<span class="bold"> herald: </span> 和/或<span class="bold"> motd: </span>开始的行。其余的行忽略。如果文件不存在，则所有主机均允许 ftp 访问。<span class="bold">allow:</span> 和 <span class="bold">deny:</span> 行用于限制对主机的访问。<span class="bold"> readonly:</span>, <span class="bold"> writeonly: </span>和<span class="bold"> readwrite: </span>行用于限制 ftp 的读（获取）写（存放）。<span class="bold">useronly: </span>和<span class="bold"> grouponly: </span>行用于定义匿名用户。<span class="bold"> herald: </span>和<span class="bold"> motd:</span> 行用于登录前后的多行消息。</p>
<p>/etc/ftpaccess.ctl 文件中所有行的语法形式：<span class="bold"></span></p>
<pre class="xmp">关键字：值，值 ...</pre><p class="indatacontent">每个关键字可以指定一个或者多个值。同样的关键字可以出现在很多行里。/etc/ftpaccess.ctl 文件中的每一行最多包含 1024 个字符，超过的将被忽略。<span class="bold"></span></p>
<p><span class="bold"> allow: </span>和<span class="bold"> deny:</span> 行的语法是：</p>
<pre class="xmp">allow: host, host, ...
dent: host, host, ...</pre><p class="indatacontent">如果指定了一个<span class="bold"> allow: </span>行，那么只有在 allow: 行里列出的主机允许访问 ftp。<span class="bold"></span>其它的主机将拒绝访问 ftp。如果不包含<span class="bold"> allow: </span>行，那么，除了那些在<span class="bold"> deny: </span>行中已经指定的之外，所有的主机都可以访问 ftp。主机可以通过主机名或者 IP 地址来指定。</p>
<p>readonly:、writeonly: 和 readwrite: 行的语法如下：</p>
<pre class="xmp">readonly: dirname, dirname, ...
writeonly: dirname, dirname, ...
readwrite: dirname, dirname, ...</pre><span class="bold">readonly: </span><p class="indatacontent">行列出了只读目录，<span class="bold"> writeonly: </span>行列出了只写目录。如果在只写目录下进行读访问或者在只读目录下进行写访问，访问将被拒绝。所有其它目录都被授权访问，除非指定了 readwrite: 行。<span class="bold"> </span>如果指定了<span class="bold"> readwrite: </span>行，只有在 readwrite: 行和/或 readonly: 行中列出的目录可以进行读访问，同时只有在 readwrite: 行和/或 writeonly: 行中列出的目录可以进行写访问。<span class="bold"></span><span class="bold"></span><span class="bold"></span><span class="bold"></span> 同时，这些行的值可以是“ALL” 或者“NONE”。</p>
<p><span class="bold"> useronly: </span>和<span class="bold"> grouponly: </span>行的语法如下：<span class="bold"></span></p>
<pre class="xmp">useronly: username, username, ...
grouponly: groupname, groupname, ...</pre><p class="indatacontent">用户名在 <span class="bold">/etc/passwd</span> 中，组名在 <span class="bold">/etc/group</span> 中。<span class="bold">useronly:</span> 行定义了一个匿名用户。<span class="bold"> grouponly: </span>行定义了匿名用户组。这些匿名用户类似于在 ftp 活动中的匿名用户，他们被限制在自己的主目录下。</p>
<p><span class="bold"> herald: </span>和<span class="bold"> motd: </span>行的语法如下：</p>
<pre class="xmp">herald: path
motd: on|off</pre><p class="indatacontent">path 是包含将在登录前显示的多行 herald 的文件的全路径名称。当<span class="bold"> motd: </span>行的值为‘on' 时，<span class="bold"> $HOME/motd</span> 文件包含登录后将显示的多行消息。如果用户是定义好的匿名用户，<span class="bold"> /etc/motd </span>文件包含登录后将显示的多行消息。（请注意 /etc/motd 是在匿名用户的登陆根目录下）。<span class="bold"></span><span class="bold"> motd: </span>行的缺省值是 off。</p>
<a name="wq1319"></a>
<h4 id="wq1319"> 如果当前的认证方法是标准操作系统的认证方法：</h4>
<a name="dff1bae005mart"></a>
<p id="dff1bae005mart">在<span class="bold"> ftpd </span>守护进程可以为客户进程传输文件之前，它必须认证客户进程。<span class="bold"> ftpd </span>守护进程根据如下规则认证客户进程：</p>
<ul>
<li><a name="a234x93b2"></a><span id="a234x93b2" class="pk"></span>用户必须在密码数据库中拥有密码，<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/passwd.htm#x9a1f0frit"><span class="bold"> /etc/security/passwd </span></a>。（如果用户密码非空，客户机进程必须提供此密码。）</li>
<li><a name="a229x9bf3"></a><span id="a229x9bf3" class="pk"></span>用户名不能出现在<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/ftpusers.htm#w43130sara"><span class="bold"> /etc/ftpusers </span></a>文件中。</li>
<li><a name="d766485949jani"></a><span id="d766485949jani" class="pk"></span>用户的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/passwd.htm">登录 shell </a>必须出现在 /etc/security/longin.cfg 文件的 shell 属性中。<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/login.cfg.htm#a93c11df9"><span class="bold"></span></a></li>
<li><a name="a213x9a708"></a><span id="a213x9a708" class="pk"></span>如果用户名是<tt class="xph">匿名</tt>、<tt class="xph"> ftp </tt>或者是在 /etc/ftpaccess.ctl 文件中定义过的匿名用户，<span class="bold"></span>则匿名 FTP 帐户必须在密码文件中进行定义。在这种情况下，客户机进程可以使用任何密码登陆。一般约定，密码为客户主机的名称。<span class="bold"> ftpd </span>守护进程采用了特殊的办法来限制客户进程对匿名账号的访问。</li></ul>
<a name="wq1320"></a>
<h4 id="wq1320">如果 Kerberos 5 是当前的认证方法：</h4>
<p><span class="bold"> ftpd </span>守护进程允许在以下条件均满足时进行访问：</p>
<ul>
<li>ftp 客户机的本地用户拥有当前的 DCE 凭证。</li>
<li><span class="pk"></span>本地系统和远程系统均支持<span class="bold"> AUTH </span>命令。</li>
<li><span class="pk"></span>远程系统接受了 DCE 凭证，并认为以此足以访问远程帐户。请参阅<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/libs/commtrf2/kvalid_user.htm#a02059875blaws"><span class="bold"> kvalid_user </span></a>函数以获取更多信息。</li></ul>
<a name="a272x922d0"></a>
<h4 id="a272x922d0">文件传送协议子树方针</h4>
<p><a id="idx540" name="idx540"></a></p>
<a name="dff1bae545mart"></a>
<p id="dff1bae545mart">当处理某个匿名 FTP 用户时，服务器在 FTP 用户帐户的主目录中执行 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds1/chroot.htm#a2729d5"><span class="bold">chroot</span></a> 命令。为获得较高的安全性，请在构造 FTP 子树时执行以下规则：</p>
<a name="wq1321"></a>
<table id="wq1321" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="a229x9bf7" name="a229x9bf7"></a><span class="bold">~ftp</span></td>
<td width="86%">  创建 root 用户的主目录，方式为 r-xr-xr-x (555)。</td>
</tr>
<tr>
<td>
<a id="a229x9bf8" name="a229x9bf8"></a><span class="bold">~ftp/bin</span></td>
<td>  创建 root 用户的目录，并且对其他人是不可写的。<span class="bold"> ls </span>程序必须在此目录中以支持列表命令。此程序应该有 111 方式。</td>
</tr>
<tr>
<td>
<a id="a229x9bf9" name="a229x9bf9"></a><span class="bold">~ftp/etc</span></td>
<td>  创建 root 用户的目录，并且对其他人是不可写的。</td>
</tr>
<tr>
<td>
<a id="a229x9bfa" name="a229x9bfa"></a><span class="bold">~ftp/pub</span></td>
<td>  在 777 方式下创建此目录，并被 FTP 所有。用户应该将匿名帐户可访问的文件放在此目录下。</td>
</tr>
</tbody>
</table>
<p></p>
<a name="wq1322"></a>
<div class="notetitle" id="wq1322">注:</div>
<div class="notebody">shell 脚本<span class="bold"> /usr/samples/tcpip/anon.ftp</span> 使用以上规则为您设置匿名 FTP 帐户。</div>
<p>当处理 /etc/ftpaccess.ctl 中定义的匿名 FTP 用户时，<span class="bold"></span>服务器在用户帐户的主目录下执行<span class="bold"> chroot </span> 命令。为获得更好的安全性，当构造用户子树时请执行以下规则：</p>
<dl>
<dt class="bold">~user</dt>
<dd>创建 root 用户的主目录，方式为<tt class="xph"> r-xr-xr-x</tt> (555)。
</dd>
<dt class="bold">~user/bin</dt>
<dd>创建 root 用户的目录，并对其他人不可写。<span class="bold"> ls </span>程序必须在此目录中以支持列表命令。此程序应该有 111 方式。
</dd>
<dt class="bold">~user/etc</dt>
<dd>创建 root 用户的目录，并对其他人不可写。
</dd>
<dt class="bold">~user/pub</dt>
<dd>以 777 方式创建此目录，并被用户所有。用户应该将可以通过匿名帐户访问的文件放在此目录中。<tt class="xph"></tt>
</dd>
</dl>
<a name="wq1323"></a>
<div class="notetitle" id="wq1323">注:</div>
<div class="notebody">shell 脚本<span class="bold"> /usr/samples/tcpip/anon.users.ftp</span> 使用以上规则为您设置匿名 FTP 帐户。</div>
<a name="dff1baf149mart"></a>
<p id="dff1baf149mart">服务器必须以 root 用户运行，来创建有特权端口号的套接字。服务器维护一个登录用户的有效的用户标识当在套接字上绑定地址时回复给 root 用户。</p><a id="idx541" name="idx541"></a>
<a name="a272x922d1"></a>
<h4 id="a272x922d1">支持文件传送协议请求</h4>
<a name="dff1baf327mart"></a>
<p id="dff1baf327mart"><span class="bold"> ftpd </span>守护进程目前支持以下 FTP 请求：</p>
<a name="wq1324"></a>
<table id="wq1324" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="a229x9c01" name="a229x9c01"></a><span class="bold">ABOR</span></td>
<td width="86%">  终止前一次命令。</td>
</tr>
<tr>
<td>
<a id="a229x9c02" name="a229x9c02"></a><span class="bold">ACCT</span></td>
<td>  指定帐户（被忽略）。</td>
</tr>
<tr>
<td>
<a id="a34800tblaws" name="a34800tblaws"></a><span class="bold">ADAT</span></td>
<td>  指定认证 / 安全数据。</td>
</tr>
<tr>
<td>
<a id="a229x9c03" name="a229x9c03"></a><span class="bold">ALLO</span></td>
<td>  分配存储器（空）。</td>
</tr>
<tr>
<td>
<a id="a229x9c04" name="a229x9c04"></a><span class="bold">APPE</span></td>
<td>  添加到文件。</td>
</tr>
<tr>
<td>
<a id="a75198blaws" name="a75198blaws"></a><span class="bold">AUTH</span></td>
<td>  指定认证 / 安全机制。</td>
</tr>
<tr>
<td>
<a id="a003376blaws" name="a003376blaws"></a><span class="bold">CCC</span></td>
<td>  指定清除命令通道。</td>
</tr>
<tr>
<td>
<a id="a229x9c05" name="a229x9c05"></a><span class="bold">CDUP</span></td>
<td>  转到当前工作目录的父目录。</td>
</tr>
<tr>
<td>
<a id="a229x9c06" name="a229x9c06"></a><span class="bold">CWD</span></td>
<td>  改变工作目录。</td>
</tr>
<tr>
<td>
<a id="a229x9c07" name="a229x9c07"></a><span class="bold">DELE</span></td>
<td>  删除文件。</td>
</tr>
<tr>
<td>
<a id="a35901blaws" name="a35901blaws"></a><span class="bold">ENC</span></td>
<td>  指定私有保护命令。</td>
</tr>
<tr>
<td>
<a id="a229x9c08" name="a229x9c08"></a><span class="bold">HELP</span></td>
<td>  给出帮助信息。</td>
</tr>
</tbody>
</table>
<a name="wq1325"></a>
<table id="wq1325" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="a229x9c09" name="a229x9c09"></a><span class="bold">LIST</span></td>
<td width="86%">  在目录中给出列表文件（此 FTP 请求和 ls -lA 命令是同样的）。<span class="bold"></span></td>
</tr>
<tr>
<td>
<a id="a229x9c0a" name="a229x9c0a"></a><span class="bold">MKD</span></td>
<td>  创建目录。</td>
</tr>
<tr>
<td>
<a id="a242x9275" name="a242x9275"></a><span class="bold">MDTM</span></td>
<td>  显示文件最后的修改时间。</td>
</tr>
<tr>
<td>
<a id="a89519blaws" name="a89519blaws"></a><span class="bold">MIC</span></td>
<td>  指定完整性保护命令。</td>
</tr>
<tr>
<td>
<a id="a229x9c0b" name="a229x9c0b"></a><span class="bold">MODE</span></td>
<td>  指定数据传输方式。</td>
</tr>
<tr>
<td>
<a id="a229x9c0c" name="a229x9c0c"></a><span class="bold">NLST</span></td>
<td>  给出目录下文件的名称列表（此 FTP 请求和 ls 命令是同样的）。<span class="bold"></span></td>
</tr>
<tr>
<td>
<a id="a229x9c0d" name="a229x9c0d"></a><span class="bold">NOOP</span></td>
<td>  无操作。</td>
</tr>
<tr>
<td>
<a id="a229x9c0e" name="a229x9c0e"></a><span class="bold">PASS</span></td>
<td>  指定密码。</td>
</tr>
<tr>
<td>
<a id="a229x9c0f" name="a229x9c0f"></a><span class="bold">PASV</span></td>
<td>  为服务器间的传输做准备。</td>
</tr>
<tr>
<td>
<a id="a020398blaws" name="a020398blaws"></a><span class="bold">PBSZ</span></td>
<td>  指定保护缓冲区的大小。</td>
</tr>
<tr>
<td>
<a id="a229x9c10" name="a229x9c10"></a><span class="bold">PORT</span></td>
<td>  指定数据连接端口。</td>
</tr>
<tr>
<td>
<a id="a0203981blaws" name="a0203981blaws"></a><span class="bold">PROT</span></td>
<td>  指定数据通道保护级别。</td>
</tr>
<tr>
<td>
<a id="a229x9c11" name="a229x9c11"></a><span class="bold">PWD</span></td>
<td>  显示当前工作目录。</td>
</tr>
<tr>
<td>
<a id="a229x9c12" name="a229x9c12"></a><span class="bold">QUIT</span></td>
<td>  终止会话。</td>
</tr>
<tr>
<td>
<a id="a229x9c13" name="a229x9c13"></a><span class="bold">RETR</span></td>
<td>  检索文件。</td>
</tr>
<tr>
<td>
<a id="a229x9c14" name="a229x9c14"></a><span class="bold">RMD</span></td>
<td>  除去目录。</td>
</tr>
<tr>
<td>
<a id="a229x9c15" name="a229x9c15"></a><span class="bold">RNFR</span></td>
<td>  指定重命名源文件名。</td>
</tr>
<tr>
<td>
<a id="a229x9c16" name="a229x9c16"></a><span class="bold">RNTO</span></td>
<td>  指定重命名目标文件名。</td>
</tr>
<tr>
<td>
<a id="a229x9c17" name="a229x9c17"></a><span class="bold">SITE</span></td>
<td>  SITE 请求支持以下非标准的或者 UNIX 专用的命令：<span class="bold"></span>
<dl>
<dt id="a229x9c18" class="bold">
<a name="a229x9c18"></a><span class="bold">UMASK</span></dt>
<dd>  改变 umask（<span class="bold"> SITE UMASK 002 </span>）。
</dd>
<dt id="a229x9c19" class="bold">
<a name="a229x9c19"></a><span class="bold"> IDLE </span></dt>
<dd>  设置闲置时间（<span class="bold"> SITE IDLE 60 </span>）。
</dd>
<dt id="a229x9c1a" class="bold">
<a name="a229x9c1a"></a><span class="bold"> CHMOD </span></dt>
<dd>  改变文件的方式（<span class="bold"> SITE CHMOD 755 </span><span class="italic">文件名</span>）。
</dd>
<dt id="a229x9c1b" class="bold">
<a name="a229x9c1b"></a><span class="bold">HELP</span></dt>
<dd>  给出帮助信息（<span class="bold"> SITE HELP </span>）。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a229x9c1c" name="a229x9c1c"></a><span class="bold">SIZE</span></td>
<td>  返回当前文件的大小。</td>
</tr>
<tr>
<td>
<a id="a229x9c1d" name="a229x9c1d"></a><span class="bold">STAT</span></td>
<td>  返回服务器的状态。</td>
</tr>
<tr>
<td>
<a id="a229x9c1e" name="a229x9c1e"></a><span class="bold">STOR</span></td>
<td>  存储文件。</td>
</tr>
<tr>
<td>
<a id="a229x9c1f" name="a229x9c1f"></a><span class="bold">STOU</span></td>
<td>  使用唯一的文件名存储文件。</td>
</tr>
<tr>
<td>
<a id="a229x9c20" name="a229x9c20"></a><span class="bold">STRU</span></td>
<td>  指定作为文件结构传输的数据结构。</td>
</tr>
<tr>
<td>
<a id="a229x9c21" name="a229x9c21"></a><span class="bold">SYST</span></td>
<td>  显示服务器系统的操作系统类型。</td>
</tr>
<tr>
<td>
<a id="a229x9c22" name="a229x9c22"></a><span class="bold">TYPE</span></td>
<td>  用 Type 参数指定数据传输类型。<span class="italic"></span></td>
</tr>
<tr>
<td>
<a id="a229x9c23" name="a229x9c23"></a><span class="bold">USER</span></td>
<td>  指定用户名。</td>
</tr>
<tr>
<td>
<a id="a229x9c24" name="a229x9c24"></a><span class="bold">XCUP</span></td>
<td>  改变当前工作目录的父目录（通常不使用）。</td>
</tr>
<tr>
<td>
<a id="a229x9c25" name="a229x9c25"></a><span class="bold">XCWD</span></td>
<td>  改变当前目录（通常不使用）。</td>
</tr>
<tr>
<td>
<a id="a229x9c26" name="a229x9c26"></a><span class="bold">XMKD</span></td>
<td>  创建目录（通常不使用）。</td>
</tr>
<tr>
<td>
<a id="a229x9c27" name="a229x9c27"></a><span class="bold">XPWD</span></td>
<td>  打印当前工作目录（通常不使用）。</td>
</tr>
<tr>
<td>
<a id="a229x9c28" name="a229x9c28"></a><span class="bold">XRMD</span></td>
<td>  除去目录（通常不使用）。</td>
</tr>
</tbody>
</table>
<a name="dff1bb4962mart"></a>
<p id="dff1bb4962mart">其余在因特网 RFC 959 中定义的 FTP 请求被识别，但是不执行。<span class="bold"> MDTM </span>和<span class="bold"> SIZE </span>请求在 RFC 959 中没有指定，但它们已经被列入下次的 FTP RFC 更新计划。</p>
<a name="dff1bb5061mart"></a>
<p id="dff1bb5061mart">如果在数据传输过程中收到<span class="bold"> STAT </span>请求而且前面有 Telnet <span class="bold">IP</span> 信号和<span class="bold"> SYNCH </span>信号，则返回传输状态。</p>
<a name="dff1bb5158mart"></a>
<p id="dff1bb5158mart"><span class="bold"> ftpd </span>守护进程应该通过使用系统管理界面程序（SMIT）或者修改 /etc/inet.conf 文件来被控制。<span class="bold"></span>不建议在命令行中输入<tt> ftpd </tt>。</p>
<a name="a992bd1951dee"></a>
<h4 id="a992bd1951dee">使用系统资源控制器来操作 fptd 守护进程</h4>
<a name="dff1bb5331mart"></a>
<p id="dff1bb5331mart"><span class="bold"> ftpd </span>守护进程是 inetd 守护进程的子服务器，而 inetd 守护进程则是系统资源控制器的子系统（SRC）。<span class="bold"></span><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/admnconc/sys_res_overview.htm#a2729f9"></a><span class="bold">ftpd </span>守护进程是 tcpip SRC 子系统组的成员。<span class="bold"></span>此守护进程在 /etc/inetd.conf 文件中缺省启用，<span class="bold"></span>它可以通过以下 SRC 命令来进行操作：</p>
<a name="wq1326"></a>
<table id="wq1326" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="10%">
<a id="c0e5e34927judy" name="c0e5e34927judy"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/startsrc.htm#a200945a"><span class="bold">startsrc</span></a></td>
<td width="89%">启动一个子系统、子系统组，或是一个子服务器。</td>
</tr>
<tr>
<td>
<a id="c0e5e35113judy" name="c0e5e35113judy"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/stopsrc.htm#a20094a5"><span class="bold">stopsrc</span></a></td>
<td>终止子系统、子系统组或子服务器。</td>
</tr>
<tr>
<td>
<a id="c0e5e35289judy" name="c0e5e35289judy"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/lssrc.htm#a2009166"><span class="bold">lssrc</span></a></td>
<td>获取一个子系统，子系统组，或是一个子服务器的状态。</td>
</tr>
</tbody>
</table>
<a name="a229x9bfc"></a>
<h3 id="a229x9bfc">标志</h3>
<p></p>
<a name="wq1327"></a>
<table id="wq1327" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="16%">
<a id="ftpdcflag072002hf" name="ftpdcflag072002hf"></a><span class="bold">-C</span></td>
<td width="83%">允许用户指定：通过 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/libs/commtrf2/send_file.htm"><span class="bold">send_file</span></a> 命令发出的文件必须在网络高速缓冲区（NBC）中经过缓存处理。<span class="bold"></span>此标志必须在指定了 -q 标志的情况下使用。只有当文件在无保护的情况下以二进制方式发送时此标志才适用。</td>
</tr>
<tr>
<td>
<a id="a229x9bfd" name="a229x9bfd"></a><span class="bold">-d</span></td>
<td>向 syslogd 守护进程发送关于 ftpd 守护进程操作的调试信息。<span class="bold"></span><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/syslogd.htm#a262b9c4"><span class="bold"></span></a>如果指定了<span class="bold"> -d </span>标志，必须编辑<span class="bold"> /etc/syslog.conf </span>文件，然后增加如下条目：
<p></p>
<a name="c0e5e35655judy"></a>
<pre id="c0e5e35655judy" class="xmp">daemon.debug FileName</pre> 
<a name="c0e5e35834judy"></a>
<p id="c0e5e35834judy"><span class="bold">注意：</span><span class="bold"> syslogd </span>守护进程的调试级别包含了信息级别消息。<tt></tt><tt></tt></p> 
<p>如果不编辑<span class="bold"> /etc/syslog.conf </span>文件，则没有消息产生。在修改完 <span class="bold"> /etc/syslog.conf </span>文件后，运行<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/refresh.htm#a20092dd"><span class="bold"> refresh </span></a> <span class="bold">-s syslogd</span> 命令，或者<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/kill.htm#a1579872"><span class="bold"> kill </span></a><span class="bold">-1</span><span class="italic"> SyslogdPID </span>命令，以通知<span class="bold"> syslogd </span>守护进程其配置文件的更改。要获取更多关于调试级别的信息，请参考<span class="bold"> /etc/syslog.conf </span>文件。</p></td>
</tr>
<tr>
<td>
<a id="a229x9bffd" name="a229x9bffd"></a><span class="bold">-f</span></td>
<td>当客户机请求服务器连接回特定端口时，禁用特权端口的检查。在缺省情况下，<span class="bold"> ftpd</span> 不允许客户机请求连接到特权端口，这是出于安全方面的考虑。</td>
</tr>
<tr>
<td>
<a id="a229x9bfff" name="a229x9bfff"></a><span class="bold">-ff</span></td>
<td>当客户机请求服务器连接回特定客户机端口时，禁用特权端口和匹配用于控制连接的那个的 IP 地址的检查。使用此标志后，客户机可以请求服务器向备用的主机或者接口发送数据。在缺省情况下，<span class="bold"> ftpd </span>出于安全考虑，不允许此操作。</td>
</tr>
<tr>
<td>
<a id="uoqvh123sylv" name="uoqvh123sylv"></a><span class="bold">-k</span></td>
<td>  在数据传输套接字上，设置在 /sys/socket.h 文件中定义的<span class="bold"> SO_KEEPALIVE </span>选项，以启用在事件 TCP/IP 暂挂中的数据传输到超时。<span class="bold"></span>空闲的间隔时间依 system-wide 的取值而定，此参数通过 no 命令中的 <tt> tcp_keepidle </tt>和<tt> tcp_keepintvl </tt>选项指定。<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/no.htm#a229x9bb6"><span class="bold"></span></a>如果没有此标志，<span class="bold"> ftpd </span>数据传输将不会超时。</td>
</tr>
<tr>
<td>
<a id="a229x9bfe" name="a229x9bfe"></a><span class="bold">-l</span></td>
<td>  向<span class="bold"></span><span class="bold"> syslogd </span>守护进程发送关于 ftpd 守护进程的日志信息。如果指定<span class="bold"> -l </span>标志，必须编辑<span class="bold"> /etc/syslog.conf</span> 文件并增加如下条目：
<p></p>
<a name="c0e5e36698judy"></a>
<pre id="c0e5e36698judy" class="xmp">daemon.info FileName</pre> 
<a name="c0e5e37640judy"></a>
<p id="c0e5e37640judy">如果不编辑<span class="bold"> /etc/syslog.conf </span>文件，则不会产生消息。当修改完<span class="bold"> /etc/syslog.conf </span>文件，运行<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/refresh.htm#a20092dd"><span class="bold"> refresh</span></a> <span class="bold">-s syslogd </span>命令或者<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/kill.htm#a1579872"><span class="bold"> kill</span></a><span class="bold"> -1</span><span class="italic"> SyslogdPID </span>命令以通知<span class="bold"> syslogd</span> 守护进程其配置文件的修改。关于调试级别的更多信息，请参考<span class="bold"> /etc/syslog.conf </span>文件。</p></td>
</tr>
<tr>
<td>
<a id="ftpdqflag072002hf" name="ftpdqflag072002hf"></a><span class="bold">-q</span></td>
<td>允许用户指定：<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/libs/commtrf2/send_file.htm"><span class="bold"> send_file </span></a>子例程必须用于在网络上发送文件。只有当文件在无保护的情况下以二进制方式发送时此标志才适用。</td>
</tr>
<tr>
<td>
<a id="a229x9bff" name="a229x9bff"></a><span class="bold">-t</span><span class="italic">TimeOut</span></td>
<td>  经过指定的秒数后退出已经停止的会话，秒数通过<span class="italic"> TimeOut </span>变量来指定。缺省值是 15 分钟（900 秒）。</td>
</tr>
<tr>
<td>
<a id="a234x93b4" name="a234x93b4"></a><span class="bold">-T</span><span class="italic"> MaxTimeOut</span></td>
<td>  经过指定的最大秒数后退出已经停止的会话，最大秒数通过<span class="italic"> MaxTimeOut </span>变量来指定。缺省值是 2 小时（7200 秒）。</td>
</tr>
<tr>
<td>
<a id="a213x9a704" name="a213x9a704"></a><span class="bold">-s</span></td>
<td>  打开 socket-level 调试。</td>
</tr>
<tr>
<td>
<a id="hev6g1bfblai" name="hev6g1bfblai"></a><span class="bold">-u</span><span class="italic"> OctalVal</span></td>
<td>  设置<span class="bold"> ftpd </span>守护进程的 umask。<span class="italic">OctalVal </span>变量必须指定为八进制的值，用来定义 umask。缺省的 umask 是八进制的 027，它导致了 rw-r<span class="bold">- 的文件许可。</span></td>
</tr>
<tr>
<td>
<a id="ftpd_flags_bigu" name="ftpd_flags_bigu"></a><span class="bold">-U</span></td>
<td>在传输中保持文件未锁定。如果此标志通过<span class="bold"> /usr/sbin/ftpd 来指定</span>，那么文件在传输过程中仍可打开。</td>
</tr>
</tbody>
</table>
<a name="a992bd2357dee"></a>
<h3 id="a992bd2357dee">示例</h3>
<p></p><blockquote><span class="bold">注意：</span><span class="bold"> ftpd </span>守护进程的参数可以通过 SMIT 来指定，也可以通过编辑<span class="bold"> /etc/inetd.conf </span>文件来指定。</blockquote>
<ol type="1">
<li id="c0e5e37762judy">
<a name="c0e5e37762judy"></a>启动<span class="bold"> ftpd </span>守护进程，请输入：
<p></p>
<a name="c0e5e37925judy"></a>
<pre id="c0e5e37925judy" class="xmp">startsrc -t ftp</pre><p class="indatacontent"> <span class="bold"> startsrc </span>命令带<span class="bold"> -t </span>标志启动<span class="bold"> ftpd </span>子服务器。您必须使用<span class="bold"> -t </span>标志来指定子服务器。否则，命令不会正确执行。</p></li>
<li id="c0e5e38269judy">
<a name="c0e5e38269judy"></a>要停止<span class="bold">ftpd</span>守护进程，一般输入：
<p></p>
<a name="c0e5e38431judy"></a>
<pre id="c0e5e38431judy" class="xmp">stopsrc -t ftp </pre><p class="indatacontent"> <span class="bold">stopsrc </span>命令带<span class="bold"> -t </span>标志停止<span class="bold"> ftpd </span>子服务器。<span class="bold"> stopsrc </span>命令允许启动所有暂挂的连接，并完成所有现存的连接，但不允许启动新的连接。您必须使用<span class="bold"> -t </span>标志来指定子服务器。否则，命令不会正确执行。</p></li>
<li id="c0e5e38699judy">
<a name="c0e5e38699judy"></a>要强制中止<span class="bold"> ftpd </span>守护进程和所有<span class="bold"> ftpd </span>连接，请输入：
<p></p>
<a name="c0e5e38831judy"></a>
<pre id="c0e5e38831judy" class="xmp">stopsrc -t -f ftp </pre><p class="indatacontent"> <span class="bold">stopsrc</span>命令和<span class="bold"> -t </span><span class="bold"> -f </span>标志迫使<span class="bold"> ftpd </span>子服务器停止。它立刻中止所有暂挂的连接和现存的连接。</p></li>
<li id="c0e5e39178judy">
<a name="c0e5e39178judy"></a>要显示关于<span class="bold"> ftpd </span>守护进程的简短状态报告，请输入：
<p></p>
<a name="c0e5e39340judy"></a>
<pre id="c0e5e39340judy" class="xmp">lssrc -t ftp</pre><p class="indatacontent"> <span class="bold"> lssrc </span>命令和<span class="bold"> -t </span>标志返回守护进程的名称、进程标识和状态（活动或者中止）。您必须使用<span class="bold"> -t </span>标志来指定子服务器。否则，命令不会正确执行。</p></li></ol>
<a name="a242x9276"></a>
<h3 id="a242x9276">文件</h3>
<p></p>
<a name="wq1329"></a>
<table id="wq1329" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="27%">
<a id="a242x9277" name="a242x9277"></a><span class="bold">/etc/locks/ftpd</span></td>
<td width="72%">  包含内部锁和进程标识存储器。</td>
</tr>
<tr>
<td>
<a id="a242x927a" name="a242x927a"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/group_security.htm#xxa1e0frit"><span class="bold">/etc/group</span></a><span class="bold"></span></td>
<td>包含组的密码。</td>
</tr>
<tr>
<td>
<a id="a242x9279" name="a242x9279"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/passwd.htm#x9a1f0frit"><span class="bold">/etc/passwd</span></a> <span class="bold"></span></td>
<td>包含用户的密码。</td>
</tr>
<tr>
<td>
<a id="d766488833jani" name="d766488833jani"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/login.cfg.htm#a93c11df9"><span class="bold">/etc/security/login.cfg</span></a><span class="bold"></span></td>
<td>包含登录和用户认证的配置信息。</td>
</tr>
<tr>
<td>
<a id="a242x927b" name="a242x927b"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/passwd_security.htm#a1219924"><span class="bold">/etc/security/passwd</span></a><span class="bold"></span></td>
<td>包含加密后的密码。</td>
</tr>
<tr>
<td>
<a id="c0e5e3a433judy" name="c0e5e3a433judy"></a><span class="bold">/etc/syslog.conf</span></td>
<td>  包含 syslogd 守护进程的配置信息。<span class="bold"></span></td>
</tr>
<tr>
<td>
<a id="a242x9278" name="a242x9278"></a><span class="bold">/usr/samples/tcpip/anon.ftp</span></td>
<td>包含示例 shell 脚本，通过它可以设置匿名 FTP 帐户。此文件也包含使用说明书。</td>
</tr>
</tbody>
</table>
<a name="a213x9a6ed"></a>
<h3 id="a213x9a6ed">相关信息</h3>
<p><a name="dff1bb8629mart"></a><span id="dff1bb8629mart" class="pk"></span><a href="ftp.htm#a204974e"><span class="bold"> ftp </span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/lssrc.htm#a2009166"><span class="bold"> lssrc </span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/kill.htm#a1579872"><span class="bold"> kill </span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/no.htm#a229x9bb6"><span class="bold"> no </span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/rcp.htm#iwj80jstu"><span class="bold"> rcp </span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/refresh.htm#a20092dd"><span class="bold"> refresh </span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/rlogin.htm#a2049808"><span class="bold"> rlogin </span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/rsh.htm#a2049833"><span class="bold"> rsh </span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/startsrc.htm#a200945a"><span class="bold"> startsrc </span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/stopsrc.htm#a20094a5"><span class="bold"> stopsrc</span></a> 命令以及<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/telnet.htm#a204988b"><span class="bold"> telnet </span></a>命令。</p>
<a name="dff1bb8726mart"></a>
<p id="dff1bb8726mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/inetd.htm#dwd290sara"><span class="bold"> inetd</span></a> 守护进程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/syslogd.htm#a262b9c4"><span class="bold"> syslogd </span></a>守护进程。</p>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/libs/commtrf2/kvalid_user.htm#a02059875blaws"><span class="bold"> kvalid_user </span></a>函数。<span class="pk"></span></p>
<a name="dff1bb8822mart"></a>
<p id="dff1bb8822mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/ftpusers.htm#w43130sara"><span class="bold"> /etc/ftpusers</span></a> 文件格式、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/inetd.conf.htm#zb52b0joe"><span class="bold"> /etc/inetd.conf</span></a> 文件格式、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/services.htm#ys8120sara"><span class="bold"> /etc/services</span></a> $HOME/.k5login 文件格式。</p>
<a name="dff1bb8917mart"></a>
<p id="dff1bb8917mart"><span class="italic">《AIX 5L V5.2 系统管理指南：通信与网络》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/commadmn/tcp_daemons.htm#a8c0a85e">『TCP/IP 守护进程』</a>。</p>
<p><span class="italic">《AIX 5L V5.2 系统用户指南：通信与网络》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixuser/usrcomm/tcp_secure_r.htm#a021398ablaws">『安全 Rcmd』</a>。</p>
<p><span class="italic">《AIX 5L V5.2 性能管理指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/prftungd/2365a83.htm#i34633">『网络选项可调参数』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="ftpd.htm#Top_Of_Page">页的顶部</a> | <a href="ftp.htm">上一页</a> | <a href="fuser.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
