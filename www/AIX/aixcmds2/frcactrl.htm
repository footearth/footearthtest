<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - frcactrl 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="frcactrl 命令, 控制和配置, FRCA" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="frcactrl.htm#Bot_Of_Page">页的底部</a> | <a href="forw.htm">上一页</a> | <a href="from.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="a0mk6m798a6"></a>
<h2 id="a0mk6m798a6">frcactrl 命令</h2><a id="idx520" name="idx520"></a><a id="idx521" name="idx521"></a>
<a name="wq1243"></a>
<h3 id="wq1243">用途</h3>
<p>控制和配置 FRCA。</p>
<a name="wq1244"></a>
<h3 id="wq1244">语法</h3>
<p><span class="bold">frcactrl</span> { <a href="frcactrl.htm#loadsc"><span class="bold">load</span></a> | <a href="frcactrl.htm#unloadsc"><span class="bold">unload</span></a> }
<br /><span class="bold">frcactrl</span> <a href="frcactrl.htm#opensc"><span class="bold">open</span></a> <span class="italic">Ip_Address Port</span> [ <span class="italic">Virtual_Host</span>
] <span class="italic">Server_Name Virtual_Root Log_File</span>
<br /><span class="bold">frcactrl</span> <a href="frcactrl.htm#closesc"><span class="bold">close</span></a> <span class="italic">Ip_Address Port</span> [ <span class="italic">Virtual_Host</span>
]
<br /><span class="bold">frcactrl</span> <a href="frcactrl.htm#loadfilesc"><span class="bold">loadfile</span></a> <span class="italic">Ip_Address Port</span> [ <span class="italic">Virtual_Host</span> ] <span class="italic">Document_Root File ...</span>
<br /><span class="bold">frcactrl</span> <a href="frcactrl.htm#statssc"><span class="bold">stats</span></a> [ reset ] [ <span class="italic">Interval</span> ]
<br /><span class="bold">frcactrl</span> <a href="frcactrl.htm#loggingsc"><span class="bold">logging</span></a> <span class="italic">Ip_Address Port</span> [<span class="italic">Virtual_Host</span> ] { on | off } [ <span class="italic">Format</span> ] [ <span class="italic">CPU_Id</span> ] 
<br /><span class="bold">frcactrl</span> { <a href="frcactrl.htm#startsc"><span class="bold">start</span></a> | <a href="frcactrl.htm#stopsc"><span class="bold">stop</span></a> } <span class="italic">Ip_Address Port</span> [ <span class="italic">Virtual_Host</span> ] 
<br /><span class="bold">frcactrl</span> <a href="frcactrl.htm#revaltimeoutsc"><span class="bold">revaltimeout</span></a> <span class="italic">Ip_Address Port</span> [ <span class="italic">Virtual_Host</span>
] [ <span class="italic">Seconds</span> ] 
<br /><span class="bold">frcactrl</span> <a href="frcactrl.htm#pctonintrsc"><span class="bold">pctonintr</span></a> [ <span class="italic">Percentage</span> ]
<br /><span class="bold">frcactrl</span> <a href="frcactrl.htm#set"><span class="bold">set</span></a> {
option=<span class="italic">value</span> }
<br /><span class="bold">frcactrl</span> <a href="frcactrl.htm#get"><span class="bold">get</span></a>
<br /><span class="bold">frcactrl</span> <a href="frcactrl.htm#default"><span class="bold">default</span></a> [ <span class="italic">option</span> ]</p>
<a name="wq1245"></a>
<h3 id="wq1245">描述</h3>
<p><span class="bold">frcactrl</span> 命令控制和配置 FRCA 的内核扩充。在启动一个想使用 FRCA 的 Web 服务器之前，必须装入内核扩充。</p>
<a name="wq1246"></a>
<h3 id="wq1246">子命令</h3>
<dl>
<dt class="bold"><a id="loadsc" name="loadsc"></a>load</dt>
<dd>载入没有载入的 FRCA 内核扩充。
</dd>
<dt class="bold"><a id="unloadsc" name="unloadsc"></a>unload</dt>
<dd>卸载已经载入了的 FRCA 内核扩充。
</dd>
<dt class="bold"><a id="opensc" name="opensc"></a>打开 <span class="italic">Ip_Address Port</span> [ <span class="italic">Virtual_Host</span> ] <span class="italic">Server_Name Virtual_Root
Log_File</span></dt>
<dd>     在名为 <span class="italic"> Server_Name</span>、IP 地址为 <span class="italic">Ip_Address</span>、端口为 <span class="italic">Port</span>的情况打开和配置一个 FRCA 实例。<span class="italic">Virtual_Root</span> 参数指定 Web 数据启动的目录。请求将被记录在 <span class="italic">Log_File</span> 指定的文件中。这个文件名称必须是全限定的。
<a name="wq1247"></a>
<div class="notetitle" id="wq1247">注:</div>
<div class="notebody">FRCA 只支持一个记录文件。在一个带有 FRCA 的系统中运行超过一个的 Web 服务器时，所有的请求都会被记录到同一个文件中。</div>
</dd>
<dt class="bold"><a id="closesc" name="closesc"></a>close <span class="italic">Ip_Address Port</span>
[ <span class="italic">Virtual_Host</span> ]</dt>
<dd>关闭与指定 IP 地址和端口相关联的 FRCA 实例。
</dd>
<dt class="bold"><a id="loadfilesc" name="loadfilesc"></a>loadfile <span class="italic">Ip_Address Port</span> [ <span class="italic">Virtual_Host</span> ] <span class="italic">Document_Root
File</span> ...</dt>
<dd>把指定的文件装入到 FRCA 或者网络的高速缓存器中。在这里必须指定 FRCA 实例较早打开所在的 IP 和端口号与根文档和要装载的文件。
</dd>
<dt class="bold"><a id="statssc" name="statssc"></a>stats [ reset ] [ <span class="italic">Interval</span> ]</dt>
<dd>显示 FRCA 的统计信息。可选的 <span class="bold">reset</span> 子命令清除（置零）这些统计信息。您可以通过使用 <span class="italic">Interval</span> 参数来按秒指定间隔的持续时间，从而在规则的时间间隔中显示统计信息。
</dd>
<dt class="bold"><a id="loggingsc" name="loggingsc"></a>logging <span class="italic">Ip_Address Port</span>
[ <span class="italic">Virtual_Host</span> ] { on | off } [ <span class="italic">Format</span> ] [ <span class="italic">CPU_Id</span> ]</dt>
<dd>将一个 FRCA 实例范围服务的请求记录日志转到指定的 <span class="italic">Ip_Address</span> 和 <span class="italic">Port</span> 上。格式可以是 CLF、V-CLF，或者 ECLF 中的一种（通常的记录格式，虚拟主机的 CLF & 扩展的 CLF）。在多处理器机器上，FRCA 记录线程也能通过指定可选的 <span class="italic">CPU_Id</span> 参数绑定到一个特定的 CPU 上。
</dd>
<dt class="bold"><a id="startsc" name="startsc"></a>start <span class="italic">Ip_Address Port</span>
[ <span class="italic">Virtual_Host</span> ]</dt>
<dd>把内核获取引擎启用到发送往指定 IP 和端口的服务请求。
</dd>
<dt class="bold"><a id="stopsc" name="stopsc"></a>stop <span class="italic">Ip_Address Port</span> [ <span class="italic">Virtual_Host</span> ]</dt>
<dd>对指定的 IP 和端口禁用内核获取引擎。
</dd>
<dt class="bold"><a id="revaltimeoutsc" name="revaltimeoutsc"></a>revaltimeout <span class="italic">Ip_Address
Port</span> [ <span class="italic">Virtual_Host</span> ] [ <span class="italic">Seconds</span> ]</dt>
<dd>对于在指定地址和端口的一个 FRCA 实例，改变重新生效的超时值。超时值必须以秒指定。
</dd>
<dt class="bold"><a id="pctonintrsc" name="pctonintrsc"></a>pctonintr [ <span class="italic">Percentage</span> ]</dt>
<dd>控制能被在中断上下文花费的 CPU 时间百分比。如果这个值太低，那么 FRCA 将更多的把请求送到 Web 服务器上，因为它总是在中断上下文执行。任何 >= 100 的值都会导致 FRCA 对 FRCA 高速缓存的每个请求服务。
</dd>
<dt class="bold"><a id="set" name="set"></a>set {option=<span class="italic">value</span>}</dt>
<dd>将指定的 FRCA 选项指定为该值。当前可用的唯一选项是 <span class="bold">frca_hashsz</span>，它将 FRCA 散列表中的插槽数设置为指定值。<span class="bold">frca_hashsz</span> 的缺省值是 12841。如果更改，使用的值必须为质数，因为这将使散列表项更平衡地分布。
</dd>
<dt class="bold"><a id="get" name="get"></a>get</dt>
<dd>显示所有可用的 FRCA 选项及它们的当前值。当前仅存在名为 <span class="bold">frca_hashsz</span> 的选项。
</dd>
<dt class="bold"><a id="default" name="default"></a>default [<span class="italic">option</span>]</dt>
<dd>当使用时不指定选项名称时，将所有选项的值设置为它们的缺省值。如果指定了选项名称，则它仅将指定选项的值设置为缺省值。
</dd>
</dl>
<a name="wq1248"></a>
<h3 id="wq1248">示例</h3>
<ol type="1">
<li>下面的示例是关于使用 <span class="bold">open</span> 子命令的：
<pre class="xmp">frcactrl open 9.1.1.1 80 ici imgcache01 /htdocs /logs/frca.log bin</pre>
<pre class="xmp">frcactrl open 9.1.1.2 80 ici imgcache02 /htdocs /logs/frca.log bin</pre>在上面的例子中，“ici”是虚拟主机的名字，它被用来访问 镜像 imgcache01 或 imgcache02中的一个。如果 Web 服务器没有被绑定到一个指定的 IP 地址上的话，IP 地址可能就是 0.0.0.0。</li>
<li>为了关闭与 IP 地址 9.1.1.1 和端口 80 相关联的 FRCA 实例，请输入：
<pre class="xmp">frcactrl close 9.1.1.1 80</pre></li>
<li>为了用 URLs /d 和 /e 装入文件 /a/b/c/d 和 /a/b/c/e 的上下文，请输入：
<pre class="xmp">frcactrl loadfile /a/b/c /a/b/c/d e</pre></li>
<li>为了显示 FRCA 的统计信息，请输入：
<pre class="xmp">frcactrl stats
</pre>这将导致 FRCA 统计信息被显示。它们看上去与下面的情况类似：
<pre class="xmp">       总计     延迟        高速缓存       高速缓存    资源
    请求        请求            命中      未命中      错误
 -----------------------------------------------------------
  1024065396         227  1024065168           1           0</pre></li>
<li>这个例子表明在虚拟主机“ici”上如何使用 <span class="bold">start</span> 子命令：
<pre class="xmp">frcactrl start 9.1.1.1 80 ici</pre>
<a name="wq1250"></a>
<div class="notetitle" id="wq1250">注:</div>
<div class="notebody">虚拟主机参数是可选的。</div></li>
<li>为了能在虚拟主机“ici”上对端口 80 和 IP 地址 9.1.1.1 上禁用内核获取引擎，请输入：
<pre class="xmp">frcactrl stop 9.1.1.1 80 ici</pre></li>
<li>下面的例子把在端口 80 和 IP 地址 9.1.1.1 上的 FRCA 示例的重新生效超时值设置为 100 秒。
<pre class="xmp">frcactrl revaltimeout 9.1.1.1 80 100</pre></li>
<li>为了允许 CPU 把它 98％ 的时间用在中断上下文，请输入：
<pre class="xmp">frcactrl pctonintr 98</pre></li>
<li>要将 <span class="bold">frca_hashsz</span> 选项的值设置为 24499，请输入：
<pre class="xmp">frcactrl set frca_hashsz=24499</pre></li>
<li>要将 <span class="bold">frca_hashsz</span> 的值设置为缺省值，请输入：
<pre class="xmp">frcactrl default frca_hashsz</pre></li></ol>
<a name="wq1251"></a>
<h3 id="wq1251">文件</h3>
<p>/usr/bin/frcactrl</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="frcactrl.htm#Top_Of_Page">页的顶部</a> | <a href="forw.htm">上一页</a> | <a href="from.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
