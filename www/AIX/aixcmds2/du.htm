<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - du 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="du 命令, 显示块数目。, 文件, disk usage" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="du.htm#Bot_Of_Page">页的底部</a> | <a href="dtterm.htm">上一页</a> | <a href="dump.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="a10192bd5"></a>
<h2 id="a10192bd5">du 命令</h2>
<p><a id="idx278" name="idx278"></a></p>
<a name="a10192bd7"></a>
<h3 id="a10192bd7">用途</h3>
<a name="f008d84296mela"></a>
<p id="f008d84296mela">概述磁盘使用。<a id="idx279" name="idx279"></a> <a id="idx280" name="idx280"></a></p>
<a name="d7641b7766jani"></a>
<h3 id="d7641b7766jani">语法</h3>
<p><span class="bold">du</span> [   <a href="du.htm#a10192be3"><span class="bold">-a</span></a> |      <a href="du.htm#a10192be6"><span class="bold">-s </span></a>] [      <a href="du.htm#w6c340bob"><span class="bold">-k   </span></a>]
[      <a href="du.htm#duminusmflag"><span class="bold">-m  </span></a> ] [      <a href="du.htm#duminusgflag"><span class="bold">-g     </span></a>][      <a href="du.htm#a10192be4"><span class="bold">-l     </span></a>] [      <a href="du.htm#a10192be5"><span class="bold">-r     </span></a>] [  <a href="du.htm#cliyi322cand"><span class="bold">-x</span></a> ]
[ <a href="du.htm#jnhfdsaj001"><span class="bold">-H</span></a> | <a href="du.htm#jnhfdsaj002"><span class="bold">-L</span></a> ][     <span class="italic">File     ...</span>     ]</p>
<a name="a10192bdb"></a>
<h3 id="a10192bdb">描述</h3>
<p><span class="bold">du</span>命令显示用于文件的块的数量。如果指定的<span class="italic">File</span>参数实际上是一个目录，就要报告该目录内的所有文件。如果没有提供<span class="italic"> File</span>参数，<span class="bold">du</span>命令使用当前目录内的文件。</p>
<p>如果<span class="italic">File</span>参数是一个目录，那么报告的块的数量就是分配到目录中文件以及分配到目录自身的块之和。</p>
<p>指定<a href="du.htm#a10192be3"><span class="bold">-a</span></a>标志，报告个体文件中块数量。不管是否使用了<span class="bold">-a</span>标志，由<span class="italic">File</span>参数指定的个体文件总是要列出。</p>
<p>指定<a href="du.htm#a10192be6"><span class="bold">-s</span></a>标志，报告用于所有指定文件和目录中所有文件的全部块。</p>
<p>块计数包括每个文件的间接块。块计数是通过 512 字节单位计算的，它与系统使用的群集大小无关。指定<a href="du.htm#w6c340bob"><span class="bold">-k</span></a>标志，通过 1024 字节单位计算块数。</p>
<a name="wq613"></a>
<div class="notelisttitle" id="wq613">注:</div>
<ol type="1">
<li>具有多个链接的文件只为一个条目计数和书写。</li>
<li>由于块计数只基于文件大小，所以在报告的块数中，未分配的块是没有包含进去的。</li>
<li>如果<span class="bold">du</span>得不到文件属性，或者无法读取目录，它就报告一个错误，并且会影响命令的退出状态。</li>
</ol>
<a name="a10192be2"></a>
<h3 id="a10192be2">标志</h3>
<p></p>
<a name="wq615"></a>
<table id="wq615" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="a10192be3" name="a10192be3"></a><span class="bold">-a</span></td>
<td width="86%">  为每个指定文件显示磁盘使用情况，或者为目录中每个文件显示各自磁盘使用情况。将该标志与<span class="bold">-s</span>标志进行对比。</td>
</tr>
<tr>
<td>
<a id="duminusgflag" name="duminusgflag"></a><span class="bold">-g</span></td>
<td>用 GB 单位计算块数，而不是用缺省的 512 字节单位。对磁盘使用情况的输出值要用浮点数，这是因为如果用字节为单位的话，值会非常大。</td>
</tr>
<tr>
<td>
<a id="jnhfdsaj001" name="jnhfdsaj001"></a><span class="bold">-H</span></td>
<td>如果在命令行指定了符号链接，<span class="bold">du</span> 命令将统计链接引用的文件或文件层次结构的大小。</td>
</tr>
<tr>
<td>
<a id="w6c340bob" name="w6c340bob"></a><span class="bold">-k</span></td>
<td>  用 1024 字节单位计算块数，而不是用缺省的 512 字节单位。</td>
</tr>
<tr>
<td>
<a id="a10192be4" name="a10192be4"></a><span class="bold">-l</span></td>
<td>在文件链接和多链接之间均匀地分配块。根据缺省值，有两个或者更多链接的文件只计数一次。</td>
</tr>
<tr>
<td>
<a id="jnhfdsaj002" name="jnhfdsaj002"></a><span class="bold">-L</span></td>
<td>如果在命令行指定了符号链接或者在文件层次结构的遍历中多次遇到符号链接，则 <span class="bold">du</span> 命令应统计链接引用的文件或文件层次结构的大小。</td>
</tr>
<tr>
<td>
<a id="duminusmflag" name="duminusmflag"></a><span class="bold">-m</span></td>
<td>用 MB 单位计算块数，而不是用缺省的 512 字节单位。对磁盘使用情况的输出值要用浮点数，这是因为如果用字节为单位的话，值会非常大。</td>
</tr>
<tr>
<td>
<a id="a10192be5" name="a10192be5"></a><span class="bold">-r</span></td>
<td>  报告不可访问的文件或者目录名。此为缺省设置。</td>
</tr>
<tr>
<td>
<a id="a10192be6" name="a10192be6"></a><span class="bold">-s</span></td>
<td>  为所有指定文件显示整个磁盘使用情况，或者为一个目录中的所有文件
显示总的磁盘使用情况。将该标志与<span class="bold">-a</span>标志进行对比。</td>
</tr>
<tr>
<td>
<a id="cliyi322cand" name="cliyi322cand"></a><span class="bold">-x</span></td>
<td>  在评估文件大小时，只评估那些与<span class="italic">File</span>参数指定的文件或者目录驻留在相同设备上的文件。例如，您可以指定一个
在多个设备上包含文件的目录。这种情况下，<span class="bold">-x</span>标志就为与目录驻留在相同设备的所有文件显示块的大小。</td>
</tr>
</tbody>
</table><p class="indatacontent">如果指定了全部<span class="bold">-k</span>、<span class="bold">-m</span>和<span class="bold">-g</span>标志，或者是其中任意两个，最后指定的那个起作用。用标志<span class="bold">-m</span>和<span class="bold">-g</span>输出磁盘使用情况就会近似成最接近的第二位十进制数。</p>
<a name="ac33b65589mike"></a>
<h3 id="ac33b65589mike">退出状态</h3>
<a name="f008d86528mela"></a>
<p id="f008d86528mela">此命令返回下列出口值:</p>
<a name="wq616"></a>
<table id="wq616" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="33%">
<a id="ac33b65769mike" name="ac33b65769mike"></a><span class="bold">0</span></td>
<td width="66%">  成功结束。</td>
</tr>
<tr>
<td>
<a id="ac33b65853mike" name="ac33b65853mike"></a><span class="bold">>0</span></td>
<td>  发生错误。</td>
</tr>
</tbody>
</table>
<a name="a10192be7"></a>
<h3 id="a10192be7">示例</h3>
<ol type="1">
<li>要概述一个目录树及其每个子树的磁盘使用情况，请输入：
<p></p>
<pre class="xmp">du /home/fran</pre><p class="indatacontent"> 这在<tt>/home/fran</tt>目录及其每个子目录中显示了磁盘块数。</p></li>
<li>要通过 1024 字节块概述一个目录树及其每个子树的磁盘使用情况，请输入：
<pre class="xmp">du -k /home/fran</pre>  这在<span class="bold">/home/fran</span>目录及其每个子目录中显示了 1024 字节磁盘块数。</li>
<li>要通过 MB 磁盘块概述一个目录树及其每个子树的磁盘使用情况，请输入：
<pre class="xmp">du -m /home/fran</pre>  这在<span class="bold">/home/fran</span>目录及其每个子目录中显示了 MB 磁盘块数（近似到最接近的第二位十进制数）。</li>
<li>要通过 GB 块概述一个目录树及其每个子树的磁盘使用情况，请输入：
<pre class="xmp">du -g /home/fran</pre>  这在<span class="bold">/home/fran</span>目录及其每个子目录中显示了 GB 磁盘块数（近似到最接近的第二位十进制数）。</li>
<li>要显示每个文件磁盘使用情况，请输入：
<pre class="xmp">du  -a /home/fran</pre> 这显示了包含在每个文件以及目录<tt>/home/fran</tt>的子目录中的磁盘块数。在目录旁的数字就是该目录树的磁盘使用情况。在常规文件旁的数字就是该文件单独的磁盘使用情况。</li>
<li>要只显示一个目录树的全部磁盘使用情况，请输入：
<pre class="xmp">du  -s /home/fran</pre> <span class="bold">-s</span>标志控制<span class="bold">du</span>命令，只显示<tt>/home/fran</tt>目录和其中包含的文件的磁盘使用情况的总和。通过缺省值，如果<span class="bold">du</span>命令无法读取一个文件或者目录，就显示一条错误消息。</li>
<li>除了在 <tt class="xph">/home/fran</tt> 的遍历中找到的常规文件，还要显示所有符号链接引用的文件或文件层次结构的磁盘使用，请输入：
<pre class="xmp">du -L /home/fran</pre></li>
<li>要报告符号链接 <tt class="xph">mylink</tt> 引用的文件或文件层次结构的磁盘使用，请输入：
<pre class="xmp">du -H mylink</pre></li></ol>
<a name="a10192bf3"></a>
<h3 id="a10192bf3">文件</h3>
<p></p>
<a name="wq618"></a>
<table id="wq618" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="18%">
<a id="a10192bca" name="a10192bca"></a><span class="bold">/usr/bin/du</span></td>
<td width="81%">  包含命令<span class="bold">du</span>。</td>
</tr>
</tbody>
</table>
<a name="a10192bf6"></a>
<h3 id="a10192bf6">相关信息</h3>
<a name="f008d88067mela"></a>
<p id="f008d88067mela"><a href="df.htm#a10192b83"><span class="bold">df</span></a>命令。</p>
<a name="f008d88161mela"></a>
<p id="f008d88161mela"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixuser/usrosdev/dir_overview.htm#jy490craw">『目录概述』</a>解释了对目录和路径名字的处理。</p>
<a name="f008d88254mela"></a>
<p id="f008d88254mela"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixuser/usrosdev/files.htm#rl33b0fish">『文件概述』</a>提供了处理文件的信息。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="du.htm#Top_Of_Page">页的顶部</a> | <a href="dtterm.htm">上一页</a> | <a href="dump.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
