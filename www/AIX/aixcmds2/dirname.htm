<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - dirname 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="dirname 命令, 写到指定路径, 输出" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="dirname.htm#Bot_Of_Page">页的底部</a> | <a href="dircmp.htm">上一页</a> | <a href="dis.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="fq730prio"></a>
<h2 id="fq730prio">dirname 命令</h2>
<p><a id="idx208" name="idx208"></a></p>
<a name="a227y9e1"></a>
<h3 id="a227y9e1">用途</h3>
<a name="f00730b560mela"></a>
<p id="f00730b560mela">把指定路径除了最后以外的部分写到标准输出。<a id="idx209" name="idx209"></a></p>
<a name="a227y9e3"></a>
<h3 id="a227y9e3">语法</h3>
<p><span class="bold">dirname</span><span class="italic"> Path</span></p>
<a name="a227y9e6"></a>
<h3 id="a227y9e6">描述</h3>
<a name="f00730b989mela"></a>
<p id="f00730b989mela"><span class="bold">dirname</span> 命令读取指定路径名保留最后一个“/”（斜杠）及其后面的字符，删除其他部分，并写结果到标准输出。如果最后一个“/”后无字符，<span class="bold">dirname</span> 命令使用倒数第二个“/”，并忽略其后的所有字符。<span class="bold">dirname</span> 命令
在创建路径名的时候遵从以下规则：</p>
<ol type="1">
<li><a name="d76407c908jani"></a><span id="d76407c908jani" class="pk"></span>如果 <span class="italic">Path</span> 参数
为“//”（双斜杠），或者参数 <span class="italic">Path</span> 全部由斜杠组成，将其转换为单斜杠“/”。跳过步骤 2 到 7。</li>
<li><a name="btmui5bcand"></a><span id="btmui5bcand" class="pk"></span>从指定路径删除尾部的“/”字符。</li>
<li><a name="d76407c975jani"></a><span id="d76407c975jani" class="pk"></span>如果参数 <span class="italic">Path</span> 中没有剩下的“/”，则将路径转换成 &nbsp;<span class="bold">.&nbsp;</span>（点）。跳过步骤 4 到 7。</li>
<li><a name="uumui36ccand"></a><span id="uumui36ccand" class="pk"></span>从路径中删除尾部的所有非斜杠字符。</li>
<li><a name="d76407d045jani"></a><span id="d76407d045jani" class="pk"></span>如果剩下的路径为“//”（双斜杠），跳到步骤 6。</li>
<li><a name="ywmui124cand"></a><span id="ywmui124cand" class="pk"></span>删除路径尾部的斜杠字符。</li>
<li><a name="ntmui205cand"></a><span id="ntmui205cand" class="pk"></span>如果剩下的路径为空，则转换成单斜杠“/”。</li></ol>
<a name="f00730c586mela"></a>
<p id="f00730c586mela">例如，输入：</p>
<p></p>
<a name="d76407d169jani"></a>
<pre id="d76407d169jani" class="xmp">dirname // </pre>
<a name="f00730c738mela"></a>
<p id="f00730c738mela">结果为 <tt>/</tt>（斜杠）。输入：</p>
<p></p>
<a name="d76407d239jani"></a>
<pre id="d76407d239jani" class="xmp">dirname /a/b/ </pre>
<a name="f00730c885mela"></a>
<p id="f00730c885mela">结果为：<tt>/a</tt>。输入：</p>
<p></p>
<a name="d76407d307jani"></a>
<pre id="d76407d307jani" class="xmp">dirname a </pre>
<a name="f00730d038mela"></a>
<p id="f00730d038mela">结果为 <tt>.</tt> （点）。输入：</p>
<p></p>
<a name="d76407d376jani"></a>
<pre id="d76407d376jani" class="xmp">dirname a/b </pre>
<a name="f00730d186mela"></a>
<p id="f00730d186mela">结果为路径名 <tt>a</tt>。</p>
<a name="f00730d282mela"></a>
<p id="f00730d282mela">命令 <span class="bold">dirname</span> 和  <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds1/basename.htm#a226983"><span class="bold">basename</span></a> 通常在 shell 内部命令替换使用，以指定一个与指定输入文件名略有差异的输出文件名。</p>
<a name="ac3362a610mike"></a>
<h3 id="ac3362a610mike">退出状态</h3>
<a name="f00730d437mela"></a>
<p id="f00730d437mela">此命令返回下列退出值：</p>
<a name="wq339"></a>
<table id="wq339" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="ac3362a786mike" name="ac3362a786mike"></a><span class="bold">0</span></td>
<td width="95%">  成功完成</td>
</tr>
<tr>
<td>
<a id="ac3362a869mike" name="ac3362a869mike"></a><span class="bold">&gt;0</span></td>
<td>  发生错误。</td>
</tr>
</tbody>
</table>
<a name="a227y9ec"></a>
<h3 id="a227y9ec">示例</h3>
<a name="f00730d721mela"></a>
<p id="f00730d721mela">要构造和另一文件位于相同目录的一个文件名，请输入：</p>
<p></p>
<a name="a208977e"></a>
<pre id="a208977e" class="xmp">AOUTFILE=`dirname $TEXTFILE`/a.out</pre>
<a name="f00730d884mela"></a>
<p id="f00730d884mela">这将设置 shell 变量 <tt>AOUTFILE</tt> 作为文件 <span class="bold">a.out</span> 的名称，它与 <tt>TEXTFILE</tt> 位于同一目录。如果 <tt>TEXTFILE</tt> 是 <span class="bold">/home/fran/prog.c</span>，则 <tt>dirname</tt><tt> $TEXTFILE</tt> 的值成了 <span class="bold">/home/fran</span>，且 <tt>AOUTFILE</tt> 变成了 <span class="bold">/home/fran/a.out</span>。</p>
<a name="d76407d753jani"></a>
<h3 id="d76407d753jani">文件</h3>
<p></p>
<a name="wq340"></a>
<table id="wq340" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="27%">
<a id="d76407d792jani" name="d76407d792jani"></a><span class="bold">/usr/bin/dirname</span></td>
<td width="72%">  包含令 <span class="bold">dirname</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a227y9f9"></a>
<h3 id="a227y9f9">相关信息</h3>
<a name="f00730e549mela"></a>
<p id="f00730e549mela"><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds1/basename.htm#a226983"><span class="bold">basename</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/sh.htm#a66f011a"><span class="bold">sh</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="dirname.htm#Top_Of_Page">页的顶部</a> | <a href="dircmp.htm">上一页</a> | <a href="dis.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
