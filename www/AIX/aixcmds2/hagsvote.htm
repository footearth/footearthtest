<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - hagsvote 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="hagsvote 命令, hagsvote, 命令集" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="hagsvote.htm#Bot_Of_Page">页的底部</a> | <a href="hagsns.htm">上一页</a> | <a href="halt.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="hagsvote"></a>
<h2 id="hagsvote">hagsvote <span>命令</span></h2>
<a name="wq1718"></a>
<h3 id="wq1718">用途</h3>
<p><span>G</span>获得分组服务组表决信息 <a id="idx627" name="idx627"></a> <a id="idx628" name="idx628"></a></p>
<a name="wq1719"></a>
<h3 id="wq1719">语法</h3>
<p><span class="pk">hagsvote</span> [<span class="pk">-h</span> <var class="pv">host</var>] [<span class="pk">-l</span>] [<span class="pk">-a</span> <var class="pv">argument</var>] [<span class="pk">-c</span>] <span class="pk">-g</span> <var class="pv">group_name</var></p>
<p><span class="pk">hagsvote</span> [<span class="pk">-h</span> <var class="pv">host</var>] [<span class="pk">-l</span>] [<span class="pk">-a</span> <var class="pv">argument</var>] [<span class="pk">-c</span>] <span class="pk">-s</span> <var class="pv">subsystem_name</var></p>
<p><span class="pk">hagsvote</span> [<span class="pk">-h</span> <var class="pv">host</var>] [<span class="pk">-l</span>] [<span class="pk">-a</span> <var class="pv">argument</var>] [<span class="pk">-c</span>] <span class="pk">-p</span> <var class="pv">subsystem_name</var></p>
<a name="wq1720"></a>
<h3 id="wq1720">描述</h3>
<p>为分组服务使用 <span class="pk">hagsvote</span> 命令来查询表决协议的状态。</p>
<a name="wq1721"></a>
<h3 id="wq1721">标志</h3>
<dl>
<dt class="bold">-a</dt>
<dd>指定分组服务的组名。该组名不同于 <span class="pk">-g</span> <span>标志</span>的组名。在这种情况下，从客户机的第一个加入协议的请求来创建这个组。
</dd>
<dt class="bold">-c</dt>
<dd>请求分组服务表决信息的规范输出。输出用英文显示，与所安装的语言环境无关。如果没有指定 <span class="pk">-c</span>，守护程序的语言环境就会被用于输出。
</dd>
<dt class="bold">-g <var class="pv">group_name</var></dt>
<dd>指定一组子系统来为之获取状态。如果<var class="pv"> group_name</var> 变量没有包含在子系统对象类中，命令就不会成功。
</dd>
<dt class="bold">-h <var class="pv">host</var></dt>
<dd>指定所要获取状态的主机名。
</dd>
<dt class="bold">-l</dt>
<dd>请求以『长』格式输出详细信息。
</dd>
<dt class="bold">-p <var class="pv">subsystem_pid</var></dt>
<dd>指定为其获取表决的 <var class="pv">subsystem_pid</var> 变量的一个特定实例。
</dd>
<dt class="bold">-s <var class="pv">subsystem_name </var></dt>
<dd>指定要表决的子系统。<var class="pv">subsystem_name</var> 变量可能是实际的子系统名，也可能是其同义名。如果<var class="pv"> subsystem_name</var> 变量没有包含在子系统对象类中，命令就不会完成。
</dd>
</dl>
<a name="wq1722"></a>
<h3 id="wq1722">参数</h3>
<dl>
<dt class="bold"><var class="pv">daemon_name</var></dt>
<dd>指定守护进程用以命名记录文件和识别在 AIX 错误日志中的消息的名称。
</dd>
</dl>
<a name="wq1723"></a>
<h3 id="wq1723">安全性</h3>
<p>必须有<span class="pk"> root 用户</span>特权来运行此命令。</p>
<a name="wq1724"></a>
<h3 id="wq1724">退出状态</h3>
<dl>
<dt class="bold">0</dt>
<dd>指示命令已成功完成.
</dd>
<dt class="bold">非零</dt>
<dd>显示有错误产生.
</dd>
</dl>
<a name="wq1725"></a>
<h3 id="wq1725">限制</h3>
<p>此命令只在 PSSP 环境下有效.</p>
<a name="wq1726"></a>
<h3 id="wq1726">标准输出</h3>
<p>必要时此命令把错误信息写到标准错误中。</p>
<a name="wq1727"></a>
<h3 id="wq1727">标准错误</h3>
<p>必要时此命令把错误信息写到标准错误中。</p>
<a name="wq1728"></a>
<h3 id="wq1728">示例</h3>
<p></p>
<ol type="1">
<li>看以长格式为 <span class="pk"> SourceGroup</span> 分组而选取的协议的状态信息，请输入：
<pre class="xmp">hagsvote -ls cthags -a theSourceGroup (locale-dependent)</pre> 
<p>输出表示如下:</p>
<pre class="xmp">分组数目:4
分组数目 [ theSourceGroup ] GL 节点 [26 ] 所选数据:
GL 在阶段 [1]类型协议的 n 个阶段 [ 加入 ].
本地表决数据:
供应商数目: 1
没有投票的供应商数目: 1 (没有提交选票)。给定表决:[ 无表决值 ] 缺省表决:[ 无表决值 ]
供应商标识表决?没有?附条件?
[101/26] 不 不 是
全局表决数据:
仍没有表决的供应商数目:1
给定表决:[ 无表决值 ] 缺省表决:[ 无表决值 ]
已表决的节点:[]
没有表决的节点:[26 ]</pre>  
<p>输出的第一行表示分组总数为 4。第二行提供了组名和组的引导符节点（在本例中是节点 26）。其余行给出下列表决数据：</p>
<ul>
<li>组引导符位于 n 阶段协议的第一阶段。</li>
<li>协议为联合协议。</li>
<li>对于本地节点，有一个供应商，还没有表决的供应商的数目为 1。</li>
<li>不给定缺省表决值，也不给定表决值。</li>
<li>在“ProviderID Voted? Failed? Conditional?”行下，“[101/16] No
No Yes,”意味着提供程序标识为 101/26，尚未表决，未失败，但等待表决（因此它是有条件的）。</li></ul> 
<p>输出然后就会显示全局表决状态:</p>
<ul>
<li>没有表决的供应商数目仍为 1。</li>
<li>没有给定表决值，也没有给定缺省表决值。</li>
<li>已表决的节点为零。</li>
<li>没有表决的节点为节点 26。</li></ul></li>
<li>在下面的例子里，输出的每一行的意思除了节点 26 是组引导符节点外都与第一个例子相同。
<pre class="xmp">hagsvote -ls cthags -theSourceGroup -c（canonical form）</pre> 
<p>输出表示如下:</p>
<pre class="xmp">分组数目:4
组名:theSourceGroup
GL 节点:26（I am GL）n 个阶段协议的当前阶段数:1
协议名:[ 加入 ]
本地表决数据:
本地供应商数目:1
没有表决的本地供应商数目:1（没有提交表决）给定表决:[ 无表决值 ] 缺省表决:[ 无表决值 ] 全局表决数据:
组中的节点数:1
没有表决的全局提供程序数目:1
给定表决:[ 无表决值 ] 缺省表决:[ 无表决值 ]
已表决的节点:[]
没有表决的节点:[26 ]</pre></li></ol>
<a name="wq1730"></a>
<h3 id="wq1730">位置</h3>
<dl>
<dt class="bold">/usr/sbin/rsct/bin/hagsvote</dt>
<dd>包含 <span class="pk">hagsvote</span> 命令
</dd>
</dl>
<a name="wq1731"></a>
<h3 id="wq1731">文件</h3>
<dl>
<dt class="bold"><span class="pk">/var/ha/log/hags_</span><var class="pv">nodenum</var>_<var class="pv">instnum</var>.<var class="pv">syspar_name</var></dt>
<dd>包含节点上 <span class="pk">hagsd</span> 守护进程的日志
</dd>
<dt class="bold"><span class="pk">/var/ha/log/hags.</span><var class="pv">syspar_name</var>_<var class="pv">nodenum</var>_<var class="pv">instnum</var>.<var class="pv">syspar_name</var></dt>
<dd>包含控制工作站上的每一 <span class="pk">hagsd</span> 守护进程的日志.
</dd>
</dl>
<p>文件名包含下列变量:</p>
<ul>
<li><var class="pv">nodenum</var> 是有守护进程运行的节点号。</li>
<li><var class="pv">instnum</var> 是守护进程的实例号。</li>
<li><var class="pv">syspar_name</var> 是有守护进程运行的系统分区的名字。</li></ul>
<a name="wq1732"></a>
<h3 id="wq1732">相关信息</h3>
<p>命令:<span class="pk">hagsns</span>、<span class="pk">lssrc</span>、<span class="pk">nlssrc</span></p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="hagsvote.htm#Top_Of_Page">页的顶部</a> | <a href="hagsns.htm">上一页</a> | <a href="halt.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
