<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - errinstall 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="errinstall 命令, 正在错误日志消息集中安装, 消息" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="errinstall.htm#Bot_Of_Page">页的底部</a> | <a href="errdemon.htm">上一页</a> | <a href="errlogger.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="a256b92f"></a>
<h2 id="a256b92f">errinstall 命令</h2>
<p><a id="idx405" name="idx405"></a></p>
<a name="a256b931"></a>
<h3 id="a256b931">用途</h3>
<a name="f0ad414714mart"></a>
<p id="f0ad414714mart">在错误日志消息集中安装消息。<a id="idx406" name="idx406"></a></p>
<a name="d67aba9192bolt"></a>
<h3 id="d67aba9192bolt">语法</h3>
<p><span class="bold">errinstall</span> [   <a href="errinstall.htm#a256b938"><span class="bold">-c  </span></a>] [   <a href="errinstall.htm#a256b939"><span class="bold">-f
 </span></a>] [   <a href="errinstall.htm#a256b93a"><span class="bold">-q  </span></a>] [   <a href="errinstall.htm#rqfqi38kbar"><span class="bold">-z  </span></a><span class="italic">FileName</span>  ] <span class="italic">File</span></p>
<a name="a256b935"></a>
<h3 id="a256b935">描述</h3>
<a name="f0ad415439mart"></a>
<p id="f0ad415439mart"><span class="bold">errinstall</span> 命令是一个安装帮助，可以帮助您在错误日志消息编目的错误描述、可能原因、用户原因、安装原因、失败原因、推荐操作和详细数据 ID 消息集中添加或替换消息。</p>
<a name="f0ad415537mart"></a>
<p id="f0ad415537mart"><span class="italic">File</span> 参数指定了含有要被添加或替换消息的输入文件。如果不指定 <span class="italic">File</span> 参数或把其指定为 <span class="bold">-</span>（减号）, <span class="bold"> errinstall</span> 命令从标准输入读取。</p>
<p></p><blockquote><a name="a48f2c8"></a><span id="a48f2c8" class="pk"></span><span class="bold">注意：</span>程序产品和内部应用程序应该使用错误日志消息集中的预定义消息。要列出预定义消息，用 <span class="bold">errmsg -w</span> 命令。要添加新消息，第三方软件供应商应该和 IBM 解决方案开发者联系来注册新消息。在内部应用程序的开发中，可以用 <span class="bold">errmsg</span> 命令来添加新消息，但是一定不能和为其他内部应用程序添加的消息冲突。</blockquote>
<a name="d67aba9679bolt"></a>
<h4 id="d67aba9679bolt">撤销功能</h4>
<a name="f0ad415859mart"></a>
<p id="f0ad415859mart"><span class="bold">errinstall</span> 命令在当前目录下创建一个撤销文件，名为 <span class="italic">File</span>.<span class="bold">undo</span> 文件。(如果 <span class="bold">errinstall</span> 命令从标准输入读入消息，则撤销文件的信息被写到标准输出。)<span class="italic">File</span><span class="bold">.undo</span> 文件可以作为 <span class="bold">errinstall</span> 命令的输入来使用，用来撤销 <span class="bold">errinstall</span> 命令刚刚产生的改变。要撤销改变，运行 <span class="bold">errinstall</span> 命令，带有 <span class="bold">-f</span> 标志并指定 <span class="italic">File</span><span class="bold">.undo</span> 文件为 <span class="italic">File</span> 参数。</p>
<a name="c1a4ab7406cand"></a>
<h4 id="c1a4ab7406cand">输入文件（或标准输入）文件格式</h4>
<a name="f0ad416029mart"></a>
<p id="f0ad416029mart">要求有两行单独的信息来添加或替换错误日志消息编目中的单一的消息。您可以在单一文件中包含多条附加消息或替代消息。第一行是用来指定要被添加或替换到哪一个消息集的，用下面的格式：</p>
<p></p>
<a name="c1a4ab7553cand"></a>
<pre id="c1a4ab7553cand" class="xmp">SET MessageSetID</pre>
<a name="f0ad416190mart"></a>
<p id="f0ad416190mart">这里 <span class="italic">MessageSetID</span> 参数是下列单字符之一：</p>
<a name="wq898"></a>
<table id="wq898" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="d67aba9902bolt" name="d67aba9902bolt"></a><span class="bold">E</span><tt></tt></td>
<td width="95%">  识别错误描述</td>
</tr>
<tr>
<td>
<a id="d67aba9945bolt" name="d67aba9945bolt"></a><span class="bold">P</span><tt></tt></td>
<td>  识别可能原因</td>
</tr>
<tr>
<td>
<a id="d67aba9988bolt" name="d67aba9988bolt"></a><span class="bold">U</span><tt></tt></td>
<td>  识别用户原因</td>
</tr>
<tr>
<td>
<a id="d67abaa031bolt" name="d67abaa031bolt"></a><span class="bold">I</span><tt></tt></td>
<td>  识别安装原因</td>
</tr>
<tr>
<td>
<a id="d67abaa074bolt" name="d67abaa074bolt"></a><span class="bold">F</span></td>
<td>  识别失败原因</td>
</tr>
<tr>
<td>
<a id="d67abaa119bolt" name="d67abaa119bolt"></a><span class="bold">R</span><tt></tt></td>
<td>  识别推荐操作</td>
</tr>
<tr>
<td>
<a id="d67abaa162bolt" name="d67abaa162bolt"></a><span class="bold">D</span></td>
<td>  识别详细信息数据</td>
</tr>
</tbody>
</table>
<a name="f0ad416896mart"></a>
<p id="f0ad416896mart">第二行列出要被添加或替换的消息和消息 ID。至少要求一行，也可以包含多行，跟在标志消息集的单行后面。如前面所说，用户应该和他们的服务代表联系来获得消息 ID，除非此消息只在内部应用程序中使用（在此情况下，用 <span class="bold">errmsg</span> 命令来安装不带预定义错误消息 ID 的错误消息）。</p>
<a name="f0ad416992mart"></a>
<p id="f0ad416992mart">必须在消息 ID 和消息文本之间加一个空格，并且把消息文本用双引号括起来，如下：</p>
<p></p>
<a name="c1a4ab7875cand"></a>
<pre id="c1a4ab7875cand" class="xmp">消息 ID "消息文本"</pre>
<a name="f0ad417154mart"></a>
<p id="f0ad417154mart">除了必须的两行信息行以外，还可以包含注释行。一个注释行必须在第一列以 $ (美元符号)或*（星号）开头。优先选择星号开头。</p>
<p></p><blockquote><a name="d67abaa653bolt"></a><span id="d67abaa653bolt" class="pk"></span><span class="bold">注意：</span> 添加到错误描述、可能原因和详细数据 ID 消息集中的消息不能超过 40 个字符长度。添加到用户原因、安装原因、失败原因和推荐操作消息集里的消息在长度上不能超过128个字符。如果超长，<span class="bold">errinstall</span> 命令会显示一个警告消息，但把消息添加到代码点目录里。这些消息会在用 summary errpt 命令显示时被截断。</blockquote>
<a name="a256b937"></a>
<h3 id="a256b937">标志</h3>
<p></p>
<a name="wq899"></a>
<table id="wq899" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="18%">
<a id="a256b938" name="a256b938"></a><span class="bold">-c</span></td>
<td width="81%">  检查输入的 <span class="italic">File</span> 参数的语法错误。</td>
</tr>
<tr>
<td>
<a id="a256b939" name="a256b939"></a><span class="bold">-f</span></td>
<td>  替换有重复 ID 的消息。当试图用已经使用的消息 ID 来添加一条消息时，<span class="bold">-f</span> 标志强迫 <span class="bold">errinstall</span> 命令用新的消息文本替换旧的消息文本。如果不指定 <span class="bold">-f</span> 标志，则不替换旧的消息文本，并写警告消息到标准错误。<span class="bold">-f</span> 标志在撤销一个消息安装时也需要带上。</td>
</tr>
<tr>
<td>
<a id="a256b93a" name="a256b93a"></a><span class="bold">-q</span></td>
<td>  禁止创建 <span class="bold">undo</span> 文件。</td>
</tr>
<tr>
<td>
<a id="rqfqi38kbar" name="rqfqi38kbar"></a><span class="bold">-z</span><span class="italic"> FileName</span></td>
<td>  使用由参数 <span class="italic">FileName</span> 指定的错误日志消息编目。</td>
</tr>
</tbody>
</table>
<a name="a68f01be"></a>
<h3 id="a68f01be">安全性</h3>
<a name="f0ad418236mart"></a>
<p id="f0ad418236mart">访问控制：只有 root 用户才能运行这个命令。</p>
<a name="a258b9125"></a>
<h3 id="a258b9125">示例</h3>
<ol type="1">
<li><a name="a258b9126"></a><span id="a258b9126" class="pk"></span>要为已经注册的产品 <tt>lpp</tt> 安装错误日志消息,输入：
<p></p>
<a name="a258b9127"></a>
<pre id="a258b9127" class="xmp">errinstall -f /tmp/lpp.desc</pre></li>
<li><a name="a258b9129"></a><span id="a258b9129" class="pk"></span>要撤销由上面的例子 <span class="bold">errinstall</span> 命令对错误日志消息编目所作的改变，请输入：
<p></p>
<a name="a258b912a"></a>
<pre id="a258b912a" class="xmp">errinstall -f /tmp/lpp.desc.undo</pre></li>
<li><a name="a258b9115"></a><span id="a258b9115" class="pk"></span>要在可能原因消息集中安装一错误消息，请输入：
<p></p>
<a name="a62f2276"></a>
<pre id="a62f2276" class="xmp">errinstall
 
* 为 widget 故障增加一条可能的原因：SET P 
E100 "widget adapter"</pre></li>
<li><a name="a62f2277"></a><span id="a62f2277" class="pk"></span>要在可能原因消息集中用重复 ID 替换一条消息，请输入：
<p></p>
<a name="a62f2278"></a>
<pre id="a62f2278" class="xmp">errinstall -f
 
* 在推荐操作消息集中
* 替换和 ID E100 有关的消息
SET R
E100 "Replace disk drive"</pre></li>
<li><a name="a62f2279"></a><span id="a62f2279" class="pk"></span>如果命名输入文件为 <span class="bold">in_file</span> 然后想用它来安装新的错误消息，请输入：
<p></p>
<a name="a62f227a"></a>
<pre id="a62f227a" class="xmp">errinstall in_file</pre></li>
<li><a name="a62f227b"></a><span id="a62f227b" class="pk"></span>要覆盖消息集中存在的错误消息，使用在 <span class="bold">in_file</span> 文件中以前定义的 ID 号码,并且指定带有的 <span class="bold">-f</span> 标志 <span class="bold">errinstall</span> 命令如下：
<p></p>
<a name="a62f227c"></a>
<pre id="a62f227c" class="xmp">errinstall -f in_file</pre></li>
<li><a name="a258b9114"></a><span id="a258b9114" class="pk"></span>下面的例子说明要安装的输入文件的样本内容。
<p></p>
<a name="a62f227d"></a>
<pre id="a62f227d" class="xmp">*
* Add these error messages to the Detailed Data message set:
*
SET D
8105 "Logical channel number"
8106 "Timer reference stamp"
*
* Add these error messages to the Probable Cause message set:
*
SET P 
E861 "Bad memory card"
E865 "Unexpected System Halt"
E876 "Fiber Optic Cable"
*
* Add this message to the Recommended Action message set:
*
SET R
E850 "Install updated driver code"</pre></li></ol>
<a name="a256b947"></a>
<h3 id="a256b947">文件</h3>
<p></p>
<a name="wq901"></a>
<table id="wq901" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="43%">
<a id="a9db57d4932dian" name="a9db57d4932dian"></a><span class="bold">/usr/lib/nls/msg/$LANG/codepoint.cat</span></td>
<td width="56%">  包含出错日志消息编目。在美国，环境变量 <span class="bold">$LANG</span> 的值是 <span class="bold">En_US</span>。</td>
</tr>
</tbody>
</table>
<a name="a74c11e"></a>
<h3 id="a74c11e">相关信息</h3>
<a name="f0ad41a154mart"></a>
<p id="f0ad41a154mart"><a href="errclear.htm#a250b9a3e7"><span class="bold">errclear</span></a> 命令，<a href="errdead.htm#a243y98a81"><span class="bold">errdead</span></a>
命令，<a href="errlogger.htm#a243y98903"><span class="bold">errlogger</span></a> 命令，<a href="errmsg.htm#a243y98977"><span class="bold">errmsg</span></a> 命令，<a href="errpt.htm#a243y989d2"><span class="bold">errpt</span></a> 命令，<a href="errstop.htm#a243y98a34"><span class="bold">errstop</span></a> 命令，<a href="errupdate.htm#a251b9a8a6"><span class="bold">errupdate</span></a> 命令。</p>
<a name="f0ad41a243mart"></a>
<p id="f0ad41a243mart"><a href="errdemon.htm#a243y988af"><span class="bold">errdemon</span></a>守护进程。</p>
<a name="f0ad41a430mart"></a>
<p id="f0ad41a430mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/libs/ktechrf1/errsave.htm#gh0ibsjean"><span class="bold">errsave</span></a>内核服务。</p>
<a name="f0ad41a522mart"></a>
<p id="f0ad41a522mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/libs/basetrf1/errlog.htm#a29799aa"><span class="bold">errlog</span></a>子例程。</p>
<a name="f0ad41a339mart"></a>
<p id="f0ad41a339mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/Error.htm#a365c99541"><span class="bold">error
logging</span></a> 特殊文件。</p>
<a name="f0ad41a617mart"></a>
<p id="f0ad41a617mart"><span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixprggd/genprogc/logoverview.htm">Error Logging Overview</a></p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="errinstall.htm#Top_Of_Page">页的顶部</a> | <a href="errdemon.htm">上一页</a> | <a href="errlogger.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
