<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - file 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="file 命令, hlpfile, 确定, 类型, 文件, 文件类型,
filemon 命令, 文件系统性能, 监视性能" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="file.htm#Bot_Of_Page">页的底部</a> | <a href="fgrep.htm">上一页</a> | <a href="filemon.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="a3d2b0fish"></a>
<h2 id="a3d2b0fish">file 命令</h2><a id="idx478" name="idx478"></a><a id="idx479" name="idx479"></a><a id="idx480" name="idx480"></a><a id="idx481" name="idx481"></a><a id="idx482" name="idx482"></a>
<a name="a133z915a9"></a>
<h3 id="a133z915a9">用途</h3>
<a name="f36a9bf810mart"></a>
<p id="f36a9bf810mart">确定文件类型。</p>
<a name="a133z915ab"></a>
<h3 id="a133z915ab">语法</h3>
<a name="wq1149"></a>
<h4 id="wq1149">对文件类型分类</h4>
<p><span class="bold">file</span> [ <a href="file.htm#a133z915b6"><span class="bold">-m</span> </a><span class="italic">MagicFile</span>] [ <a href="file.htm#jdcnakjnv001"><span class="bold">-d</span></a> ] [ <a href="file.htm#jdcnakjnv002"><span class="bold">-h</span></a> ] [ <a href="file.htm#jdcnakjnv003"><span class="bold">-i</span></a> ] [ <a href="file.htm#jdcnakjnv004"><span class="bold">-M</span></a> <span class="italic">File</span> ] [ <a href="file.htm#a133z915b5"><span class="bold">-f </span></a><span class="italic">FileList</span>] [<span class="italic">File...</span>]</p>
<a name="wq1150"></a>
<h4 id="wq1150">检查 Magic 文件的格式错误</h4>
<p><span class="bold"> file</span> <a href="file.htm#a133z915b4"><span class="bold">-c</span></a> [ <a href="file.htm#a133z915b6"><span class="bold">-m</span> </a><span class="italic">MagicFile</span>]</p>
<a name="a133z915ad"></a>
<h3 id="a133z915ad">描述</h3>
<a name="f36a9c0626mart"></a>
<p id="f36a9c0626mart"><span class="bold">file </span>命令读取用 <span class="italic">File</span> 参数或者 <span class="italic">FileList</span> 变量指定的文件，在每个文件上执行一系列测试，然后将它们按照类型分类。然后此命令将文件类型写入标准输出。文件可以是常规文件、目录、FIFO（指定的管道）、块特殊文件、字符特别文件、符号链接或者套接字类型。</p>
<ul>
<li> 对于长度为零的常规文件，将识别为空文件。</li>
<li>对于符号链接文件，缺省情况下此链接后跟符号链接引用的文件。</li></ul>
<a name="f36a9c0850mart"></a>
<p id="f36a9c0850mart">如果文件是 ASCII 码的格式，则 <span class="bold">file</span> 命令将检查前 1024 个字节然后确定文件类型。如果文件不是 ASCII 格式，则 <span class="bold"> file</span> 命令将尝试区分二进制数据文件和包含扩展字符的文本文件。</p>
<a name="f36a9c0998mart"></a>
<p id="f36a9c0998mart">如果<span class="italic"> File </span>参数指定了可执行程序或者对象模块文件且版本号大于 0则 <span class="bold">file</span> 命令将显示版本戳记。<span class="bold">ld </span>命令说明了 <span class="bold">a.out</span> 文件的使用。</p>
<a name="f36a9c1145mart"></a>
<p id="f36a9c1145mart"><span class="bold">file </span>命令使用<span class="bold"> /etc/magic </span>来标识包含某种 magic 数字的文件；即，任何包含可以表示类型的数字或字符串常量的文件。</p>
<p>如果文件不存在，无法读取或者文件状态无法确定，那么文件将不看作会影响退出状态的错误。输出表明文件已被处理，但是类型仍无法确定。</p>
<p>当使用了 <span class="bold">-i</span> 标志时，应使用以下格式标识每个 <span class="italic">file</span> 指定的操作数：</p>
<pre class="xmp">"%s: %s\n", <span class="italic">file</span>, <span class="italic">type</span></pre><p class="indatacontent">除非在 POSIX 语言环境，否则不指定 <span class="italic">type</span> 的值，如果 <span class="italic">file</span> 指定为下表中列出的类型之一，<span class="italic">type</span> 应包含（但不限于）对应字符串。在字符串中显示的每个空格应是一个<span class="italic">空格</span>。</p>
<a name="wq1151"></a>
<table id="wq1151" width="100%" summary="" border="1" frame="border" rules="all">
<caption>表 1. File 实用程序输出字符串</caption>
<thead valign="bottom">
<tr>
<th id="wq1152" align="left">如果 <span class="italic">file </span>是：</th>
<th id="wq1153" align="left"><span class="italic">type</span> 应包含字符串：</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq1152">目录</td>
<td headers="wq1153">目录</td>
</tr>
<tr>
<td headers="wq1152">FIFO</td>
<td headers="wq1153">fifo</td>
</tr>
<tr>
<td headers="wq1152">套接字</td>
<td headers="wq1153">套接字</td>
</tr>
<tr>
<td headers="wq1152">块特殊文件</td>
<td headers="wq1153">块特殊文件</td>
</tr>
<tr>
<td headers="wq1152">字符特别文件</td>
<td headers="wq1153">字符特别文件</td>
</tr>
<tr>
<td headers="wq1152">可执行文件（二进制）</td>
<td headers="wq1153">可执行文件</td>
</tr>
<tr>
<td headers="wq1152">空常规文件</td>
<td headers="wq1153">空</td>
</tr>
<tr>
<td headers="wq1152">符号链接</td>
<td headers="wq1153">符号链接到</td>
</tr>
<tr>
<td headers="wq1152"><span class="italic">ar</span> 归档库</td>
<td headers="wq1153">压缩文档</td>
</tr>
<tr>
<td headers="wq1152">扩展的 <span class="italic">cpio</span> 格式</td>
<td headers="wq1153">cpio 压缩文档</td>
</tr>
<tr>
<td headers="wq1152">扩展的 <span class="italic">tar</span> 格式</td>
<td headers="wq1153">tar 压缩文档</td>
</tr>
<tr>
<td headers="wq1152">Shell 脚本</td>
<td headers="wq1153">命令文本</td>
</tr>
<tr>
<td headers="wq1152">C 语言源</td>
<td headers="wq1153">C 程序文本</td>
</tr>
<tr>
<td headers="wq1152">FORTRAN 源</td>
<td headers="wq1153">fortran 程序文本</td>
</tr>
</tbody>
</table>
<p>如果 <span class="italic">file</span> 标识为符号链接，则应使用以下备用输出格式：</p>
<pre class="xmp">"%s: %s %s\n", <span class="italic">file</span>, <span class="italic">type</span>, <span class="italic">contents of link</span>"</pre><p class="indatacontent">如果 <span class="italic">file</span> 操作数指定的文件不存在或不可读，则字符串 <tt class="xph">cannot
open</tt> 应包含为 <span class="italic">type</span> 字段的一部分，但这不应当作影响退出状态的错误。如果 <span class="italic">file</span> 操作数指定的文件的类型不能确定，则字符串 <tt class="xph">data</tt> 应包含为 <span class="italic">type</span> 字段的一部分，但这不应当作影响退出状态的错误。</p>
<a name="a133z915b3"></a>
<h3 id="a133z915b3">标志</h3>
<p></p>
<a name="wq1154"></a>
<table id="wq1154" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="a133z915b4" name="a133z915b4"></a><span class="bold">-c</span></td>
<td width="80%">  检查指定的 magic 文件（缺省情况下，<span class="bold">/etc/magic</span> 文件）有无格式错误。此验证一般不进行。在此标志下文件输入不执行。</td>
</tr>
<tr>
<td>
<a id="jdcnakjnv001" name="jdcnakjnv001"></a><span class="bold">-d</span></td>
<td> 将任何缺省系统测试应用到文件。</td>
</tr>
<tr>
<td>
<a id="a133z915b5" name="a133z915b5"></a><span class="bold">-f</span><span class="italic"> FileList</span></td>
<td>  读取指定的文件列表。文件必需在每行列出一个文件，不包含开开头和拖尾空格。</td>
</tr>
<tr>
<td>
<a id="jdcnakjnv002" name="jdcnakjnv002"></a><span class="bold">-h</span></td>
<td> 当遇到符号链接时，将文件标识为符号链接。如果未指定 <span class="bold">-h</span> 标志且 <span class="italic">file</span> 是指向不存在文件的符号链接，<span class="italic">file</span> 应将文件标识为符号链接，就好像指定了 <span class="bold">-h</span> 标志。</td>
</tr>
<tr>
<td>
<a id="jdcnakjnv003" name="jdcnakjnv003"></a><span class="bold">-i</span></td>
<td> 如果文件不是常规文件，则不尝试进一步对文件类型进行分类，但如<a href="file.htm#a133z915ad">描述</a>中指定的那样标识文件。</td>
</tr>
<tr>
<td>
<a id="a133z915b6" name="a133z915b6"></a><span class="bold">-m</span><span class="italic"> MagicFile</span></td>
<td>  指定 magic 文件的文件名（缺省情况下，<span class="bold">/etc/magic</span>）。</td>
</tr>
<tr>
<td>
<a id="jdcnakjnv004" name="jdcnakjnv004"></a><span class="bold">-M</span> <span class="italic"> File</span></td>
<td> 指定包含应应用于文件以对其分类的测试的文件的名称。不应应用缺省系统测试。</td>
</tr>
</tbody>
</table>
<a name="aadfdfd245kare"></a>
<h3 id="aadfdfd245kare">退出状态</h3>
<a name="f36a9c2289mart"></a>
<p id="f36a9c2289mart">此命令返回下列出口值:</p>
<a name="wq1155"></a>
<table id="wq1155" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="c2f298a287harr" name="c2f298a287harr"></a><span class="bold">0</span></td>
<td width="95%">  成功结束。</td>
</tr>
<tr>
<td>
<a id="c2f298a361harr" name="c2f298a361harr"></a><span class="bold">&gt;0</span></td>
<td>  发生错误。</td>
</tr>
</tbody>
</table>
<a name="a133z915b7"></a>
<h3 id="a133z915b7">示例</h3>
<ol type="1">
<li><a name="a133z915b8"></a><span id="a133z915b8" class="pk"></span>要显示文件中包含的信息类型，请输入：
<p></p>
<pre class="xmp">file <span class="italic">myfile</span></pre><p class="indatacontent"> 这将显示文件<span class="italic"> myfile</span>的类型（例如目录，数据，ASCII 文本，C 程序源，压缩文档）。</p></li>
<li><a name="a133z915bb"></a><span id="a133z915bb" class="pk"></span>要显示在文件名列表中指定的每个文件的类型，请输入：
<div class="lines"><tt>file <a href="file.htm#a133z915b5">-f</a> filenames</tt><br />
</div> 这将显示在 <tt>filenames</tt> 列表中指定的每个文件的类型。每个文件必须单独出现在一行上。</li></ol>
<a name="wq1157"></a>
<div class="notetitle" id="wq1157">注:</div>
<div class="notebody">要从 <span class="bold">file</span> 命令获取定制的信息，请和 <span class="bold">-m</span> 标志一起使用独立的 magic 文件。不建议编辑只读的 <span class="bold">/etc/magic</span> 文件。</div>
<a name="a133z915c3"></a>
<h3 id="a133z915c3">文件</h3>
<p></p>
<a name="wq1158"></a>
<table id="wq1158" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="21%">
<a id="a110v051b" name="a110v051b"></a><span class="bold">/usr/bin/file</span></td>
<td width="78%">  包含<span class="bold"> file </span>命令。</td>
</tr>
<tr>
<td>
<a id="a133z915c4" name="a133z915c4"></a><span class="bold">/etc/magic</span></td>
<td>  包含文件类型数据库。</td>
</tr>
</tbody>
</table>
<a name="a133z915c5"></a>
<h3 id="a133z915c5">相关信息</h3>
<a name="f36a9c3795mart"></a>
<p id="f36a9c3795mart"><a href="find.htm#a133z92523"><span class="bold">find </span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/ld.htm"> <span class="bold"> ld </span></a>命令。</p>
<p><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixuser/usrosdev/files.htm#rl33b0fish">『文件概述』</a>描述了文件、文件类型，以及如何命名文件。</p>
<a name="f36a9c4244mart"></a>
<p id="f36a9c4244mart"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixuser/usrosdev/input_output_redir.htm#aan1340gsc">『输入和输出重定向概述』</a>描述了操作系统如何处理输入输出。</p>
<p><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixuser/usrosdev/file_own_user_grps.htm#wkz4d0mart">『文件和目录访问方式』</a>介绍了文件所有权以及访问文件和目录的权限。</p><a id="idx483" name="idx483"></a><a id="idx484" name="idx484"></a>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="file.htm#Top_Of_Page">页的顶部</a> | <a href="fgrep.htm">上一页</a> | <a href="filemon.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
