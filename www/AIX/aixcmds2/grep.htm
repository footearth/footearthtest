<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - grep 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="grep 命令, 使用 grep 命令, 搜索模式, 文件" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="grep.htm#Bot_Of_Page">页的底部</a> | <a href="greek.htm">上一页</a> | <a href="groups.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="kxf1170fish"></a>
<h2 id="kxf1170fish">grep 命令</h2>
<p><a id="idx601" name="idx601"></a></p>
<a name="a133z91f39"></a>
<h3 id="a133z91f39">用途</h3>
<a name="f3a392f130mart"></a>
<p id="f3a392f130mart">搜索文件中的模式。</p><a id="idx602" name="idx602"></a>
<a name="a133z91f3b"></a>
<h3 id="a133z91f3b">语法</h3>
<p><span class="bold">grep</span> [   <a href="grep.htm#qv72370bob"><span class="bold">-E  </span></a>|   <a href="grep.htm#a7w72230bob"><span class="bold">-F  </span></a>]
[   <a href="grep.htm#a133z91f2f"><span class="bold">-i</span></a><span class="bold"></span>
] [   <a href="grep.htm#a2qo290jeff"><span class="bold">-h</span></a> ]  [   <a href="grep.htm#a133z91f5b"><span class="bold">-s  </span></a>] [   <a href="grep.htm#a133z91f5c"><span class="bold">-v  </span></a>] [   <a href="grep.htm#a5zj8300craw"><span class="bold">-w  </span></a>]
[   <a href="grep.htm#gw72230bob"><span class="bold">-x  </span></a>]  [   <a href="grep.htm#a110v04a8"><span class="bold">-y  </span></a>] [  [  [   <a href="grep.htm#a133z91f54"><span class="bold">-b</span></a><span class="bold"></span>  ] [   <a href="grep.htm#a133z91f59"><span class="bold">-n  </span></a>]  ]  |  [   <a href="grep.htm#a133z91f55"><span class="bold">-c  </span></a>|
  <a href="grep.htm#a133z91f58"><span class="bold">-l  </span></a>| <a href="grep.htm#rwj8100craw"><span class="bold">-q  </span></a>]  ] [   <a href="grep.htm#a133z91f5a"><span class="bold">-p  </span></a>[  <span class="italic">Separator</span>  ]  ] {  [   <a href="grep.htm#a133z91f56"><span class="bold">-e  </span></a><span class="italic">PatternList</span>  ...  ]  [
 <a href="grep.htm#a2a72170bob"><span class="bold">-f</span></a><span class="italic">  PatternFile</span>  ...  ] |  <a href="grep.htm#ktq12d0rodn"><span class="italic">PatternList  </span></a>...  } [   <a href="grep.htm#qtq1330rodn"><span class="italic">文件</span></a>...  ]</p>
<a name="a133z91f3d"></a>
<h3 id="a133z91f3d">描述</h3>
<p><span class="bold">grep</span> 命令用于搜索由 <span class="italic">Pattern</span> 参数指定的模式，并将每个匹配的行写入标准输出中。这些模式是具有限定的正则表达式，它们使用 <span class="bold">ed</span> 或<span class="bold"> egrep</span> 命令样式。<span class="bold">grep</span> 命令使用压缩的不确定算法。</p>
<p>如果在 <span class="italic">File</span> 参数中指定了多个名称，<span class="bold">grep</span> 命令将显示包含匹配行的文件的名称。对 shell 有特殊含义的字符 ($, *, [, |, ^, (, ), \ ) 出现在 <span class="italic">Pattern</span> 参数中时必须带双引号。如果 <span class="italic">Pattern</span> 参数不是简单字符串，通常必须用单引号将整个模式括起来。在诸如 <tt>[a-z]</tt>,
 之类的表达式中，-（减号）cml 可根据当前正在整理的序列来指定一个范围。整理序列可以定义等价的类以供在字符范围中使用。如果未指定任何文件，<span class="bold">grep</span> 会假定为标准输入。</p>
<p></p><blockquote><span class="bold">注意：</span> 
<ol type="1">
<li><a name="a133z91f50"></a><span id="a133z91f50" class="pk"></span>行被限制为 2048 个字节。</li>
<li><a name="a133z91f51"></a><span id="a133z91f51" class="pk"></span>段落（使用 <a href="grep.htm#a133z91f5a"><span class="bold">-p</span></a> 标志时）长度当前被限制为 5000 个字符。</li>
<li><a name="a133z91f52"></a><span id="a133z91f52" class="pk"></span>请不要对特殊文件运行 <span class="bold">grep</span> 命令，这样做可能产生不可预计的结果。</li>
<li><a name="beee39d997jbau"></a><span id="beee39d997jbau" class="pk"></span>输入行不应包含空字符。</li>
<li><a name="beee39e077jbau"></a><span id="beee39e077jbau" class="pk"></span>输入文件应该以换行符作为结束。</li>
<li><a name="da5cd78713joyc"></a><span id="da5cd78713joyc" class="pk"></span>正则表达式不会对换行符进行匹配。</li>
<li id="a182c17d">
<a name="a182c17d"></a><a name="beee39e260jbau"></a><span id="beee39e260jbau" class="pk"></span>虽然一些标志可以同时被指定，但其中的某些标志会覆盖其它标志。例如，<span class="bold">-l</span> 选项将优先于所有其它标志。另外，如果您同时指定了 <span class="bold">-E</span> 和 <span class="bold">-F</span> 标志，则后指定的那个会有优先权。</li></ol></blockquote>
<a name="a133z91f53"></a>
<h3 id="a133z91f53">标志</h3>
<p></p>
<a name="wq1520"></a>
<table id="wq1520" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="27%">
<a id="a133z91f54" name="a133z91f54"></a><span class="bold">-b</span></td>
<td width="72%">  在每行之前添加找到该行时所在的块编号。使用这个标志有助于通过上下文来找到磁盘块号码。<span class="bold">-b</span> 标志不能用于来自标准输入和管道的输入。</td>
</tr>
<tr>
<td>
<a id="a133z91f55" name="a133z91f55"></a><span class="bold">-c</span></td>
<td>  仅显示匹配行的计数。</td>
</tr>
<tr>
<td>
<a id="qv72370bob" name="qv72370bob"></a><span class="bold">-E</span></td>
<td>  将每个指定模式视作扩展的正则表达式（ERE）。ERE 的空值将匹配所有的行。
<p></p><blockquote><span class="bold">注：</span>带有 <span class="bold">-E</span> 标志的 <span class="bold">grep</span> 命令等价于 <a href="egrep.htm#a167z9401d"><span class="bold">egrep</span></a> 命令，只不过它们的错误和使用信息不同以及 <span class="bold">-s</span> 标志的作用不同。</blockquote></td>
</tr>
<tr>
<td>
<a id="a133z91f56" name="a133z91f56"></a><span class="bold">-e</span><span class="italic"> PatternList</span></td>
<td>指定一个或多个搜索模式。其作用相当于一个简单模式，但在模式以 -（减号）开始的情况下，这将非常有用。模式之间应该用换行符分隔。连续使用两个换行符或者在引号后加上换行符 ("\n) 可以指定空模式。除非同时指定了 <span class="bold">-E</span> 或 <span class="bold">-F</span> 标志，否则每个模式都将被视作基本正则表达式（BRE）。<span class="bold">grep</span> 可接受多个 <span class="bold">-e</span> 和 <span class="bold">-f</span> 标志。在匹配行时，所有指定的模式都将被使用，但评估的顺序没有指定。</td>
</tr>
<tr>
<td>
<a id="a7w72230bob" name="a7w72230bob"></a><span class="bold">-F</span></td>
<td>将每个指定的模式视作字符串而不是正则表达式。空字符串可匹配所有的行。
<p></p><blockquote><span class="bold">注：</span> 带有 <span class="bold">-F</span> 标志的 <span class="bold">grep</span> 命令等价于 <a href="fgrep.htm#a167z9406a"><span class="bold">fgrep</span></a> 命令，只不过它们的错误和使用信息不同以及 <span class="bold">-s</span> 标志具有不同的作用。</blockquote></td>
</tr>
<tr>
<td>
<a id="a2a72170bob" name="a2a72170bob"></a><span class="bold">-f</span><span class="italic"> PatternFile</span></td>
<td>指定包含搜索模式的文件。模式之间应该用换行符加以分隔，空行将被认为是空模式。每种模式都将被视作基本的正则表达式（BRE），除非同时指定了 <span class="bold">-E</span> 或 <span class="bold">-F</span> 标志。</td>
</tr>
<tr>
<td>
<a id="a2qo290jeff" name="a2qo290jeff"></a><span class="bold">-h</span></td>
<td>禁止在匹配行后附加包含此行的文件的名称。当指定多个文件时，将禁止文件名。</td>
</tr>
<tr>
<td>
<a id="a133z91f2f" name="a133z91f2f"></a><span class="bold">-i</span></td>
<td>在进行比较时忽略字母的大小写。</td>
</tr>
</tbody>
</table><p class="indatacontent"> </p>
<a name="wq1521"></a>
<table id="wq1521" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="27%">
<a id="a133z91f58" name="a133z91f58"></a><span class="bold">-l</span></td>
<td width="72%">  仅列出（一次）包含匹配行的文件的名称。文件名之间用换行符加以分隔。如果搜索到标准输入，将返回<tt>（标准输入）</tt>的路径名。<span class="bold">-l</span> 标志同 <span class="bold">-c</span> 和 <span class="bold">-n</span> 标志的任意组合一起使用时，其作用类似于仅使用了 <span class="bold">-l</span> 标志。</td>
</tr>
<tr>
<td>
<a id="a133z91f59" name="a133z91f59"></a><span class="bold">-n</span></td>
<td>  在每一行之前放置文件中相关的行号。每个文件的起始行号为 1，在处理每个文件时，行计数器都将被复位。</td>
</tr>
<tr>
<td>
<a id="a133z91f5a" name="a133z91f5a"></a><span class="bold">-p</span>[<span class="italic"> Separator</span>]</td>
<td>  显示包含匹配行的整个段落。段落之间将按照<span class="italic"> Separator</span>参数指定的段落分隔符加以分隔，这些分隔符是与搜索模式有着相同格式的模式。包含段落分隔符的行将仅用作分隔符，它们不会被包含在输出中。缺省的段落分隔符是空白行。</td>
</tr>
<tr>
<td>
<a id="rwj8100craw" name="rwj8100craw"></a><span class="bold">-q</span></td>
<td>  禁止所有写入到标准输出的操作，不管是否为匹配行。如果选择了输入行，则以零状态退出。<span class="bold">-q</span> 标志同 <span class="bold">-c</span> 和 <span class="bold">-l</span>、<span class="bold">-n</span> 标志的任意组合一起使用时，其作用类似于仅使用了 <span class="bold">-q</span> 标志。</td>
</tr>
<tr>
<td>
<a id="a133z91f5b" name="a133z91f5b"></a><span class="bold">-s</span></td>
<td>  禁止通常因为文件不存在或不可读取而写入的错误信息。其它的错误信息并未被禁止。</td>
</tr>
<tr>
<td>
<a id="a133z91f5c" name="a133z91f5c"></a><span class="bold"> -v </span></td>
<td>  显示所有与指定模式不匹配的行。</td>
</tr>
<tr>
<td>
<a id="a5zj8300craw" name="a5zj8300craw"></a><span class="bold">-w</span></td>
<td>  执行单词搜索。</td>
</tr>
<tr>
<td>
<a id="gw72230bob" name="gw72230bob"></a><span class="bold">-x</span></td>
<td>  显示与指定模式精确匹配而不含其它字符的行。</td>
</tr>
<tr>
<td>
<a id="a110v04a8" name="a110v04a8"></a><span class="bold">-y</span></td>
<td>  当进行比较时忽略字符的大小写。</td>
</tr>
<tr>
<td>
<a id="ktq12d0rodn" name="ktq12d0rodn"></a><span class="italic">PatternList</span></td>
<td>  指定将在搜索中使用的一个或多个模式。这些模式将被视作如同是使用 <span class="bold">-e</span> 标志指定的。</td>
</tr>
<tr>
<td>
<a id="qtq1330rodn" name="qtq1330rodn"></a><span class="italic">File</span></td>
<td>  指定将对其进行模式搜索的文件的名称。如果未给出 <span class="italic">File</span> 变量，将使用标准输入。</td>
</tr>
</tbody>
</table>
<a name="beee39f684jbau"></a>
<h3 id="beee39f684jbau">退出状态</h3>
<a name="f3a3932589mart"></a>
<p id="f3a3932589mart">此命令返回下列出口值:</p>
<a name="wq1522"></a>
<table id="wq1522" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="a133z91f4c" name="a133z91f4c"></a><span class="bold">0</span></td>
<td width="95%">  找到匹配项。</td>
</tr>
<tr>
<td>
<a id="a133z91f4d" name="a133z91f4d"></a><span class="bold">1</span></td>
<td>  未找到匹配项。</td>
</tr>
<tr>
<td>
<a id="a133z91f4e" name="a133z91f4e"></a><span class="bold">&gt;1</span></td>
<td>  发现语法错误，或者文件不可访问（即使找到了匹配项）。</td>
</tr>
</tbody>
</table>
<a name="a133z91f5e"></a>
<h3 id="a133z91f5e">示例</h3>
<ol type="1">
<li><a name="a133z91f67"></a><span id="a133z91f67" class="pk"></span>若使用包含以下模式匹配字符的模式：*, ^, ?, [, ], \(, \), \{ 和 \}请输入：
<p></p>
<a name="a133z91f68"></a>
<pre id="a133z91f68" class="xmp">grep  "^[a-zA-Z]"  pgm.s </pre><p class="indatacontent"> 这将显示 <tt>pgm.s</tt> 中第一个字符为字母的所有行。</p></li>
<li><a name="a133z91f74"></a><span id="a133z91f74" class="pk"></span>若显示所有与模式不匹配的行，请输入：
<a id="a133z91f75" name="a133z91f75"></a>
<div class="lines"><tt>grep&nbsp;&nbsp;&nbsp;<a href="grep.htm#a133z91f5c">-v&nbsp;&nbsp;</a>"^#" pgm.s</tt><br />
</div> 这将显示 <tt>pgm.s</tt> 中首字母不是 <tt>#</tt>（井字符）的所有行。</li>
<li><a name="a133z91f35"></a><span id="a133z91f35" class="pk"></span>若显示文件 <tt>file1</tt> 中与<tt>abc</tt> 或 <tt>xyz</tt> 字符串匹配的所有行，请输入：
<a id="a95c115f59" name="a95c115f59"></a>
<div class="lines"><tt>grep <a href="grep.htm#qv72370bob">-E&nbsp;&nbsp;</a>"abc|xyz"&nbsp;&nbsp;file1</tt><br />
</div></li>
<li><a name="bfa8ca0046judy"></a><span id="bfa8ca0046judy" class="pk"></span>若在名为 <tt>test2</tt> 的文件中搜索 <tt>$</tt>（美元符号），请输入：
<p></p>
<pre class="xmp">grep \\$ test2</pre><p class="indatacontent"> 为了强制 shell 将 <tt>\$</tt>（单反斜杠和美元符号）传递给 <span class="bold">grep</span> 命令，必须要使用 <tt>\\</tt>（双反斜杠）。<tt>\</tt>（单反斜杠）字符可通知 <span class="bold">grep</span> 命令将其后的字符（本例中为 <tt>$</tt>）视作原义字符而不是表达式字符。如果使用 <span class="bold">fgrep</span> 命令，则可以不必使用反斜杠之类的转义字符。</p></li></ol>
<a name="a133z91f32"></a>
<h3 id="a133z91f32">文件</h3>
<p></p>
<a name="wq1524"></a>
<table id="wq1524" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="27%">
<a id="a167z93fa3" name="a167z93fa3"></a><span class="bold">/usr/bin/grep</span></td>
<td width="72%">  包含 <span class="bold">grep</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a133z91f7c"></a>
<h3 id="a133z91f7c">相关信息</h3>
<p><a href="ed.htm#a133z9c66"><span class="bold">ed</span></a> 命令、<a href="egrep.htm#a167z9401d"><span class="bold">egrep</span></a> 命令、<a href="fgrep.htm#a167z9406a"><span class="bold">fgrep</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/sed.htm#a10793b"><span class="bold">sed</span></a> 命令。</p>
<a name="f3a3934721mart"></a>
<p id="f3a3934721mart"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixuser/usrosdev/files.htm#rl33b0fish">『文件概述』</a>。</p>
<a name="f3a3934817mart"></a>
<p id="f3a3934817mart"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixuser/usrosdev/input_output_redir.htm#aan1340gsc">『输入和输出重定向概述』</a>。</p>
<a name="f3a3934914mart"></a>
<p id="f3a3934914mart"><span class="italic">AIX 5L Version 5.2 National Language Support Guide and Reference</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixprggd/nlsgdrf/nat_lang_support.htm">National Language Support</a>。</p>
<a name="f3a3935015mart"></a>
<p id="f3a3935015mart"><span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixuser/usrosdev/shells.htm#a127c1ff">『Shell 概述』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="grep.htm#Top_Of_Page">页的顶部</a> | <a href="greek.htm">上一页</a> | <a href="groups.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
