<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - grpck 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="grpck 命令, 验证定义, groups" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="grpck.htm#Bot_Of_Page">页的底部</a> | <a href="groups.htm">上一页</a> | <a href="grpsvcsctrl.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>
<a id="idx605" name="idx605"></a><a id="idx606" name="idx606"></a>
<a name="a339f9d5e"></a>
<h2 id="a339f9d5e">grpck 命令</h2>
<a name="a339f9d60"></a>
<h3 id="a339f9d60">用途</h3>
<p>验证组定义的正确性。本文档描述了 AIX <span class="bold">grpck</span> 命令和 <a href="grpck.htm#systemvgrpck">System V <span class="bold">grpck</span> 命令</a>。</p>
<a name="a339f9d62"></a>
<h3 id="a339f9d62">语法</h3>
<p><span class="bold">grpck</span> {  <a href="grpck.htm#a339f9d68"><span class="bold">-n</span></a> |  <a href="grpck.htm#jy9e0frit"><span class="bold">-p</span></a> |  <a href="grpck.htm#a339f9d69"><span class="bold">-t</span></a> |  <a href="grpck.htm#a339f9d6a"><span class="bold">-y</span></a> }
{&nbsp;<span class="bold">ALL</span> | <span class="italic">Group ..</span>.&nbsp;}</p>
<a name="a339f9d65"></a>
<h3 id="a339f9d65">描述</h3>
<a name="e41690f361mart"></a>
<p id="e41690f361mart"><span class="bold">grpck</span> 命令通过检查<span class="bold">所有</span>组或由 <span class="italic">Group</span> 参数所指定的组的定义，来验证用户数据库文件中的组定义是否正确。如果指定了多个组，则组与组之间必须有空格。</p>
<p></p><blockquote><a name="a1869027614mart"></a><span id="a1869027614mart" class="pk"></span><span class="bold">注意：</span>此命令会将其消息写入到<span class="bold">标准错误</span>中。</blockquote>
<a name="a1869027654mart"></a>
<p id="a1869027654mart">您必须选择一个标志以指示是否让系统设法修复错误的属性。下列属性将被检查：</p>
<a name="wq1526"></a>
<table id="wq1526" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="11%">
<a id="a339f9d66" name="a339f9d66"></a><span class="bold">name</span></td>
<td width="88%">  检查组名称的唯一性和组成。组名称必须是等于或少于 8 个字节的唯一字符串。它不能以 +（加号）、:（冒号）、-（减号）或 ~ (鼻音符) 打头。另外，它在字符串中不能包含冒号 (:)，并且不能是关键字 <span class="bold">ALL</span> 或 <span class="bold">default</span>。系统不能修复此类错误。</td>
</tr>
<tr>
<td>
<a id="a339f9d50" name="a339f9d50"></a><span class="bold">groupID</span></td>
<td>  检查组标识的唯一性和组成。组标识不能为空，而且只能由十进制数组成。系统不能自行修复此类错误。</td>
</tr>
<tr>
<td>
<a id="a339f9d51" name="a339f9d51"></a><span class="bold">users</span></td>
<td>  检查在组数据库文件中列出的用户是否存在。如果指示让系统修复错误，它将删除所有未能在用户数据库文件中找到的用户。</td>
</tr>
<tr>
<td>
<a id="a339f9d52" name="a339f9d52"></a><span class="bold">adms</span></td>
<td>  检查在组数据库文件中作为组管理员列出的用户是否存在。如果指示让系统修复错误，它将删除所有未能在用户数据库文件中找到的管理员。</td>
</tr>
</tbody>
</table>
<a name="wq1527"></a>
<table id="wq1527" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="8%">
<a id="e11bf44172meki" name="e11bf44172meki"></a><span class="bold">admin</span></td>
<td width="91%">  检查 <span class="bold">/etc/security/group</span> 文件中的每个组的有效管理属性。没有可用的系统修复。</td>
</tr>
</tbody>
</table>
<a name="e41690f944mart"></a>
<p id="e41690f944mart"><span class="bold">sysck</span> 命令通常都会调用 <span class="bold">grpck</span> 命令作为验证受信任系统的安装的一部分。另外，root 用户或安全组的成员也可以使用此命令。</p>
<a name="e416910094mart"></a>
<p id="e416910094mart"><span class="bold">grpck</span> 命令将检查数据库管理安全文件（<span class="bold">/etc/passwd.nm.idx</span>、<span class="bold">/etc/passwd.id.idx</span>、<span class="bold">/etc/security/passwd.idx</span> 以及 <span class="bold">/etc/security/lastlog.idx</span>）是否为最新的或是否比相应的系统安全文件新。请注意，<span class="bold">/etc/security/lastlog.idx</span> 不如 <span class="bold">/etc/security/lastlog</span> 新是正常的。如果数据库管理安全文件已过时，会显示警告信息以指示 root 用户该运行 <span class="bold">mkpasswd</span> 命令了。</p>
<a name="a339f9d67"></a>
<h3 id="a339f9d67">标志</h3>
<p></p>
<a name="wq1528"></a>
<table id="wq1528" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="a339f9d68" name="a339f9d68"></a><span class="bold">-n</span></td>
<td width="95%">  报告错误，但不会修复它们。</td>
</tr>
<tr>
<td>
<a id="jy9e0frit" name="jy9e0frit"></a><span class="bold">-p</span></td>
<td>  修复错误，但不进行报告。</td>
</tr>
<tr>
<td>
<a id="a339f9d69" name="a339f9d69"></a><span class="bold">-t</span></td>
<td>  报告错误并询问是否修复。</td>
</tr>
<tr>
<td>
<a id="a339f9d6a" name="a339f9d6a"></a><span class="bold">-y</span></td>
<td>  修复错误并作出报告。</td>
</tr>
</tbody>
</table>
<a name="a339f9d6b"></a>
<h3 id="a339f9d6b">安全性</h3>
<a name="e416910644mart"></a>
<p id="e416910644mart">访问控制：此命令应该将执行（x）访问的权限授予 root 用户和安全组的成员。此命令的 <span class="bold">setuid</span> 应设置成 root 用户，并具有<span class="bold">信任的计算库</span>属性。</p>
<a name="e416910783mart"></a>
<p id="e416910783mart">访问的文件：</p>
<a name="wq1529"></a>
<table id="wq1529" width="100%" summary="" border="0" frame="void" rules="none">
<thead valign="bottom">
<tr>
<th id="wq1530" width="8%" align="left">方式</th>
<th id="wq1531" width="91%" align="left">  文件</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq1530">
<a id="a339f9d57" name="a339f9d57"></a><span class="bold">r</span></td>
<td headers="wq1531">  <span class="bold">/etc/passwd</span></td>
</tr>
<tr>
<td headers="wq1530">
<a id="a339f9d58" name="a339f9d58"></a><span class="bold">r</span></td>
<td headers="wq1531">  <span class="bold">/etc/security/user</span></td>
</tr>
<tr>
<td headers="wq1530">
<a id="a339f9d59" name="a339f9d59"></a><span class="bold">rw</span></td>
<td headers="wq1531">  <span class="bold">/etc/security/group</span></td>
</tr>
<tr>
<td headers="wq1530">
<a id="a339f9d5a" name="a339f9d5a"></a><span class="bold">rw</span></td>
<td headers="wq1531">  <span class="bold">/etc/group</span></td>
</tr>
</tbody>
</table>
<a name="e416911226mart"></a>
<p id="e416911226mart">审计的事件：</p>
<a name="wq1532"></a>
<table id="wq1532" width="100%" summary="" border="0" frame="void" rules="none">
<thead valign="bottom">
<tr>
<th id="wq1533" width="16%" align="left">事件</th>
<th id="wq1534" width="83%" align="left">  信息</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq1533">
<a id="a88f0f0" name="a88f0f0"></a><span class="bold">GROUP_User</span></td>
<td headers="wq1534">  用户、组、属性 | 错误、状态</td>
</tr>
<tr>
<td headers="wq1533">
<a id="a339f9d5c" name="a339f9d5c"></a><span class="bold">GROUP_Adms</span></td>
<td headers="wq1534">  用户、组、属性 | 错误、状态</td>
</tr>
</tbody>
</table>
<a name="a339f9d70"></a>
<h3 id="a339f9d70">示例</h3>
<ol type="1">
<li><a name="a339f9d71"></a><span id="a339f9d71" class="pk"></span>验证所有的组成员和管理员是否在用户数据库中存在，并要求报告任何错误信息（不修复），可输入：
<a id="a339f9d72" name="a339f9d72"></a>
<div class="lines"><tt>grpck&nbsp; <a href="grpck.htm#a339f9d68">-n</a> ALL&nbsp;</tt><br />
</div></li>
<li><a name="a339f9d74"></a><span id="a339f9d74" class="pk"></span>验证所有的组成员和管理员是否在用户数据库中存在，并要求修复错误（不报告），可输入：
<a id="a339f9d75" name="a339f9d75"></a>
<div class="lines"><tt>grpck&nbsp; <a href="grpck.htm#jy9e0frit">-p</a> ALL&nbsp; &nbsp;</tt><br />
</div></li>
<li><a name="a339f9d76"></a><span id="a339f9d76" class="pk"></span>验证为 <tt>install</tt> 组定义的组名称和组标识的唯一性，可输入：
<a id="a339f9d77" name="a339f9d77"></a>
<div class="lines"><tt>grpck&nbsp; <a href="grpck.htm#a339f9d68">-n&nbsp;</a>install</tt><br />
</div> 或者
<a id="c28e881919doug" name="c28e881919doug"></a>
<div class="lines"><tt>grpck&nbsp; <a href="grpck.htm#a339f9d69">-t&nbsp;</a>install</tt><br />
</div> 或者
<a id="c28e882053doug" name="c28e882053doug"></a>
<div class="lines"><tt>grpck&nbsp; <a href="grpck.htm#a339f9d6a">-y&nbsp;</a>install</tt><br />
</div> <span class="bold">grpck</span> 命令不更正组的名称和标识错误。因此，<span class="bold">-n、-t</span> 以及 <span class="bold">-y</span> 标志将仅报告组名称和组标识的错误但不更正它们。</li></ol>
<a name="a339f9d7b"></a>
<h3 id="a339f9d7b">文件</h3>
<p></p>
<a name="wq1536"></a>
<table id="wq1536" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="31%">
<a id="a339f9d7c" name="a339f9d7c"></a><span class="bold">/usr/sbin/grpck</span></td>
<td width="68%">  包含 <span class="bold">grpck</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a339f9d7e" name="a339f9d7e"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/passwd.htm#x9a1f0frit"><span class="bold">/etc/passwd</span></a><span class="bold"></span></td>
<td>  包含用户的基本属性。</td>
</tr>
<tr>
<td>
<a id="a339f9d7f" name="a339f9d7f"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/user.htm#mnm220frit"><span class="bold">/etc/security/user</span></a></td>
<td>  包含用户的扩展属性。</td>
</tr>
<tr>
<td>
<a id="a339f9d80" name="a339f9d80"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/group_security.htm#xxa1e0frit"><span class="bold">/etc/group</span></a></td>
<td>  包含组的基本属性。</td>
</tr>
<tr>
<td>
<a id="a339f9d81" name="a339f9d81"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/group.htm#bsb100frit"><span class="bold">/etc/security/group</span></a></td>
<td>  包含组的扩展属性。</td>
</tr>
</tbody>
</table>
<a name="a339f9d82"></a>
<h3 id="a339f9d82">相关信息</h3>
<a name="e416913098mart"></a>
<p id="e416913098mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/pwdck.htm#a26998b"><span class="bold">pwdck</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/sysck.htm#a169f169"><span class="bold">sysck</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/usrck.htm#a2699cd"><span class="bold">usrck</span></a> 命令。</p>
<a name="e416913248mart"></a>
<p id="e416913248mart">有关用户标识和验证、任意的访问控制、信任的计算库以及审计的更多信息，请参考<span class="italic">《AIX 5L V5.2 安全指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/security/security_admin.htm">『独立系统安全性』</a>。</p>
<a name="systemvgrpck"></a>
<h3 id="systemvgrpck">System V grpck 命令</h3>
<a name="wq1537"></a>
<h3 id="wq1537">语法</h3>
<p><span class="bold">/usr/sysv/bin/grpck</span></p>
<a name="wq1538"></a>
<h3 id="wq1538">描述</h3>
<p><span class="bold">/usr/sysv/bin/grpck</span> 命令通过检查“所有”组的定义来验证用户数据库文件中组定义的正确性。此 <span class="bold">/usr/sysv/bin/grpck</span> 命令是 <span class="bold">/usr/sbin/</span> 中现有 <span class="bold">grpck</span> 命令的 System V 版本。此命令用 <span class="bold">-n</span> 和 <span class="bold">ALL</span> 选项调用 <span class="bold">/usr/sbin/grpck</span> 命令。</p>
<a name="wq1539"></a>
<h3 id="wq1539">退出状态</h3>
<dl>
<dt class="bold">0</dt>
<dd>成功完成。
</dd>
<dt class="bold">>0</dt>
<dd>发生错误。
</dd>
</dl>
<a name="wq1540"></a>
<h3 id="wq1540">示例</h3>
<ol type="1">
<li>验证所有的组成员和管理员是否在用户数据库中存在，并要求报告任何错误信息（不修复），可输入：
<pre class="xmp">/usr/sysv/bin/grpck</pre></li></ol>
<a name="wq1542"></a>
<h3 id="wq1542">文件</h3>
<dl>
<dt class="bold">/usr/sysv/bin/grpck</dt>
<dd>包含 <span class="bold">grpck</span> 命令的 System V 版本。
</dd>
</dl>
<a name="wq1543"></a>
<h3 id="wq1543">相关信息</h3>
<p><a href="grpck.htm#a339f9d5e"><span class="bold">/usr/sbin/grpck</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="grpck.htm#Top_Of_Page">页的顶部</a> | <a href="groups.htm">上一页</a> | <a href="grpsvcsctrl.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
