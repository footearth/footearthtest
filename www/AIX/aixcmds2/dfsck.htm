<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - dfsck 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="dfsck 命令, 使用 dfsck 命令, 检查一致性, 文件系统,
引导交互式修复" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="dfsck.htm#Bot_Of_Page">页的底部</a> | <a href="dfpd.htm">上一页</a> | <a href="dfshares.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="azga8n235mart"></a>
<h2 id="azga8n235mart">dfsck 命令</h2>
<p><a id="idx167" name="idx167"></a></p>
<a name="a184d61d040mart"></a>
<h3 id="a184d61d040mart">用途</h3>
<a name="a184d61d079mart"></a>
<p id="a184d61d079mart">在不同驱动器上同时检查和修复两个文件系统。<a id="idx168" name="idx168"></a> <a id="idx169" name="idx169"></a></p>
<a name="a184d61d113mart"></a>
<h3 id="a184d61d113mart">语法</h3>
<p><span class="bold">dfsck</span> [&nbsp;<span class="italic">FlagList1&nbsp;</span>] <span class="italic">FileSystem1</span> [&nbsp;<span class="italic">FlagList2&nbsp;</span>] <span class="italic">FileSystem2</span></p>
<a name="a184d61d219mart"></a>
<h3 id="a184d61d219mart">描述</h3>
<a name="a184d61d258mart"></a>
<p id="a184d61d258mart"><span class="bold">dfsck</span> 命令可以使您同时检查两个不同的驱动器上的两个文件系统。利用 <span class="italic">FlagList1</span> 和 <span class="italic">FlagList2</span> 参数为两组文件系统传递标志和参数。可以通过介绍标志的部分查看 <span class="italic">FlagList1</span> 和 <span class="italic">FlagList2</span> 的一系列有效标志。如果您指定一些标志作为部分参数，用 <span class="bold">-</span>（负号）来分开文件系统组。</p>
<a name="a184d61d296mart"></a>
<p id="a184d61d296mart"><span class="bold">dfsck</span> 命令允许您同时与两个 <a href="fsck.htm#a10192c87"><span class="bold">fsck</span></a> 命令交互。为了这一目的，<span class="bold">dfsck</span> 命令为每一消息显示文件系统名称。当响应一个来自 <span class="bold">dfsck</span> 命令的问题时，在您的响应上加前缀 <tt>1</tt> 或者 <tt>2</tt>，表示响应是针对第一还是第二个文件系统组。</p>
<p></p><blockquote><a name="a184d61d334mart"></a><span id="a184d61d334mart" class="pk"></span><span class="bold">注：</span>不要利用 <span class="bold">dfsck</span> 命令检查根文件系统。</blockquote>
<a name="a184d61d368mart"></a>
<h3 id="a184d61d368mart">标志</h3>
<p></p>
<a name="wq229"></a>
<table id="wq229" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="a184d61d406mart" name="a184d61d406mart"></a><span class="bold">-d</span><span class="italic"> BlockNumber</span></td>
<td width="80%">  搜索指定磁盘块的引用。无论何时 <span class="bold"> fsck</span> 命令遇到包含指定块的文件，它将会显示索引节点数和所有指向它的路径名称。</td>
</tr>
<tr>
<td>
<a id="a184d61d446mart" name="a184d61d446mart"></a><span class="bold">-f</span></td>
<td>  进行快速检查。在正常情况下，唯一可能被不适当关机停止系统影响的文件系统是系统停止时安装的那些。<span class="bold">-f</span> 标志会提示 <span class="bold"> fsck </span> 命令不要检查那些已经成功卸载的文件系统。<span class="bold">fsck</span> 命令通过检查文件系统超块中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/filsys.h.htm"><span class="bold">s_fmod</span></a> 标志来决定这件事。当安装了文件系统时，将设置该标志；在其被成功卸载时，清除该标志。如果文件系统被成功的卸载，这不大可能会存在什么问题。由于多数文件系统都能成功卸载，不检查这些文件系统能减少检查时间。</td>
</tr>
<tr>
<td>
<a id="a184d61d490mart" name="a184d61d490mart"></a><span class="bold">-i</span><span class="italic">-NodeNumber</span></td>
<td>  搜索指定索引节点的引用。无论何时 <span class="bold">fsck</span> 命令遇到一个指定索引节点的目录引用，它都会显示这个引用的完整路径名称。</td>
</tr>
<tr>
<td>
<a id="a184d61d529mart" name="a184d61d529mart"></a><span class="bold">-n</span></td>
<td>  对 <span class="bold">fsck</span> 命令提出的所有问题假定一个<tt>否定</tt>回应；不打开指定的文件系统来写。</td>
</tr>
<tr>
<td>
<a id="a184d61d572mart" name="a184d61d572mart"></a><span class="bold">-o</span><span class="italic"> Options</span></td>
<td>  向 <span class="bold">fsck</span> 命令传递逗号分隔的选项。假定这些选项是文件系统特定执行的，除了以下当前支持所有文件系统的选项：
<dl>
<dt id="a184d61d610mart" class="bold">
<a name="a184d61d610mart"></a><span class="bold">mountable</span> </dt>
<dd>  如果询问的文件系统是可安装的（清除），使 <span class="bold">fsck</span> 命令成功的退出，返回一个为 0 的值。如果文件系统不可安装，<span class="bold">fsck</span> 命令退出并返回一个为 8 的值。
</dd>
<dt id="a184d61d649mart" class="bold">
<a name="a184d61d649mart"></a><span class="bold">mytype</span></dt>
<dd>  如果存在问题的文件系统和在 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/filesystems.htm#a1249cf"><span class="bold">/etc/filesystems</span></a> 文件中或者在命令行中通过 <a href="fsck.htm#a10192c7b"><span class="bold">-V</span></a> 标志指定的类型相同，则使 <span class="bold">fsck</span> 命令退出成功（0）。否则，返回 8。例如，如果 <span class="bold">/</span>（根文件系统）是一个日志文件系统，那么 <tt>fsck -o mytype -V jfs</tt> / 将退出并返回为 0 的值。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a184d61d688mart" name="a184d61d688mart"></a><span class="bold">-p</span></td>
<td>  不显示次要问题的消息但是可以自动修复问题。这个标志并不象 <a href="fsck.htm#a10192cc0"><span class="bold">-y</span></a> 标志那样授权大规模许可，当系统正常启动的时候对执行自动检查有用。无论系统在何时自动运行，您应该将这个标志作为系统启动过程的一部分来使用。也允许通过分组并行检查。</td>
</tr>
<tr>
<td>
<a id="a184d61d729mart" name="a184d61d729mart"></a><span class="bold">-t</span><span class="italic">File</span></td>
<td>  如果 <span class="bold">fsck</span> 命令得不到足够的内存来保存它的表的话，指定一个 <span class="italic">File</span> 参数而不是被检查的文件作为文件系统的暂存文件。如果没有指定 <span class="bold">-t</span> 标志而 <span class="bold">fsck</span> 命令需要一个临时文件，那么它会提示您输入暂存文件的名字。但是，如果指定了 <a href="fsck.htm#a10192cbc"><span class="bold">-p</span></a> 标志，<span class="bold">fsck</span> 命令不会成功。如果暂存文件不是一个特殊的文件，当 <span class="bold">fsck</span> 命令结束的时候，它就会被除去。</td>
</tr>
<tr>
<td>
<a id="a184d61d768mart" name="a184d61d768mart"></a><span class="bold">-V</span><span class="italic"> VfsName</span></td>
<td>  使用文件系统的 <span class="italic">VFSName</span> 变量指定的虚拟文件系统描述而不是用 <span class="bold">/etc/filesystems</span> 文件来决定描述。如果 <a href="fsck.htm#a10192c7b"><span class="bold">-V</span></a> <span class="italic">VfsName</span> 标志没有在命令行中指定，就会检查 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/filesystems.htm#a1249cf"><span class="bold">/etc/filesystems</span></a> 文件并且匹配节的 <span class="bold">vfs=</span><span class="italic">Attribute</span> 被假定是正确的文件系统类型。</td>
</tr>
<tr>
<td>
<a id="a184d61d807mart" name="a184d61d807mart"></a><span class="bold">-y</span></td>
<td>  对 <span class="bold">fsck</span> 命令提出的所有问题假定一个肯定响应。这个标志使 <span class="bold">fsck</span> 命令采取它认为必要的行动。仅在损坏严重的文件系统中使用这个标志。</td>
</tr>
</tbody>
</table>
<a name="a184d61d842mart"></a>
<h3 id="a184d61d842mart">示例</h3>
<ol type="1">
<li><a name="a184d61d880mart"></a><span id="a184d61d880mart" class="pk"></span>要同时检查在两个不同驱动器上的两个文件系统，请输入：
<a id="a184d61d919mart" name="a184d61d919mart"></a>
<div class="lines"><tt>dfsck&nbsp; <a href="fsck.htm#a10192cbc">-p&nbsp;</a>/dev/hd1&nbsp;-&nbsp; <a href="fsck.htm#a10192cbc">-p&nbsp;</a>/dev/hd7</tt><br />
</div> 如果 <span class="bold">/dev/hd1</span> 和 <span class="bold">/dev/hd7</span> 设备上的文件系统位于两个不同的驱动器上，该命令将同时检查两个文件系统。您也可以指定在 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/filesystems.htm#a1249cf"><span class="bold">/etc/filesystems</span></a> 文件中找到的文件系统名称。</li></ol>
<a name="a184d61d994mart"></a>
<h3 id="a184d61d994mart">文件</h3>
<p></p>
<a name="wq231"></a>
<table id="wq231" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="27%">
<a id="a184d61e031mart" name="a184d61e031mart"></a><span class="bold">/usr/sbin/dfsck</span></td>
<td width="72%">  包含 <span class="bold">dfsck</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a184d61e070mart" name="a184d61e070mart"></a><span class="bold">/etc/filesystems</span></td>
<td>  列出已知的文件系统并且定义它们的特征。</td>
</tr>
<tr>
<td>
<a id="a184d61e109mart" name="a184d61e109mart"></a><span class="bold">/var/spool/mail/*</span></td>
<td>  包含虚拟文件系统类型的描述。</td>
</tr>
<tr>
<td>
<a id="a184d61e148mart" name="a184d61e148mart"></a><span class="bold">/usr/bin/from</span></td>
<td>  包含当系统启动的时候运行的命令（包括 <span class="bold">fsck</span> 命令）。</td>
</tr>
</tbody>
</table>
<a name="a184d61e184mart"></a>
<h3 id="a184d61e184mart">相关信息</h3>
<a name="a184d61e223mart"></a>
<p id="a184d61e223mart"><a href="fsck.htm#a10192c87"><span class="bold">fsck</span></a> 命令、<a href="fsdb.htm#a1019315b"><span class="bold">fsdb</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/istat.htm#a101931f9"><span class="bold">istat</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/mkfs.htm#a1019296c"><span class="bold">mkfs</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/ncheck.htm#a101929ce"><span class="bold">ncheck</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/rc.htm#a159943a"><span class="bold">rc</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds5/shutdown.htm#a15793a2"><span class="bold">shutdown</span></a> 命令。</p>
<a name="a184d61e261mart"></a>
<p id="a184d61e261mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/filesystems.htm#a1249cf"><span class="bold">filesystems</span></a> 文件、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/filsys.h.htm"><span class="bold">filsys.h</span></a> 文件。</p>
<a name="a184d61e298mart"></a>
<p id="a184d61e298mart">在 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/admnconc/file_sys.htm">File Systems Overview for System Management</a> 说明了文件系统类型、管理、结构和维护。</p>
<p>有关安装基于 Web 的系统管理器的信息，请参阅<span class="italic">《AIX 5L V5.2 基于 Web 的系统管理器管理指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/wsmadmn/install.htm">『第 2 章：安装与系统需求』</a>&nbsp;。</p>
<a name="a184d61e337mart"></a>
<p id="a184d61e337mart"><span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/admnconc/sys_mgt_tools.htm">System Management Interface Tool(SMIT):Overview</a> 说明了 SMIT 结构、主菜单和任务。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="dfsck.htm#Top_Of_Page">页的顶部</a> | <a href="dfpd.htm">上一页</a> | <a href="dfshares.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
