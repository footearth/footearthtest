<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - devinstall 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="devinstall 命令, 安装软件支持, 设备" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="devinstall.htm#Bot_Of_Page">页的底部</a> | <a href="detachrset.htm">上一页</a> | <a href="devnm.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="d765875059joyc"></a>
<h2 id="d765875059joyc">devinstall 命令</h2>
<p><a id="idx159" name="idx159"></a> <a id="idx160" name="idx160"></a></p>
<a name="d765875136joyc"></a>
<h3 id="d765875136joyc">用途</h3>
<a name="e11e1ca581joyc"></a>
<p id="e11e1ca581joyc">为设备安装软件支持。</p>
<a name="d765875207joyc"></a>
<h3 id="d765875207joyc">语法</h3>
<p><span class="bold">devinstall</span> &nbsp;  <a href="devinstall.htm#pkdrjfcjoyc"><span class="bold">-f</span></a> <span class="italic">file&nbsp;</span>  <a href="devinstall.htm#a116f12a7jb"><span class="bold">-d&nbsp;</span></a><span class="italic">device</span>  [ <a href="devinstall.htm#qydrj305joyc"><span class="bold">-s</span></a> ] [ <a href="devinstall.htm#jedrj315joyc"><span class="bold">-v</span></a>]</p>
<a name="d765875301joyc"></a>
<h3 id="d765875301joyc">描述</h3>
<a name="e11e1ca729joyc"></a>
<p id="e11e1ca729joyc"><span class="bold">devinstall</span> 命令为设备安装软件支持。在完成操作系统的最初安装和设置后，这个命令用于将硬件添加到系统中。它将安装支持新硬件所需的软件。</p>
<a name="e11e1ca767joyc"></a>
<p id="e11e1ca767joyc">对于多数在初始软件安装后需要被添加的新设备来说，可以通过使用 <span class="bold">cfgmgr</span> 的 <span class="bold">-i</span> 标志来安装新设备的软件。</p>
<a name="e11e1ca808joyc"></a>
<p id="e11e1ca808joyc">在某些情况下，新设备替换启动机器所需的设备。例如，您可以替换支持根卷组的 SCSI 适配卡，或者支持控制台的图形适配卡。在这种情况下，除非您已经安装了支持新设备的软件，否则计算机将不能以正常模式启动。为此，关闭您的系统然后按照硬件说明书安装新硬件。接着，以维护方式启动您的计算机。在启动过程中，会检测到新的适配器，而且文件 <span class="bold">/tmp/device.pkgs</span> 将被创建，它包含支持新硬件所需的软件包的名字。只要计算机在维护方式下，您就能通过运行命令 <span class="bold">devinstall</span> 来安装支持新设备的软件。</p>
<a name="d765875450joyc"></a>
<h3 id="d765875450joyc">标志</h3>
<p></p>
<a name="wq186"></a>
<table id="wq186" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="15%">
<a id="pkdrjfcjoyc" name="pkdrjfcjoyc"></a><span class="bold">-f</span><span class="italic"> File</span></td>
<td width="85%">  指定包含待装软件包列表的文件。通常情况下，这个文件就是 <span class="bold">/tmp/device.pkgs</span>，它通过命令 <span class="bold">cfgmgr</span>创建。</td>
</tr>
<tr>
<td>
<a id="a116f12a7jb" name="a116f12a7jb"></a><span class="bold">-d</span><span class="italic">   设备</span></td>
<td>  指明安装介质的位置。这可以是一个硬件设备，比如磁带或软盘；也可以是包含安装映像的目录；或者就是安装映像文件本身。当安装介质是一个 IBM 安装磁带，或者 IBM 校正服务磁带，磁带设备应该设置为 no-rewind-on-close 和 no-retention-on-open。例如，文件 <span class="bold">/dev/rmt0.1</span> 针对高密磁带，而文件 <span class="bold">/dev/rmt0.5</span> 针对低密磁带。对于非 IBM 供应的磁带，请使用磁带供应商指定的选项。缺省设备为 <span class="bold">/dev/rfd0</span>。</td>
</tr>
<tr>
<td>
<a id="qydrj305joyc" name="qydrj305joyc"></a><span class="bold">-s</span></td>
<td>  覆盖 <span class="bold">/var/adm/dev_pkg.fail</span> 文件。这个文件包含所有未成功安装的软件包列表，可以用来简化通过其他数据源恢复或者安装的过程。</td>
</tr>
<tr>
<td>
<a id="jedrj315joyc" name="jedrj315joyc"></a><span class="bold"> -v </span></td>
<td>  指定详细选项，使得命令 <span class="bold">devinstall</span> 在执行过程中显示附加信息。</td>
</tr>
</tbody>
</table>
<a name="e11e1ca988joyc"></a>
<p id="e11e1ca988joyc">命令 <span class="bold">devinstall</span> 将把命令行所指定的文件中列举的设备软件包逐一安装。它运行命令 <span class="bold">geninstall</span>，使用参数 <span class="bold">-I</span> "acXge <span class="bold">/var/adm/ras/devinst.log</span>"，其中 a：应用、c：提交、X：扩展文件系统、e：日志（日志文件的全路径名是 <span class="bold">/var/adm/ras/devinst.log</span>）、g：auto_include。（请参阅 <span class="bold">geninstall</span> 命令以获得这些标志的更多信息）。<span class="bold">devinstall</span> 命令检查由 <span class="bold">geninstall</span> 命令生成的、描述每个软件包安装尝试结果的摘要文件，在该信息的基础上，它将创建两个文件。<span class="bold">/var/adm/dev_pkg.fail</span> 文件列举所有安装失败的软件包（如果有的话）。文件 <span class="bold">/usr/sys/inst.data/sys_bundles/devices.bnd</span> 列举所有安装成功的软件包。</p>
<a name="d765875640joyc"></a>
<h3 id="d765875640joyc">返回值</h3>
<a name="e11e1cb051joyc"></a>
<p id="e11e1cb051joyc">返回值 0 表示没有软件包安装成功。</p>
<a name="e11e1cb088joyc"></a>
<p id="e11e1cb088joyc">返回值 1 表示至少一个包成功安装，而且命令 <span class="bold">bosboot</span> 应该被执行。</p>
<a name="e11e1cb126joyc"></a>
<p id="e11e1cb126joyc"><span class="bold">/usr/sys/inst.data/sys_bundles/devices.bnd</span> 文件列举所有成功安装的软件包。<span class="bold">/var/adm/dev_pkg.fail</span> 文件列举所有安装失败的软件包。</p>
<a name="d765875786joyc"></a>
<h3 id="d765875786joyc">安全性</h3>
<a name="e11e1cb188joyc"></a>
<p id="e11e1cb188joyc">特权控制：只有 root 用户可以执行这个命令。</p>
<a name="d765875857joyc"></a>
<h3 id="d765875857joyc">示例</h3>
<a name="e11e1cb251joyc"></a>
<p id="e11e1cb251joyc">您可以在从设备安装磁带启动计算机并进入维护方式之后安装支持新设备的软件，请输入：</p>
<p></p>
<a name="d765875923joyc"></a>
<pre id="d765875923joyc" class="xmp">devinstall -f /../tmp/device.pkgs -d /dev/rmt0.1</pre>
<a name="e11e1cb315joyc"></a>
<p id="e11e1cb315joyc">然后运行命令 <span class="bold">bosboot</span>。</p>
<p></p>
<a name="d765875994joyc"></a>
<pre id="d765875994joyc" class="xmp">bosboot -ad /dev/ipldevice</pre>
<a name="d765876102joyc"></a>
<h3 id="d765876102joyc">文件</h3>
<p></p>
<a name="wq187"></a>
<table id="wq187" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="15%">
<a id="d765876140joyc" name="d765876140joyc"></a><span class="bold">/dev/rmtn</span></td>
<td width="85%">  指定原始的流式磁带接口。</td>
</tr>
</tbody>
</table>
<a name="d765876175joyc"></a>
<h3 id="d765876175joyc">相关信息</h3>
<a name="e11e1cb520joyc"></a>
<p id="e11e1cb520joyc"><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds1/bosboot.htm#a275977f"><span class="bold">bosboot</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds1/cfgmgr.htm#a145957"><span class="bold">cfgmgr</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/installp.htm#a1539ad6"><span class="bold">installp</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="devinstall.htm#Top_Of_Page">页的顶部</a> | <a href="detachrset.htm">上一页</a> | <a href="devnm.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
