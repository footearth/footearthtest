<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 2，d - h - enq 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-29" />
<meta name="copyright" content="(C) IBM公司版权 1997,  2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="enq 命令, enqueuing, 文件" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="enq.htm#Bot_Of_Page">页的底部</a> | <a href="enable.htm">上一页</a> | <a href="enroll.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 2，d - h</h1></center>

<a name="a200977f"></a>
<h2 id="a200977f">enq 命令</h2>
<p><a id="idx385" name="idx385"></a></p>
<a name="a2009781"></a>
<h3 id="a2009781">用途</h3>
<a name="f0192e7112mela"></a>
<p id="f0192e7112mela">对一个文件排队。<a id="idx386" name="idx386"></a></p>
<a name="a109c177c"></a>
<h3 id="a109c177c">语法</h3>
<a name="wq804"></a>
<h4 id="wq804">处理一个文件</h4>
<p><span class="bold">enq</span> [ <a href="enq.htm#a2009788"><span class="bold"> - </span></a>] [    <a href="enq.htm#a2009776"><span class="bold">-B</span></a> <span class="italic">CharacterPair</span>   ]  [    <a href="enq.htm#a277a939e"><span class="bold">-c   </span></a>] [    <a href="enq.htm#a277a939d"><span class="bold">-C   </span></a>] [
   <a href="enq.htm#a277a93af"><span class="bold">-G   </span></a>]  [    <a href="enq.htm#a4qw3j105kbar"><span class="bold">-j   </span></a>] [    <a href="enq.htm#a277a93a1"><span class="bold">-m   </span></a><span class="italic">Text</span>   ]  [    <a href="enq.htm#a277a93a0"><span class="bold">-M   </span></a><span class="italic">File</span>   ] [    <a href="enq.htm#a277a93a3"><span class="bold">-n   </span></a>] [    <a href="enq.htm#a277a93a2"><span class="bold">-N   </span></a><span class="italic">Number</span>   ] [    <a href="enq.htm#a277a93a4"><span class="bold">-o   </span></a><span class="italic">Option</span>   ] [    <a href="enq.htm#ahn4050"><span class="bold">-P   </span></a><span class="italic">Queue</span>   ]  [    <a href="enq.htm#a277a93a7"><span class="bold">-r   </span></a>] [    <a href="enq.htm#a277a93a6"><span class="bold">-R   </span></a><span class="italic">Number</span>   ] [    <a href="enq.htm#a277a93a9"><span class="bold">-t   </span></a>"<span class="italic">User</span>"<span class="italic"></span>
  ] [    <a href="enq.htm#a277a93a8"><span class="bold">-T   </span></a><span class="italic">Title</span>   ] [    <a href="enq.htm#a277a93ac"><span class="bold">-Y   </span></a>]
[    <a href="enq.htm#ahn4053"><span class="bold">-Z   </span></a><span class="italic">Name</span>   ] <span class="italic">File</span></p>
<a name="wq805"></a>
<h4 id="wq805">改变打印作业的优先级</h4>
<p><span class="bold">enq</span>     <a href="enq.htm#a200978a"><span class="bold">-a
  </span></a><span class="italic">Number</span>      <a href="enq.htm#ahn4040"><span class="bold">-#</span></a> <span class="italic">JobNumber</span></p>
<a name="wq806"></a>
<h4 id="wq806">显示状态</h4>
<p><span class="bold">enq</span>   [    <a href="enq.htm#a277a93a5"><span class="bold">-q   </span></a>|    <a href="enq.htm#a2009789"><span class="bold">-A   </span></a>]
  [    <a href="enq.htm#a277a939f"><span class="bold">-L   </span></a>|    <a href="enq.htm#z2xzoa9vick"><span class="bold">-W   </span></a>] [  <a href="enq.htm#sqe6j6djeff"><span class="bold">-e</span></a> ] [<span class="italic"></span>    <a href="enq.htm#ahn4040"><span class="bold">-#</span></a><span class="italic">   JobNumber</span>   ]   [    <a href="enq.htm#ahn4051"><span class="bold">-u</span> <span class="italic">Name</span>   </a>] [    <a href="enq.htm#ahn4052"><span class="bold">-w   </span></a><span class="italic">Seconds</span>   ] [ <a href="enq.htm#i060198bcl0"><span class="bold">-s</span></a>]</p>
<a name="wq807"></a>
<h4 id="wq807">改变队列和队列守护进程的状态</h4>
<p><span class="bold">enq</span>   [ <a href="enq.htm#mqddmar"><span class="bold">-d</span></a> ] [  <a href="enq.htm#a277a93ae"><span class="bold">-D</span></a>  ]  [ <a href="enq.htm#a277a93af"><span class="bold">-G</span></a> ] [  <a href="enq.htm#a277a93b0"><span class="bold">-K</span></a> ]  [  <a href="enq.htm#c501a3e291judy"><span class="bold">-L</span></a> ]  [  <a href="enq.htm#a277a93a5"><span class="bold">-q   </span></a>|
   <a href="enq.htm#a2009789"><span class="bold">-A   </span></a>]  [  <a href="enq.htm#a2009777"><span class="bold">-U</span></a> ]</p>
<a name="wq808"></a>
<h4 id="wq808">取消选项</h4>
<p><span class="bold">enq</span>   [ <a href="enq.htm#a277a93ab"> <span class="bold">-X</span></a> ] [  <a href="enq.htm#a277a93aa"><span class="bold">-x</span></a><span class="italic">Number</span> ] [  <a href="enq.htm#dlccgf4kevi"><span class="bold">-P</span></a><span class="italic">Printer</span> ]</p>
<a name="wq809"></a>
<h4 id="wq809">将一个打印作业保持、释放或者移动到另外的队列</h4>
<p><span class="bold">enq</span> {<span class="bold"></span>    <a href="enq.htm#qqc2j3a5judy"><span class="bold">-h</span></a><span class="bold"></span>   |    <a href="enq.htm#krc2je2judy"><span class="bold">-p</span></a><span class="bold"></span>   |<span class="bold"></span> 
  <a href="enq.htm#a4vc2j133judy"><span class="bold">-Q</span></a> <span class="italic">NewQueue</span>   } {    <a href="enq.htm#ahn4040"><span class="bold">-#</span></a><span class="bold"></span><span class="italic">   JobNumber</span>   [    <a href="enq.htm#asc2j63judy"><span class="bold">-P</span></a><span class="bold"></span><span class="italic">   Queue</span>   ]   |    <a href="enq.htm#atc2jfdjudy"><span class="bold">-u</span></a><span class="bold"></span><span class="italic">   User</span><span class="bold"></span>  
|    <a href="enq.htm#asc2j63judy"><span class="bold">-P</span></a><span class="bold"></span><span class="italic">   Queue</span><span class="bold"></span>   }</p>
<a name="wq810"></a>
<h4 id="wq810">排队并保持打印作业</h4>
<p><span class="bold">enq</span>  <a href="enq.htm#jwc2j371judy"><span class="bold">-H</span></a> <span class="italic">File ...</span></p>
<a name="a2009785"></a>
<h3 id="a2009785">描述</h3>
<a name="f0192ea756mela"></a>
<p id="f0192ea756mela"><span class="bold">enq</span> 命令是用来为向共享资源（典型是打印机设备）的请求进行排队的通用实用程序。使用 <span class="bold">enq</span> 命令对请求进行排队，取消请求，改变请求的优先级并显示队列和设备的状态。</p>
<a name="f0192ea906mela"></a>
<p id="f0192ea906mela"><span class="bold">enq</span> 命令有五个不同的语法图，因为全部的标志不是说一起工作。一些标志用作文件处理并接受 <span class="italic">FileName</span> 作为一个选项。其他的标志用来改变打印作业的优先级、显示状态、改变队列或队列守护进程的状态以及取消打印作业。</p>
<a name="f0192eb056mela"></a>
<p id="f0192eb056mela">要想对特定队列中的文件进行排队，请使用  <a href="enq.htm#ahn4050"><span class="bold">-P</span></a> 标志（<span class="bold">-P</span><span class="italic"> Queue</span>）。如果有超过一个设备对一个队列服务，您还可以通过在队列名后面指定该设备（<span class="italic">:device</span>）来请求一个特定的设备。如果您没有指定一个设备，则该作业被送到第一个可用的设备中。如果您没有指定文件，<span class="bold">enq</span> 命令会将标准输入拷贝到一个文件中，并对它进行排队打印。</p>
<a name="f0192eb213mela"></a>
<p id="f0192eb213mela"><span class="bold">enq</span> 命令的请求可以带有运算符消息。这个功能在分布式环境或者多用户系统中是很有用的。这些消息用来作为一个请求告诉打印机运算符这样的信息，在允许作业打印之前要往打印机装入特殊的表单或者不同颜色的纸张。这些消息由 <a href="enq.htm#a277a93a1"><span class="bold">-m</span></a> 和 <a href="enq.htm#a277a93a0"><span class="bold">-M</span></a> 标志来指定。<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/qdaemon.htm#w4220joyc"><span class="bold">qdaemon</span></a>命令会处理 <span class="bold">enq</span> 命令的请求。当 <span class="bold">qdaemon</span> 准备开始一个具有相关消息的请求时，系统会在 <span class="bold">qdaemon</span> 进程运行所在的机器的控制台上显示这个消息。消息文本伴随着一个提示，告诉打印机操作程序该如何通知该请求继续执行或者如何取消该请求。</p>
<a name="f0192eb363mela"></a>
<p id="f0192eb363mela">由 <span class="bold">enq -A</span> 生成的显示包含了远程队列的两个条目。第一个条目包含了客户机的本地队列和本地设备名以及它的状态信息。第二个条目紧跟其后；它包含了客户机的本地队列名（再次）和其后的远程队列名。任何提交给远程队列的作业在本地会首先显示，并因为该作业被远程机器处理移动到远程设备上。</p>
<a name="f0192eb512mela"></a>
<p id="f0192eb512mela">由于状态命令会同远程机器进行通信，因此状态显示可能偶然会在等待远程机器的响应时挂起。如果不能在两台机器上建立连接的话，该命令将最终超时。</p>
<p></p><blockquote><span class="bold">注意：</span> 
<ol type="1">
<li><a name="a277a9397"></a><span id="a277a9397" class="pk"></span>在您可以对一个文件排队之前，您必须拥有对它的读取访问权。要想除去一个文件(见 <a href="enq.htm#a277a93a7"><span class="bold">-r</span></a> 标志)您也必须有对包含该文件的目录的写访问权</li>
<li><a name="c1c99a3228joy"></a><span id="c1c99a3228joy" class="pk"></span>如果在您发布 <span class="bold">enq</span> 命令后但是还没有打印之前您还想继续改动该文件的话，您必须使用 <a href="enq.htm#a277a939e"><span class="bold">-c</span></a> 标志。</li>
<li><a name="c1c99a3307joy"></a><span id="c1c99a3307joy" class="pk"></span>当在打印机上对文件进行排队时，标志可以按照任何顺序进行分布。</li>
<li><a name="dd7d9a5814mich"></a><span id="dd7d9a5814mich" class="pk"></span><span class="bold">-d</span> 和 <span class="bold">-G</span> 标志会立即执行。在该命令行中的标志出现之前的语法错误被报告出来。在命令行中的这些标志之后出现的语法错误会被忽略。</li></ol></blockquote>
<a name="a2009787"></a>
<h3 id="a2009787">标志</h3>
<a name="a109c1788"></a>
<h4 id="a109c1788">文件处理选项</h4>
<a name="f0192ec193mela"></a>
<p id="f0192ec193mela">如果您给于 <span class="bold">enq</span> 命令一个文件名的列表，它会对它们全部进行排队，以在缺省的设备或者指定的设备上进行文件处理</p>
<a name="wq812"></a>
<table id="wq812" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="27%">
<a id="a2009788" name="a2009788"></a><span class="bold">-</span></td>
<td width="72%">  导致 <span class="bold">enq</span> 命令当作过滤器来操作。如果您没有指定一个文件或者多个文件，<span class="bold">enq</span> 命令自动读取标准输入。然而，如果您指定了一个文件的话，您还可以使用短划线（<span class="bold">-</span>）来强制 <span class="bold">enq</span> 命令读取标准输入。短划线（<span class="bold">-</span>）实际上不是一个标志，而是一种特殊类型的文件名。因此，它必须位于该命令行所有指定的其他的标志之后。</td>
</tr>
<tr>
<td>
<a id="a2009776" name="a2009776"></a><span class="bold">-B</span><span class="italic"> CharacterPair</span></td>
<td>  按照后面的方式，根据 <span class="italic">CharacterPair</span> 的值控制分段页面的打印。(<span class="bold">n</span> = never, <span class="bold">a</span> = always, <span class="bold">g</span> = group. 第一个字符用作报头，第二个字符用作报尾。)
<dl>
<dt class="bold">HT</dt>
<dd>  描述
</dd>
<dt id="ahn4042" class="bold">
<a name="ahn4042"></a><span class="bold">nn</span></dt>
<dd>  没有报头，没有报尾
</dd>
<dt id="ahn4043" class="bold">
<a name="ahn4043"></a><span class="bold">na</span></dt>
<dd>  没有报头，每个文件中有报尾
</dd>
<dt id="ahn4044" class="bold">
<a name="ahn4044"></a><span class="bold">ng</span></dt>
<dd>  没有报头，在该作业的末尾有报尾
</dd>
<dt id="ahn4045" class="bold">
<a name="ahn4045"></a><span class="bold">an</span></dt>
<dd>  在每个文件中有报头，没有报尾
</dd>
<dt id="ahn4046" class="bold">
<a name="ahn4046"></a><span class="bold">aa</span></dt>
<dd>  作业中每个文件中都有报头和报尾
</dd>
<dt id="ahn4047" class="bold">
<a name="ahn4047"></a><span class="bold">ag</span></dt>
<dd>  每个文件有报头，作业之后有报尾
</dd>
<dt id="ahn4048" class="bold">
<a name="ahn4048"></a><span class="bold">gn</span></dt>
<dd>  在作业起始处有报头，没有报尾
</dd>
<dt id="ahn4049" class="bold">
<a name="ahn4049"></a><span class="bold">ga</span></dt>
<dd>  在作业的起始处有报头，在每个文件的后面有报尾
</dd>
<dt id="a2009778" class="bold">
<a name="a2009778"></a><span class="bold">gg</span></dt>
<dd>  在作业的起始处有页头，在作业的结束处有报尾
</dd>
</dl> 
<a name="a200977d"></a>
<p id="a200977d"><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/qconfig.htm#a33194f1"><span class="bold">/etc/qconfig</span></a> 文件中的报头和报尾节定义了缺省的分段页面的处理方法。</p> 
<p></p><blockquote><span class="bold">注意：在远程打印环境中，缺省值是打印报头页而不是报尾页。</span></blockquote></td>
</tr>
<tr>
<td>
<a id="a277a939e" name="a277a939e"></a><span class="bold">-c</span></td>
<td>  拷贝文件。为了节省磁盘空间，<span class="bold">enq</span> 命令会记住文件名称但不会真的拷贝文件本身。如果您想在等待当前拷贝打印的时候继续修改文件，请使用 <span class="bold">-c</span> 标志。</td>
</tr>
<tr>
<td>
<a id="a277a939d" name="a277a939d"></a><span class="bold">-C</span></td>
<td>  指定了 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/mail.htm#a36p017b"><span class="bold">mail</span></a> 命令用作错误消息和作业完成的通知，而不是  <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds6/write.htm#a07297be"><span class="bold">write</span></a> 命令。(使用该标志对于写 PostScript 应用程序很有用，因为它允许从打印机得到更好的反馈）。错误消息和作业完成的消息
(都是由 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/piobe.htm#a2mb0joyc"><span class="bold">piobe</span></a> 命令生成的)以及任何从打印机读入的数据也会用邮件送回。
<a name="c1c99a4652joy"></a>
<p id="c1c99a4652joy"><span class="bold">-C</span>标志只适用于本地打印作业。如果在送到远程打印机的作业完成时您还想得到通知，请使用  <span class="bold">-n</span> 标志来接收邮件消息。</p> 
<p></p><blockquote><span class="bold">注意：</span> 有些消息用任何方式都不能从 <span class="bold">qdaemon</span> 和打印机后端重新定向。这些是系统错误，会被直接送到 /<span class="bold">dev</span>/<span class="bold">console</span> 文件中。</blockquote></td>
</tr>
<tr>
<td>
<a id="a4qw3j105kbar" name="a4qw3j105kbar"></a><span class="bold">-j</span></td>
<td>  指定将消息 <tt>Job number is:</tt><tt> nnn</tt><span class="italic">，</span>（其中 <tt>nnn</tt> 是指定的作业号）显示给标准输出。仅在作业提交到本地打印队列中时才会发生这种情况。</td>
</tr>
<tr>
<td>
<a id="a277a93a1" name="a277a93a1"></a><span class="bold">-m</span><span class="italic"> Text</span></td>
<td>  用 <span class="bold">enq</span> 命令请求提交一个操作程序报文。指定的文本包含了这个报文。</td>
</tr>
<tr>
<td>
<a id="a277a93a0" name="a277a93a0"></a><span class="bold">-M</span><span class="italic"> File</span></td>
<td>  用 <span class="bold">enq</span> 命令请求提交一个操作程序报文。指定的文件包含了该报文的文本。</td>
</tr>
<tr>
<td>
<a id="a277a93a3" name="a277a93a3"></a><span class="bold">-n</span></td>
<td>  当您的作业完成时通知您。如果 <a href="enq.htm#a277a93a9"><span class="bold">-t</span></a>标志也被使用的话，<span class="bold">enq</span>
命令还会通知该请求的用户(见<a href="enq.htm#a277a93a9"><span class="bold">-t</span></a> 标志)。</td>
</tr>
<tr>
<td>
<a id="a277a93a2" name="a277a93a2"></a><span class="bold">-N</span><span class="italic"> Number</span></td>
<td>  打印文件的 <span class="italic">Number</span> 个拷贝。通常，一个文件只打印一次。</td>
</tr>
<tr>
<td>
<a id="a277a93a4" name="a277a93a4"></a><span class="bold">-o</span><span class="italic"> Option</span></td>
<td>  指定将针对后端的标志传送到后端。这样，对于每个队列，有本文章中没有介绍可以包括在 <span class="bold">enq</span> 命令行中的标志。参考 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/piobe.htm#a2mb0joyc"><span class="bold">piobe</span></a> 命令获取这些标志的列表。</td>
</tr>
<tr>
<td>
<a id="ahn4050" name="ahn4050"></a><span class="bold">-P</span><span class="italic"> Queue</span></td>
<td>  指定作业要送到的队列。可以通过输入 <tt>-P Queue:Device.</tt> 来指定队列中的一个特定的设备。</td>
</tr>
<tr>
<td>
<a id="a277a93a7" name="a277a93a7"></a><span class="bold">-r</span></td>
<td>  在成功完成打印后除去该文件。</td>
</tr>
<tr>
<td>
<a id="a277a93a6" name="a277a93a6"></a><span class="bold">-R</span><span class="italic"> Number</span></td>
<td>  将当前作业的优先级设置成 <span class="italic">Number</span>。这个标志在作业提交的时候用到。利用  <a href="enq.htm#a200978a"><span class="bold">-a</span></a> 标志来在作业提交后改变其优先级。越大的数指定越高的优先级。默认的优先级为15。对大多数用户来说最大的优先级为 20，有 root 用户权限的用户的最大的优先级为 30。</td>
</tr>
<tr>
<td>
<a id="a277a93a9" name="a277a93a9"></a><span class="bold">-t</span> "<span class="italic">User</span>"</td>
<td>  对要分发给 <span class="italic">User</span> 的输出加标签。通常，该输出被标记以分发给发布 <span class="bold">enq</span> 命令请求的用户名。<span class="italic">User</span> 的值必须是一个单字，符合规则用户标识的同样的要求。</td>
</tr>
<tr>
<td>
<a id="a277a93a8" name="a277a93a8"></a><span class="bold">-T</span><span class="italic"> Title</span></td>
<td>  将标题放到报头页中，并在 <a href="enq.htm#a277a93a5"><span class="bold">-q</span></a> 标志被指定时显示出来。通常，作业的标题就是该文件的名称。如果 <span class="bold">enq</span> 命令是从标准输入中读取的话，作业的标题就是 <span class="bold">STDIN.#</span>，这里 <span class="bold">#</span> 是 <span class="bold">enq</span> 命令的进程 ID。</td>
</tr>
<tr>
<td>
<a id="a277a93ac" name="a277a93ac"></a><span class="bold">-Y</span></td>
<td>  告诉 <span class="bold">enq</span> 命令忽略该标志之后的命令行其余的部分。这对发现队列是否有效是很有用的(如果它是在 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/qconfig.htm#a33194f1"><span class="bold">/etc/qconfig</span></a> 文件中的话)。例如，输入 <tt>enq
-P lp4 -Y</tt> 会返回出口值 0，如果行打印机<span class="bold">lp4</span> 是有效队列的话；否则会返回一个非零值。使用这个标志对于强制 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/qdaemon.htm#w4220joyc"><span class="bold">qdaemon</span></a> 命令再消化 <span class="bold">/etc/qconfig</span>
 文件是很有用的。</td>
</tr>
<tr>
<td>
<a id="ahn4053" name="ahn4053"></a><span class="bold">-Z</span><span class="italic"> Name</span></td>
<td>  指定远程打印作业的始发站。</td>
</tr>
</tbody>
</table>
<a name="a109c1789"></a>
<h4 id="a109c1789">打印作业优先级选项</h4>
<p></p>
<a name="wq813"></a>
<table id="wq813" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="a200978a" name="a200978a"></a><span class="bold">-a</span><span class="italic"> Number</span></td>
<td width="80%">  将指定作业的优先级改变成 <span class="italic">Number</span>。该作业必须在输入带有该标志的 <span class="bold">enq</span> 命令之前已经被提交打印。参考 <a href="enq.htm#a277a93a6"><span class="bold">-R</span></a> 标志获取优先级的描述。用 <a href="enq.htm#ahn4040"><span class="bold">-#</span></a> 标志来指定作业的编号。该标志仅对本地打印作业有效。</td>
</tr>
<tr>
<td>
<a id="ahn4040" name="ahn4040"></a><span class="bold">-#</span><span class="italic"> JobNumber</span></td>
<td>  指定 <a href="enq.htm#a277a93a5"><span class="bold">enq -q</span></a> 命令或者 <a href="enq.htm#a200978a"><span class="bold">enq</span> <span class="bold">-a</span></a> 命令使用的作业编号，并只显示在状态输出中指定的作业。
<p></p><blockquote><span class="bold">注意：</span> 
<ol type="1">
<li id="c503dfc466amy">
<a name="c503dfc466amy"></a>指定 <span class="bold">-P</span><span class="italic"> Queue</span> 来覆盖缺省的目的打印机。</li>
<li id="c503dfc551amy">
<a name="c503dfc551amy"></a>如果作业 1、2 和 3 在打印机队列中，并且您指定了您想在作业 1 运行的时候得到作业 3 的状态的话，则状态信息将会显示作业 1 和作业 3而不是仅仅是作业 3。</li>
<li id="c503dfc632amy">
<a name="c503dfc632amy"></a>如果您指定了一个不存在的作业编号的话，系统会显示队列里的当前作业编号，而不是错误消息。</li></ol></blockquote></td>
</tr>
</tbody>
</table>
<a name="a109c178a"></a>
<h4 id="a109c178a">显示状态选项</h4>
<p></p>
<a name="wq815"></a>
<table id="wq815" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="16%">
<a id="a2009789" name="a2009789"></a><span class="bold">-A</span></td>
<td width="83%">  为所有的队列提供状态。这就象对 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/qconfig.htm#a33194f1"><span class="bold">qconfig</span></a> 文件中每个队列运行一次 <a href="enq.htm#a277a93a5"><span class="bold">enq -q</span></a> 命令一样。</td>
</tr>
<tr>
<td>
<a id="sqe6j6djeff" name="sqe6j6djeff"></a><span class="bold">-e</span></td>
<td>  将不是在 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/qdaemon.htm#w4220joyc"><span class="bold">qdaemon</span></a> 命令的控制下的队列处来的状态信息排除在外。从这样的队列处得到的状态可能有不同的格式。<span class="bold">-e</span> 标志可以同任何标志的组合一起使用。</td>
</tr>
<tr>
<td>
<a id="a277a939f" name="a277a939f"></a><span class="bold">-L</span></td>
<td>  指定长状态。该标志可以与 <a href="enq.htm#a2009789"><span class="bold">-A</span></a> 标志或者 <a href="enq.htm#a277a93a5"><span class="bold">-q</span></a> 标志一起使用。它不能同 <a href="enq.htm#z2xzoa9vick"><span class="bold">-W</span></a> 标志一起使用。如果 <span class="bold">-L</span> 标志和<span class="bold"> -W </span> 标志同时被使用的话，先指定的那个占先。使用 <span class="bold">-L</span> 标志来显示要在一个打印作业中打印的多个文件。</td>
</tr>
<tr>
<td>
<a id="a277a93a5" name="a277a93a5"></a><span class="bold">-q</span></td>
<td>  显示缺省队列的状态。<span class="bold">LPDEST</span> 和 <span class="bold">PRINTER</span> 环境变量控制着缺省打印机的名。如果 <span class="bold">LPDEST</span> 环境变量包含了一个值的话，那么这个值永远都是最先使用。如果 <span class="bold">LPDEST</span> 变量没有值，则 <span class="bold">enq</span> 命令会使用 <span class="bold">PRINTER</span> 环境变量。如果 <span class="bold">PRINTER</span> 环境变量没有包含任何值，那么 <span class="bold">enq</span>命令会使用系统缺省值。
<p></p><blockquote><span class="bold">声明：</span> 
<ol type="1">
<li id="c2b3aef601kevi">
<a name="c2b3aef601kevi"></a>使用 <a href="enq.htm#ahn4050"><span class="bold">-P</span></a> <span class="italic">Queue</span> 标志和 <span class="bold">-q</span> 标志一起来显示一个特定队列的状态。</li>
<li id="a127c1235f">
<a name="a127c1235f"></a>任何目标命令行选项会覆盖 <span class="bold">LPDEST</span> 和 <span class="bold">PRINTER</span> 环境变量。</li></ol></blockquote></td>
</tr>
<tr>
<td>
<a id="i060198bcl0" name="i060198bcl0"></a><span class="bold">-s</span></td>
<td>获取打印队列的状态，而不列出任何文件。</td>
</tr>
<tr>
<td>
<a id="ahn4051" name="ahn4051"></a><span class="bold">-u</span><span class="italic"> Name</span></td>
<td>  指定打印作业状态的用户名。</td>
</tr>
<tr>
<td>
<a id="ahn4052" name="ahn4052"></a><span class="bold">-w</span><span class="italic"> Seconds</span></td>
<td>  指定队列状态的连续输出，每隔指定的 <span class="italic">Seconds</span> 就更新一次屏幕，直到队列为空（见 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/lpq.htm#a200964e"><span class="bold">lpq</span></a> 命令)。当队列为空时，进程停止。该标志只能与 <a href="enq.htm#a277a93a5"><span class="bold">-q</span></a>标志或者<a href="enq.htm#a2009789"><span class="bold">-A</span></a> 标志或者 <a href="enq.htm#a277a939f"><span class="bold">-L</span></a> 标志一起使用。</td>
</tr>
<tr>
<td>
<a id="z2xzoa9vick" name="z2xzoa9vick"></a><span class="bold">-W</span></td>
<td>  指定宽状态格式，它具有更长的队列名、设备名和作业编号。作业编号的信息在 AIX 4.3.2
中或者更后面的版本中可得。该标志可以同 <a href="enq.htm#a2009789"><span class="bold">-A</span></a> 标志或 <a href="enq.htm#a277a93a5"><span class="bold">-q</span></a>
 标志一起使用。它不能同 <a href="enq.htm#a277a939f"><span class="bold">-L</span></a> 标志一起使用。如果 <span class="bold">-L</span> 标志和<span class="bold"> -W </span> 标志同时被使用的话，先指定的那个占先。</td>
</tr>
</tbody>
</table>
<a name="a109c178c"></a>
<h4 id="a109c178c">改变队列和队列守护进程状态选项。</h4>
<p></p>
<a name="wq817"></a>
<table id="wq817" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="mqddmar" name="mqddmar"></a><span class="bold">-d</span></td>
<td width="95%">  运行 <a href="digest.htm#a26p05a6"><span class="bold">digest</span></a> 命令，该命令存在于 <span class="bold">/etc/qconfig</span> 文件中。一旦 digest 完成，任何对 <span class="bold">/etc/qconfig</span> 文件的改变都会反应到 <span class="bold">/etc/qconfig.bin</span> 文件中。用户必须有 root 用户权限才能运行这个选项。</td>
</tr>
</tbody>
</table>
<a name="f0192f0187mela"></a>
<p id="f0192f0187mela">除了对所有用户可用的前面的那些标志之外 <span class="bold">enq</span> 命令还接受下列标志，当它们由具有 root 用户权限的用户输入时。root 用户权限意味着您是 root 用户或者您属于 <span class="bold">printq</span>
组。</p>
<p></p><blockquote><a name="a283c13"></a><span id="a283c13" class="pk"></span><span class="bold">注意：</span> 下列标志只能用在本地打印作业中。</blockquote>
<a name="wq818"></a>
<table id="wq818" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="a277a93ae" name="a277a93ae"></a><span class="bold">-D</span></td>
<td width="95%">  设备关闭。关闭与队列相关的设备。<span class="bold">qdaemon</span> 进程不再向该设备发送作业，并且输入 <a href="enq.htm#a277a93a5"><span class="bold">enq</span> <span class="bold">-q</span></a> 命令会显示状态为 DOWN。任何当前运行在该设备上的作业都允许完成。</td>
</tr>
<tr>
<td>
<a id="a277a93af" name="a277a93af"></a><span class="bold">-G</span></td>
<td>  优雅死亡。在所有当前运行的作业完成时结束 <span class="bold">qdaemon</span> 进程。这个标志的使用是唯一的将 <span class="bold">qdaemon</span> 进程关闭的干净的方式。<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/kill.htm#a1579872"><span class="bold">kill</span></a> 命令的使用可能会引发问题，如作业挂在队列中。
<a name="a283c14"></a>
<p id="a283c14">如果 <span class="bold">qdaemon</span> 进程正运行在 <span class="bold">srcmstr</span> 下的话(缺省配置),<span class="bold">enq -G</span> 不会防止 <span class="bold">qdaemon</span> 自动重启动。您必须使用 <span class="bold">chssys</span> 命令，这个命令会改变缺省的配置并且防止 <span class="bold">qdaemon</span> 进程的自动重启。下列命令
:</p> 
<p></p>
<a name="a283c15"></a>
<pre id="a283c15" class="xmp">chssys -s qdaemon -O</pre> 
<a name="a283c16"></a>
<p id="a283c16">在 <span class="bold">enq   -G</span> 之前发布,防止 <span class="bold">qdaemon</span> 的自动重启。</p> 
<a name="a200976b"></a>
<p id="a200976b">下列命令
:</p> 
<p></p>
<a name="a283c17"></a>
<pre id="a283c17" class="xmp">startsrc -s qdaemon</pre> 
<a name="a283c18"></a>
<p id="a283c18">会手动重新启动 <span class="bold">qdaemon</span> 进程。</p></td>
</tr>
<tr>
<td>
<a id="a277a93b0" name="a277a93b0"></a><span class="bold">-K</span></td>
<td>  与 <a href="enq.htm#a277a93ae"><span class="bold">-D</span></a> 标志的操作相同，除了所有当前的作业被杀死之外。它们留在队列中，当设备打开时会重新运行。</td>
</tr>
<tr>
<td>
<a id="c501a3e291judy" name="c501a3e291judy"></a><span class="bold">-L</span></td>
<td>  指定长状态。该标志可以与 <a href="enq.htm#a2009789"><span class="bold">-A</span></a> 标志或者 <a href="enq.htm#a277a93a5"><span class="bold">-q</span></a> 标志一起使用。使用 <span class="bold">-L</span> 标志来显示要在一个打印作业中的多个文件。</td>
</tr>
<tr>
<td>
<a id="a2009777" name="a2009777"></a><span class="bold">-U</span></td>
<td>  提出与队列相关的设备。<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/qdaemon.htm#w4220joyc"><span class="bold">qdaemon</span></a> 进程重新向它发送作业，输入 <a href="enq.htm#a277a93a5"><span class="bold">enq -q</span></a> 命令会显示它的状态是 READY。</td>
</tr>
</tbody>
</table>
<p></p><blockquote><a name="a277a93b1"></a><span id="a277a93b1" class="pk"></span><span class="bold">注意：</span>如果有多于一个设备同队列相关的话，当您使用 <a href="enq.htm#a277a93ae"><span class="bold">-D</span></a>
标志, <a href="enq.htm#a277a93b0"><span class="bold">-K</span></a> 标志和 <a href="enq.htm#a2009777"><span class="bold">-U</span></a> 标志时您必须指定设备和队列。例如，只有当该队列中没有其他设备时输入 <tt>-P lp:lpd</tt> 才会指定相同的设备。</blockquote>
<a name="a109c178d"></a>
<h4 id="a109c178d">取消选项</h4>
<p></p>
<a name="wq819"></a>
<table id="wq819" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="16%">
<a id="a277a93ab" name="a277a93ab"></a><span class="bold">-X</span></td>
<td width="83%">  取消打印您的作业。如果您有 root 用户权限的话，则在该指定队列中的所有的作业都会被删除。该标志只有在本地打印作业中才有效。</td>
</tr>
<tr>
<td>
<a id="a277a93aa" name="a277a93aa"></a><span class="bold">-x</span><span class="italic"> Number</span></td>
<td>  取消指定作业 <span class="italic">Number</span> 的打印</td>
</tr>
<tr>
<td>
<a id="dlccgf4kevi" name="dlccgf4kevi"></a><span class="bold">-P</span><span class="italic"> Printer</span></td>
<td>  指定 <span class="italic">Printer</span>，这里或者所有的作业或者选定的作业编号要被取消。</td>
</tr>
</tbody>
</table>
<p></p><blockquote><a name="a276c114"></a><span id="a276c114" class="pk"></span><span class="bold">注意：</span>如果您拥有 root 用户权限并且没有指定队列的话，则在所有的队列中的所有的作业都会被删除。</blockquote>
<a name="ayc2j19fjudy"></a>
<h4 id="ayc2j19fjudy">保持和释放一个打印作业选项</h4>
<p></p>
<a name="wq820"></a>
<table id="wq820" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="tpc2j10fjudy" name="tpc2j10fjudy"></a><span class="bold">-#</span><span class="italic"> JobNumber</span></td>
<td width="80%">  指定要保持或释放的打印作业的编号。</td>
</tr>
<tr>
<td>
<a id="qqc2j3a5judy" name="qqc2j3a5judy"></a><span class="bold">-h</span></td>
<td>  保持指定的打印作业</td>
</tr>
<tr>
<td>
<a id="jwc2j371judy" name="jwc2j371judy"></a><span class="bold">-H</span></td>
<td>  对用 <span class="italic">File</span> 参数表示的文件进行排队和保持。</td>
</tr>
<tr>
<td>
<a id="krc2je2judy" name="krc2je2judy"></a><span class="bold">-p</span></td>
<td>  释放指定的打印作业。</td>
</tr>
<tr>
<td>
<a id="asc2j63judy" name="asc2j63judy"></a><span class="bold">-P</span><span class="italic"> Queue</span></td>
<td>  指定要被保持或释放的打印队列。</td>
</tr>
<tr>
<td>
<a id="atc2jfdjudy" name="atc2jfdjudy"></a><span class="bold">-u</span><span class="italic"> User</span></td>
<td>  指定打印作业要被保持或释放的用户。</td>
</tr>
</tbody>
</table>
<a name="zxc2j38ejudy"></a>
<h4 id="zxc2j38ejudy">移动打印作业选项</h4>
<p></p>
<a name="wq821"></a>
<table id="wq821" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="atc2jf7judy" name="atc2jf7judy"></a><span class="bold">-#</span><span class="italic"> JobNumber</span></td>
<td width="80%">  指定要被移动的打印作业的编号</td>
</tr>
<tr>
<td>
<a id="wxc2j10fjudy" name="wxc2j10fjudy"></a><span class="bold">-P</span><span class="italic"> Queue</span></td>
<td>  指定要被移动的打印队列。<span class="italic">Queue</span> 变量值可以是一个队列名或者有队列：设备名的形式。</td>
</tr>
<tr>
<td>
<a id="a4vc2j133judy" name="a4vc2j133judy"></a><span class="bold">-Q</span><span class="italic"> NewQueue</span></td>
<td>  指定打印作业要移动到的目标队列。<span class="italic">NewQueue</span> 变量值可以是队列名的形式或者是队列：设备名的形式。</td>
</tr>
<tr>
<td>
<a id="jyc2j36ajudy" name="jyc2j36ajudy"></a><span class="bold">-u</span><span class="italic"> User</span></td>
<td>  指定打印作业要被移动的用户。</td>
</tr>
</tbody>
</table>
<a name="a200977b"></a>
<h3 id="a200977b">安全性</h3>
<a name="f0192f2555mela"></a>
<p id="f0192f2555mela">审计的事件：</p>
<a name="wq822"></a>
<table id="wq822" width="100%" summary="" border="0" frame="void" rules="none">
<thead valign="bottom">
<tr>
<th id="wq823" width="18%" align="left">事件</th>
<th id="wq824" width="81%" align="left">  信息</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq823">
<a id="a175c1400" name="a175c1400"></a>ENQUE_admin</td>
<td headers="wq824">  队列名，设备名，作业名，用户名</td>
</tr>
</tbody>
</table>
<a name="a200978b"></a>
<h3 id="a200978b">示例</h3>
<ol type="1">
<li><a name="a200978c"></a><span id="a200978c" class="pk"></span>要想在缺省打印机上打印文件 <tt>memo</tt>
，请输入：
<p></p>
<a name="a200978d"></a>
<pre id="a200978d" class="xmp">enq memo</pre></li>
<li><a name="a200978f"></a><span id="a200978f" class="pk"></span>要想带页码打印文件 <tt>prog.c</tt>，请输入：
<p></p>
<a name="a2009790"></a>
<pre id="a2009790" class="xmp">pr prog.c | enq</pre><p class="indatacontent"> <span class="bold">pr</span> 命令在每页的顶部放置一个标题，该标题包含了文件最后修改日期、文件名和页码。<span class="bold">enq</span> 命令然后会打印该文件。</p></li>
<li><a name="a277a93b3"></a><span id="a277a93b3" class="pk"></span>要想带页码打印一个从标准输入读入的文件，请输入：
<a id="a277a93b4" name="a277a93b4"></a>
<div class="lines"><tt>pr x | enq&nbsp;&nbsp;<a href="enq.htm#ahn4050">-P</a> bill&nbsp;&nbsp;<a href="enq.htm#a277a93a3">-n</a>&nbsp;&nbsp;<a href="enq.htm#a277a93a7">-r</a> fn1 - fn3</tt><br />
</div> 短划线(<span class="bold">-</span>)特殊文件名告诉 <span class="bold">enq</span> 命令要从标准输入读取。如果在命令行中有文件名的话，一般 <span class="bold">enq</span> 命令不会从标准输入中读取。它还表示打印的顺序。<span class="bold">pr</span> 命令会为 <tt>x</tt> 文件创建一个页面编号了的版本，并将其传送到 <span class="bold">enq</span> 命令，这个命令会创建一个包含了 <span class="bold">/var/spool/qdaemon</span> 文件中输出的临时文件。
<a name="a310c11"></a>
<p id="a310c11"><span class="bold">enq</span> 命令用四个文件创建了一个作业，并将其提交给名为 <tt>bill</tt> 的队列。它将打印 <tt>fn1</tt> 文件两次。然后它会打印，无论 <span class="bold">pr</span> 命令的输出是什么。最后它会打印 <tt>fn3</tt> 文件。那四个文件被当作用于分段页面的一个作业。当该作业完成时，会发送通知(<tt>-n</tt> 标志)。由于 <tt>-r</tt> 标志被指定，<tt>fn1</tt> 和 <tt>fn3</tt> 文件在作业完成时被除去。由短划线(<span class="bold">-</span>)文件创建的临时文件总要删除。</p> 
<a name="a277a93b6"></a>
<p id="a277a93b6"><span class="bold">pr</span> 命令在每页的顶部放置一个标题，该标题包含了文件最后修改日期，文件名和页码。<span class="bold">enq</span> 命令然后会打印该文件。</p></li>
<li><a name="c1c99a8501joy"></a><span id="c1c99a8501joy" class="pk"></span>要想将 <tt>report</tt> 文件打印在下一个可用的为 <tt>fred</tt> 队列配置的打印机上，请输入：
<p></p>
<a name="c1c99a8581joy"></a>
<pre id="c1c99a8581joy" class="xmp">enq -P fred report</pre></li>
<li><a name="c1c99a8660joy"></a><span id="c1c99a8660joy" class="pk"></span>要想将以 <tt>sam</tt> 前缀开始的多个文件打印在为 <tt>fred</tt> 队列配置的下一个可用打印机上，请输入：
<p></p>
<a name="c1c99a8742joy"></a>
<pre id="c1c99a8742joy" class="xmp">enq -P fred sam*</pre><p class="indatacontent"> 所有以 <tt>sam</tt> 前缀开头的文件都包含在一个打印作业中。通常状态命令只显示打印作业的标题，这种情况下就是队列中的第一个文件名除非 <span class="bold">-T</span> 标志指定了不同的值。要想列出打印作业中所有文件的名称，请使用长状态命令 <span class="bold">enq</span><span class="bold"> -A</span><span class="bold"> -L</span>.</p></li>
<li><a name="a277a93b7"></a><span id="a277a93b7" class="pk"></span>要想检查打印队列看看文件是否还在等待打印，请输入：
<a id="a277a93b8" name="a277a93b8"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a277a93a5">-q</a></tt><br />
</div> 这个命令会显示用户缺省队列的状态。如果该文件还没有被打印，那么它会出现在队列状态列表中。系统缺省的队列被定义成在 <span class="bold">/etc/qconfig[.bin]</span> 文件中的第一个队列。用户可以通过设置和导出用 <span class="bold">PRINTER</span> 环境变量将他们自己的缺省值覆盖。</li>
<li><a name="a64p01b8"></a><span id="a64p01b8" class="pk"></span>要想显示非缺省队列<tt>lp0</tt>的状态, 请输入：
<a id="a64p01b9" name="a64p01b9"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a277a93a5">-q</a>&nbsp;&nbsp;<a href="enq.htm#ahn4050">-P</a> lp0</tt><br />
</div></li>
<li><a name="a2009792"></a><span id="a2009792" class="pk"></span>要想获得长队列状态，请输入：
<a id="a2009793" name="a2009793"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a277a939f">-L</a></tt><br />
</div></li>
<li><a name="a277a93ba"></a><span id="a277a93ba" class="pk"></span>要想获取所有队列的状态，请输入：
<a id="a277a93bb" name="a277a93bb"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a2009789">-A</a></tt><br />
</div></li>
<li><a name="a277a93bd"></a><span id="a277a93bd" class="pk"></span>要想获得所有队列的长状态，请输入：
<a id="a277a93be" name="a277a93be"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a2009789">-A</a>&nbsp;&nbsp;<a href="enq.htm#a277a939f">-L</a></tt><br />
</div></li>
<li><a name="a2f8df15570mart"></a><span id="a2f8df15570mart" class="pk"></span>要获取缺省队列的状态，请以宽格式输入：
<a id="a2f8df15607mart" name="a2f8df15607mart"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#z2xzoa9vick">-W</a> </tt><br />
</div></li>
<li><a name="a2f8df15648mart"></a><span id="a2f8df15648mart" class="pk"></span>要获取所有队列的宽状态，请输入：
<a id="a2f8df15685mart" name="a2f8df15685mart"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#z2xzoa9vick">-W</a>&nbsp;&nbsp;<a href="enq.htm#a2009789">-A</a> </tt><br />
</div></li>
<li><a name="a200977c"></a><span id="a200977c" class="pk"></span>要想停止打印一个作业(一个作业就是一个或者多个文件),请输入：
<a id="a2009779" name="a2009779"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a277a93aa">-x</a> 413</tt><br />
</div> 该命令取消您以前的打印作业的请求。该编号是从输入 <span class="bold">enq -q</span> 命令获取的列表获得的。如果作业当前正在打印，则打印机会立即停止。如果作页还没有被打印，那么它会从队列中除去这样它就不会被打印了。如果作业不在队列中的话，<span class="bold">enq</span> 命令会显示一条和下面相似的消息：
<p></p>
<a name="a277a93c1"></a>
<pre id="a277a93c1" class="xmp">没有您的请求－－或许它已经完成了？</pre></li>
<li><a name="a277a93c2"></a><span id="a277a93c2" class="pk"></span>要想将一个打印机从队列系统断开，请输入：
<a id="a277a93c3" name="a277a93c3"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#ahn4050">-P</a> lp0:dlp0&nbsp;&nbsp;<a href="enq.htm#a277a93ae">-D</a></tt><br />
</div> 输入这个命令会停止 <span class="bold">enq</span> 命令的请求被送到为 <tt>lp0</tt> 队列服务的打印机。如果一个文件当前正在打印，它会被允许打印完。您必须可以执行 <span class="bold">qadm</span> 命令来运行这个命令。
<a name="a277a93c5"></a>
<p id="a277a93c5"></p><blockquote><span class="bold">注意：</span>为一个给定队列服务的打印机是按照设备节名命名的，出现在 <span class="bold">/etc/qconfig[.bin]</span> 文件中。</blockquote></li>
<li><a name="a277a93c6"></a><span id="a277a93c6" class="pk"></span>要想使用缺省打印机上的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/piobe.htm#a2mb0joyc"><span class="bold">piobe</span></a> 命令后端带页码打印文件，请输入：
<a id="a277a93c7" name="a277a93c7"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a277a93a4">-o</a> -p filename </tt><br />
</div> <tt>-p</tt> 标志不被 <span class="bold">enq</span> 命令看见。<tt>-o</tt> 标志告诉 <span class="bold">enq</span> 命令把下一项（可以在引号内），传递到未改变的后端。因此，<span class="bold">enq</span> 命令会将 <tt>-p</tt> 标志传递给 <span class="bold">qdaemon</span> 进程，该进程接着传递到后端 <span class="bold">piobe</span> 上。<tt>-p</tt> 标志导致 <span class="bold">piobe</span> 执行 <span class="bold">/usr/bin/pr</span> 过滤器来在向设备提供数据之前将页码应用到文档中。多个选项可以在引号中给出，前面有 <tt>-o</tt> 标志，或者没有引号，每个前面有多个 <tt>-o</tt> 标志。</li>
<li><a name="a277a93c9"></a><span id="a277a93c9" class="pk"></span>假定 <span class="bold"> qconfig</span> 文件有下列信息：
<p></p>
<a name="a277a93ca"></a>
<pre id="a277a93ca" class="xmp">qname:
               device = fred
fred:
               file = /tmp/hello
               backend = /usr/bin/sh /usr/bin/diff</pre><p class="indatacontent"> 并提供了下列命令：</p>
<a id="a277a93cc" name="a277a93cc"></a>
<div class="lines"><tt>rm /tmp/hello<br />
touch /tmp/hello<br />
pr /etc/hosts|enq&nbsp;&nbsp;<a href="enq.htm#ahn4050">-P</a> qname:fred - /etc/hosts</tt><br />
</div><p class="indatacontent"> <span class="bold">qdaemon</span>进程用两个变量执行 <tt>/usr/bin/diff</tt> 程序，一个是临时文件名，另一个是 <tt>/etc/hosts</tt> 文件。两个文件之间唯一的区别就是其中一个是在 <span class="bold">pr</span> 命令中运行的。<tt>/tmp/hello</tt> 文件将包含两个文件之间的差异。<span class="bold">qdaemon</span> 进程不会创建 <tt>/tmp/hello</tt> 文件，如果它不存在的话。</p></li>
<li><a name="a277a93ce"></a><span id="a277a93ce" class="pk"></span>下列命令：
<a id="a277a93cf" name="a277a93cf"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a277a93a1">-m</a>'i want pink paper for this job' /etc/passwd</tt><br />
</div> 会在打印作用要打印之前将指定的操作程序消息发送到操作程序的控制台上。操作程序必须对这个消息进行响应，来取消或者继续该作业。
<a id="a277a93d1" name="a277a93d1"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a277a93a0">-M</a> pink /etc/passwd</tt><br />
</div> 这个命令完成同样的事，只有消息包含在名为 <tt>pink</tt> 的文件中。</li>
<li><a name="a277a93d3"></a><span id="a277a93d3" class="pk"></span>要想取消在 <tt>fred</tt> 队列中的所有的作业，请输入：
<a id="a277a93d4" name="a277a93d4"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a277a93ab">-X</a>&nbsp;&nbsp;<a href="enq.htm#ahn4050">-P</a> fred</tt><br />
</div> 如果输入该命令的用户有 root 用户权限，则所有 <tt>fred</tt> 队列中的作业都被删除。如果用户没有 root 用户权限，则只有该队列中的用户的作业会被删除。</li>
<li><a name="d519641052mart"></a><span id="d519641052mart" class="pk"></span>要想对名为 <tt>MyFile</tt> 的文件进行排队并返回 <tt>MyFile</tt> 作业编号到 <span class="bold"> jdf</span> 文件中，请输入：
<a id="d519641139mart" name="d519641139mart"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a4qw3j105kbar">-j</a> MyFile</tt><br />
</div></li>
<li><a name="d519641236mart"></a><span id="d519641236mart" class="pk"></span>要想保持打印作业编号 <tt>310</tt>,请输入：
<a id="d519641320mart" name="d519641320mart"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#qqc2j3a5judy">-h</a>&nbsp;&nbsp;<a href="enq.htm#tpc2j10fjudy">-#</a>310</tt><br />
</div> 要想释放被保持的打印作业编号 <tt>310</tt>,请输入：
<a id="d519641511mart" name="d519641511mart"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#krc2je2judy">-p</a> -#310</tt><br />
</div></li>
<li><a name="d519641612mart"></a><span id="d519641612mart" class="pk"></span>要想保持队列 <tt>lp0</tt> 中的所有的打印作业，请输入：
<a id="d519641699mart" name="d519641699mart"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#qqc2j3a5judy">-h</a>&nbsp;&nbsp;<a href="enq.htm#asc2j63judy">-P</a> lp0</tt><br />
</div> 要想释放 <tt>lp0</tt> 队列，请输入：
<a id="d519641877mart" name="d519641877mart"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#krc2je2judy">-p</a> -P lp0</tt><br />
</div></li>
<li><a name="d519641975mart"></a><span id="d519641975mart" class="pk"></span>要想保持由 <tt>fred</tt> 创建的所有打印作业，请输入：
<a id="d519642061mart" name="d519642061mart"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#qqc2j3a5judy">-h</a>&nbsp;&nbsp;<a href="enq.htm#atc2jfdjudy">-u</a> fred</tt><br />
</div> 要想释放由 <tt>fred</tt> 创建的打印作业，请输入：
<a id="d519642245mart" name="d519642245mart"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#krc2je2judy">-p</a> -u fred</tt><br />
</div></li>
<li><a name="d519642343mart"></a><span id="d519642343mart" class="pk"></span>要想将作业编号 <tt>318</tt> 移动到队列 <tt>lp0</tt> 中，请输入：
<a id="d519642429mart" name="d519642429mart"></a>
<div class="lines"><tt>enq&nbsp;&nbsp;<a href="enq.htm#a4vc2j133judy">-Q</a> lp0&nbsp;&nbsp;<a href="enq.htm#atc2jf7judy">-#</a>318</tt><br />
</div> 控制移动打印作业的标志同保持打印文件的标志的工作方式是一样的。保持标志和变量在前面的示例中介绍了。</li></ol>
<a name="a2009797"></a>
<h3 id="a2009797">文件</h3>
<p></p>
<a name="wq826"></a>
<table id="wq826" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="35%">
<a id="a2009757" name="a2009757"></a><span class="bold">/usr/sbin/qdaemon</span></td>
<td width="65%">对守护进程排队</td>
</tr>
<tr>
<td>
<a id="a79c12f1" name="a79c12f1"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/qconfig.htm#a33194f1"><span class="bold">/etc/qconfig</span></a></td>
<td>对配置文件排队.</td>
</tr>
<tr>
<td><span class="bold">/var/spool/lpd/qdir/*</span></td>
<td>  对请求排队.</td>
</tr>
<tr>
<td><span class="bold">/var/spool/lpd/stat/*</span></td>
<td>  设备状态的信息.</td>
</tr>
<tr>
<td><span class="bold">/var/spool/qdaemon/*</span></td>
<td>  队列中文件的临时拷贝.</td>
</tr>
<tr>
<td><span class="bold">/etc/qconfig.bin</span></td>
<td>  <span class="bold">/etc/qconfig</span> 文件的摘要的二进制版本</td>
</tr>
</tbody>
</table>
<a name="wq827"></a>
<h3 id="wq827">相关信息</h3>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds1/chquedev.htm#a1879e79"><span class="bold">chquedev</span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/lsque.htm#a20095b"><span class="bold">lsque</span></a>命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds3/mkque.htm#a2079158"><span class="bold">mkque</span></a>命令和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/cmds/aixcmds4/rmque.htm#a1879bd4"><span class="bold">rmque</span></a>命令。</p>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds2/files/aixfiles/qconfig.htm#a33194f1"><span class="bold">qconfig</span></a>文件。</p>
<p><span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/printrgd/change_show_queue.htm#hp5g17ekat">Changing / Showing Queue Characteristics</a>。</p>
<p><span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/printrgd/printers_sysadmin.htm#a350p9203">Printer Overview for System Management</a>。</p>
<p><span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/printrgd/prt_spec_info.htm#a73p02de">Printer-Specific Information</a>。</p>
<p><span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/printrgd/prt_support.htm#a2979482">Printer Support</a>。</p>
<p><span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/printrgd/spooler_overview.htm#a350p928a">Spooler Overview for System Management</a>。</p>
<p><span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/printrgd/virtual_def_attr.htm#a354p9f">Virtual Printer Definitions and  Attribute</a>。</p>
<p><span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds2/aixbman/printrgd/prt_colon_file_conv.htm#a354p93d">Printer Colon File Conventions</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="enq.htm#Top_Of_Page">页的顶部</a> | <a href="enable.htm">上一页</a> | <a href="enroll.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds202.htm#wq1815">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
