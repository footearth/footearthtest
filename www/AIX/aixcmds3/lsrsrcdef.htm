<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 3，i - m - lsrsrcdef 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="lsrsrcdef 命令, lsrsrcdef, 命令" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="lsrsrcdef.htm#Bot_Of_Page">页的底部</a> | <a href="lsrsrc.htm">上一页</a> | <a href="lssavevg.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 3，i - m</h1></center>

<a name="lsrsrcdef"></a>
<h2 id="lsrsrcdef">lsrsrcdef <span>命令</span></h2>
<a name="wq1170"></a>
<h3 id="wq1170">用途</h3>
<p><span></span>显示资源或资源类的定义信息。</p><a id="idx465" name="idx465"></a><a id="idx466" name="idx466"></a>
<a name="wq1171"></a>
<h3 id="wq1171">语法</h3>
<p>对于<span class="italic">资源</span>...</p>
<p>要显示定义：</p>
<p><span class="pk">lsrsrcdef</span>  [<span class="pk">-p</span> <var class="pv">property</var>] [<span class="pk">-e</span>] [<span class="pk">-s</span>]  [<span class="pk">-l | -i
| -t | -d | -D</span> <var class="pv">delimiter</var>]  [<span class="pk">-x</span>] <span>[<span class="pk">-a</span>]</span>  [<span class="pk">-h</span>] [<span class="pk">-TV</span>]  <var class="pv">resource_class</var> [<var class="pv">attr</var>...]</p>
<p>要显示持久属性定义：</p>
<p><span class="pk">lsrsrcdef</span> <span class="pk">-A p</span>  [<span class="pk">-p</span> <var class="pv">property</var>] [<span class="pk">-e</span>] [<span class="pk">-s</span>]  [<span class="pk">-l | -i | -t | -d | -D</span> <var class="pv">delimiter</var>]
 [<span class="pk">-x</span>] <span>[<span class="pk">-a</span>]</span>  [<span class="pk">-h</span>] [<span class="pk">-TV</span>]  <var class="pv">resource_class</var> [<var class="pv">attr</var>...]</p>
<p>要显示动态属性定义：</p>
<p><span class="pk">lsrsrcdef</span> <span class="pk">-A d</span>  [<span class="pk">-p</span> <var class="pv">property</var>] [<span class="pk">-e</span>] [<span class="pk">-s</span>]  [<span class="pk">-l | -i | -t | -d | -D</span> <var class="pv">delimiter</var>]
 [<span class="pk">-x</span>] <span>[<span class="pk">-a</span>]</span>  [<span class="pk">-h</span>] [<span class="pk">-TV</span>]  <var class="pv">resource_class</var> [<var class="pv">attr</var>...]</p>
<p>对于<span class="italic">资源类</span>...</p>
<p>要显示定义：</p>
<p><span class="pk">lsrsrcdef</span> <span class="pk">-c</span>  [<span class="pk">-p</span> <var class="pv">property</var>] [<span class="pk">-e</span>] [<span class="pk">-s</span>]  [<span class="pk">-l | -i | -t | -d | -D</span> <var class="pv">delimiter</var>]
 [<span class="pk">-x</span>] <span>[<span class="pk">-a</span>]</span>  [<span class="pk">-h</span>] [<span class="pk">-TV</span>]  <var class="pv">resource_class</var> [<var class="pv">attr</var>...]</p>
<p>要显示持久属性定义：</p>
<p><span class="pk">lsrsrcdef</span> <span class="pk">-c</span> <span class="pk">-A p</span> [<span class="pk">-p</span> <var class="pv">property</var>] [<span class="pk">-e</span>] [<span class="pk">-s</span>]  [<span class="pk">-l | -i | -t | -d | -D</span> <var class="pv">delimiter</var>]  [<span class="pk">-x</span>] <span>[<span class="pk">-a</span>]</span>  [<span class="pk">-h</span>] [<span class="pk">-TV</span>]  <var class="pv">resource_class</var> [<var class="pv">attr</var>...]</p>
<p>要显示动态属性定义：</p>
<p><span class="pk">lsrsrcdef</span> <span class="pk">-c</span> <span class="pk">-A d</span> [<span class="pk">-p</span> <var class="pv">property</var>] [<span class="pk">-e</span>] [<span class="pk">-s</span>]  [<span class="pk">-l | -i | -t | -d | -D</span> <var class="pv">delimiter</var>]  [<span class="pk">-x</span>] <span>[<span class="pk">-a</span>]</span>  [<span class="pk">-h</span>] [<span class="pk">-TV</span>]  <var class="pv">resource_class</var> [<var class="pv">attr</var>...]</p>
<p>要显示包含所有资源类名称的列表：</p>
<p><span class="pk">lsrsrcdef</span></p>
<a name="wq1172"></a>
<h3 id="wq1172">描述</h3>
<p><span class="pk">lsrsrcdef</span> 命令显示资源或资源类的定义或其持久或动态属性定义。在缺省情况下：</p>
<ul>
<li>在命令行中没有指定 <var class="pv">attr</var> 参数时，只显示 <span class="pk">public</span> 属性的定义。要覆盖缺省设置，请使用 <span class="pk">-p</span> <span>标志</span>或指定你要显示的属性名。</li>
<li>此命令不显示属性描述。要显示操作属性定义和描述，请指定 <span class="pk">-e</span> <span>标志</span>。</li></ul>
<a name="wq1173"></a>
<h3 id="wq1173">标志</h3>
<dl>
<dt class="bold">-a</dt>
<dd>指定此命令应用到群集中的所有节点。群集作用域由 CT_MANAGEMENT_SCOPE 环境变量确定。
假如环境变量没有设置，如果管理域作用域存在，首先会选择管理域作用域，如果没有管理域作用域，会接着选择存在的对等域作用域，如果也没有对等域作用域，会接着选择本地作用域，依次选择直至选定本命令的有效作用域为止。对于找到的第一个有效作用域，命令会运行一次。
例如，如果同时存在管理域和对等域，未设置 CT_MANAGEMENT_SCOPE 的 <span class="pk">lsrsrcdef -a</span> 将显示管理域。在此情况下，要显示对等域，请将 CT_MANAGEMENT_SCOPE 设置为 2。
</dd>
<dt class="bold">-A p | d</dt>
<dd>指定属性类型。持久或动态属性定义都可以显示。使用此<span>标志</span>和  <span class="pk">-c</span> <span>标志</span>来显示某个资源类的持久或动态属性定义。
<dl>
<dt class="bold">p</dt>
<dd>只显示持久属性。
</dd>
<dt class="bold">d</dt>
<dd>只显示动态属性。
</dd>
</dl>
</dd>
<dt class="bold">-c</dt>
<dd>显示资源类定义的定义。要显示资源类的持久属性定义，请指定此<span>标志</span>，同时指定 <span class="pk">-A p </span><span>标志</span>。要显示资源类的动态属性定义，请指定此<span>标志</span>，同时指定 <span class="pk">-A d </span><span>标志</span>。
</dd>
<dt class="bold">-d</dt>
<dd>指定定界符格式输出。缺省情况下，定界符是一个冒号（:）。使用 <span class="pk">-D</span> <span> 标志</span>来改变缺省定界符。
</dd>
<dt class="bold">-D <var class="pv">定界符</var></dt>
<dd>指定使用特定定界符的定界符格式输出。使用该<span>标志</span>来指定替代缺省的冒号（:）。例如当显示数据中包含冒号时。使用该<span>标志</span>来指定一个或多个字符的定界符。
</dd>
<dt class="bold">-e</dt>
<dd>指定扩展的格式。缺省情况下不显示这些定义的描述。指定该<span>标志</span>来显示定义和描述。
</dd>
<dt class="bold">-i</dt>
<dd>生成一个 <span class="pk">Resource_Data_Input</span> 文件的模板，它在适当编辑以后作为 <span class="pk">mkrsrc</span> 命令的输入。输出以长（节）格式显示。显示可被用来定义资源的全部要求和可选属性。属性数据类型以成对的值 <var class="pv">attr=value</var> 显示。建议在使用该<span>标志</span>时，<span class="pk">lsrsrcdef</span> 命令的输出定向到文件。该<span>标志</span>覆盖了<span class="pk">-s</span>和<span class="pk">-A d</span> <span>标志</span>。
</dd>
<dt class="bold">-l</dt>
<dd>指定“长整型”格式 － 每行一个条目。此项为缺省显示格式。如果发出 <span class="pk">lsrsrcdef -l</span> 命令但不带资源类名，此命令返回定义的资源类名列表时将忽略该<span>标志</span>。
</dd>
<dt class="bold">-p <var class="pv">特性</var></dt>
<dd>用指定的<var class="pv">特性</var>显示属性的定义。缺省情况下将仅显示 <span class="pk">public</span> 属性的定义。想要忽略特性而显示全部属性定义，使用 <span class="pk">-p 0</span> <span>标志</span>。
<p><span class="bold">持久属性特性：</span></p>
<dl>
<dt class="base">0x0001</dt>
<dd><span class="pk">read_only</span>
</dd>
<dt class="base">0x0002</dt>
<dd><span class="pk">reqd_for_define</span>（必需的）
</dd>
<dt class="base">0x0004</dt>
<dd><span class="pk">inval_for_define</span>（无效的）
</dd>
<dt class="base">0x0008</dt>
<dd><span class="pk">option_for_define</span>（可选）
</dd>
<dt class="base">0x0010</dt>
<dd><span class="pk">可选</span>
</dd>
<dt class="base">0x0020</dt>
<dd><span class="pk">公用</span>
</dd>
</dl>
<p><span class="bold">动态属性特性：</span></p>
<dl>
<dt class="base">0x0020</dt>
<dd><span class="pk">公用</span>
</dd>
</dl>
<p>可以给特性指定一个十进制或十六进制值。要请求所有有一个或多个特性的属性的属性定义，请将感兴趣的特性“OR”在一起，然后用 <span class="pk">-p</span> <span>标志</span>指定“OR 过”的值。例如，要显示为 <span class="pk">reqd_for_define</span> 或 <span class="pk">option_for_define </span>的所有持久属性的属性定义，请输入：</p>
<pre class="xmp">lsrsrcdef -p 0x0a</pre>
</dd>
<dt class="bold">-s</dt>
<dd>显示结构化数据定义。对结构化数据定义指定该 <span>标志</span>来扩展，以便显示每个结构化数据属性的元素定义。
</dd>
<dt class="bold">-t</dt>
<dd>指定表格式。在单独列中显示每个属性，每行一个资源。
</dd>
<dt class="bold">-x</dt>
<dd>禁止页眉打印。
</dd>
<dt class="bold">-h</dt>
<dd>将命令的用法语句写到标准输出。
</dd>
<dt class="bold">-T</dt>
<dd>将命令的跟踪消息写到标准错误。仅供软件服务组织使用。
</dd>
<dt class="bold">-V</dt>
<dd>将命令的详细消息写到标准输出。
</dd>
</dl>
<a name="wq1174"></a>
<h3 id="wq1174">参数</h3>
<dl>
<dt class="bold"><var class="pv">resource_class</var></dt>
<dd>指定和您想要显示的资源定义一起显示的资源类名。
</dd>
<dt class="bold"><var class="pv">attr</var></dt>
<dd>如果指定了一个 <var class="pv">resource_class</var> 参数，可以指定零个或多个属性名。如果没有指定 <var class="pv">attr</var> 参数，将显示资源的所有属性的定义。指定单个属性名来控制显示哪些属性及其显示顺序。
当使用 <span class="pk">-A p</span> <span>标志</span>时，仅指定持久属性名。当使用 <span class="pk">-A d</span> <span>标志</span>时，仅指定动态属性名。属性必须用空格隔开。
</dd>
</dl>
<a name="wq1175"></a>
<h3 id="wq1175">安全性</h3>
<p>要运行 <span class="pk">lsrsrcdef</span>，用户需要在 <span class="pk">lsrsrcdef</span> 中指定的对 <var class="pv">resource_class</var> 的写权限。许可权由所连接系统中的访问控制表（ACL）文件指定。</p>
<a name="wq1176"></a>
<h3 id="wq1176">退出状态</h3>
<dl>
<dt class="bold">0</dt>
<dd>命令已成功运行。
</dd>
<dt class="bold">1</dt>
<dd>RMC 出现一次错误。
</dd>
<dt class="bold">2</dt>
<dd>命令行界面（CLI）脚本出错。
</dd>
<dt class="bold">3</dt>
<dd>在命令行上指定了不正确的<span>标志</span>。
</dd>
<dt class="bold">4</dt>
<dd>在命令行上指定了不正确的参数。
</dd>
<dt class="bold">5</dt>
<dd>发生了一个由于不正确的命令行输入而导致的 RMC 错误。
</dd>
</dl>
<a name="wq1177"></a>
<h3 id="wq1177">环境变量</h3>
<dl>
<dt class="bold">CT_CONTACT</dt>
<dd>当 CT_CONTACT 环境变量设置到一台主机名或 IP 地址时，命令连接指定主机的资源监视和控制（RMC）守护进程。如果此环境变量没有设置，命令连接正在运行命令的本地系统上的 RMC 守护进程。如果此环境变量没有设置，命令连接正在运行命令的本地系统上的 RMC 守护进程。由命令显示或修改的资源类或资源位于已经建立连接的系统上。
</dd>
<dt class="bold">CT_MANAGEMENT_SCOPE</dt>
<dd>确定用于与 RMC 守护进程的会话的管理作用域，以监视和控制资源和资源类。管理作用域确定了能够监视和控制资源和资源类的可能的目标节点集。有效值为：
<dl>
<dt class="bold">0</dt>
<dd>指定<span class="italic">本地</span>作用域。
</dd>
<dt class="bold">1</dt>
<dd>指定<span class="italic">本地</span>作用域。
</dd>
<dt class="bold">2</dt>
<dd>指定<span class="italic">对等域</span>作用域。
</dd>
<dt class="bold">3</dt>
<dd>指定<span class="italic">管理域</span>作用域。
</dd>
</dl> 
<p>如果此环境变量<span class="italic">没有</span>设置，使用<span class="italic">本地</span>作用域。</p>
</dd>
</dl>
<a name="wq1178"></a>
<h3 id="wq1178">标准输出</h3>
<p>当指定 <span class="pk">-h</span> <span>标志</span>时，命令的用法语句写到标准输出。所有详细消息都写到标准输出。</p>
<a name="wq1179"></a>
<h3 id="wq1179">标准错误</h3>
<p>所有跟踪消息都写到标准错误。</p>
<a name="wq1180"></a>
<h3 id="wq1180">示例</h3>
<p></p>
<ol type="1">
<li>要显示在该系统上定义的所有资源类的名称，请输入：
<pre class="xmp">lsrsrcdef</pre>输出如下：
<pre class="xmp">class_name 
"IBM.ATMDevice"       
"IBM.Association"
"IBM.AuditLog"        
"IBM.AuditLogTemplate"
"IBM.Condition"
"IBM.EthernetDevice"  
"IBM.EventResponse"   
... </pre></li>
<li>要显示资源 IBM.Host 的资源类定义，请输入：
<pre class="xmp">lsrsrcdef -c IBM.Host</pre>输出如下：
<pre class="xmp">IBM.Host 的资源类定义
资源类 1：
        class_name         = "IBM.Host"
        class_id           = 8
        properties         = {"has_rsrc_insts","mtype_subdivided"}
        display_name           = ""                                                  
        description            = ""                                                  
        locator            = "NodeList"
        class_pattr_count  = 1
        class_dattr_count  = 3
        class_action_count = 0
        pattr_count        = 6
        dattr_count        = 47
        action_count       = 0
        error_count        = 0
        rsrc_mgr_count     = 1
rsrc_mgrs 1:                                                  
        mgr_name  = "IBM.HostRM"                              
        first_key = 1                                         
        last_key  = 1              </pre></li>
<li>要显示资源 IBM.Host 的资源类持久属性定义，请输入：
<pre class="xmp">lsrsrcdef -c -A p -p 0 IBM.Host </pre> 输出如下： 
<pre class="xmp">IBM.Host 的资源类持久属性定义：
属性 1：
        program_name              = "Variety"
        display_name           = ""                                                  
        group_name             = ""                                                  
        properties                = {"read_only","inval_for_define"}   
        description            = ""                                                  
        attribute_id       = 0                                                  
        group_id           = 255                                                     
        data_type                 = "uint32"
        variety_list           = {{1..1}}                                            
        variety_count          = 1                                                   
        default_value             = 0            </pre></li>
<li>要显示资源 IBM.Host 的资源持久属性定义和描述，请输入：
<pre class="xmp">lsrsrcdef -A p -p 0 -e IBM.Host</pre>  输出如下：
<pre class="xmp">IBM.Host 的资源持久属性定义：
属性 1：
        program_name       = "Name"
        display_name       = "Name"
        group_name         = "General"
        properties         = {"reqd_for_define","public","selectable"}
        description        = "按命令返回的形式标识主机的当前名称。"
        attribute_id       = 0                                                  
        group_id           = 0                                                  
        data_type          = "char_ptr"                                         
        variety_list           = {{1..1}}                                            
        variety_count          = 1                                                   
        default_value      = ""                                                 
attribute 2:
        program_name       = "ResourceHandle"                                   
        display_name       = "资源句柄"
        group_name         = "内部"
        properties         = {"read_only","inval_for_define","selectable"}    
        description        = "标识该主机的全局唯一句柄。
                              每个资源分配一个资源句柄，
                              用于每个资源的内部标识和定位。资源句柄大小固定，
<br />
                              避免了不同种类资源之间的名字空间冲突问题。"
        attribute_id           = 1                                                   
        group_id           = 255                                                     
        data_type          = "rsrc_handle_ptr"                                       
        variety_list           = {{1..1}}                                            
        variety_count          = 1                                                   
        default_value      = "0x0000 0x0000 0x00000000 0x00000000 0x00000000 0x00000000"
attribute 3:
        program_name       = "Variety"
        display_name       = "种类"
        group_name         = "内部"
	...                 </pre></li>
<li>要显示资源 IBM.Host 的公用动态属性，请输入：
<pre class="xmp">lsrsrcdef -A d IBM.Host</pre>输出如下：
<pre class="xmp">IBM.Host 的资源动态属性定义：
属性 1：
        program_name           = "ProcRunQueue"                                      
        display_name           = ""                                                  
        group_name             = ""                                                  
        properties             = {"公用"}
        description            = ""                                                  
        attribute_id           = 1                                                   
        group_id               = 1                                                   
        data_type              = "float64"                                             
        variable_type          = 0                                                   
        variety_list           = {{1..1}}                                            
        variety_count          = 1                                                   
        init_value             = 0                                                   
        min_value              = 0                                                   
        max_value              = 100                                                 
        expression             = "(ProcRunQueue - ProcRunQueue@P) >= (ProcRunQueue@P * 0.5)"
        expression_description = ""                                              
        rearm_expression       = "ProcRunQueue &lt; 50"                              
        rearm_description      = ""                                                  
        PTX_name               = ""                                                  
attribute 2:
...
                  </pre></li></ol>
<a name="wq1182"></a>
<h3 id="wq1182">位置</h3>
<dl>
<dt class="bold">/usr/sbin/rsct/bin/lsrsrcdef</dt>
<dd>包含 <span class="pk">lsrsrcdef</span> 命令
</dd>
</dl>
<a name="wq1183"></a>
<h3 id="wq1183">相关信息</h3>
<p>命令：<span class="pk">lsrsrc</span>、<span class="pk">mkrsrc</span></p>
<p>文件：<span class="pk">Resource_Data_Input</span>、<span class="pk">rmccli</span></p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="lsrsrcdef.htm#Top_Of_Page">页的顶部</a> | <a href="lsrsrc.htm">上一页</a> | <a href="lssavevg.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
