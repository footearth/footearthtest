<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 3，i - m - ln 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="ln 命令, hlpln, 创建链接, 文件, 符号, 链接, 硬" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="ln.htm#Bot_Of_Page">页的底部</a> | <a href="llbd.htm">上一页</a> | <a href="locale.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 3，i - m</h1></center>

<a name="a8c1270craw"></a>
<h2 id="a8c1270craw">ln 命令</h2>
<p><a id="idx274" name="idx274"></a> <a id="idx275" name="idx275"></a> <a id="idx276" name="idx276"></a> <a id="idx277" name="idx277"></a> <a id="idx278" name="idx278"></a></p>
<a name="a133z91d48"></a>
<h3 id="a133z91d48">用途</h3>
<a name="fd31e67471endr"></a>
<p id="fd31e67471endr">链接文件。</p>
<a name="a133z91d4a"></a>
<h3 id="a133z91d4a">语法</h3>
<a name="wq568"></a>
<h4 id="wq568">将某个文件链接到一个文件上</h4>
<p><span class="bold">ln</span> [  <a href="ln.htm#a133z91d40"><span class="bold">-f </span></a>| <a href="ln.htm#ln-nflag"><span class="bold">-n</span></a>] [  <a href="ln.htm#a133z91d51"><span class="bold">-s  </span></a>] <span class="italic">SourceFile</span> [ <span class="italic">TargetFile</span>  ]</p>
<a name="wq569"></a>
<h4 id="wq569">将一个或多个文件链接到一个目录上</h4>
<p><span class="bold">ln</span> [  <a href="ln.htm#a133z91d40"><span class="bold">-f
 </span></a>| <a href="ln.htm#ln-nflag"><span class="bold">-n</span></a>] [  <a href="ln.htm#a133z91d51"><span class="bold">-s  </span></a>] <span class="italic">SourceFile</span>  ... <span class="italic">TargetDirectory</span></p>
<a name="a133z91d4c"></a>
<h3 id="a133z91d4c">描述</h3>
<a name="fd31e67741endr"></a>
<p id="fd31e67741endr"><span class="bold">ln</span> 命令将在 <span class="italic">SourceFile</span> 参数中指定的文件链接到在
 <span class="italic">TargetFile</span> 参数中指定的文件，或将其链接到在 <span class="italic">TargetDirectory</span> 参数中指定的另一个目录中的文件。在缺省情况下，<span class="bold">ln</span> 命令会创建硬链接。
如果需要使用 <span class="bold">ln</span> 命令来创建符号链接，请指明 <span class="bold">-s</span> 标志。</p>
<p> 符号链接是指向文件的一个间接指针；它的目录项中包含了它所链接的文件名。
符号链接可能会跨越文件系统，可能指向目录。</p>
<a name="fd31e67779endr"></a>
<p id="fd31e67779endr">如果正在将某个文件链接到新的名字，那么只能列出一个文件。
如果链接到一个目录，那么可以列出多个文件。</p>
<a name="fd31e67818endr"></a>
<p id="fd31e67818endr"><span class="italic">TargetFile</span> 参数是可选的。
如果不指定目标文件，<span class="bold">ln</span> 命令会在当前的目录中创建一个新的文件。
新的文件继承了指定在 <span class="italic">SourceFile</span> 参数中的文件名。
请参阅示例 5。</p>
<p></p><blockquote><span class="bold">注意：</span>
<ol type="1">
<li><a name="a133z91d4f"></a><span id="a133z91d4f" class="pk"></span>如果不使用 <span class="bold">-s</span> 标志，就不能在文件系统之间链接文件。</li>
<li id="a289c12b">
<a name="a289c12b"></a><a name="a3c4f463229stue"></a><span id="a3c4f463229stue" class="pk"></span>如果 <span class="italic">TargetDirectory</span> 已经是链接到目录上的一个符号链接，那么 <span class="bold">ln</span> 命令将现有的目标视为文件。这意味着，类似于 <span class="bold">ln -fs somepath/lname symdir</span> 的命令不会遵循现有的
 <span class="bold">symdir</span> 符号链接，作为代替，它会创建一个从 <span class="bold">somepath/lname</span> 到 <span class="bold">symdir</span> 的新的符号链接。</li></ol></blockquote>
<a name="a133z91d50"></a>
<h3 id="a133z91d50">标志</h3>
<p></p>
<a name="wq571"></a>
<table id="wq571" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="a133z91d40" name="a133z91d40"></a><span class="bold">-f</span></td>
<td width="95%">  促使 <span class="bold">ln</span> 命令替换掉任何已经存在的目的路径。
如果目的路径已经存在，而没有指定 <span class="bold">-f</span> 标志，<span class="bold">ln</span> 命令不会创建新的链接，而是向标准错误写一条诊断消息并继续链接剩下的 <span class="italic">SourceFiles</span>。</td>
</tr>
<tr>
<td>
<a id="ln-nflag" name="ln-nflag"></a><span class="bold">-n</span></td>
<td>指定，如果链接是一个现有的文件，那么不要覆盖文件的内容。
<span class="bold">-f</span> 标志重设了这个标志。
这是缺省的行为。</td>
</tr>
<tr>
<td>
<a id="a133z91d51" name="a133z91d51"></a><span class="bold">-s</span></td>
<td>  促使 <span class="bold">ln</span> 命令创建符号链接。
符号链接中包含了它所链接的文件的名字。当对链接执行打开操作的时候，会使用到引用文件。
对符号链接的 <span class="bold">stat</span> 调用会返回链接的目标文件；必须完成<span class="bold">lstat</span> 调用来获取链接的信息。可以使用 <span class="bold">readlink</span> 调用来读取符号链接的内容。
符号链接可能跨越文件系统，指向目录。
<p></p><blockquote><span class="bold">注意：</span>当为 <span class="bold">-s</span> 标志指定 <span class="italic">SourceFile</span> 参数的时候，必须使用绝对路径。
如果没有指明绝对路径，那么当 <span class="italic">SourceFile</span> 和 <span class="italic">TargetFile</span> 参数位于不同的目录中的时候，可能会发生意外的结果。在创建符号链接之前，不需要存在源文件。</blockquote></td>
</tr>
</tbody>
</table>
<a name="ac32840992kare"></a>
<h3 id="ac32840992kare">退出状态</h3>
<a name="fd31e68022endr"></a>
<p id="fd31e68022endr">此命令返回以下的退出值：</p>
<a name="wq572"></a>
<table id="wq572" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="d7cb377724jani" name="d7cb377724jani"></a><span class="bold">0</span></td>
<td width="95%">  所有指定的文件都成功链接上了。</td>
</tr>
<tr>
<td>
<a id="d7cb377759jani" name="d7cb377759jani"></a><span class="bold">&gt;0</span></td>
<td>  出现一次错误。</td>
</tr>
</tbody>
</table>
<a name="a133z91d52"></a>
<h3 id="a133z91d52">示例</h3>
<ol type="1">
<li><a name="a133z91d53"></a><span id="a133z91d53" class="pk"></span>为了创建到一个文件的另一个链接（别名），请输入：
<p></p>
<pre class="xmp">ln  -f chap1  intro</pre><p class="indatacontent"> 这会将 <tt>chap1</tt> 链接到新的名称，
<tt>intro</tt>。如果 <tt>intro</tt> 不存在，那么会创建该文件名。如果 <tt>intro</tt> 已经存在了，那么这个文件会被替换为指向 <tt>chap1</tt>的一个链接。然后 <tt>chap1</tt> 和 <tt>intro</tt> 文件名会指向同一个文件。对其中任何一个的更改都会出现在另一个中。
如果一个文件名被 <a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds4/rm.htm#p4g120fish"><span class="bold">rm</span></a> 命令删除，那么该文件并没有完全被删除，因为它仍然以其它的名字存在。</p></li>
<li><a name="a3161a0craw"></a><span id="a3161a0craw" class="pk"></span>为了将文件链接为另一个目录中的相同名字，请输入：

<p></p>
<pre class="xmp">ln  index  manual</pre><p class="indatacontent"> 这会将 <tt>index</tt> 链接到新的名称，<tt>manual/index</tt>。</p> 
<a name="a133z91d58"></a>
<p id="a133z91d58"></p><blockquote><span class="bold">注意：在示例 1 中的 </span><tt> intro</tt> 是一个文件的名称；在示例 2 中的 <tt> manual</tt> 是一个已经存在的目录。</blockquote></li>
<li><a name="a133z91d59"></a><span id="a133z91d59" class="pk"></span>为了将几个文件链接为另一个目录中的名称，请输入：

<p></p>
<pre class="xmp">ln  chap2  jim/chap3  /home/manual</pre><p class="indatacontent"> 这会将 <tt>chap2</tt> 链接到新的名称 <tt>/home/manual/chap2</tt>；将 <tt>jim/chap3</tt> 链接到新的名称 <tt>/home/manual/chap3</tt>。</p></li>
<li><a name="a133z91d5c"></a><span id="a133z91d5c" class="pk"></span>如果想要在 <span class="bold">ln</span> 命令中使用模式匹配字符，请输入：

<p></p>
<pre class="xmp">ln  manual/* .</pre><p class="indatacontent"> 这会将 <tt>manual</tt> 目录中的所有文件链接到当前目录中，
<tt>.</tt> （点），给他们在 <tt>manual</tt> 目录中同样的名称。</p> 
<p></p><blockquote><span class="bold">注意：</span> 必须在星号和句点之间输入一个空格。</blockquote></li>
<li><a name="a133z91d45"></a><span id="a133z91d45" class="pk"></span>为了创建一个符号链接，输入：
<p></p>
<pre class="xmp">ln -s /tmp/toc toc</pre><p class="indatacontent"> 这会在当前的目录中创建符号链接 <tt>toc</tt>。 <tt>toc</tt> 文件指向
 <tt>/tmp/toc</tt> 文件。如果 <tt>/tmp/toc</tt> 文件已经存在了，那么 <span class="bold">cat</span><tt> toc</tt> 命令可以列出其内容。</p> 
<p>如果想要在不指明 <span class="italic">TargetFile</span> 参数的情况下得到相同的结果，请输入：</p> 
<p></p>
<pre class="xmp">ln -s /tmp/toc</pre></li></ol>
<a name="a133z91d61"></a>
<h3 id="a133z91d61">文件</h3>
<p></p>
<a name="wq574"></a>
<table id="wq574" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="18%">
<a id="a133z91d62" name="a133z91d62"></a><span class="bold">/usr/bin/ln</span></td>
<td width="81%">  包含了 <span class="bold">ln</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a133z91d63"></a>
<h3 id="a133z91d63">相关信息</h3>
<a name="fd31e68907endr"></a>
<p id="fd31e68907endr"><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds1/cp.htm"><span class="bold">cp </span></a> 命令、<a href="mv.htm#cbg190craw"><span class="bold">mv</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds4/rm.htm#p4g120fish"> <span class="bold">rm</span> </a> 命令。</p>
<a name="fd31e68945endr"></a>
<p id="fd31e68945endr"><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/libs/basetrf1/link.htm#a169c1f6"><span class="bold">link</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/libs/basetrf2/readlink.htm#a08791030"><span class="bold">readlink</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/libs/basetrf2/statx.htm#a1609c70"><span class="bold">stat</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/libs/basetrf2/symlink.htm#a2089b6d"><span class="bold">symlink</span></a> 子例程。</p>
<a name="fd31e68983endr"></a>
<p id="fd31e68983endr">在 <span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span> 中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixuser/usrosdev/dir_overview.htm#jy490craw">目录概述</a>描述了
文件系统中的目录的结构和特征。</p>
<p>在 <span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span> 中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixuser/usrosdev/files.htm#rl33b0fish">文件概述</a>描述了
文件、文件类型以及如何命名文件。</p>
<a name="fd31e69059endr"></a>
<p id="fd31e69059endr">在 <span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span> 中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixuser/usrosdev/link_files_dirs.htm#zaruf134judy">链接文件和目录</a>解释了文件链接的概念。</p>
<a name="fd31e69096endr"></a>
<p id="fd31e69096endr">在 <span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span> 中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixprggd/genprogc/links_4prgmers.htm#a9f5fc04282judy">对于程序员的链接</a>从程序员的角度讨论了链接。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="ln.htm#Top_Of_Page">页的顶部</a> | <a href="llbd.htm">上一页</a> | <a href="locale.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
