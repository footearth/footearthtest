<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 3，i - m - mkprtldap 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="mkprtldap 命令" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="mkprtldap.htm#Bot_Of_Page">页的底部</a> | <a href="mkproto.htm">上一页</a> | <a href="mkprtsv.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 3，i - m</h1></center>
<a id="idx659" name="idx659"></a>
<a name="mkprtldap"></a>
<h2 id="mkprtldap">mkprtldap 命令</h2>
<a name="wq1717"></a>
<h3 id="wq1717">用途</h3>
<p>为启用 System V 打印的目录配置 IBM 目录。
它也配置客户机机器来使用目录，该目录得到 System V 打印信息。</p>
<a name="wq1718"></a>
<h3 id="wq1718">语法</h3>
<p>配置 IBM 目录来存储 System V  打印信息：</p>
<p><span class="bold">mkprtldap</span> <a href="mkprtldap.htm#mkprtldap_flags_s"><span class="bold">-s</span></a> <a href="mkprtldap.htm#mkprtldap_flags_a"><span class="bold">-a</span></a> <span class="italic">AdminDN</span> <a href="mkprtldap.htm#mkprtldap_flags_p"><span class="bold">-p</span></a> <span class="italic">Adminpasswd</span> <a href="mkprtldap.htm#mkprtldap_flags_w"><span class="bold">-w</span></a> <span class="italic">ACLBindPasswd</span> [<a href="mkprtldap.htm#mkprtldap_flags_f"><span class="bold">-f</span></a>] [<a href="mkprtldap.htm#mkprtldap_flags_d"><span class="bold">-d</span></a> <span class="italic">nodeDN</span>]</p>
<p>配置客户机来使用 IBM 目录以得到 System V 打印信息：</p>
<p><span class="bold">mkprtldap</span> <a href="mkprtldap.htm#mkprtldap_flags_c"><span class="bold">-c</span></a> <a href="mkprtldap.htm#mkprtldap_flags_h"><span class="bold">-h</span></a> <span class="italic">DirectoryServerHostname</span> <a href="mkprtldap.htm#mkprtldap_flags_clientw"><span class="bold">-w</span></a> <span class="italic">ACLBindPasswd</span> [ <a href="mkprtldap.htm#mkprtldap_flags_clientd"><span class="bold">-d</span></a> <span class="italic">PrintBindDN</span> ] [<a href="mkprtldap.htm#mkprtldap_flags_bigu"><span class="bold">-U</span></a>]</p>
<p>获取关于 <span class="bold">mkprtldap</span> 命令的使用信息：</p>
<p><span class="bold">mkprtldap</span> <a href="mkprtldap.htm#mkprtldap_flags_questionmark"><span class="bold">?</span></a></p>
<a name="wq1719"></a>
<h3 id="wq1719">描述</h3>
<p>为了得到 System V 打印信息，<span class="bold">mkprtldap</span> 命令配置了 IBM 目录
（LDAP）服务器和一个或多个客户机来使用目录（LDAP）。
该命令必须安装在服务器系统和所有客户机系统上。
一旦为 System V 打印配置了（LDAP)服务器，
目录启用 System V 命令
（<span class="bold">dslpadmin</span>、<span class="bold">dslpaccess</span>、<span class="bold">dslpsearch</span>、<span class="bold">dslpenable</span>、<span class="bold">dslpdisable</span>、<span class="bold">dslpaccept</span>、<span class="bold">lp</span>、<span class="bold">lpstat</span>、<span class="bold">cancel</span> 和 <span class="bold">dslpreject</span>），必须运行这些命令来添加、移除和管理目录（LDAP）服务器上的 System V 打印信息（打印机和打印队列）。
为了得到 System V 打印信息，<span class="bold">mkprtldap</span> 命令配置客户机机器来使用目录（LDAP）
服务器。</p>
<p><span class="bold">mkprtldap</span> 命令要求在配置为服务器的机器上安装了 IBM 目录
服务器软件。
该命令也要求在所有的客户机机器上安装了 IBM 目录客户机软件，
这些机器将使用目录（LDAP）服务器以得到 System V 打印信息。</p>
<a name="wq1720"></a>
<div class="notetitle" id="wq1720">注:</div>
<div class="notebody">不能同时运行客户机（<span class="bold">-c</span> 标志）和服务器（<span class="bold">-s</span> 服务器）选项。
当在服务器上安装系统时，mkprtldap
命令必须在系统上运行两次。一次安装该服务器，第二次安装客户机。</div>
<p>在服务器端配置过程中，使用 <span class="bold">-s</span> 标志，
<span class="bold">mkprtldap</span> 命令：</p>
<ul>
<li>如果已经配置了目录，需要 IBM 目录管理员的 DN 和密码。
如果没有设置目录管理员的 DN 和
密码，<span class="bold">mkprtldap</span> 将把它们设为
由命令传来的值。</li>
<li>创建一个 db2 实例，缺省实例名为 <span class="bold">ldapdb2</span>。</li>
<li>创键一个 db2 数据库，如果它不存在，缺省数据库名为 <span class="bold">ldapdb2</span>。
如果找到一个退出数据库，<span class="bold">mkprtldap</span> 将 AIX  System V 打印信息添加到现有
数据库中。</li>
<li>如果没出现，在目录上创建 AIX 信息树 DN（cn = aixdata 容器对象）。
将在 AIX 信息子树下创建打印子树。
如果在该目录上存在 AIX 信息子树，
将在它下方创建打印信息子树。所有的 System V 打印
信息将存储在打印子树下。必须运行启用 System V 打印信息的目录来在创建的打印子树下添加打印机和打印队列。</li>
<li>对 <span class="bold">mkprtldap</span> 命令而言，缺省的后缀和 AIX 信息树是一个顶级容器对象 cn = aixdata。将在 AIX 信息树下创建打印
子树（ou = print）。</li>
<li>使用命令传来的 <span class="bold">ACLBindPasswd</span> 参数，该打印子树为 ACL 保护。当配置客户机来使用目录以得到 System V 打印信息时，必须使用相同值。
选择一个密码值使用户或密码破解（crack）程序很难猜出。</li>
<li>如果使用了 <span class="bold">-d</span> 选项，并且传给命令目录上的一个有效现存节点，
在指定节点下创建 AIX 信息子树。
那时，在 AIX 信息子树下创建打印子树。</li>
<li>在上述所有完成后，启动 IBM 目录服务器。</li>
<li>将 IBM 目录服务器进程（slapd）添加到 <span class="bold">/etc/inittab</span> 文件以使重新引导后服务器启动。</li></ul><p class="indatacontent">在客户机配置过程中，<span class="bold">mkprtldap</span> 命令：</p>
<ul>
<li>将 IBM 目录（LDAP）服务器主机名存储在 <span class="bold">/etc/ldapsvc/server.print</span> 文件中。</li>
<li>将 AIX 打印绑定 DN 存储在 <span class="bold">/etc/ldapsvc/server.print</span> 文件中。</li>
<li>将关于 AIX 打印绑定 DN 的 ACL 绑定密码存储在<span class="bold">/etc/ldapsvc/system.print</span> 文件中。ACL 绑定密码的值必须同
在配置目录服务器过程中指定的值相同。</li>
<li>如果指定了 <span class="bold">-U</span> 标志，
撤销先前的客户机配置。该选项将用文件（<span class="bold">/etc/ldapsvc/server.print.save</span> 和 <span class="bold">/etc/ldapsvc/system.print.save</span>）的先前的存储副本来替换 <span class="bold">/etc/ldapsvc/system.print</span> 和 <span class="bold">/etc/ldapsvc/server.print</span> 文件。</li></ul>
<a name="wq1721"></a>
<h3 id="wq1721">标志</h3>
<a name="wq1722"></a>
<h4 id="wq1722">服务器</h4>
<a name="wq1723"></a>
<table id="wq1723" width="100%" summary="" border="0" frame="void" rules="all">
<tbody valign="top">
<tr>
<td width="27%">
<a id="mkprtldap_flags_a" name="mkprtldap_flags_a"></a><span class="bold">-a</span>    <span class="italic"> AdminDN</span></td>
<td width="72%">指定目录（LDAP）管理员的 DN。</td>
</tr>
<tr>
<td>
<a id="mkprtldap_flags_d" name="mkprtldap_flags_d"></a><span class="bold">-d</span>    <span class="italic">nodeDN</span></td>
<td> 该高级选项要求目录上的一个有效现存节点，
并且将在它下面创建 AIX 信息树和打印子树。</td>
</tr>
<tr>
<td>
<a id="mkprtldap_flags_f" name="mkprtldap_flags_f"></a><span class="bold">-f</span></td>
<td> <span class="bold">mkprtldap</span> 命令要求强制标志，当该目录上存在一个或多个 AIX 信息树时，用该标志强制创建打印子树（如果需要，和 AIX 信息子树）。</td>
</tr>
<tr>
<td>
<a id="mkprtldap_flags_p" name="mkprtldap_flags_p"></a><span class="bold">-p</span>    <span class="italic"> adminpasswd</span></td>
<td>指定目录（LDAP）管理员的密码。</td>
</tr>
<tr>
<td>
<a id="mkprtldap_flags_s" name="mkprtldap_flags_s"></a><span class="bold">-s</span></td>
<td>表示正在运行该命令来配置目录
以得到 System V 打印。</td>
</tr>
<tr>
<td>
<a id="mkprtldap_flags_w" name="mkprtldap_flags_w"></a><span class="bold">-w</span>    <span class="italic">ACLBindPasswd</span></td>
<td>指定对目录上的打印子树进行 ACL 保护的密码。
选择一个密码值使用户或密码破解（crack）程序很难猜出。</td>
</tr>
</tbody>
</table>
<a name="wq1724"></a>
<h4 id="wq1724">客户机</h4>
<a name="wq1725"></a>
<table id="wq1725" width="100%" summary="" border="0" frame="void" rules="all">
<tbody valign="top">
<tr>
<td width="33%">
<a id="mkprtldap_flags_c" name="mkprtldap_flags_c"></a><span class="bold">-c</span></td>
<td width="66%">表示正在运行该命令
来配置客户机，客户机使用该目录以得到 System V 打印信息。</td>
</tr>
<tr>
<td>
<a id="mkprtldap_flags_clientd" name="mkprtldap_flags_clientd"></a><span class="bold">-d</span>     <span class="italic">PrintBindDN</span></td>
<td>指定打印绑定 DN。缺省打印绑定 DN 为 <span class="bold">ou = print，cn = aixdata</span>。在服务器安装 <span class="bold">mkprtldap</span> 命令结束时，显示在客户机配置过程中
使用的绑定 DN。</td>
</tr>
<tr>
<td>
<a id="mkprtldap_flags_h" name="mkprtldap_flags_h"></a><span class="bold">-h</span>    <span class="italic">DirectoryServerHostname</span></td>
<td>IBM 目录服务器的主机名，安装
该服务器来存储 System V 打印信息。</td>
</tr>
<tr>
<td>
<a id="mkprtldap_flags_bigu" name="mkprtldap_flags_bigu"></a><span class="bold">-U</span></td>
<td>撤销客户机的先前配置。</td>
</tr>
<tr>
<td>
<a id="mkprtldap_flags_clientw" name="mkprtldap_flags_clientw"></a><span class="bold">-w</span>    <span class="italic">ACLBindPasswd</span></td>
<td>对于打印子树的 ACL 绑定密码。
在服务器安装 <span class="bold">mkprtldap</span> 命令过程中，指定了 ACL 绑定密码。ACL 绑定
密码的值必须同安装目录服务器过程中使用的值相同。</td>
</tr>
</tbody>
</table>
<a name="wq1726"></a>
<h4 id="wq1726">用法</h4>
<a name="wq1727"></a>
<table id="wq1727" width="100%" summary="" border="0" frame="void" rules="all">
<tbody valign="top">
<tr>
<td width="25%">
<a id="mkprtldap_flags_questionmark" name="mkprtldap_flags_questionmark"></a>?</td>
<td width="74%">显示关于 <span class="bold">mkprtldap</span> 命令的用法信息。</td>
</tr>
</tbody>
</table>
<a name="wq1728"></a>
<h3 id="wq1728">安全性</h3>
<p>该命令仅能由 <tt class="xph">root</tt> 用户运行。</p>
<a name="wq1729"></a>
<h3 id="wq1729">示例</h3>
<ol type="1">
<li>为 System V 打印配置 IBM 目录的一个全新安装，
使用管理员 DN <span class="bold">cn = root</span> 和密码
root，输入：
<pre class="xmp">mkprtldap -s -a cn=root -p root -w aclpasswd</pre>其中
 ACL 绑定密码为用来对打印子树 ACL 保护的密码。
在目录上配置 System V 打印过程中，指定了 ACL 绑定密码。
该配置也将目录管理员的 DN 和密码设置为 <span class="bold">cn = root</span> 和 <span class="bold">root</span>。运行该命令将安装一个后缀和顶级对象 <span class="bold">cn = aixdata</span>。将在 AIX 信息树（<span class="bold">cn = aixdata 对象</span>）下创建打印子树（<span class="bold">ou = print</span>）。
选择一个 ACL 绑定密码值使用户或密码破解（crack）程序很难猜出。</li>
<li>要在一台配置了 IBM 目录服务器的机器上配置 System V 打印：
<p>要求管理员 DN 和密码来配置目录上的 System V 打印。
假定现有的管理员的 DN 和密码为
 <span class="bold">cn=admin</span> 和 <span class="bold">passwd</span>。     
     </p>
<pre class="xmp">mkprtldap -s -a cn=admin -p passwd -w pass123wd</pre></li>
<li>  <span class="bold">mkprtldap</span> 命令提供选项来配置
 IBM 目录以将打印信息存储在目录[Advanced Option]上的已存在节点（例如 <span class="bold">o = ibm</span>，<span class="bold">c = us</span>）下。
当由于特定原因必须将打印信息存储在目录上的现有节点下时才推荐这样做。
不指定 <span class="bold">-d</span> 选项，推荐的选项将把打印子树存储到目录上的缺省位置。
要求管理员 DN 和密码来配置
目录上的 System V 打印 假定现有的管理员的 DN 和
密码为 <span class="bold">cn = admin</span> 和 <span class="bold">passwd</span>。
<pre class="xmp">mkprtldap -a cn=admin -p passwd -w acl123passwd -d o=ibm,c=us</pre>运行
该命令将在 <span class="bold">o = ibm，c = us</span> 对象下创建一个 AIX 信息树（<span class="bold">cn = aixdata</span>）。将在
这个新对象（<span class="bold">cn = aixdata</span>，<span class="bold">o = ibm</span>，<span class="bold">c = us</span>）下创建打印子树。</li>
<li>在机器上配置 System V 打印，该机器有已配置的 IBM 目录服务器和现有的 AIX 信息树。可能有这种情况，目录包含一个现有的信息树，该树有其它的子系统
特定信息（例如安全性或 NIS 信息）。可能要求
将打印信息存储在不同的 AIX 信息树下的目录上的分离位置上。
缺省情况下，如果在目录上已存在 AIX 信息树，该命令将不会创建一个新的。
要强制命令创建一个新的 AIX 信息树来存储打印信息，该命令使用 <span class="bold">-f</span> 标志。考虑将安全和
 NIS 子系统信息存储在位于 <span class="bold">cn = aixdata，o = ibm，c = us</span>的 AIX 信息树下。要创建一个新的 AIX 信息树
以得到不同于现有的打印信息，使用
 <span class="bold">-f</span> 标志运行该命令并且指定缺省位置或另一个节点。
要求管理员 DN 和密码来配置目录上的 System V 打印。
假定现有的管理员的 DN 和密码为
 <span class="bold">cn = admin</span> 和 <span class="bold">passwd</span>。
<pre class="xmp">mkprtldap -a cn=admin -p passwd -w passwd123 -f </pre>运行该命令
来创建一个新的 AIX 信息树（<span class="bold">cn = aixdata</span>），
后缀（<span class="bold">cn = aixdata</span>）和打印信息将被
存储在这个新的 AIX 信息树（<span class="bold">ou = print</span>，<span class="bold">cn = aixdata</span>）下。在该示例中，在目录上将有两个 AIX 信息
树 <span class="bold">cn = aixdata，o = ibm，c = us</span> 和 <span class="bold">cn = aixdata</span>。打印信息将在
 <span class="bold">cn = aixdata</span> 对象（suffix - <span class="bold">cn = aixdata</span>）下。对 <span class="bold">mkprtldap</span> 来说，推荐使用
缺省位置来将打印信息添加到目录中。</li>
<li>在主机 <span class="bold">server.ibm.com</span> 上配置一台服务器使用 IBM 目录安装以得到
 System V，输入：
<pre class="xmp">mkprtldap -c -h server.ibm.com -w passwd </pre>请确保 ACL
绑定密码（<span class="bold">passwd</span>）与目录服务器安装过程中指定的相同。
运行该命令而没有使用 -d 选项来指定打印绑定 DN 值将导致该命令使用
缺省打印绑定 DN <span class="bold">ou = print，cn = aixdata</span>。打印
绑定 DN 必须同运行 <span class="bold">mkprtldap</span> 命令配置服务器结束时显示的相同。</li>
<li>要更改在客户端配置文件中的信息，
用新信息运行 <span class="bold">mkprtldap</span> 命令

<pre class="xmp">mkprtldap -c -h server.ibm.co.uk -w aclpasswd -d ou=print,cn=aixdata,c=uk</pre>在一台已配置的客户机上执行该命令将
改变 <span class="bold">/etc/ldapsvc/server.print</span> 和 <span class="bold">/etc/ldapsvc/system.print</span> 文件中的信息，使包含
新的配置信息。<span class="bold">/etc/ldapsvc/server.print</span> 和 <span class="bold">/etc/ldapsvc/system.print</span> 的原先内容将存储在 <span class="bold">/etc/ldapsvc/server.print.save</span> 和 <span class="bold">/etc/ldapsvc/system.print.save</span> 文件中。</li></ol>
<a name="wq1731"></a>
<h3 id="wq1731">文件</h3>
<a name="wq1732"></a>
<table id="wq1732" width="100%" summary="" border="0" frame="void" rules="all">
<thead valign="bottom">
<tr>
<th id="wq1733" width="5%" align="left" valign="top">方式</th>
<th id="wq1734" width="28%" align="left" valign="top">文件</th>
<th id="wq1735" width="65%" align="left" valign="top">描述</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td headers="wq1733"><span class="bold">rw</span></td>
<td headers="wq1734"><span class="bold">/etc/slapd32.conf</span></td>
<td headers="wq1735">（服务器配置）― 包含 IBM 目录
（LDAP）配置信息。</td>
</tr>
<tr>
<td headers="wq1733"><span class="bold">rw</span></td>
<td headers="wq1734"><span class="bold">/etc/ldapsvc/server.print</span></td>
<td headers="wq1735">（客户机配置） - 包含目录服务器的信息，配置该服务器
已存储 System V 打印信息。（机器
名，目录的打印子树位置和 LDAP 端口）</td>
</tr>
<tr>
<td headers="wq1733"><span class="bold">rw</span></td>
<td headers="wq1734"><span class="bold">/etc/ldapsvc/system.print</span></td>
<td headers="wq1735">（客户机配置） - 包含有关目录上的打印子树的 ACL 绑定密码。</td>
</tr>
</tbody>
</table>
<a name="wq1736"></a>
<h3 id="wq1736">相关信息</h3>
<p>在 <a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixbman/printrgd/printrgdtfrm.htm"><span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span></a> 中配置目录启用 System V 打印。</p>
<p><span class="bold">dslpadmin</span> 命令、<span class="bold">dslpaccess</span> 命令、<span class="bold">dslpsearch</span> 命令、<span class="bold">dslpenable</span> 命令、<span class="bold">dslpdisable</span> 命令、<span class="bold">dslpaccept</span> 命令、<a href="ld.htm#a09493ac"><span class="bold">lp</span></a> 命令、<a href="lpstat.htm#a9v4230roll"><span class="bold">lpstat</span></a> 命令、<span class="bold">cancel</span> 命令、<span class="bold">dslpreject</span> 命令和 <a href="mksecldap.htm#feb1199cc0144"><span class="bold">mksecldap</span></a> 命令。</p>
<p><span class="bold">/etc/ldapsvc/server.print</span> 和 <span class="bold">/etc/ldapsvc/system.print</span> 文件。</p>
<p><span class="bold">/etc/slapd32.conf</span> 文件。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="mkprtldap.htm#Top_Of_Page">页的顶部</a> | <a href="mkproto.htm">上一页</a> | <a href="mkprtsv.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
