<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 3，i - m - lssavevg 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="lssavevg 命令" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="lssavevg.htm#Bot_Of_Page">页的底部</a> | <a href="lsrsrcdef.htm">上一页</a> | <a href="lssec.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 3，i - m</h1></center>
<a id="idx467" name="idx467"></a>
<a name="lssavevg"></a>
<h2 id="lssavevg">lssavevg 命令</h2>
<a name="wq1184"></a>
<h3 id="wq1184">用途</h3>
<p>列出或恢复在指定介质上的卷组备份内容。</p>
<a name="wq1185"></a>
<h3 id="wq1185">语法</h3>
<p><span class="bold">lssavevg</span> [ <a href="lssavevg.htm#lssavevg-b"><span class="bold">-b</span> <span class="italic">blocks</span></a> ] [ <a href="lssavevg.htm#lssavevg-f"><span class="bold">-f</span> <span class="italic">device</span></a> ]  [ <a href="lssavevg.htm#lssavevg-a"><span class="bold">-a</span></a> ] [ <a href="lssavevg.htm#lssavevg_flags_c"><span class="bold">-c</span></a> ] [ <a href="lssavevg.htm#lssavevg_flags_l"><span class="bold">-l</span></a> ]
[ <a href="lssavevg.htm#lssavevg-r"><span class="bold">-r</span></a> ] [ <a href="lssavevg.htm#lssavevg-s"><span class="bold">-s</span></a> ] [ <a href="lssavevg.htm#lssavevg-ld"><span class="bold">-d</span> <span class="italic">path</span></a> ] [ <a href="lssavevg.htm#lssavevg_flags_bigb"><span class="bold">-B</span></a> ] [ <a href="lssavevg.htm#lssavevg-ud"><span class="bold">-D</span></a> ] [ <a href="lssavevg.htm#lssavevg_flags_bigl"><span class="bold">-L</span></a> ]
[ <a href="lssavevg.htm#lssavevg_flags_bigv"><span class="bold">-V</span></a> ] [ <a href="lssavevg.htm#lssavevg-file_list"><span class="italic">file_list</span></a> ]</p>
<a name="wq1186"></a>
<h3 id="wq1186">描述</h3>
<p><span class="bold">lssavevg</span> 命令列出来自磁带、文件、CD-ROM 或其它源的卷组备份内容并可以用来从有效的备份源恢复文件。<span class="bold">lssavevg</span> 命令也用来做多卷的备份，例如多个 CD、DVD 或磁带。</p>
<p><span class="bold">lssavevg -r</span> 和 <span class="bold">restorevgfiles</span> 命令执行相同的操作，两者可看成是可交换的。</p>
<a name="wq1187"></a>
<h3 id="wq1187">标志</h3>
<p></p>
<a name="wq1188"></a>
<table id="wq1188" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="19%">
<a id="lssavevg-a" name="lssavevg-a"></a><span class="bold">-a</span></td>
<td width="80%">验证磁带备份的物理块大小如 <span class="bold">-b</span> <span class="italic">block</span> 标志所指定。
如果需要读备份，可能需要改变块大小。只有使用磁带备份时，<span class="bold">-a</span> 标志才有效。</td>
</tr>
<tr>
<td>
<a id="lssavevg-b" name="lssavevg-b"></a><span class="bold">-b</span> <span class="italic">blocks</span></td>
<td>指定要在单个输入操作中读的 512 字节的块数目为 <span class="italic">blocks</span> 参数所定义。如果没有指定 <span class="italic">blocks</span> 参数，默认的读块的数目为 100。</td>
</tr>
<tr>
<td>
<a id="lssavevg_flags_bigb" name="lssavevg_flags_bigb"></a><span class="bold">-B</span></td>
<td>打印卷组备份日志到<span class="bold">标准输出</span>。
<p>该标志将会显示以前的 256 个备份（大体的）。日志是 alog 格式的并被保存在 <span class="bold">/var/adm/ras/vgbackuplog</span> 中。日志里的每一行是一个分号隔开的文件或设备名称列表，此命令用来制作备份、日期、缩减大小、备份的全部大小和建议的维护级（如果有的话）。</p>
<a name="wq1189"></a>
<div class="notetitle" id="wq1189">注:</div>
<div class="notebody"> 缩减大小是在所有文件系统上的数据大小。全部大小是每个文件系统（未用的＋数据）大小的总和。</div></td>
</tr>
<tr>
<td>
<a id="lssavevg_flags_c" name="lssavevg_flags_c"></a><span class="bold">-c</span></td>
<td>产生冒号隔开的输出。该标志仅与 <span class="bold">-l</span> 和 <span class="bold">-L</span> 标志一起使用。</td>
</tr>
<tr>
<td>
<a id="lssavevg-ld" name="lssavevg-ld"></a><span class="bold">-d</span> <span class="italic">path</span></td>
<td>指定将要恢复文件的目录路径，由 <span class="italic">path</span> 参数定义。如果没有使用 <span class="bold">-d</span> 参数，则使用当前所在目录。如果当前所在目录为根目录则会有问题。建议写到一个临时文件夹而不是根目录。</td>
</tr>
<tr>
<td>
<a id="lssavevg-ud" name="lssavevg-ud"></a><span class="bold">-D</span></td>
<td>产生调试输出。</td>
</tr>
<tr>
<td>
<a id="lssavevg_flags_l" name="lssavevg_flags_l"></a><span class="bold">-l</span></td>
<td>显示卷组备份的有用信息。
<p>该标志需要 <span class="bold">-f</span> <span class="italic">device</span> 标志。该标志使 <span class="bold">lssavevg</span> 显示信息如卷组、制作备份的日期和时间、从备份系统的 uname 输出、操作系统级别、建议维护级别、备份的兆字节大小和备份的缩减兆字节大小。缩减大小是在所有文件系统上的数据大小。全部大小是每个文件系统（未用的＋数据）大小的总和。
<span class="bold">-l</span> 标志也显示已备份卷组的逻辑卷和文件系统的信息，等同于运行“ <span class="bold">lsvg -l</span> <span class="italic">vgname</span>”。</p></td>
</tr>
<tr>
<td>
<a id="lssavevg_flags_bigl" name="lssavevg_flags_bigl"></a><span class="bold">-L</span></td>
<td>仅显示跟 <span class="bold">mksysb</span> 备份有关的 lpp 文件集信息。
<p>该标志要求 <span class="bold">-f</span> <span class="italic">device</span> 标志并显示跟在运行备份的系统上调用“<span class="bold">lslpp -l</span>”所产生的相同的消息。该标志不产生任何跟卷组备份相关的输出，这跟 <span class="bold">mksysb</span> 产生的输出不同。</p></td>
</tr>
<tr>
<td>
<a id="lssavevg-f" name="lssavevg-f"></a><span class="bold">-f</span> <span class="italic">device</span></td>
<td>指定设备的类型包含由 <span class="italic">device</span> 参数定义的备份（文件、磁带、CD-ROM 或别的设备）。当没有指定 <span class="bold">-f</span> 时，<span class="italic">device</span> 将默认使用 <span class="bold">/dev/rmt0</span>。</td>
</tr>
<tr>
<td>
<a id="lssavevg-r" name="lssavevg-r"></a><span class="bold">-r</span></td>
<td>指定恢复由 <span class="italic">file-list</span> 参数定义的备份文件。如果没有指定 <span class="italic">file-list</span> 参数，那么恢复所有在备份内的文件。如果没有使用 <span class="bold">-r</span> 标志，那么执行 <span class="bold">lssavevg</span> 命令时仅列出在指定备份内的文件。</td>
</tr>
<tr>
<td>
<a id="lssavevg-s" name="lssavevg-s"></a><span class="bold">-s</span></td>
<td>指定备份源是一个用户卷组而不是 rootvg。</td>
</tr>
<tr>
<td>
<a id="lssavevg_flags_bigv" name="lssavevg_flags_bigv"></a><span class="bold">-V</span></td>
<td>验证一个磁带备份。
<p>该标志需要 <span class="bold">-f</span> <span class="italic">device</span> 标志并只对磁带设备起作用。<span class="bold">-V</span> 标志使用 <span class="bold">lssavevg</span> 来验证在卷组备份每个文件头的可读性并打印 <span class="bold">stderr</span> 产生的任何错误。</p></td>
</tr>
</tbody>
</table>
<a name="wq1190"></a>
<h3 id="wq1190">参数</h3>
<p></p>
<a name="wq1191"></a>
<table id="wq1191" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="17%">
<a id="lssavevg-file_list" name="lssavevg-file_list"></a><span class="italic">file_list</span></td>
<td width="82%">识别将要被恢复的文件列表。该参数只有在指定 <span class="bold">-r</span> 标志时使用。需要在用空格隔开的列表中指定相对当前目录的文件的全路径。除非指定了其它的，否则在指定目录中的所有文件将被恢复。如果正在恢复一个目录下的所有文件，建议写到一个临时目录而不是根目录中。</td>
</tr>
</tbody>
</table>
<a name="wq1192"></a>
<h3 id="wq1192">示例</h3>
<ol type="1">
<li>要列出位于缺省设备 <span class="bold">/dev/rmt0</span> 上的系统备份的内容，请输入：
<pre class="xmp">lssavevg</pre></li>
<li>要列出位于设备 <span class="bold">/dev/cd1</span>上的系统备份的内容，请输入：
<pre class="xmp">lssavevg -f /dev/cd1</pre></li>
<li>要列出位于用户卷组上而非 rootvg 设备上的系统备份的内容 <span class="bold">/dev/cd1</span>，请输入：
<pre class="xmp">lssavevg -f /dev/cd1 -s</pre></li>
<li>要从位于设备 <span class="bold">/dev/cd1</span> 上的系统备份恢复 <span class="bold">/etc/filesystems</span>，请输入：
<pre class="xmp">lssavevg -f /dev/cd1 -r ./etc/filesystems</pre></li>
<li>要恢复非 rootvs 备份在 <span class="bold">/myfs/test</span> 的目录里的所有文件，该非 rootvs 备份位于设备 <span class="bold">/dev/cd1</span> 上，并将恢复文件写到 <span class="bold">/data/myfiles</span> 中，请输入：
<pre class="xmp">lssavevg -f /dev/cd1 -r -s -d /data/myfiles ./myfs/test</pre></li>
<li>要显示位于 <span class="bold">/dev/rmt0</span> 的关于 <span class="bold">mksysb</span> 的备份磁带的用冒号隔开的 lpp 信息，请输入以下：
<pre class="xmp">lsmksysb -Lc -f /dev/rmt0</pre></li>
<li>要显示卷组备份日志到<span class="bold">标准输出</span>，请输入：
<pre class="xmp">lssavevg -B</pre></li>
<li>要显示卷组和有关位于 <span class="bold">/tmp/mybackup</span> 上的备份的常规备份数据，请输入：
<pre class="xmp">lssavevg -l -f /tmp/mybackup</pre></li>
<li>要验证在 <span class="bold">/dev/rmt0</span> 里的一个卷组备份磁带上的每一个头的可读性，请输入：
<pre class="xmp">lsmksysb -V -f /dev/rmt0</pre></li></ol>
<a name="wq1194"></a>
<h3 id="wq1194">文件</h3>
<a name="wq1195"></a>
<table id="wq1195" width="100%" summary="" border="0" frame="void" rules="all">
<tbody valign="top">
<tr>
<td><span class="bold">/usr/bin/lssavevg</span></td>
<td>包含 <span class="bold">lssavevg</span> 命令</td>
</tr>
</tbody>
</table>
<a name="wq1196"></a>
<h3 id="wq1196">相关信息</h3>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds4/restorevgfiles.htm"><span class="bold">restorevgfiles</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="lssavevg.htm#Top_Of_Page">页的顶部</a> | <a href="lsrsrcdef.htm">上一页</a> | <a href="lssec.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
