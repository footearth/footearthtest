<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 3，i - m - lpforms 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="lpforms.htm#Bot_Of_Page">页的底部</a> | <a href="lpfilter.htm">上一页</a> | <a href="lpmove.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 3，i - m</h1></center>

<a name="a053003js"></a>
<h2 id="a053003js">lpforms 命令</h2>
<p></p><blockquote><span class="bold">注：</span>此为一个 System V 打印子系统命令。</blockquote>
<a name="wq706"></a>
<h3 id="wq706">用途</h3>
<p>管理和 LP 打印服务一起使用的打印纸。</p>
<a name="wq707"></a>
<h3 id="wq707">语法</h3>
<p><span class="bold">lpforms -f</span><span class="italic"> FormName</span><span class="italic"> Options</span></p>
<p><span class="bold">lpforms -f</span><span class="italic"> FormName</span><span class="bold"> -A</span><span class="italic"> AlertType</span> [<span class="bold">-Q</span><span class="italic"> minutes</span>] [<span class="bold">-W</span><span class="italic"> requests</span>]</p>
<a name="wq708"></a>
<h3 id="wq708">描述</h3>
<p><span class="bold">lpforms</span> 命令用于管理和 LP 打印服务一起时预打印格式纸的使用，比如公司信笺纸。打印纸由它的 <span class="italic">FormName</span> 指定。用户提交打印请求的时候可以指定打印纸（请参阅 <a href="lp.htm#a30p0499"><span class="bold">lp</span></a> 命令）。参数 <span class="bold">all</span> 可以和上面显示的两个命令行的任一个一起用于替换 <span class="italic">FormName</span>。第一个命令行允许管理员添加、更改和删除打印纸，以及列出现有打印纸的属性，允许和禁止用户访问特定打印纸。第二个命令行用于建立方法，通过它警告管理员 <span class="italic">FormName</span> 打印纸必须安装在一个打印机上。</p>
<p>使用第一个 <span class="bold">lpforms</span> 命令行，必须使用以下标志之一：</p>
<a name="wq709"></a>
<h3 id="wq709">标志</h3>
<p></p>
<a name="wq710"></a>
<table id="wq710" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="50%"><span class="bold">-</span>（连字符）</td>
<td width="50%">按照来自标准输入的信息所指定的，添加或更改打印纸 <span class="italic">FormName</span>。</td>
</tr>
<tr>
<td><span class="bold">-F</span><span class="italic"> pathname</span></td>
<td>按照 <span class="italic">pathname</span> 中的信息所指定的，添加或更改打印纸 <span class="italic">FormName</span>。</td>
</tr>
<tr>
<td><span class="bold">-l</span></td>
<td>列出打印纸 <span class="italic">FormName</span> 的属性。</td>
</tr>
<tr>
<td><span class="bold">-x</span></td>
<td>删除打印纸 <span class="italic">FormName</span>（该标志必须单独使用；不能与任何其它标志一起使用）。</td>
</tr>
</tbody>
</table>
<a name="wq711"></a>
<h4 id="wq711">添加或更改打印纸</h4>
<p><span class="bold">-F</span><span class="italic"> pathname</span> 标志用于添加一个新的打印纸 <span class="italic">FormName</span>到 LP 打印服务或者更改一个现有打印纸的属性。如果给定 <span class="bold">-F</span> 标志，打印纸描述取自 <span class="italic">pathname</span>；如果使用了 <span class="bold">-</span> 标志，打印纸描述取自标准输入。这两个标志之一必须用于定义或更改打印纸。<span class="italic">pathname</span> 是包含以下关于打印纸的信息的全部或任意子集的文件的路径名：</p>
<p></p>
<pre class="xmp">   页长：<span class="italic">scaled-decimal-number1</span>
   页宽：<span class="italic">scaled-decimal-number2</span>
   页数：<span class="italic">integer</span>
   行间距：<span class="italic">scaled-decimal-number3</span>
   字符间距：<span class="italic">scaled-decimal-number4</span>
   字符集选项：<span class="italic">character-set/print-wheel</span> [mandatory]
   墨带颜色：<span class="italic">ribbon-color</span>
   注释：
   <span class="italic">comment</span>
   对齐模式：[<span class="italic">content-type</span>]
   <span class="italic">content</span></pre>
<p>术语“scaled-decimal-number”指的是一个用于表示大小单元的非负数。单元类型由一个附加到数字的“后缀”字母显示。LP 打印服务可以使用三种度量的十进制数：以厘米大小显示的数字（标记后缀“c”）；以英寸大小显示的数字（标记后缀“i”）；和以使用的合适单位大小显示的数字（没有后缀字母），也就是，行、字符、每英寸行数或者每英寸字符数。</p>
<p>除了最后两行，上面的行可以显示为任何顺序。注释和 <span class="italic">comment</span> 项必须以连贯顺序显示但是可以在其它项之前显示，而“对齐模式”和 <span class="italic">content</span> 项必须在文件的结尾以连贯顺序显示。而且，<span class="italic">comment</span> 项不能包含以任意上述关键短语开头的行，除非此关键短语以“>”开头。当显示注释的时候在 <span class="italic">comment</span> 中找到的任何前导“>”标记都被删除。在关键短语中的大小写差别忽略。</p>
<p>当发出此命令的时候，由 <span class="italic">FormName</span> 指定的打印纸被添加到打印纸列表。如果打印纸已经存在，更改它的描述来反映新的信息。一旦被添加，在打印请求中就可以使用该打印纸，除非对于该打印纸的访问已经被限制，如 <span class="bold">-u</span> 标志下面所描述的。打印纸也可以仅允许用于特定的打印机。</p>
<p>每个打印纸属性的描述如下：</p>
<a name="wq712"></a>
<table id="wq712" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="50%"><span class="bold">页长和页宽</span></td>
<td width="50%">在打印需要该打印纸的打印请求的内容之前，随 LP 打印服务一起提供的通用接口程序初始化物理打印机，使用打印机类型作为进入 <span class="italic">terminfo</span> 数据库的密钥，来处理 <span class="italic">scaled-decimal-number1</span> 长和 <span class="italic">scaled-decimal-number2</span> 宽的页面。
<p>如果可能，页面长度和页面宽度也被传递到需要该打印纸的请求中使用的每个过滤器。</p></td>
</tr>
<tr>
<td><span class="bold">页数</span></td>
<td>每次打印对齐模式的时候，如果可能，LP 打印服务试图通过传递 1-<span class="italic">integer</span> 的页面子集到每个过滤器，来把 <span class="italic">content</span> 截断到单一打印纸。</td>
</tr>
<tr>
<td><span class="bold">行间距和字符间距</span></td>
<td>在打印需要该打印纸的打印请求的内容之前，随 LP 打印服务一起提供的接口程序初始化物理打印机，使用打印机类型作为进入 <span class="italic">terminfo</span> 数据库的密钥，来处理这些间距。而且，如果可能，间距被传递到需要该打印纸的请求中使用的每个过滤器。如果附加有“c”，<span class="italic">scaled-decimal-number3</span> 代表每厘米行数，否则的话为每英寸行数；类似地，如果附加有“c”，<span class="italic">scaled-decimal-number4</span> 表示每厘米字符数，否则的话为每英寸字符数。字符间距也可以由 <span class="bold">elite</span>（每英寸 12 个字符）、<span class="bold">pica</span>（每英寸 10 个字符）或者 <span class="bold">compressed</span>（每英寸尽可能多的字符）来指定。</td>
</tr>
<tr>
<td><span class="bold">字符集选项</span></td>
<td>当 LP 打印服务警告管理员安装该打印纸的时候，它也提醒打印轮 <span class="italic">print-wheel</span> 必须用在那些获得打印轮的打印机上。如果要在拥有可选或可载入字符集而不是打印轮的打印机上用该打印纸打印，随 LP 打印服务一起提供的接口程序自动选择或装载正确的字符集。如果附加了 <span class="bold">mandatory</span>，不允许用户选择一个不同的字符集与该打印纸一起使用；否则，字符集或指定的打印轮仅仅是一个建议和缺省值。</td>
</tr>
<tr>
<td><span class="bold">墨带颜色</span></td>
<td>当 LP 打印服务警告管理员安装该打印纸的时候，它也提醒着墨带的颜色必须是 <span class="italic">ribbon-color</span>。</td>
</tr>
<tr>
<td><span class="bold">注释</span></td>
<td>当用户询问此打印纸的时候，LP 打印服务显示未经改变的 <span class="italic">comment</span>（请参阅 <a href="lpstat.htm#a9v4230roll"><span class="bold">lpstat</span></a> 命令）。</td>
</tr>
<tr>
<td><span class="bold">对齐模式</span></td>
<td>当安装此打印纸的时候，管理员能够请求重复打印 <span class="italic">content</span>，以帮助预打印格式纸正确定位。选项 <span class="italic">content-type</span> 定义了为其生成了 <span class="italic">content</span> 的打印机的类型。如果没有给出 <span class="italic">content-type</span>，就假定是 <span class="bold">simple</span>。
<p></p><blockquote><span class="bold">注：</span>内容按照给出的原样存储并且只有 <span class="italic">lp</span> 用户可读。</blockquote></td>
</tr>
</tbody>
</table>
<p>当用此命令更改一个现有的打印纸的时候，在新的信息中缺少的项按原样保留。当用此命令添加新的打印纸的时候，缺少的项获取以下缺省值：</p>
<p></p>
<pre class="xmp">   页长：66
   页宽：80
   页数：1
   行间距：6
   字符间距：10
   字符集选项：any
   墨带颜色：any</pre>
<a name="wq713"></a>
<h4 id="wq713">删除打印纸</h4>
<p><span class="bold">-x</span> 标志用于从 LP 打印服务删除打印纸 <span class="italic">FormName</span>。</p>
<a name="wq714"></a>
<h4 id="wq714">列出打印纸属性</h4>
<p><span class="bold">-l</span> 标志用于列出现有打印纸 <span class="italic">FormName</span> 的属性。由于对齐模式潜在的敏感性，只有管理员能够用该命令检查打印纸。其它人可以使用 <span class="bold">lpstat</span> 命令来检查打印纸描述的非敏感部分。</p>
<a name="wq715"></a>
<h4 id="wq715">允许和禁止访问打印纸</h4>
<p><span class="bold">-u</span> 标志，后跟参数 <span class="bold">allow:</span><span class="italic">login-ID-list</span> 或 <span class="bold">-u deny:</span><span class="italic">login-ID-list</span> 可以确定允许哪些用户指定打印请求所伴随的特殊打印纸。该标志可以和 <span class="bold">-F</span> 或 <span class="bold">-</span> 标志一起使用。</p>
<p><span class="italic">login-ID-list</span> 参数可以包含任意的或所有的以下构造：</p>
<a name="wq716"></a>
<table id="wq716" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="39%"><span class="italic">login-ID</span></td>
<td width="60%">本地系统上的一个用户</td>
</tr>
<tr>
<td><span class="italic">system-name</span><span class="bold">!</span><span class="italic">login-ID</span></td>
<td>系统 <span class="italic">system-name</span> 上的一个用户</td>
</tr>
<tr>
<td><span class="italic">system-name</span><span class="bold">!all</span></td>
<td>系统 <span class="italic">system-name</span> 上的所有用户</td>
</tr>
<tr>
<td><span class="bold">all!</span><span class="italic">login-ID</span></td>
<td>所有系统上的一个用户</td>
</tr>
<tr>
<td><span class="bold">all</span></td>
<td>本地系统上的所有用户</td>
</tr>
<tr>
<td><span class="bold">all!all</span></td>
<td>所有系统上的所有用户</td>
</tr>
</tbody>
</table>
<p><span class="italic">login-ID-list</span> 的缺省值是 <span class="bold">all</span>。</p>
<p>LP 打印服务为每个打印纸保持两个用户列表：允许使用该打印纸的人的“允许列表”，以及不能使用该打印纸的人的“拒绝列表”。</p>
<ul>
<li>如果允许列表存在并且 <span class="italic">login-ID</span> 在内，则允许访问。</li>
<li>如果只有拒绝列表存在并且 <span class="italic">login-ID</span> 不在内，则允许访问。</li>
<li>如果 <span class="italic">login-ID</span> 在拒绝列表内，则拒绝访问。</li>
<li>如果允许列表或拒绝列表都不存在，则拒绝访问。</li>
<li>如果两个列表都存在，而 <span class="italic">login-ID</span> 都不在其中，则拒绝访问。</li>
<li>如果只有允许列表存在并且 <span class="italic">login-ID</span> 不在内，则拒绝访问。</li></ul>
<p>如果允许列表非空，则只有列表中的用户允许访问该打印纸，而不管拒绝列表中的内容。如果允许列表为空但拒绝列表不是，拒绝列表中的用户不能使用该打印纸（但是其它所有人可以使用）。</p>
<p>通过指定 <span class="bold">-f deny:all</span> 能禁止所有用户访问某打印纸。通过指定 <span class="bold">-f allow:all</span> 能允许所有用户访问某打印纸。（此为缺省值。）</p>
<a name="wq717"></a>
<h4 id="wq717">设置安装打印纸警告</h4>
<p><span class="bold">-f</span><span class="italic"> FormName</span> 标志与 <span class="bold">-A</span><span class="italic"> AlertType</span> 标志一起使用来定义一个警告，当有队列中的作业需要某打印纸的时候安装该打印纸。如果该标志没有用于安排对打印纸的警告，就不会为该打印纸发出警告。</p>
<p>警告发送的方法取决于由 <span class="bold">-A</span> 标志指定的 <span class="italic">AlertType</span> 参数的值。警告类型跟那些带 <span class="bold">-A</span> 标志到 <span class="bold">lpadmin</span> 的可用类型相同：<span class="bold">mail</span>、<span class="bold">write</span>、<span class="bold">quiet</span>、<span class="bold">none</span>、<span class="italic">shell-command</span> 和 <span class="bold">list</span>。请参阅 <a href="lpadmin.htm#lpadmin"><span class="bold">lpadmin</span></a> 上的 <span class="bold">-A</span> 的描述以获取关于每个的详细信息。</p>
<p>发送的消息显示如下：</p>
<p></p>
<pre class="xmp">   打印纸 <span class="italic">FormName</span> 需要安装在打印机上：
   <span class="italic">打印机</span>（<span class="italic">integer1</span> 个请求）。
   <span class="italic">integer2</span> 个打印请求等待该打印轮。
   使用 <span class="italic">ribbon-color</span> 墨带。
   使用 <span class="italic">print-wheel</span> 打印轮，如果合适的话。</pre>
<p>列出的打印机是那些管理员早前已经指定的此打印纸的候选。列在每个打印机之后的数字 <span class="italic">integer1</span> 是适合该打印机的请求数目。显示在打印机列表之后的数字 <span class="italic">integer2</span> 是等待该打印纸的请求总数。如果一些请求可以由多于一台的打印机处理，它小于其它数字的和。<span class="italic">ribbon-color</span> 和 <span class="italic">print-wheel</span> 在打印纸描述之中指定。消息中的最后行通常都被发送，即使列出的打印机都没有使用打印轮，因为管理员可以选择在使用打印轮的打印机上安装该打印纸。</p>
<p>在可以使用任何色带或者任何打印轮的地方，上面的语句读为：</p>
<p></p>
<pre class="xmp">使用任何墨带。
   使用任何打印轮。</pre>
<p>如果 <span class="italic">FormName</span> 是 <span class="bold">any</span>，在该命令定义的警告适用于还没有为其指定警告的任何打印纸。如果 <span class="italic">FormName</span> 是 <span class="bold">all</span>，在该命令定义的警告适用于所有打印纸。</p>
<p>如果 <span class="bold">-W</span> 标志没有给出，缺省过程是每个对安装该打印纸的需要仅仅发送一个消息。没有指定 <span class="bold">-W</span> 标志等同于指定 <span class="bold">-W once</span> 或者 <span class="bold">-W 0</span>。如果 <span class="italic">minutes</span> 是一个大于 0 的数，按照 <span class="italic">minutes</span> 指定的间隔发送一个警告。</p>
<p>如果也给出 <span class="bold">-Q</span> 标志，则当正在等待的需要该打印纸的打印请求达到确定数目（由参数 <span class="italic">requests</span> 指定）的时候发送警告。如果 <span class="bold">-Q</span> 标志没有给出，或者 <span class="italic">requests</span> 的值是 1 或 <span class="bold">any</span>（二者都是缺省值），当某打印纸没有安装的时候，任何人一提交对该打印纸的打印请求就发送一个消息。</p>
<a name="wq718"></a>
<h4 id="wq718">列出当前的警告</h4>
<p><span class="bold">-f</span> 标志，后跟 <span class="bold">-A</span> 标志和参数 <span class="bold">list</span>，用于列出已经为指定打印纸 <span class="italic">FormName</span> 定义的警告类型。对警告不作更改。如果 <span class="italic">FormName</span> 由 LP 打印服务识别，取决于对打印纸的警告类型，以下行之一被发送到标准输出。</p>
<p></p>
<pre class="xmp">   当 <span class="italic">requests</span> 请求排队时：
   每 <span class="italic">minutes</span> 分钟警告 <span class="italic">shell-command</span>

   当 <span class="italic">requests</span> 请求排队时：
   每 <span class="italic">minutes</span> 分钟写入 <span class="italic">user-name</span>
   当 <span class="italic">requests</span> 请求排队时：
   每 <span class="italic">minutes</span> 分钟发邮件到 <span class="italic">user-name</span>
   无警告</pre>
<p>如果 <span class="italic">minutes</span>（<span class="bold">-W</span><span class="italic"> minutes</span>）是 0，短语“每 <span class="italic">minutes</span> 分钟”被替换为“一次”。</p>
<a name="wq719"></a>
<h4 id="wq719">终止一个活动警告</h4>
<p><span class="bold">-A quiet</span> 标志用作对于当前情况停止消息。管理员能够使用该标志暂时停止接收关于某个已知问题的更多信息。一旦打印纸已经安装然后被卸载，当打印请求的数目达到阈值 <span class="italic">requests</span> 的时候消息再次被发送。</p>
<a name="wq720"></a>
<h4 id="wq720">删除一个警告定义</h4>
<p>使用 <span class="bold">-A none</span> 标志之后没有消息被发送，直到 <span class="bold">-A</span> 标志再次被给定了一个不同的 <span class="italic">AlertType</span>。这可以用于当任意现有的对打印纸的警告定义被删除的时候，永久停止发送更多的信息。</p>
<a name="wq721"></a>
<h3 id="wq721">相关信息</h3>
<p><a href="lpadmin.htm#lpadmin"><span class="bold">lpadmin</span></a> 命令。</p>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/files/aixfiles/terminfo.htm"><span class="bold">terminfo</span></a> 文件。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="lpforms.htm#Top_Of_Page">页的顶部</a> | <a href="lpfilter.htm">上一页</a> | <a href="lpmove.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
