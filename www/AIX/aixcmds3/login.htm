<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 3，i - m - login 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="login 命令, 使用登录命令, 为启动会话, 用户,
启动一个用户, 会话" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="login.htm#Bot_Of_Page">页的底部</a> | <a href="logger.htm">上一页</a> | <a href="logins.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 3，i - m</h1></center>

<a name="a68v042f7"></a>
<h2 id="a68v042f7">login 命令</h2>
<p><a id="idx317" name="idx317"></a></p>
<a name="a68v042f9"></a>
<h3 id="a68v042f9">用途</h3>
<a name="f65ce9b536mart"></a>
<p id="f65ce9b536mart">启动用户会话。</p><a id="idx318" name="idx318"></a>
<p><a id="idx319" name="idx319"></a></p>
<a name="a68v042fb"></a>
<h3 id="a68v042fb">语法</h3>
<p><span class="bold">login</span> [  <a href="login.htm#tuz60kare"><span class="bold">-h</span></a> <span class="italic">HostName</span>  ] [   <a href="login.htm#dwz3a0kare"><span class="bold">-p</span></a> ] [  <a href="login.htm#bwb5i3a0doug"><span class="bold">-f</span></a><span class="italic"> User</span> | <a href="login.htm#login_flags_k"><span class="bold">-k</span></a> ] [ <span class="italic">User</span>  [ <span class="italic">Environment</span>  ] ]</p>
<a name="a68v042fe"></a>
<h3 id="a68v042fe">描述</h3>
<a name="f65ce9c099mart"></a>
<p id="f65ce9c099mart"><span class="bold">login</span> 命令（<span class="bold">tsm</span> 命令的一部分）在系统中为指定在 <span class="italic">User</span> 参数中的用户启动会话。也可以指定添加到用户环境中的环境变量。
这些是 <span class="italic">Variable</span><span class="bold">=</span><span class="italic">Value</span> 格式的字符串。<span class="bold">login</span> 命令通常不在命令行上输入。</p>
<p></p><blockquote><span class="bold">注意：</span>
<ol type="1">
<li><a name="c31e3e6981doug"></a><span id="c31e3e6981doug" class="pk"></span><span class="bold">PATH</span>、<span class="bold">IFS</span>、<span class="bold">HOME</span> 和 <span class="bold">SHELL</span> 环境变量不能在命令行初始化。</li>
<li><a name="a205c11e9"></a><span id="a205c11e9" class="pk"></span><span class="bold">login</span> 命令支持多字节用户名。
建议系统管理员将用户名限制为可移植字符集中的字符，以消除任何不明确地方。</li>
<li><a name="d7cb3f7148jani"></a><span id="d7cb3f7148jani" class="pk"></span>如果 <span class="bold">/etc/nologin</span>
 文件存在，那么系统会禁止用户登录，并显示 <span class="bold">/etc/nologin</span> 文件的内容。如果此文件存在，
系统仍允许 root 用户登录。当重新引导系统的时候，<span class="bold">/etc/nologin</span> 文件被删除。</li></ol></blockquote>
<a name="f65ce9c680mart"></a>
<p id="f65ce9c680mart"><span class="bold">login</span> 命令能够处理
分布式计算环境（DCE）下长达 1024 字符的用户名。
DCE 用户名存放在 <span class="bold">LOGIN</span> 环境变量中。
由于 DCE 用户名不遵从标准操作系统的要求，
DCE 用户名的前 8 个字符存放在所有标准操作系统文件和环境中。</p>
<a name="f65ce9c835mart"></a>
<p id="f65ce9c835mart"><span class="bold">login</span> 命令执行以下的功能：</p>
<a name="wq617"></a>
<table id="wq617" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="38%">
<a id="a68v04300" name="a68v04300"></a><span class="bold">检查帐户</span></td>
<td width="61%">  <span class="bold">login</span> 命令为用于登录的端口验证用户帐户、确保认证、正确启用登录以及更正容量。</td>
</tr>
<tr>
<td>
<a id="a68v04301" name="a68v04301"></a><span class="bold">认证用户</span></td>
<td>  <span class="bold">login</span> 命令通过为每个用户使用系统定义的认证方法来验证用户的身份。
如果密码失效，那么用户必须提供新的密码。
如果定义了辅助认证方法，为了登录进系统，这些方法会被调用，但是不需成功返回。</td>
</tr>
<tr>
<td>
<a id="a68v04302" name="a68v04302"></a><span class="bold">建立凭证</span></td>
<td>  <span class="bold">login</span> 命令从用户数据库中为用户创建初始化凭证。
这些凭证定义了用户在系统中的访问权限和义务。</td>
</tr>
<tr>
<td>
<a id="a68v04303" name="a68v04303"></a><span class="bold">启动会话</span></td>
<td>  <span class="bold">login</span> 命令从用户数据库、从命令行以及从 <span class="bold">/etc/environment</span> 配置文件初始化用户环境；将当前目录更改为用户的主目录（正常情况下）；并运行用户
初始化程序。</td>
</tr>
</tbody>
</table>
<a name="f65ce9d345mart"></a>
<p id="f65ce9d345mart">这些函数以给定的顺序执行；如果其中之一失败，那么它以后的函数就不会执行。</p>
<a name="f65ce9d499mart"></a>
<p id="f65ce9d499mart">当用户成功登录的时候，<span class="bold">login</span> 命令在跟踪用户登录的 <span class="bold">/etc/utmp</span> 文件以及用于记帐用途的 <a href="login.htm#a68v0432c"><span class="bold">/var/adm/wtmp</span></a> 文件中构造项。<span class="bold">login</span> 命令还设置 <span class="bold">LOGIN</span>
和 <span class="bold">LOGNAME</span> 环境变量。</p>
<a name="f65ce9d653mart"></a>
<p id="f65ce9d653mart">关于每次失败登录的信息记录在 <span class="bold">/etc/security/failedlogin</span> 文件中。除了未被承认的的用户名被记录为 <tt>UNKNOWN_USER</tt> 之外，存储的信息与 <span class="bold">/etc/utmp</span> 文件中的相同。例如，这确保了不允许作为用户名输入的密码未经加密的意外地进入系统。</p>
<a name="f65ce9d810mart"></a>
<p id="f65ce9d810mart">成功登录后，<span class="bold">login</span> 命令显示了本帐户上次成功以及失败登录试图的日期、日期和时间，以及本帐户上次成功登录后总共失败登录试图次数的信息。
如果在主目录中有 <span class="bold">.</span><span class="bold">hushlogin</span> 文件，那么不会发布这些信息。</p>
<a name="f65ce9d959mart"></a>
<p id="f65ce9d959mart"><span class="bold">login</span> 命令还更改了用户登录端口的所有权。
这包含了任何在 <span class="bold">/etc/security/login.cfg</span> 文件中注释同义的端口。</p>
<a name="f65ce9e114mart"></a>
<p id="f65ce9e114mart">为了保证系统的完整性，一次仅允许一个会话登录进一个端口。
这意味着从 shell 提示输入的 <span class="bold">login</span> 命令无法成功，
因为原始会话和新建的登录会话在同一个端口上。
然而，<span class="bold">exec</span><span class="bold"> login</span> 命令会执行成功，因为新的 shell 会代替了当前的 shell。<span class="bold">login</span> 命令是一个典型的内置 shell 命令，促使 shell 替换其自身。</p>
<p></p><blockquote><a name="a110v0582"></a><span id="a110v0582" class="pk"></span><span class="bold">注意：</span>除非终端显示器只能显示大写字母，
否则用户名不应该只由大写字母组成。</blockquote>
<a name="f65ce9e337mart"></a>
<p id="f65ce9e337mart">为了使用多字节用户名登录，必须首先
打开一个日语视窗（aixterm），然后从日语视窗启动新的登录。</p>
<a name="a68v0430a"></a>
<h3 id="a68v0430a">标志</h3>
<p></p>
<a name="wq618"></a>
<table id="wq618" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="18%">
<a id="bwb5i3a0doug" name="bwb5i3a0doug"></a><span class="bold">-f</span><span class="italic"> User</span></td>
<td width="81%">  标志已经认证过的用户。如果登录进程的真实标识为根（0），
那么，该用户没有认证。</td>
</tr>
<tr>
<td>
<a id="tuz60kare" name="tuz60kare"></a><span class="bold">-h</span><span class="italic"> HostName</span></td>
<td>  将登录标识为远程登录，使用 <span class="italic">HostName</span> 变量来指定请求登录的机器名。
这种格式的登录仅由 <span class="bold">telnetd</span> 和 <span class="bold">rlogind</span> 守护进程使用。</td>
</tr>
<tr>
<td>
<a id="login_flags_k" name="login_flags_k"></a><span class="bold">-k</span></td>
<td>将登录标识为使用 Kerberos 认证，并使登录将控制权传递给 <span class="bold">/usr/bin/k5dcelogin</span> 来处理认证。只有 <span class="bold">krshd</span> 守护进程才使用这种登录形式。</td>
</tr>
<tr>
<td>
<a id="dwz3a0kare" name="dwz3a0kare"></a><span class="bold">-p</span></td>
<td>  通过将当前终端类型设置为 <span class="bold">$TERM</span> 环境变量的值来取代包含在
<span class="bold">CuAt/PdAt</span> 对象类数据库中的类型来保护它。</td>
</tr>
</tbody>
</table>
<a name="a110v0583"></a>
<h3 id="a110v0583">安全性</h3>
<a name="f65ce9e836mart"></a>
<p id="f65ce9e836mart">访问控制：此命令为 root 用户设置 setuid 许可，
将可执行（<span class="bold">x</span>）权限授权给任何用户，
它位于可信计算库中。</p>
<a name="a68v04323"></a>
<h3 id="a68v04323">示例</h3>
<a name="f65ce9f054mart"></a>
<p id="f65ce9f054mart">为了作为用户 <tt> jamesd</tt> 登录进系统，请在登录提示符下输入以下命令：</p>
<p></p>
<a name="a68v04325"></a>
<pre id="a68v04325" class="xmp">login: jamesd</pre>
<a name="f65ce9f264mart"></a>
<p id="f65ce9f264mart">如果定义了密码，那么会出现密码提示符。
在该提示符下输入密码。</p>
<a name="a68v04329"></a>
<h3 id="a68v04329">文件</h3>
<p></p>
<a name="wq619"></a>
<table id="wq619" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="41%">
<a id="a68v0432a" name="a68v0432a"></a><span class="bold">/usr/sbin/login</span></td>
<td width="58%">  包含了 <span class="bold">login</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a68v0432b" name="a68v0432b"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/files/aixfiles/utmp.htm#a3039269f"><span class="bold">/etc/utmp</span></a></td>
<td>  包含了记帐信息。</td>
</tr>
<tr>
<td>
<a id="a68v0432c" name="a68v0432c"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/files/aixfiles/utmp.htm#a3039269f"><span class="bold">/var/adm/wtmp</span></a></td>
<td>  包含了记帐信息。</td>
</tr>
<tr>
<td>
<a id="a68v0432d" name="a68v0432d"></a><span class="bold">/etc/motd</span></td>
<td>  包含了日期的信息。</td>
</tr>
<tr>
<td>
<a id="a68v0432e" name="a68v0432e"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/files/aixfiles/passwd.htm#x9a1f0frit"><span class="bold">/etc/passwd</span></a></td>
<td>  包含了密码。</td>
</tr>
<tr>
<td>
<a id="a68v0432f" name="a68v0432f"></a><span class="bold">$HOME/.hushlogin</span></td>
<td>  禁止登录信息。</td>
</tr>
<tr>
<td>
<a id="a110v0586" name="a110v0586"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/files/aixfiles/environment.htm#a243y98ff1"><span class="bold">/etc/environment</span></a></td>
<td>  包含了用户环境配置信息。</td>
</tr>
<tr>
<td>
<a id="a110v0587" name="a110v0587"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/files/aixfiles/login.cfg.htm#a93c11df9"><span class="bold">/etc/security/login.cfg</span></a></td>
<td>  包含了端口同义词。</td>
</tr>
<tr>
<td>
<a id="bf1328c869kevi" name="bf1328c869kevi"></a><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/files/aixfiles/lastlog.htm#knh196kevi"><span class="bold">/etc/security/lastlog</span></a></td>
<td>  包含了有关最近成功和失败的登录尝试的信息。</td>
</tr>
<tr>
<td>
<a id="a110v0588" name="a110v0588"></a><span class="bold">/etc/security/failedlogin</span></td>
<td>  包含了有关每次失败登录的信息。</td>
</tr>
</tbody>
</table>
<a name="a68v04330"></a>
<h3 id="a68v04330">相关信息</h3>
<a name="f65cea0625mart"></a>
<p id="f65cea0625mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds2/getty.htm#a301913bc"><span class="bold">getty</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds5/setgroups.htm#ji21200frit"><span class="bold">setgroups</span></a>
命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds5/setsenv.htm#wpg2f0frit"><span class="bold">setsenv</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds5/su.htm#a248y99c6d"><span class="bold">su</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds5/tsm.htm#a22297d3"><span class="bold">tsm</span></a> 命令。</p>
<a name="f65cea0919mart"></a>
<p id="f65cea0919mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/files/aixfiles/utmp.htm#a3039269f"><span class="bold">utmp、
wtmp、failedlogin</span></a> 文件格式、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/files/aixfiles/lastlog.htm#knh196kevi"><span class="bold">lastlog</span></a> 文件格式。</p>
<a name="f65cea1074mart"></a>
<p id="f65cea1074mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/libs/basetrf1/authenticate.htm#d10b521095amy"><span class="bold">authenticate</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/libs/basetrf2/setuid.htm#a2089a65"><span class="bold">setuid</span></a>
子例程。</p>
<a name="f65cea1299mart"></a>
<p id="f65cea1299mart">在<span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixuser/usrosdev/login_logout_overview.htm#a9fdccea784kirk">禁止登录信息</a>。</p>
<a name="f65cea1451mart"></a>
<p id="f65cea1451mart">在<span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixuser/usrosdev/login_logout_overview.htm#ncd5140craw">登录和注销概述</a>。</p>
<a name="f65cea1601mart"></a>
<p id="f65cea1601mart">在<span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixuser/usrosdev/shells.htm#a127c1ff">shell 概述</a>描述了什么是 shell、
不同类型的 shell 以及 shell 如何影响解释命令的方法。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="login.htm#Top_Of_Page">页的顶部</a> | <a href="logger.htm">上一页</a> | <a href="logins.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
