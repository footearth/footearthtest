<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 3，i - m - mkcatdefs 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="mkcatdefs 命令, mkcatdefs, 消息设施命令, 预处理,
消息源文件" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="mkcatdefs.htm#Bot_Of_Page">页的底部</a> | <a href="mkC2admin.htm">上一页</a> | <a href="mkCCadmin.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 3，i - m</h1></center>

<a name="a29991"></a>
<h2 id="a29991">mkcatdefs 命令</h2>
<p><a id="idx566" name="idx566"></a> <a id="idx567" name="idx567"></a> <a id="idx568" name="idx568"></a></p>
<a name="a29993"></a>
<h3 id="a29993">用途</h3>
<a name="f7829c1043mart"></a>
<p id="f7829c1043mart">预处理消息源文件。</p>
<a name="ahn9713"></a>
<h3 id="ahn9713">语法</h3>
<p><span class="bold">mkcatdefs</span><span class="italic"> SymbolName</span><span class="italic"> SourceFile</span> ... [  <a href="mkcatdefs.htm#ahn9720"><span class="bold">-h </span></a>]</p>
<a name="a29998"></a>
<h3 id="a29998">描述</h3>
<p><span class="bold">mkcatdefs</span> 命令预处理输入到 <span class="bold">gencat</span> 命令的消息源文件。</p>
<a name="f7829c1512mart"></a>
<p id="f7829c1512mart"><span class="italic">SourceFile</span> 消息文件包含符号标识符。
<span class="bold">mkcatdefs</span> 命令产生 <span class="italic">SymbolName_</span><span class="bold">msg.h</span> 文件，它包含等同于带有由 <span class="bold">mkcatdefs</span> 命令指定的集合号和消息 ID 号的符号标识符的语句。</p>
<a name="f7829c1610mart"></a>
<p id="f7829c1610mart"><span class="bold">mkcatdefs</span> 命令创建两个输出。第一个是称为 <span class="italic">SymbolName</span><span class="bold">_msg.h</span> 的头文件。必须在应用程序中包含这个 <span class="italic">SymbolName</span><span class="bold">_msg.h</span> 文件，从而把符号名称与由 <span class="bold">mkcatdefs</span> 指定的集合和消息号关联起来。</p>
<a name="f7829c1706mart"></a>
<p id="f7829c1706mart"><span class="bold">mkcatdefs</span> 命令用编号将消息源数据发送到到标准输出，而不是用符号标识符。这个输出适合于输入到 <span class="bold">gencat</span> 命令。也可以按以下方式使用 <span class="bold">mkcatdefs</span> 命令的输出作为到 <span class="bold">gencat</span> 命令的输入：</p>
<ul>
<li><a name="a208c180"></a><span id="a208c180" class="pk"></span>带有 <span class="bold">&gt;</span>（重定向符）使用 <span class="bold">mkcatdefs</span> 命令把新的消息源写到一个文件中。将这个文件用作到 <span class="bold">gencat</span> 命令的输入。</li>
<li><a name="a208c181"></a><span id="a208c181" class="pk"></span>直接将 <span class="bold">mkcatdefs</span> 命令输出文件输送到 <span class="bold">gencat</span> 命令。</li>
<li><a name="a208c182"></a><span id="a208c182" class="pk"></span>使用 <span class="bold">runcat</span> 命令，而不是 <span class="bold">mkcatdefs</span> 命令。<span class="bold">runcat</span> 命令通过 <span class="bold">mkcatdefs</span> 命令自动发送消息源文件，然后将该文件输送到 <span class="bold">gencat</span> 命令。</li></ul>
<a name="f7829c2018mart"></a>
<p id="f7829c2018mart">在运行 <span class="bold">mkcatdefs</span> 命令之后，可以在应用程序中使用符号名称来引用消息。</p>
<a name="ahn9719"></a>
<h3 id="ahn9719">标志</h3>
<p></p>
<a name="wq1477"></a>
<table id="wq1477" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="ahn9720" name="ahn9720"></a><span class="bold">-h</span></td>
<td width="95%">  禁止 <span class="italic">SymbolName</span><span class="bold">_msg.h</span> 文件的生成。这个标志必须是 <span class="bold">mkcatdefs</span> 命令的最后一个参数。</td>
</tr>
</tbody>
</table>
<a name="a317965f"></a>
<h3 id="a317965f">示例</h3>
<a name="f7829c2303mart"></a>
<p id="f7829c2303mart">要处理 <tt>symb.msg</tt> 消息源文件并重定向输出到 <tt>symb.src</tt> 文件，请输入：</p>
<p></p>
<pre class="xmp">mkcatdefs symb symb.msg &gt; symb.src</pre>
<a name="f7829c2465mart"></a>
<p id="f7829c2465mart">生成的 <tt>symb_msg.h</tt> 文件与以下内容相似：</p>
<p></p>
<pre class="xmp">#ifdef      _H_SYMB_MSG
#define     _H_SYMB_MSG
#include &lt;limits.h&gt;
#include &lt;nl_types.h&gt;
#define      MF_SYMB     "symb.cat"
/* 从 symb.src 生成以下内容。 */
/* 设置 MSFAC 的定义 */
#define      SYM_FORM     1
#define      SYM_LEN      2
#define      MSG_H  6
#endif</pre>
<a name="f7829c2636mart"></a>
<p id="f7829c2636mart"><span class="bold">mkcatdefs</span> 命令也为带有指定到符号标识符的编号的 <span class="bold">gencat</span> 命令创建 <tt>symb.src</tt> 消息编目源文件：</p>
<p></p>
<pre class="xmp">$quote " Use double quotation marks to delimit message text
$delset 1
$set 1
1       "Symbolic identifiers can only contain alphanumeric \
characters or the _ (underscore character)\n"
2       "Symbolic identifiers cannot be more than 65 \
characters long\n"
5       "You can mix symbolic identifiers and numbers\n"
$quote
6       remember to include the "msg_h" file in your program</pre>
<a name="f7829c2805mart"></a>
<p id="f7829c2805mart">因为源文件包含一个特定的编号，所以指定的消息号是不连续的。<span class="bold">mkcatdefs</span> 程序始终指定将原来的编号加 1 为符号标识符。</p>
<p></p><blockquote><span class="bold">注：</span><span class="bold">mkcatdefs</span> 命令在输出消息源文件中 <span class="bold">$set</span> 命令之前插入 <span class="bold">$delset</span> 命令。这意味着当输出到 <span class="bold">gencat</span> 命令时，不能在现有的的目录中添加、删除或替换单个消息。必须在集合中输入所有的消息。</blockquote>
<a name="a105c126a"></a>
<h3 id="a105c126a">文件</h3>
<p></p>
<a name="wq1478"></a>
<table id="wq1478" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="30%">
<a id="a105c126b" name="a105c126b"></a><span class="bold">/usr/bin/mkcatdefs</span></td>
<td width="70%">  包含 <span class="bold">mkcatdefs</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a105c126f"></a>
<h3 id="a105c126f">相关信息</h3>
<a name="f7829c3692mart"></a>
<p id="f7829c3692mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds2/dspcat.htm#a22698ee"><span class="bold">dspcat</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds2/dspmsg.htm#a2789dc5"><span class="bold">dspmsg</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds2/gencat.htm#a117965a"><span class="bold">gencat</span></a> 命令和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds4/runcat.htm#a2789ec1"><span class="bold">runcat</span></a> 命令。</p>
<a name="f7829c3786mart"></a>
<p id="f7829c3786mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/libs/basetrf1/catclose.htm#at11c0susa"><span class="bold">catclose</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/libs/basetrf1/catgets.htm#a16992009"><span class="bold">catgets</span></a> 子例程和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/libs/basetrf1/catopen.htm#a3059c50"><span class="bold">catopen</span></a> 子例程。</p>
<a name="f7829c3882mart"></a>
<p id="f7829c3882mart"><span class="italic">AIX 5L Version 5.2 National Language Support Guide and Reference</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixprggd/nlsgdrf/msg_fac.htm">Using the Message Facility</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="mkcatdefs.htm#Top_Of_Page">页的顶部</a> | <a href="mkC2admin.htm">上一页</a> | <a href="mkCCadmin.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
