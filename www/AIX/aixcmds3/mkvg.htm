<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 3，i - m - mkvg 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="mkvg 命令, mkvg, 命令, 使用 mkvg 使用, 创建, 卷组" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="mkvg.htm#Bot_Of_Page">页的底部</a> | <a href="mkuser.sys.htm">上一页</a> | <a href="mkvgdata.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 3，i - m</h1></center>

<a name="jip490frit"></a>
<h2 id="jip490frit">mkvg 命令</h2>
<p><a id="idx724" name="idx724"></a><a id="idx725" name="idx725"></a></p>
<a name="a06791a8d"></a>
<h3 id="a06791a8d"> 用途</h3><a id="idx726" name="idx726"></a><a id="idx727" name="idx727"></a>
<a name="fd32ff8713endr"></a>
<p id="fd32ff8713endr">创建卷组。</p>
<a name="a06791a8f"></a>
<h3 id="a06791a8f"> 语法</h3>
<p><span class="bold">mkvg</span>  [  <a href="mkvg.htm#a06791a63"><span class="bold">-d </span></a><span class="italic">MaximumPhysicalVolumes</span> ]  [  <a href="mkvg.htm#lfhyo7ajanbwbc"><span class="bold">-B </span></a>]  [  <a href="mkvg.htm#upcflag"><span class="bold">-C </span></a>]
 [  <a href="mkvg.htm#gl22a0marcwbc"><span class="bold">-G </span></a>]  [  <a href="mkvg.htm#gl22a0marc"><span class="bold">-f </span></a>]  [  <a href="mkvg.htm#a1289d3e"><span class="bold">-i </span></a>]  [  <a href="mkvg.htm#lfhyo7ajanb"><span class="bold">-c </span></a>]  [
 <a href="mkvg.htm#a3c5020a445stue"><span class="bold">-x </span></a>]  [  <a href="mkvg.htm#wc1101mtbnl"><span class="bold">-L</span></a> <span class="italic">LTGSize</span> ]  [  <a href="mkvg.htm#a260c11"><span class="bold">-m </span></a><span class="italic">MaxPvSize</span> ]  [  <a href="mkvg.htm#a260c12"><span class="bold">-n </span></a>]  [  <a href="mkvg.htm#mkvgflags"><span class="bold">-s </span></a><span class="italic">Size</span> ]  [  <a href="mkvg.htm#mkvgflagt"><span class="bold">-t </span></a><span class="italic">factor</span> ]  [  <a href="mkvg.htm#a260c14"><span class="bold">-V </span></a><span class="italic">MajorNumber</span> ]  [  <a href="mkvg.htm#a260c15"><span class="bold">-y </span></a><span class="italic">VolumeGroup</span> ] <span class="italic">PhysicalVolume ...</span></p>
<a name="a06791a92"></a>
<h3 id="a06791a92">描述</h3>
<a name="a012298ghkblaws"></a>
<p id="a012298ghkblaws"><span class="bold">mkvg</span> 命令使用<span class="italic"> PhysicalVolume</span> 参数代表的物理卷创建新
卷组。创建卷组后，<span class="bold">mkvg </span> 命令使用 <span class="bold">varyonvg</span> 命令联机新卷组。该事实的异常情况是卷组用
 <span class="bold">-C</span> 标志创建。当卷组成功创建时，卷组不会自动联机。
相反，用户必须手工<span class="bold">联机</span>卷组。</p>
<p><span class="bold">mkvg</span> 命令缺省情况下创建的卷组能容纳
255 个逻辑卷和 32 个物理卷（磁盘）。
这些限制通过指定 <span class="bold">-B</span> 标志能扩展到 512 个逻辑卷和 128 个物理卷。</p>
<p>如果命令行未指定分区大小， <span class="bold">mkvg</span> 命令将尝试确定适当的分区大小。</p>
<p>MAXPVS 32（128 如果<span class="bold">-B</span> 标志使用）</p>
<a name="wq1942"></a>
<div class="notelisttitle" id="wq1942">注:</div>
<ol type="1">
<li>检查物理卷验证它在其他卷组中未就绪。
如果系统认为物理卷属于联机的卷组，则存在。
但是如果系统从未联机卷组检测描述区域，将提示用户确认是否继续命令。
物理卷以前的内容将丢失，所以用户使用覆盖函数时要注意。</li>
<li>要使用此命令，必须有 root 用户权限或是
 <span class="bold">System</span> 组成员。</li>
<li>对于大于 4GB 的磁盘, 确信物理分区大小
（<span class="bold">-s</span>）设置的足够大，从而每 PV 限制 1016 个物理分区。缺省值，4MB,和
缺省物理分区最大值（1016），大到 4GB 的磁盘仅可以容纳。
或使用足够大的因子值（<span class="bold">-t</span>) 如（<span class="italic">因子</span> x 1016）比用给定分区大小和磁盘大小需要创建的分区数目大。
例如，一个至少 16MB 的分区需要创建一个 10GB 磁盘的卷组。或因子大小是
 2, 可以使用小的 8MB 的分区。但是，这限制了添加到卷组的磁盘总量。
如果使用因子值，
最大 MAXPVS/factor 个磁盘可以包含在卷组中。</li>
<li>在 AIX 4.1 之后, 无论何时创建卷组，操作系统自动地联机。
但是使用
 <span class="bold">-C</span> 标志创建卷组，系统在创建“支持并发”卷组后，不会自动联机卷组。
相反，
<span class="bold">mkvg</span> 命令通知在非并发和并发方式卷组手工<span class="bold">联机</span>卷组。</li>
<li>如果磁盘表示由第三部分卷管理，此命令添加磁盘到卷组失败。
要覆盖和清除第三部分卷管理磁盘使用
 <span class="bold">chpv -C</span> <span class="italic">HDiskName</span>。</li>
<li>在 AIX 5.2 和以后版本，当指定 <span class="bold">-c</span> 或<span class="bold">-C</span> 标志时，只有“提高的并发执行”卷组将创建。</li>
</ol>
<p>因为 VGDA 空间已充分的增大，每一个 VGDA 更新操作（创建逻辑卷、改变逻辑卷、添加物理卷，等等）可能会相应的延长运行时间。</p>
<p>可以在“基于 Web 的系统管理器”中使用卷应用程序来更改卷特征。也可以使用“系统管理接口工具”（SMIT）<span class="bold">smit mkvg</span> 快速路径来运行该命令。</p>
<a name="a06791a94"></a>
<h3 id="a06791a94">标志</h3>
<p></p>
<a name="wq1944"></a>
<table id="wq1944" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="30%">
<a id="lfhyo7ajanbwbc" name="lfhyo7ajanbwbc"></a><span class="bold">-B</span></td>
<td width="69%">创建大的 vg 格式<span class="italic">卷组</span>。 这能容纳达 128 个物理卷和 512 个逻辑卷。
<a name="wq1945"></a>
<div class="notetitle" id="wq1945">注:</div>
<div class="notebody">由于 VGDA 空间已充分增大，每个 VGDA
更新操作（创建逻辑卷、更改逻辑卷、添加物理卷，等等）可能会相应延长运行时间。</div></td>
</tr>
<tr>
<td>
<a id="lfhyo7ajanb" name="lfhyo7ajanb"></a><span class="bold">-c</span></td>
<td>与 <span class="bold">-C</span> 标志相同。在 AIX 5.2 和以后的版本只有“提高的并发执行”卷组能创建。</td>
</tr>
<tr>
<td>
<a id="upcflag" name="upcflag"></a><span class="bold">-C</span></td>
<td>创建“提高的并发执行”卷组。仅使用 <span class="bold">-C</span> 标志和 HACMP ES。 在没有使用 HACMP ES 产品的卷组和系统上不可用。
<p>使用该标志创建具有“增强并发能力”的卷组。</p>
<a name="wq1946"></a>
<div class="notelisttitle" id="wq1946">注:</div>
<ol type="1">
<li>“增强并发”卷组使用“组服务”。“组服务”带有 HACMP ES，在以此方式激活卷组之前，必须配置“组服务” 。</li>
<li>当运行在 64 位内核只支持具有“增强并发能力”的卷组。
当运行在 64 位内核时不支持“并发能力”卷组。</li>
</ol></td>
</tr>
<tr>
<td>
<a id="a06791a63" name="a06791a63"></a><span class="bold">-d</span><span class="italic"> MaximumPhysicalVolumes</span></td>
<td>忽略该标志</td>
</tr>
<tr>
<td>
<a id="gl22a0marc" name="gl22a0marc"></a><span class="bold">-f</span></td>
<td>除非物理卷是另一个设备配置数据库卷组或激活卷组的一部分，强制卷组在指定物理卷上创建。</td>
</tr>
<tr>
<td>
<a id="gl22a0marcwbc" name="gl22a0marcwbc"></a><span class="bold">-G</span></td>
<td>与 <span class="bold">-B</span> 标志相同。</td>
</tr>
<tr>
<td>
<a id="a1289d3e" name="a1289d3e"></a><span class="bold">-i</span></td>
<td>从标准输入读取 <span class="italic">PhysicalVolume</span> 参数。</td>
</tr>
<tr>
<td>
<a id="wc1101mtbnl" name="wc1101mtbnl"></a><span class="bold">-L</span><span class="italic"> LTGSize</span></td>
<td>以千字节为单位设置卷组的逻辑磁道组大小。
<span class="italic">LTGSize</span> 参数的值必须是
128、 256、 512、或 1024。  还有，应该小于或等于卷组中所有磁盘传输块的大小。
缺省大小是 128 千字节。</td>
</tr>
<tr>
<td>
<a id="a260c11" name="a260c11"></a><span class="bold">-m</span><span class="italic"> MaxPvSize</span></td>
<td>该标志是忽略的。</td>
</tr>
<tr>
<td>
<a id="a260c12" name="a260c12"></a><span class="bold">-n</span></td>
<td>指定在系统重新启动时，卷组不是自动地可获得。
缺省值自动地激活卷组。</td>
</tr>
<tr>
<td>
<a id="mkvgflags" name="mkvgflags"></a><span class="bold">-s</span><span class="italic"> Size</span></td>
<td>在每个物理分区中设置兆字节数，其中 <var class="pv">Size</var> 变量表示为以兆字节为单位从 1 到 1024 。
<span class="italic">Size</span> 变量必须是平方数（例如
1, 2, 4, 8）。缺省值是保持在 1016 个物理分区限制的最低值。</td>
</tr>
<tr>
<td>
<a id="mkvgflagt" name="mkvgflagt"></a><span class="bold">-t</span> <span class="italic">factor</span></td>
<td>改变每物理卷的物理分区数的限制，
由 <span class="italic">factor</span> 指定。<span class="italic">factor</span> 对于 32 个磁盘卷组应该在 1 和 16 之间，对于 128 个磁盘卷组应在 1 和 64 之间。
该卷组的每个物理卷的最大物理分区数更改为 factor x 1016。 缺省值是保持在 <span class="italic">factor</span> x 1016 个物理分区限制的最低值。</td>
</tr>
<tr>
<td>
<a id="a260c14" name="a260c14"></a><span class="bold">-V</span><span class="italic"> MajorNumber</span></td>
<td>指定要创建卷组的主号码。</td>
</tr>
<tr>
<td>
<a id="a3c5020a445stue" name="a3c5020a445stue"></a><span class="bold">-x</span></td>
<td>该标志是忽略的。在 AIX 5.2 和以后的版本只有“提高的并发执行”卷组能创建。</td>
</tr>
<tr>
<td>
<a id="a260c15" name="a260c15"></a><span class="bold">-y</span><span class="italic"> VolumeGroup</span></td>
<td>指定卷组名而不是让名字自动地生成。
卷组名必须是系统范围内唯一并且从 1 到 15 个字符。
名称不能以已经在
 <span class="bold">PdDv</span> 类定义的其它设备的设备配置数据库的前缀开头。
创建的卷组名发送到标准输出。

<a name="a3c5020a490stue"></a>
<p id="a3c5020a490stue">卷组名只能包含下列字符：
“A”到“Z”，“a”到“z”，“0”到“9”，或“_”（下划线），“－”（减号)，或“.”
(周期)。所有其它字符是无效的。</p></td>
</tr>
</tbody>
</table>
<a name="a06791a99"></a>
<h3 id="a06791a99">示例</h3>
<a name="fd32ff9616endr"></a>
<p id="fd32ff9616endr">要创建包含三个物理卷分区大小设置为 1 兆字节的卷组，输入：</p>
<div class="lines"><tt>mkvg&nbsp;&nbsp;<a href="mkvg.htm#mkvgflags">-s</a> 1 hdisk3 hdisk5 hdisk6</tt><br />
</div>
<a name="fd32ff9701endr"></a>
<p id="fd32ff9701endr">使用自动生成的名称创建卷组，它在系统重新启动时显示并可用。</p>
<a name="i012698214tmh"></a>
<p id="i012698214tmh"><tt>mkvg  <a href="mkvg.htm#mkvgflags">-s</a> 2 -t 2 -y newvg hdisk1</tt></p>
<p>用 2MB 的物理分区和每物理卷的最大分区数为 2032 创建卷组 <tt>newvg</tt>。
上面的配置表明 hdisk1 的大小不能大于
 4064MB (2032*2)</p>
<a name="a06791a9f"></a>
<h3 id="a06791a9f">文件</h3>
<p></p>
<a name="wq1948"></a>
<table id="wq1948" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="6%">
<a id="a06791aa0" name="a06791aa0"></a><span class="bold">/etc</span></td>
<td width="93%">  <span class="bold"> mkvg</span> 命令所在的目录。</td>
</tr>
<tr>
<td>
<a id="a56f037" name="a56f037"></a><span class="bold">/tmp</span></td>
<td>  命令运行时临时文件存储的目录。</td>
</tr>
<tr>
<td>
<a id="a56f038" name="a56f038"></a><span class="bold">/dev</span></td>
<td>  卷组的字符设备项创建的目录。</td>
</tr>
</tbody>
</table>
<a name="a06791aa1"></a>
<h3 id="a06791aa1"> 相关信息</h3>
<a name="fd32ffa008endr"></a>
<p id="fd32ffa008endr"><a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds1/chvg.htm#xo64260frit"><span class="bold">chvg</span></a> 命令、<a href="lsvg.htm#kro380frit"><span class="bold">lsvg</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds6/varyonvg.htm#j884frit"><span class="bold">varyonvg</span></a> 命令。</p>
<a name="fd32ffa067endr"></a>
<p id="fd32ffa067endr"><span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixbman/admnconc/logical_vol.htm">逻辑卷存储概述</a>。</p>
<p>有关安装基于 Web 的系统管理器的信息，请参阅<span class="italic">《AIX 5L V5.2 基于 Web 的系统管理器管理指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixbman/wsmadmn/install.htm#install">『第 2 章：安装基于 Web 的系统管理器』</a>。</p>
<a name="fd32ffa126endr"></a>
<p id="fd32ffa126endr"><span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixbman/admnconc/sys_mgt_tools.htm">System Management Interface Tool (SMIT)</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="mkvg.htm#Top_Of_Page">页的顶部</a> | <a href="mkuser.sys.htm">上一页</a> | <a href="mkvgdata.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
