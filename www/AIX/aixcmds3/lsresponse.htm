<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 3，i - m - lsresponse 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="lsresponse 命令, lsresponse, 命令" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="lsresponse.htm#Bot_Of_Page">页的底部</a> | <a href="lsresource.htm">上一页</a> | <a href="lsrole.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 3，i - m</h1></center>

<a name="lsresponse"></a>
<h2 id="lsresponse">lsresponse <span>命令</span></h2>
<a name="wq1094"></a>
<h3 id="wq1094">用途</h3>
<p><span></span>列出关于一次或多次响应的信息。<a id="idx454" name="idx454"></a> <a id="idx455" name="idx455"></a></p>
<a name="wq1095"></a>
<h3 id="wq1095">语法</h3>
<p><span class="pk">lsresponse</span> [<span class="pk">-a</span>] [ <span class="pk">-C</span> | <span class="pk">-l</span> | <span class="pk">-t</span>  | <span class="pk">-d</span> | <span class="pk">-D</span> <var class="pv">delimiter</var> ]  [<span class="pk">-A</span>] [<span class="pk">-q</span>]  <span>[<span class="pk">-U</span>]</span> [<span class="pk">-x</span>]    [<span class="pk">-h</span>] [<span class="pk">-TV</span>]
  [<var class="pv">response1</var>[<span class="pk">,</span><var class="pv">response2</var><span class="pk">,</span>...] <span class="pk">:</span><var class="pv">node_name</var>]</p>
<a name="wq1096"></a>
<h3 id="wq1096">描述</h3>
<p><span class="pk">lsresponse</span> 命令列出关于已定义响应的以下信息：
</p>
<dl>
<dt class="bold"><span class="bold-italic-underlined">字段</span></dt>
<dd><span class="bold-italic-underlined">描述</span>
</dd>
<dt class="bold">ResponseName</dt>
<dd>响应的名称。
</dd>
<dt class="bold">Node</dt>
<dd>响应的位置。
</dd>
<dt class="bold">Action</dt>
<dd>操作的名称。
</dd>
<dt class="bold">DaysOfWeek</dt>
<dd>
<p>每周可运行此操作的天数。    <span class="pk">DaysOfWeek</span> 和 <span class="pk">TimeOfDay</span> 一起定义了操作可以运行的间隔。</p> 
<p>日期的值可以通过加号（<span class="pk">+</span>）来分开，或者可以显示为使用连字符（(<span class="pk">-</span>)）隔开的日期范围。
多个 <span class="pk">DaysOfWeek</span> 值用逗号（<span class="pk">,</span>）分隔。<span class="pk">DaysOfWeek</span> 值的数量必须与 <span class="pk">TimeOfDay</span> 值的数量匹配。每天的值如下：</p>   
<p></p>
<dl>
<dt class="bold">1</dt>
<dd>星期天
</dd>
<dt class="bold">2</dt>
<dd>星期一
</dd>
<dt class="bold">3</dt>
<dd>星期二
</dd>
<dt class="bold">4</dt>
<dd>星期三
</dd>
<dt class="bold">5</dt>
<dd>星期四
</dd>
<dt class="bold">6</dt>
<dd>星期五
</dd>
<dt class="bold">7</dt>
<dd>星期六
</dd>
</dl>
</dd>
<dt class="bold">TimeOfDay</dt>
<dd>
<p>可运行<span class="pk">操作</span>的时间范围，由启动时间紧跟着以连字符分隔的结束时间构成。
<span class="pk">DaysOfWeek</span> 和 <span class="pk">TimeOfDay</span> 一起定义了操作可以运行的间隔。</p> 
<p>时间为 24 小时制，其中前两个数字代表小时，后两个数字代表分钟。
多个 <span class="pk">TimeOfDay</span> 值用逗号（<span class="pk">,</span>）分隔。<span class="pk">DaysOfWeek</span> 值的数量必须与 <span class="pk">TimeOfDay</span> 值的数量匹配。</p>
</dd>
<dt class="bold">ActionScript</dt>
<dd>为该操作运行的脚本或命令。
</dd>
<dt class="bold">ReturnCode</dt>
<dd><span class="pk">ActionScript</span> 的预期返回码。
</dd>
<dt class="bold">CheckReturnCode</dt>
<dd>指示是否将 <span class="pk">ActionScript</span> 的实际返回码与预期的返回码比较。值为：<span class="pk">y</span>（是）和 <span class="pk">n</span>（否）。
</dd>
<dt class="bold">EventType</dt>
<dd>促使运行此操作的事件类型：事件、重整事件或两者都是。
</dd>
<dt class="bold">StandardOut</dt>
<dd>指示是否将标准输出定向到审计日志。值为：<span class="pk">y</span>（是）和 <span class="pk">n</span>（否）。
</dd>
<dt class="bold">EnvironmentVars</dt>
<dd>指示运行操作之前需要设置的任何环境变量。
</dd>
<dt class="bold">UndefRes</dt>
<dd>指示受监视的资源变为未定义时是否运行此操作。值为：<span class="pk">y</span>（是）和 <span class="pk">n</span>（否）。
</dd>
<dt class="bold">锁定状态</dt>
<dd>指示资源是已锁定还是已解锁。
</dd>
</dl>
<p>为了获取所有响应名称的列表，不指定任何响应名称，单独运行 <span class="pk">lsresponse</span> 命令。
返回所有响应名称的列表。在该例子中缺省的格式为表格式的。</p>
<p>当响应名称限制显示为定义在节点上的响应之后，指定该节点名。通过指定紧跟着节点名的冒号（<span class="pk">:</span>）来列出一个节点上所有响应。
该节点名是由 CT_MANAGEMENT_SCOPE 环境变量确定的管理作用域中的一个节点。管理作用域确定了列出响应的节点列表。
对于本地作用域，仅列出本地节点上的响应。否则，列出域中所有节点的响应。</p>
<p>要查阅关于响应名称的所有信息，请在 <span class="pk"> lsresponse</span> 命令中指定 <span class="pk">-A</span> <span>标志</span>。
当没有指定响应名称的时候，<span class="pk">-A</span> <span>标志</span>促使列出关于该响应的所有信息。当列出所有响应的所有信息的时候，缺省值为长格式。</p>
<p>当指定了不止一个的响应时，按响应输入的顺序列出响应信息。</p>
<a name="wq1097"></a>
<h3 id="wq1097">标志</h3>
<dl>
<dt class="bold">-a</dt>
<dd>指定此命令适用于群集中的所有节点。群集作用域由 CT_MANAGEMENT_SCOPE 环境变量确定。
如果此变量没有设置，首先如果管理域作用域存在，就选择它，然后如果对等域作用域存在，选择它，
然后选择本地作用域，直到对于此命令来说作用域合法。对于找到的第一个有效作用域，命令会运行一次。
例如，如果管理作用域和同级设备作用域存在，没有设置 CT_MANAGEMENT_SCOPE 的 <span class="pk">lsresponse -a</span> 会列出管理域。
在这种情况下，要列出对等域，请将 CT_MANAGEMENT_SCOPE 设置为 2。
</dd>
<dt class="bold">-C</dt>
<dd>显示可以用于创建响应的 <span class="pk">mkresponse</span> 命令以及其操作之一。
如果指定了不止一个的响应，每个 <span class="pk">mkresponse</span> 命令会相隔一行出现。当没有指定响应的时候，该<span>标志</span>被忽略。
该<span>标志</span>覆盖
 <span class="pk">-l</span> <span>标志</span>。
</dd>
<dt class="bold">-l</dt>
<dd>在单独行上（长格式）显示响应信息。
</dd>
<dt class="bold">-t</dt>
<dd>在单独列上（表格式）显示响应信息。
</dd>
<dt class="bold">-d</dt>
<dd>指定定界符格式化的输出。缺省定界符是冒号（:）。
如果想要修改缺省的定界符，请使用 <span class="pk">-D</span> <span>标志</span>。
</dd>
<dt class="bold">-D <var class="pv">delimiter</var></dt>
<dd>指定使用指定定界符的定界符格式化输出。使用该<span>标志</span>来指定
缺省值，冒号（:）以外的定界符。例如，当将要显示的数据中包含冒号的时候，
使用该<span>标志</span>来指定另一个一个或多个字符的定界符。
</dd>
<dt class="bold">-A</dt>
<dd>显示响应的所有属性。
</dd>
<dt class="bold">-q</dt>
<dd>当<span class="pk">响应</span>不存在的时候，不返回错误。
</dd>
<dt class="bold">-U</dt>
<dd>指示资源是否已锁定。
</dd>
<dt class="bold">-x</dt>
<dd>禁止页眉打印。
</dd>
<dt class="bold">-h</dt>
<dd>将命令用法语句写到标准输出。
</dd>
<dt class="bold">-T</dt>
<dd>将命令跟踪消息写到标准错误。仅给软件服务组织使用。
</dd>
<dt class="bold">-V</dt>
<dd>将命令的详细信息写到标准输出。
</dd>
</dl>
<a name="wq1098"></a>
<h3 id="wq1098">参数</h3>
<dl>
<dt class="bold"><var class="pv">response1</var>[<span class="pk">,</span><var class="pv">response2</var><span class="pk">,</span>...]</dt>
<dd>此参数可以是响应名称或是响应名称的子串。可以指定多个响应名称。当它是一个子串的时候，列出任何包含此子串的已定义的响应名称。
</dd>
<dt class="bold"><var class="pv">node_name</var></dt>
<dd>指定定义响应的节点。如果没有指定 <var class="pv">node_name</var>，那么使用本地节点。<var class="pv">node_name</var> 是由 CT_MANAGEMENT_SCOPE 环境变量确定的作用域中的一个节点。
</dd>
</dl>
<a name="wq1099"></a>
<h3 id="wq1099">安全性</h3>
<p>用户需要有对 <span class="pk">IBM.EventResponse</span> 资源类的读取权限，以运行 <span class="pk">lsresponse</span>。许可权由连接系统中的访问控制列表（ACL）文件指定。</p>
<a name="wq1100"></a>
<h3 id="wq1100">退出状态</h3>
<dl>
<dt class="bold">0</dt>
<dd>该命令成功运行。
</dd>
<dt class="bold">1</dt>
<dd>RMC 出现错误。
</dd>
<dt class="bold">2</dt>
<dd>命令行接口脚本出现错误。
</dd>
<dt class="bold">3</dt>
<dd>命令行输入标志不正确。
</dd>
<dt class="bold">4</dt>
<dd>命令行输入参数不正确。
</dd>
<dt class="bold">5</dt>
<dd>由于不正确的命令行输入而出错。
</dd>
</dl>
<a name="wq1101"></a>
<h3 id="wq1101">环境变量</h3>
<dl>
<dt class="bold">CT_CONTACT</dt>
<dd>确定存在与资源监控守护进程的会话的系统。当 CT_CONTACT 设置为主机名或 IP 地址时，命令会和指定主机上的 RMC 守护进程联系。
如果没有设置 CT_CONTACT，则命令会与运行命令的本地系统上的 RMC 守护进程联系。
RMC 守护进程会话的目的和管理作用域决定了处理的资源类或资源。
</dd>
<dt class="bold">CT_MANAGEMENT_SCOPE</dt>
<dd>在处理事件-响应资源管理器（ERRM）时，确定与 RMC 守护进程进行会话所用的管理作用域。管理作用域确定了在其中可以处理资源的可能的目标节点集合。有效值为：
<dl>
<dt class="bold">0</dt>
<dd>指定<span class="italic">本地</span>作用域。
</dd>
<dt class="bold">1</dt>
<dd>指定<span class="italic">本地</span>作用域。
</dd>
<dt class="bold">2</dt>
<dd>指定<span class="italic">对等域</span>作用域。
</dd>
<dt class="bold">3</dt>
<dd>指定<span class="italic">管理域</span>作用域。
</dd>
</dl> 
<p>如果此环境变量<span class="italic">没有</span>设置，则使用<span class="italic">本地</span>作用域。</p>
</dd>
</dl>
<a name="wq1102"></a>
<h3 id="wq1102">标准输出</h3>
<p>当指定了 <span class="pk">-h</span> <span>标志</span>时，此命令的用法语句会写到标准输出上。所有的详细信息都写到标准输出上。</p>
<a name="wq1103"></a>
<h3 id="wq1103">标准错误</h3>
<p>所有的跟踪消息都写到标准错误。</p>
<a name="wq1104"></a>
<h3 id="wq1104">示例</h3>
<ol type="1">
<li>要列出所有的响应，请运行此命令：
<pre class="xmp">lsresponse </pre> 
输出如下：
<pre class="xmp"><span>ResponseName</span>
"E-mail root anytime"
"E-mail root first shift"
"Critical notifications"
"Generate SNMP trap"
</pre></li>
<li>要查看锁定了哪些资源，请运行此命令：
<pre class="xmp">lsresponse -U</pre> 输出如下：
<pre class="xmp">响应名称                       节点      锁定状态
"Broadcast event on-shift"     "nodeA"   "No"   
"E-mail root off-shift"        "nodeA"   "No"  
"E-mail root anytime"          "nodeA"   "No"  
"Log event anytime"            "nodeA"   "No"
"Informational notifications"  "nodeA"   "No"
"Warning notifications"        "nodeA"   "No"  
"Critical notifications"       "nodeA"   "No"
"Generate SNMP trap"           "nodeA"   "No"</pre></li>
<li>要列出关于 "Critical notifications" 应答的一般信息，请输入：

<pre class="xmp">lsresponse "Critical notifications"</pre> 输出如下：
<pre class="xmp"><span>响应名称     = "Critical notifications"
节点             = "nodeA"</span>
操作             = "Log Critical Event"
星期             = 1+2+7
时间             = 0000-2400
脚本操作         = "/usr/sbin/rsct/bin/logevent /tmp/criticalEvents"
返回码           = 0
检查返回码       = "y"
事件类型         = "b"<span>StandardOut      = "y"
环境变量         = '"Env1=5","Env=10"'</span>
UndefRes         = "n"

<span>响应名称     = "Critical notifications"
节点             = "nodeA"</span>
操作   = "E-mail root"
星期             = 6+2,6+2,6+5
时间             = 1700-2400,0000-0800,0000-2400
脚本操作         = "/usr/sbin/rsct/bin/notifyevent root"
返回码           = 0
检查返回码       = "y"
事件类型         = "b"
<span>标准输出         = "y"
环境变量         = ""</span>
UndefRes         = "n"

</pre></li>
<li>要列出创建响应“紧急通知”的命令，同时列出其操作之一，请运行此命令：
<pre class="xmp">lsresponse -C "Critical notifications"</pre> 输出如下：
<pre class="xmp">mkresponse -n "Log Critical Event" -d 1+2+7 -t 0000-2400 \
-s "usr/sbin/rsct/bin/logevent /tmp/criticalEvents"  \
-e b -r 0 "Critical notifications"</pre></li>
<li>要列出在名称中有 <span class="pk">E-mail</span> 字符串的应答，请运行此命令：

<pre class="xmp">lsresponse "E-mail"</pre> 输出如下：
<pre class="xmp"><span>响应名称     = "E-mail root anytime"</span>
操作   = "E-mail root"
<br />&middot;<br />&middot;<br />&middot;<br />
<span>响应名称     = "E-mail root first shift"</span>
操作   = "E-mail root"</pre></li></ol>
<a name="wq1106"></a>
<h3 id="wq1106">位置</h3>
<dl>
<dt class="bold">/usr/sbin/rsct/bin/lsresponse</dt>
<dd>包含 <span class="pk">lsresponse</span> 命令
</dd>
</dl>
<a name="wq1107"></a>
<h3 id="wq1107">相关信息</h3>
<p>命令：<span class="pk">chresponse</span>、<span class="pk">lscondresp</span>、<span class="pk">mkcondresp</span>、<span class="pk">mkresponse</span>、<span class="pk">rmresponse</span></p>
<p>文件：<span class="pk">rmccli</span></p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="lsresponse.htm#Top_Of_Page">页的顶部</a> | <a href="lsresource.htm">上一页</a> | <a href="lsrole.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
