<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 3，i - m - lprm 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="lprm 命令, 使用 lprm 命令, 删除作业,
行式打印机假脱机队列, 从行式打印机中删除作业, spooling 队列" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="lprm.htm#Bot_Of_Page">页的底部</a> | <a href="lpr.htm">上一页</a> | <a href="lpsched.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 3，i - m</h1></center>

<a name="a2009603"></a>
<h2 id="a2009603">lprm 命令</h2>
<p><a id="idx350" name="idx350"></a> <a id="idx351" name="idx351"></a> <a id="idx352" name="idx352"></a></p>
<p><span class="bold">lprm</span> 命令包含有关
 AIX 打印子系统 <a href="lprm.htm#lprmppc"><span class="bold">lprm</span></a> 和
 System V 打印子系统 <a href="lprm.htm#lprmia64"><span class="bold">lprm</span></a>的信息。</p>
<a name="lprmppc"></a>
<p id="lprmppc"><span class="bold">AIX 打印子系统 lprm 命令</span></p>
<a name="a2009605"></a>
<h3 id="a2009605">用途</h3>
<a name="fd32053599endr"></a>
<p id="fd32053599endr">从行式打印机假脱机队列中删除作业。</p>
<a name="a2009607"></a>
<h3 id="a2009607">语法</h3>
<p><span class="bold">lprm</span> [   <a href="lprm.htm#a200960c"><span class="bold">-P</span></a> <span class="italic">Printer</span>  ] [  <span class="italic">JobNumber</span>  ] [  <span class="italic">UserName  ...</span>  ]  [  <span class="bold">-</span>  ]</p>
<a name="a2009609"></a>
<h3 id="a2009609">描述</h3>
<a name="fd32053805endr"></a>
<p id="fd32053805endr"><span class="bold">lprm</span> 命令从打印机的假脱机队列中删除一个或多个作业。</p>
<a name="fd32053864endr"></a>
<p id="fd32053864endr">没有指定作业编号、<span class="bold">-</span>（减号）标志或至少一个用户名时，不能运行 <span class="bold">lprm</span> 命令。</p>
<a name="fd32053922endr"></a>
<p id="fd32053922endr">通过指定 <span class="italic">UserName</span> 参数或名称列表，可以使 <span class="bold">lprm</span> 命令试图删除属于此用户（或多个用户）的任何作业队列。</p>
<a name="fd32053981endr"></a>
<p id="fd32053981endr">通过指定 <span class="italic">JobNumber</span> 可以从队列中删除单个作业。通过使用 <a href="lpq.htm#a200964e"><span class="bold">lpq</span></a> 命令可以获得此作业编号。</p>
<a name="a200960b"></a>
<h3 id="a200960b">标志</h3>
<p></p>
<a name="wq771"></a>
<table id="wq771" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="16%">
<a id="a20095fb" name="a20095fb"></a><span class="bold">-</span></td>
<td width="83%">  删除用户拥有的所有作业。拥有 root 用户权限的人使用该标志可以从排队中删除所有作业。该标志对远程打印无效。</td>
</tr>
<tr>
<td>
<a id="a200960c" name="a200960c"></a><span class="bold">-P</span><span class="italic"> Printer</span></td>
<td>  指定与特定 <span class="italic">Printer</span> 变量像关联的队列。如果该标志没有指定，会发生以下情况：
<ul>
<li id="a128c12398">
<a name="a128c12398"></a>如果设置了环境变量 <span class="bold">LPDEST</span>，那么 <span class="bold">lprm</span> 使用由 <span class="bold">LPDEST</span> 变量指定的值。如果设置了此环境变量，
即使没有设置 <span class="bold">PRINTER</span> 变量，也总是使用此值。</li>
<li id="a20095e7">
<a name="a20095e7"></a>如果设置了 <span class="bold">PRINTER</span> 变量而没有设置 <span class="bold">LPDEST</span> 变量，那么 <span class="bold">lprm</span> 就会使用由环境变量 <span class="bold">PRINTER</span> 指定的值。</li></ul> 
<a name="a128c12399"></a>
<p id="a128c12399">如果变量 <span class="bold">LPDEST</span> 和 <span class="bold">PRINTER</span> 变量都没有设置，<span class="bold">lprm</span> 命令
从缺省队列中删除作业。</p> 
<p></p><blockquote><span class="bold">注：</span>
任何目标命令行选项会覆盖环境变量 <span class="bold">LPDEST</span> 和 <span class="bold">PRINTER</span>。</blockquote></td>
</tr>
</tbody>
</table>
<a name="a200960f"></a>
<h3 id="a200960f">示例</h3>
<ol type="1">
<li><a name="a2009610"></a><span id="a2009610" class="pk"></span>要从缺省打印机队列中删除编号为 <tt>13</tt> 的作业，请输入：
<p></p>
<a name="a2009611"></a>
<pre id="a2009611" class="xmp">lprm 13</pre></li>
<li><a name="a2009613"></a><span id="a2009613" class="pk"></span>要从打印机队列 <tt>lp0</tt> 中删除编号为 <tt>13</tt> 的作业，请输入：
<a id="a2009614" name="a2009614"></a>
<div class="lines"><tt>lprm <a href="lprm.htm#a200960c">-P</a> lp0 13</tt><br />
</div></li>
<li><a name="a2009616"></a><span id="a2009616" class="pk"></span>要从打印机队列中删除某一用户的作业，请输入：
<p></p>
<a name="a2009617"></a>
<pre id="a2009617" class="xmp">lprm guest</pre></li></ol>
<a name="a200961b"></a>
<h3 id="a200961b">文件</h3>
<p></p>
<a name="wq773"></a>
<table id="wq773" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="21%">
<a id="a200961c" name="a200961c"></a><span class="bold">/usr/bin/lprm</span></td>
<td width="78%">  包含 <span class="bold">lprm</span> 命令。</td>
</tr>
<tr>
<td>
<a id="a200961d" name="a200961d"></a><span class="bold">/etc/qconfig</span></td>
<td>  包含配置文件。</td>
</tr>
</tbody>
</table>
<a name="a128c1239b"></a>
<h3 id="a128c1239b">相关信息</h3>
<a name="fd32054681endr"></a>
<p id="fd32054681endr"><a href="lpq.htm#a200964e"><span class="bold">lpq</span></a> 命令、<a href="lpr.htm#a20093c"><span class="bold">lpr</span></a> 命令和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/cmds/aixcmds4/qcan.htm#a1519d16"><span class="bold">qcan</span></a> 命令。</p>
<a name="fd32054740endr"></a>
<p id="fd32054740endr">在<span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds3/zh_CN/aixuser/usrosdev/cancel_print_job.htm#a01bbeb980kath">『取消打印作业（qcan 命令）』</a>。</p>
<a name="lprmia64"></a>
<p id="lprmia64"><span class="bold">System V 打印子系统
 lprm 命令</span></p>
<a name="wq774"></a>
<h3 id="wq774">用途</h3>
<p>（BSD）从打印机队列中删除作业</p>
<a name="wq775"></a>
<h3 id="wq775">语法</h3>
<p><span class="bold">/usr/bin/lprm</span>  [<span class="bold">-P</span><span class="italic">printer</span>]  [-]  [<span class="italic">job #</span> ...]  [<span class="italic">username</span>...]</p>
<a name="wq776"></a>
<h3 id="wq776">描述</h3>
<p><span class="bold">lprm</span> 命令从打印机的假脱机队列中删除一个或多个作业。因为假脱机目录对用户进行防护，使用 <span class="bold">lprm</span> 命令通常是用户可以删除作业的唯一方法。</p>
<p>若调用 <span class="bold">lprm</span> 的用户拥有当前活动的作业，在不带任何参数时，<span class="bold">lprm</span> 会删除此作业。</p>
<p>若特权用户指定了 <span class="italic">username</span>，<span class="bold">lprm</span> 会删除属于此用户的所有作业。</p>
<p>通过将作业编号作为参数提供给命令，您可以删除它，其作业编号是通过使用 <a href="lpq.htm#a200964e"><span class="bold">lpq</span></a> 命令获取的。例如：</p>
<pre class="xmp">   lpq  -Phost
   主机已准备好并正在打印
   等级         所有者  作业    文件            总大小
   活动的       wendy   385     标准输入        35501 字节
   lprm -Phost 385</pre>
<p><span class="bold">lprm</span> 报告它删除的所有文件名，如果没有可应用的作业要删除，它就不会做任何事情。</p>
<p><span class="bold">lprm</span> 向打印假脱机程序发送请求以取消作业，<span class="bold">LPSCHED</span>。</p>
<p>当发出 <span class="bold">lprm</span> 命令且不带参数时，可能不能正确标识供删除的活动作业。在 <a href="lpq.htm#a200964e"><span class="bold">lpq</span></a> 命令和
 <span class="bold">lprm</span> 命令的执行间隔期间，队列中的下一个作业可能变成活动作业；如果您拥有此作业，那么它就可能无意中被删除。要避免这种情况，当您拥有的关键作业在下一行时，可以将要删除的作业编号提供给 <span class="bold">lprm</span> 命令。</p>
<p>只有特权用户才能够删除从其它主机中提交的打印作业。</p>
<a name="wq777"></a>
<h3 id="wq777">标志</h3>
<dl>
<dt class="bold"><span class="bold">-P</span><span class="bold"><span class="bold-italic"> printer</span></span></dt>
<dd>指定与特定打印机关联的队列。否则使用环境中 <span class="bold">PRINTER</span> 变量的值。如果取消设置此变量，则使用缺省打印机队列。
</dd>
<dt class="bold"><span class="bold">-</span></dt>
<dd>删除您拥有的所有作业。如果特权用户调用该命令，则删除假脱机中的所有作业。作业所有权由用户
登录名称和 <span class="bold">lpr</span> 命令执行所在机器的主机名确定。
</dd>
</dl>
<a name="wq778"></a>
<h3 id="wq778">文件</h3>
<dl>
<dt class="bold"><span class="bold">/var/spool/lp/*</span></dt>
<dd>假脱机目录
</dd>
</dl>
<a name="wq779"></a>
<h3 id="wq779">错误代码</h3>
<dl>
<dt class="bold"><tt>lprm：</tt><span class="italic">打印机</span><tt>：未知打印机</tt></dt>
<dd>在 System V LP 数据库中找不到<span class="italic">打印机</span>。通常此为一个输入错误；然而，它可能表示该打印机在系统中不存在。
使用 <span class="bold">lpstat -p</span> 可以获取打印机状态。
</dd>
<dt class="bold"><tt>lprm：打开假脱机程序队列出错</tt></dt>
<dd>在本地机器上连接到 <span class="bold">lpsched</span> 失败。这通常表示引导时启动的打印机服务器已经死机或挂起。检查打印机假脱机守护进程 <span class="bold">/usr/lib/lp/lpsched</span> 是否在运行。
</dd>
<dt class="bold"><tt>lprm：不能发送消息到 LP 打印服务</tt></dt>
<dd>
</dd>
<dt class="bold"><tt>lprm：不能从 LP 打印服务接收消息</tt></dt>
<dd>这表示已经停止 LP 打印服务。从系统管理员处可以获取帮助。
</dd>
<dt class="bold"><tt>lprm：从 LP 打印服务接收到意外消息</tt></dt>
<dd>这可能是在此软件中出现错误。请从系统管理员处获取帮助。
</dd>
<dt class="bold"><tt>lprm：不能取消请求</tt></dt>
<dd>不允许删除其它用户的打印请求。
</dd>
</dl>
<a name="wq780"></a>
<h3 id="wq780">相关信息</h3>
<p><a href="lp.htm#a30p0499"><span class="bold">lp</span></a> 命令、<a href="lpq.htm#a200964e"><span class="bold">lpq</span></a> 命令、<a href="lpr.htm#a20093c"><span class="bold">lpr</span></a> 命令和 <a href="lpsched.htm#lpsched"><span class="bold">lpsched</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="lprm.htm#Top_Of_Page">页的顶部</a> | <a href="lpr.htm">上一页</a> | <a href="lpsched.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds302.htm#wq2149">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
