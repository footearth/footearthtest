<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - nistbladm 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="nistbladm 命令, nistbladm, 命令,
使用 nistbladm 命令, 管理, NIS+ 表" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="nistbladm.htm#Bot_Of_Page">页的底部</a> | <a href="nisstat.htm">上一页</a> | <a href="nistest.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="wcc33099blch"></a>
<h2 id="wcc33099blch">nistbladm 命令</h2><a id="idx109" name="idx109"></a><a id="idx110" name="idx110"></a>
<a name="wcc33099110"></a>
<h3 id="wcc33099110">用途</h3><a id="idx111" name="idx111"></a>
<p>管理 NIS+ 表。</p>
<a name="wcc33199cee"></a>
<h3 id="wcc33199cee">语法</h3>
<a name="wq502"></a>
<h4 id="wq502">添加或重写表项</h4>
<p><span class="bold">nistbladm</span>  <a href="nistbladm.htm#wcc33099lps"><span class="bold">-a</span></a>&nbsp;|&nbsp; <a href="nistbladm.htm#wcc33099vxi"><span class="bold">-A</span></a>
[&nbsp; <a href="nistbladm.htm#wcc40799bgd"><span class="bold">-D</span></a> <span class="italic">Defaults</span>&nbsp;] {&nbsp;<span class="italic">Col_name=Value</span>... <span class="italic">Tbl_name</span>&nbsp;}</p>
<p><span class="bold">nistbladm</span>  <a href="nistbladm.htm#wcc33099lps"><span class="bold">-a</span></a>&nbsp;|&nbsp; <a href="nistbladm.htm#wcc33099vxi"><span class="bold">-A</span></a>
[&nbsp; <a href="nistbladm.htm#wcc40799bgd"><span class="bold">-D</span></a> <span class="italic">Defaults</span>&nbsp;] {&nbsp;<span class="italic">Entry_Name</span>&nbsp;}</p>
<a name="wq503"></a>
<div class="notetitle" id="wq503">注:</div>
<div class="notebody"><span class="italic">Entry_Name</span> 有语法  <tt>[column=value],表</tt>。</div>
<a name="wq504"></a>
<h4 id="wq504">创建 NIS+ 表</h4>
<p><span class="bold">nistbladm</span>  <a href="nistbladm.htm#wcc33099ywr"><span class="bold">-c</span></a> [&nbsp; <a href="nistbladm.htm#wcc40799bgd"><span class="bold">-D</span></a> <span class="italic">Defaults</span>&nbsp;] [&nbsp; <a href="nistbladm.htm#wc42299pth"><span class="bold">-p</span></a> <span class="italic">Path</span>&nbsp;] [&nbsp; <a href="nistbladm.htm#wc42299spe"><span class="bold">-s</span></a> <span class="italic">Sep</span>&nbsp;] <span class="italic">Type Col_name</span>=[&nbsp; <a href="nistbladm.htm#wc42899det"><span class="bold">S</span></a>&nbsp;]
[&nbsp; <a href="nistbladm.htm#wc42899har"><span class="bold">I</span></a>&nbsp;] [&nbsp; <a href="nistbladm.htm#wc42899aus"><span class="bold">C</span></a>&nbsp;] [&nbsp; <a href="nistbladm.htm#wc42899spg"><span class="bold">B</span></a>&nbsp;] [&nbsp; <a href="nistbladm.htm#wc42899las"><span class="bold">X</span></a>&nbsp;] [&nbsp;<span class="italic">Access</span>&nbsp;]... <span class="italic">Tbl_name</span></p>
<a name="wq505"></a>
<div class="notetitle" id="wq505">注:</div>
<div class="notebody"><span class="italic">Col_name</span> 后的标志必须用逗号分隔。</div>
<a name="wq506"></a>
<h5 id="wq506">示例</h5>
<pre class="xmp">nistbladm -c hobby_tbl name=S,a+r,o+m hobby=S,a+r hobbies.abc.com.</pre>
<a name="wq507"></a>
<h4 id="wq507">删除整个 NIS+ 表</h4>
<p><span class="bold">nistbladm</span>  <a href="nistbladm.htm#wcc33099qap"><span class="bold">-d</span></a> <span class="italic">Tbl_name</span></p>
<a name="wq508"></a>
<h4 id="wq508">编辑表项</h4>
<p><span class="bold">nistbladm</span>  <a href="nistbladm.htm#wcc40799sme"><span class="bold">-m</span></a>&nbsp;|&nbsp; <a href="nistbladm.htm#wcc40799bge"><span class="bold">-E</span></a> <span class="italic">Col_name=Value</span>... <span class="italic">Entry_name</span></p>
<a name="wq509"></a>
<h4 id="wq509">除去表项</h4>
<p><span class="bold">nistbladm</span>  <a href="nistbladm.htm#wcc33099ycf"><span class="bold">-r</span></a>&nbsp;|&nbsp; <a href="nistbladm.htm#wcc33099uog"><span class="bold">-R</span></a>
{&nbsp;[&nbsp;<span class="italic">Col_name=Value</span>...&nbsp;] <span class="italic">Tbl_name</span>&nbsp;}</p>
<p><span class="bold">nistbladm</span>  <a href="nistbladm.htm#wcc33099ycf"><span class="bold">-r</span></a>&nbsp;|&nbsp; <a href="nistbladm.htm#wcc33099uog"><span class="bold">-R</span></a>
{&nbsp;<span class="italic">Entry_name</span>&nbsp;}</p>
<a name="wq510"></a>
<h4 id="wq510">更新表属性</h4>
<p><span class="bold">nistbladm</span>  <a href="nistbladm.htm#wcc33099jve"><span class="bold">-u</span></a> [&nbsp; <a href="nistbladm.htm#wc42299pth"><span class="bold">-p</span></a> <span class="italic">Path</span>&nbsp;] [&nbsp; <a href="nistbladm.htm#wc42299spe"><span class="bold">-s</span></a> <span class="italic">Sep</span>&nbsp;] [&nbsp; <a href="nistbladm.htm#wc42299smt"><span class="bold">-t</span></a> <span class="italic">Type</span>&nbsp;] [&nbsp;<span class="italic">Col_name=Access</span>...&nbsp;] <span class="italic">Tbl_name</span></p>
<a name="wcc33099nur"></a>
<h3 id="wcc33099nur">描述</h3>
<p><span class="bold">nistbladm</span> 命令用来管理 NIS+ 表。它执行五种主要操作：创建表、删除表、添加表项、修改表项和除去表项。</p>
<p>虽然 NIS+ 不限制表或项的大小，
但是数据的大小影响性能和 NIS+ 服务器的磁盘空间要求。NIS+ 没有被设计用来存储大量数据，如文件。
而是存储定位在其它服务器上的文件的指针。
NIS+ 能够支持多达 10,000 个对象总共 10M 字节。如果您需要更多的存储空间，创建域层次结构或使用存储在表中作为实际数据的指针的数据，而不是在
 NIS+ 中存储实际数据。</p>
<p>创建一个表，它的目录必须已经存在并且您必须对该目录有创建权限。
您必须指定表名、表类型以及列定义列表。
<span class="italic">Type</span> 是一个担任标准的字符串， 通过它 NIS+ 验证项是否是正确类型。</p>
<p>要删除表，您必须对存储表的目录有删除权限。
要修改项（添加、更改或删除），您必须对表或个别的项有修改权限。</p>
<a name="wcc33099blflg"></a>
<h3 id="wcc33099blflg">标志</h3>
<p></p>
<a name="wq511"></a>
<table id="wq511" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="21%">
<a id="wcc33099lps" name="wcc33099lps"></a><span class="bold">-a</span></td>
<td width="78%">为 NIS+ 表添加一个新项。通过在命令行提供 <span class="italic">Col_name=Value</span> 对来创建项内容。

<a name="wq512"></a>
<div class="notelisttitle" id="wq512">注:</div>
<ol type="1">
<li>当给 NIS+ 表添加项时您必须为每一列指定一个值。</li>
<li>当输入值字符串时，把终端字符用单引号（'）或双引号（"）括起来。这些字符是等号（=）、逗号（，）、左括号（[）、右括号（]）以及空格（ ）。在索引名中它们被 NIS+ 分解开。</li>
</ol> 用 <span class="bold">-a</span> 标志，如果您试图在期望的列添加一个会重写先前存在的值的项 <span class="bold">nistbladm</span> 命令报错。
<span class="bold">nistbladm</span> 命令不会自动重写先前存在项的值。
（更多关于重写项的信息请参阅 <span class="bold">-A</span> 标志。）</td>
</tr>
<tr>
<td>
<a id="wcc33099vxi" name="wcc33099vxi"></a><span class="bold">-A</span></td>
<td>强制 <span class="bold">nistbladm</span> 命令重写先前存在项的值。
即使 <span class="italic">Col_name</span> 已经包含一个值，
<span class="bold">nistbladm</span> 用新值来重写旧值。
不像用 <span class="bold">-a</span> 标志，<span class="bold">nistbladm</span> 命令不会返回错误。</td>
</tr>
<tr>
<td>
<a id="wcc33099ywr" name="wcc33099ywr"></a><span class="bold">-c</span><span class="italic"> Tbl_name</span></td>
<td>创建在 <span class="italic">Tbl_name</span> 参数中命名的新 NIS+ 表。创建表时，您必须指定表类型，项类型以及列定义的列表。
列定义的语法是 <span class="italic">Col_name</span>＝[&nbsp;<span class="italic">Flags</span>&nbsp;]
[&nbsp;<span class="italic">Access</span>&nbsp;]。参数 <span class="italic">Flags</span> 可以有这些可能的值：
<dl>
<dt id="wc42899det" class="bold">
<a name="wc42899det"></a><span class="bold">S</span></dt>
<dd>指定按列值执行搜索。
</dd>
<dt id="wc42899har" class="bold">
<a name="wc42899har"></a><span class="bold">I</span></dt>
<dd>指定搜索忽略列值大小写。该标志仅与 <span class="bold">S</span> 标志一起使用时才有效。
</dd>
<dt id="wc42899aus" class="bold">
<a name="wc42899aus"></a><span class="bold">C</span></dt>
<dd>加密列值。
</dd>
<dt id="wc42899spg" class="bold">
<a name="wc42899spg"></a><span class="bold">B</span></dt>
<dd>把列值设置为二进制数据。如果 <span class="bold">B</span> 标志未设置，列值是以零结束的 ASCII 字符串。该标志仅与  <span class="bold">S</span> 标志一起使用时才有效。
</dd>
<dt id="wc42899las" class="bold">
<a name="wc42899las"></a><span class="bold">X</span></dt>
<dd>把列值设置为 XDR 编码的数据。<span class="bold">X</span> 标志仅与 <span class="bold">B</span> 标志一起使用时才有效。
</dd>
</dl> 
<p>新创建的表在数字上必须包含至少一列并且至少有一可搜索的列；换句话说，如果 <span class="italic">Tbl_name</span> 只有唯一一列，该列必须是可搜索的。</p></td>
</tr>
<tr>
<td>
<a id="wcc33099qap" name="wcc33099qap"></a><span class="bold">-d</span><span class="italic"> Tbl_name</span></td>
<td>删除在 <span class="italic">Tbl_name</span> 参数中指出的整个表。在您删除表之前它必须是空的。（使用<span class="bold"> -R</span> 标志删除表内容。）</td>
</tr>
<tr>
<td>
<a id="wcc40799bgd" name="wcc40799bgd"></a><span class="bold">-D</span></td>
<td>指定一组当创建新对象时要使用的缺省值。
 缺省字符串是用冒号隔开的一系列标记。这些标记表示用于一般对象属性的缺省值：

<dl>
<dt class="bold"><span class="bold">ttl</span>=<span class="italic">Time</span></dt>
<dd>为通过 <span class="bold">nistbladm</span> 命令创建的对象设置缺省生存时间。
必须以 <span class="bold">nischttl</span> 命令定义的格式指定 <span class="italic">Time</span> 值。
缺省值是 12 小时。
</dd>
<dt class="bold"><span class="bold">owner</span>=<span class="italic">Ownername</span></dt>
<dd>指定 NIS+ 主体 <span class="italic">Ownername</span> 应该拥有被创建的对象。
缺省值和执行 <span class="bold">nistbladm</span> 命令创建对象的主体相同。
</dd>
<dt class="bold"><span class="bold">group</span>=<span class="italic">Groupname</span></dt>
<dd>指定组 <span class="italic">Groupname</span> 是被创建对象的组所有者。
缺省值是 NULL。
</dd>
<dt class="bold"><span class="bold">access</span>=<span class="italic">Rights</span></dt>
<dd>指定对给定对象授权的访问权限集合。
必须以 <span class="bold">nischmod</span> 命令定义的格式给定 <span class="italic">Right</span> 值。
缺省值是 ----rmcdr---r---。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="wcc40799sme" name="wcc40799sme"></a><span class="bold">-e</span><span class="italic"> Entry_name</span></td>
<td>编辑通过 <span class="italic">Entry_name</span> 指定的项。<span class="italic">Entry_name</span> 必须唯一地标识单一项。当编辑 <span class="italic">Entry_name</span> 的值的时候，您也能更改项的索引名。

<a name="wq514"></a>
<div class="notetitle" id="wq514">注:</div>
<div class="notebody">如果项的新索引名（经过编辑的结果）与另一个项的相匹配，<span class="bold"> nistbladm</span> 命令失败并且返回错误信息。</div></td>
</tr>
<tr>
<td>
<a id="wcc40799bge" name="wcc40799bge"></a><span class="bold">-E</span><span class="italic"> Entry_name</span></td>
<td>编辑通过 <span class="italic">Entry_name</span> 指定的项。<span class="italic">Entry_name</span> 必须唯一地标识单一项。

<a name="wq515"></a>
<div class="notetitle" id="wq515">注:</div>
<div class="notebody">如果新索引名与另一项的相匹配，那么 <span class="bold">-E</span> 标志自动用刚刚编辑的项重写现有的项。
所以，事实上，正在用一项替换两项。</div></td>
</tr>
<tr>
<td>
<a id="wcc33099ycf" name="wcc33099ycf"></a><span class="bold">-m</span></td>
<td>和 <span class="bold">-E</span> 有相同的功能。</td>
</tr>
<tr>
<td>
<a id="wcc33099yjan" name="wcc33099yjan"></a><span class="bold">-r</span></td>
<td>从表中除去一项。或者通过项在 <span class="italic">Entry_value</span> 的索引名或者通过命令行上一系列 <span class="italic">Col_name</span>=<span class="italic">Value</span> 对来标识该项。 用 <span class="bold">-r</span> 标志，当索引名或 column=value 对匹配多于一项 <span class="bold">nistbladm</span> 命令失败。</td>
</tr>
<tr>
<td>
<a id="wcc33099uog" name="wcc33099uog"></a><span class="bold">-R</span></td>
<td>从表中除去多项。<span class="bold">-R</span>
标志强制 <span class="bold">nistbladm</span> 命令除去与除去规则匹配的所有项。
如果规则为空，如果您没有指定 column=value 对或索引名，那么 <span class="bold">所有</span>项将会从表中除去。</td>
</tr>
<tr>
<td>
<a id="wcc33099jve" name="wcc33099jve"></a><span class="bold">-u</span></td>
<td>更新表属性。允许更改连接路径、分隔字符、列访问权以及表的表类型字符串。
用该标志既不能更改列的数量也不能更改可搜索列的数量。</td>
</tr>
<tr>
<td>
<a id="wc42299pth" name="wc42299pth"></a><span class="bold">-p</span><span class="italic"> Path</span></td>
<td>当创建或修改表时指定表的搜索路径。
 当调用 <span class="bold">nis_list</span> 函数，如果搜索条件没有产生任何项，您可以指定 <span class="bold">FOLLOW_PATH</span> 标志来告诉客户机库继续搜索 <span class="italic">Path</span> 上的表。
路径由用冒号隔开的表名的有序列表构成。
路径中的名称必须是全限定。</td>
</tr>
<tr>
<td>
<a id="wc42299spe" name="wc42299spe"></a><span class="bold">-s</span><span class="italic"> Sep</span></td>
<td>当创建或修改表时指定表的分隔符。
 当把表写入标准输出时通过 <span class="bold">niscat</span> 命令使用该分隔符。
分隔符的用途是当表处于 ASCII 格式时分隔列数据。
缺省值是 &lt; 空格&gt;。</td>
</tr>
<tr>
<td>
<a id="wc42299smt" name="wc42299smt"></a><span class="bold">-t</span><span class="italic"> Type</span></td>
<td>当修改表时指定 <span class="italic">Type</span> 字符串。</td>
</tr>
</tbody>
</table>
<a name="wq516"></a>
<h3 id="wq516">退出状态</h3>
<p></p>
<a name="wq517"></a>
<table id="wq517" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%"><span class="bold">0</span></td>
<td width="95%">成功完成。</td>
</tr>
<tr>
<td><span class="bold">1</span></td>
<td>出现错误。</td>
</tr>
</tbody>
</table>
<a name="wq518"></a>
<h3 id="wq518">环境变量</h3>
<p></p>
<a name="wq519"></a>
<table id="wq519" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%"><span class="bold">NIS_DEFAULTS</span></td>
<td width="80%">包含缺省的覆盖 NIS+ 标准缺省值的字符串。
然而，如果您用 <span class="bold">-D</span> 标志指定不同的值，那么这些值覆盖 <span class="bold">NIS_DEFAULTS</span> 变量和标准缺省值。</td>
</tr>
<tr>
<td><span class="bold">NIS_PATH</span></td>
<td>如果 <span class="italic">Tbl_name</span> 没有全限定，那么设置该变量
指示 <span class="bold">nistbladm</span> 搜索每个指定的目录直到找到该表。</td>
</tr>
</tbody>
</table>
<a name="wcc33199bpif"></a>
<h3 id="wcc33199bpif">示例</h3>
<ol type="1">
<li>用两个可搜索的列 <tt>name</tt> 和 <tt>hobby</tt> 在 <tt>hobby_tbl</tt> 类型的 <tt>abc.com.</tt> 目录中创建名为 <tt>hobbies</tt> 的表，请输入：

<pre class="xmp">nistbladm -c hobby_tbl name=S,a+r,o+m hobby=S,a+r hobbies.abc.com.</pre> 所有的人（所有者、组以及全部）对 <tt>name</tt> 列都有读权限，只有所有者对它
有修改权限。所有的人对 <tt>hobby</tt> 列有读权限但是任何人都不能修改它。

<p>如果没有指定访问权，那么表的访问权或者是标准缺省值或者是那些通过
 <span class="bold">NIS_DEFAULTS</span> 变量指定的权限。</p></li>
<li>为 <tt>hobbies</tt> 表添加项，请输入：
<pre class="xmp">nistbladm -a name=bob hobby=skiing hobbies.abc.com.

nistbladm -a name=sue hobby=skiing hobbies.abc.com.

nistbladm -a name=ted hobby=swimming hobbies.abc.com.</pre></li>
<li>添加连接路径，请输入：
<pre class="xmp">nistbladm -u -p hobbies.xyz.com.:hobbies.def.com. hobbies</pre></li>
<li>从表中删除 skiing-enthusiasts，请输入：
<pre class="xmp">nistbladm -R hobby=skiing hobbies.abc.com.</pre>
<a name="wq521"></a>
<div class="notetitle" id="wq521">注:</div>
<div class="notebody">因为两项都包含 <tt>skiing</tt> 值，所以在该例中使用 <span class="bold">-r</span> 标志会失败。</div></li>
<li>创建带无标志设置命名的列的表，请输入：
<pre class="xmp">nistbladm -c notes_tbl_ name=S,a+r,o+m note=notes.abc.com.</pre> 该命令字符串用 <tt>name</tt> 和 <tt>note</tt> 两列来创建 <tt>notes_tbl</tt> 类型的 <tt>notes.abc.com.</tt> 表。
<tt>note</tt> 列是不可搜索的。</li></ol>
<a name="wq522"></a>
<h3 id="wq522">相关信息</h3>
<p><a href="niscat.htm#endr39557"><span class="bold">niscat</span></a> 命令、<a href="nischmod.htm#a03252js"><span class="bold">nischmod</span></a> 命令、<a href="nischown.htm#a03253js"><span class="bold">nischown</span></a> 命令、<a href="nisdefaults.htm#a03256js"><span class="bold">nisdefaults</span></a> 命令、<a href="nismatch.htm#nismatch"><span class="bold">nismatch</span></a> 命令以及 <a href="nissetup.htm#a033001js"><span class="bold">nissetup</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="nistbladm.htm#Top_Of_Page">页的顶部</a> | <a href="nisstat.htm">上一页</a> | <a href="nistest.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
