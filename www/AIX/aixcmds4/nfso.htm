<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - nfso 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="nfso 命令, nfso, 命令, 使用 nfso 命令,
配置网络变量, NFS, 网络文件系统, 配置 NFS, 网络变量, NFS 网络变量, 配置" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="nfso.htm#Bot_Of_Page">页的底部</a> | <a href="nfsd.htm">上一页</a> | <a href="nfsstat.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="a9eb0bdc367blai"></a>
<h2 id="a9eb0bdc367blai">nfso 命令</h2><a id="idx56" name="idx56"></a><a id="idx57" name="idx57"></a>
<a name="a9eb0bdc572blai"></a>
<h3 id="a9eb0bdc572blai">用途</h3><a id="idx58" name="idx58"></a><a id="idx59" name="idx59"></a><a id="idx60" name="idx60"></a><a id="idx61" name="idx61"></a>
<p>管理网络文件系统（NFS）微调参数。</p>
<a name="a9eb0bdc778blai"></a>
<h3 id="a9eb0bdc778blai">语法</h3>
<p><span class="bold">nfso</span>  [ <a href="nfso.htm#newnfso-p"><span class="bold">-p</span></a> | <a href="nfso.htm#newnfso-r"><span class="bold">-r</span></a> ]
[ <a href="nfso.htm#a9eb229a355blai"><span class="bold">-c</span></a> ] { <a href="nfso.htm#newnfso-o"><span class="bold">-o</span></a> <span class="italic">Tunable</span>[ <span class="bold">=</span><span class="italic">Newvalue</span> ] }</p>
<p><span class="bold">nfso</span> [ <a href="nfso.htm#newnfso-p"><span class="bold">-p</span></a> | <a href="nfso.htm#newnfso-r"><span class="bold">-r</span></a> ]
{ <a href="nfso.htm#newnfso-d"><span class="bold">-d</span></a> <span class="italic">Tunable</span> }</p>
<p><span class="bold">nfso</span> [ <a href="nfso.htm#newnfso-p"><span class="bold">-p</span></a> | <a href="nfso.htm#newnfso-r"><span class="bold">-r</span></a> ] <a href="nfso.htm#newnfso-upd"><span class="bold">-D</span></a></p>
<p><span class="bold">nfso</span> [ <a href="nfso.htm#newnfso-p"><span class="bold">-p</span></a> | <a href="nfso.htm#newnfso-r"><span class="bold">-r</span></a> ] <a href="nfso.htm#newnfso-a"><span class="bold">-a</span></a>  [ <a href="nfso.htm#a9eb229a355blai"><span class="bold">-c</span></a> ]</p>
<p><span class="bold">nfso</span> <a href="nfso.htm#newnfso-h"><span class="bold">-h</span></a> [ <span class="italic">Tunable</span> ]</p>
<p><span class="bold">nfso</span> <a href="nfso.htm#llwtj26djoyc"><span class="bold">-l</span></a> [ <span class="italic">Hostname</span> ]</p>
<p><span class="bold">nfso</span> <a href="nfso.htm#newnfso-upl"><span class="bold">-L</span></a> [ <span class="italic">Tunable</span> ]</p>
<p><span class="bold">nfso</span> <a href="nfso.htm#nsfo_flag_x"><span class="bold">-x</span></a> [ <span class="italic">Tunable</span> ]</p>
<p><span class="bold">nfso</span> <a href="nfso.htm#newnfso-question"><span class="bold">-?</span></a></p>
<a name="wq137"></a>
<div class="notetitle" id="wq137">注:</div>
<div class="notebody">允许多个 <span class="bold">-o</span>、<span class="bold">-d</span>、<span class="bold">-x</span> 和 <span class="bold">-L</span> 标志。are allowed.标志</div>
<a name="a9eb0bdc995blai"></a>
<h3 id="a9eb0bdc995blai">描述</h3>
<p>使用 <span class="bold">nfso</span> 命令来配置网络文件系统微调参数。<span class="bold">nfso</span> 命令为网络文件系统微调参数设置或显示当前或下一个引导值。该命令还可以进行永久更改或者推迟更改直到下一步重新引导。该命令是否设置或显示参数取决于它的附带标志。<span class="bold">-o</span> 标志两种操作都执行。它既可以显示参数的值又可以为参数设置新值。</p>
<div class="attention"><span class="attentiontitle">注意: </span>使用该命令时请格外小心。如果使用不正确，<span class="bold">nfso</span> 命令能使您的系统无法操作。</div>
<a name="a9eb0bdd216blai"></a>
<h3 id="a9eb0bdd216blai">标志</h3>
<p></p>
<a name="wq138"></a>
<table id="wq138" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="newnfso-a" name="newnfso-a"></a><span class="bold">-a</span></td>
<td width="79%">显示所有微调参数的当前的、重新引导的（与 <span class="bold">-r</span> 一起使用时）或者永久的（与 <span class="bold">-p</span> 一起使用时）值，每行以成对的形式 <span class="italic">Tunable</span> <span class="bold">=</span> <span class="italic">Value</span> 出现。对于永久选项，只有其重新引导值和当前值相等时才显示参数的值。否则显示 <tt class="xph">NONE</tt> 作为其值。</td>
</tr>
<tr>
<td>
<a id="a9eb229a355blai" name="a9eb229a355blai"></a><span class="bold">-c</span></td>
<td>更改 <span class="bold">nfso</span> 命令的输出格式为 colon-delineated 格式。</td>
</tr>
<tr>
<td>
<a id="newnfso-d" name="newnfso-d"></a><span class="bold">-d</span> <span class="italic">Tunable</span></td>
<td>将 <span class="italic">Tunable</span> 变量设置回它的缺省值。如果 <span class="italic">Tunable</span> 需要更改也就是说，
当前它没有设置为缺省值，并且是 Bosboot 或 Reboot 类型，或者如果它是 Incremental 类型且已经从缺省值更改为其它值，而且<span class="bold">-r</span> 没有用于组合中，那么它不会被更改但是会显示警告。</td>
</tr>
<tr>
<td>
<a id="newnfso-upd" name="newnfso-upd"></a><span class="bold">-D</span></td>
<td>将所有 <span class="italic">Tunable</span> 变量设置回其缺省值。如果需要更改的 <span class="italic">Tunable</span>是 Bosboot 或 Reboot 类型，或者是 Incremental 类型且已经从缺省值更改为其它值，并且 <span class="bold">-r</span> 标志没有用于组合中，则不会更改它们，而是显示警告。</td>
</tr>
<tr>
<td>
<a id="newnfso-h" name="newnfso-h"></a><span class="bold">-h</span> [<span class="italic">Tunable</span>]</td>
<td>如果指定了一个 <span class="italic">Tunable</span> 参数，则显示有关该参数的帮助。否则，显示 <span class="bold">nfso</span> 命令用法语句。</td>
</tr>
<tr>
<td>
<a id="llwtj26djoyc" name="llwtj26djoyc"></a><span class="bold">-l</span><span class="italic"> HostName</span></td>
<td>允许系统管理员在 NFS 服务器上释放 NFS 文件锁。<span class="italic">HostName</span> 变量指定了有文件锁保留在 NFS 服务器上的 NFS 客户机的主机名称。<span class="bold">nfso -l</span> 命令对 NFS 服务器的 <span class="bold">rpc.lockd</span> 网络锁管理器进行远程过程调用以请求释放由 <span class="italic">HostName</span> NFS 客户机保留的文件锁。
<p>如果 NFS 客户机有文件锁保留在 NFS 服务器上，并且该客户机已经从网络上断开连接且不能恢复，则可以使用 <span class="bold">nfso -l</span> 命令来释放这些锁，这样其它 NFS 客户机就能获得相似的文件锁。</p>
<a name="wq139"></a>
<div class="notetitle" id="wq139">注:</div>
<div class="notebody"><span class="bold">nfso</span> 命令只能用来释放本地 NFS 服务器上的锁。</div></td>
</tr>
<tr>
<td>
<a id="newnfso-o" name="newnfso-o"></a><span class="bold">-o</span> <span class="italic">Tunable</span>[ <span class="bold">=</span><span class="italic">NewValue</span> ]</td>
<td>显示值或者将 <span class="italic">Tunable</span> 设置为 <span class="italic">NewValue</span>。如果可微调参数需要更改（指定值和当前值不一样），并且是 Bosboot 或 Reboot 类型，或者如果它是 Incremental 类型，其当前值大于指定值，并且 <span class="bold">-r</span> 没有用于组合中，那么它不会被更改但是会显示警告。
<p>当 <span class="bold">-r</span> 用在没有新值的组合中时，显示 <span class="italic">Tunable</span> 的下一个引导值。当 <span class="bold">-p</span> 用在没有 <span class="italic">NewValue</span> 的组合中时，只有 <span class="italic">Tunable</span> 的当前值和下一个引导值相同才显示值。否则显示 <tt class="xph">NONE</tt> 作为该值。</p></td>
</tr>
<tr>
<td>
<a id="newnfso-p" name="newnfso-p"></a><span class="bold">-p</span></td>
<td>在当前值和重新引导值与 <span class="bold">-o</span>、<span class="bold">-d</span> 或 <span class="bold">-D</span> 组合使用时，对它们进行更改，也就是说，除了更新当前值外还要实现对 <span class="bold">/etc/tunables/nextboot</span> 文件的更新。这些组合不能用于 Reboot 和 Bosboot 类型参数，因为它们的当前值不能更改。                         
<p> 当与 <span class="bold">-a</span> 或 <span class="bold">-o</span> 一起使用而没有指定新值时，只有参数的当前值和下一个引导值相同时才显示这些值。否则显示 <tt class="xph">NONE</tt> 作为其值。</p></td>
</tr>
<tr>
<td>
<a id="newnfso-r" name="newnfso-r"></a><span class="bold">-r</span></td>
<td>在重新引导值与 <span class="bold">-o</span>、<span class="bold">-d</span> 或 <span class="bold">-D</span> 组合使用时，对该值进行更改，也就是说，要实现对 <span class="bold">/etc/tunables/nextboot</span> 文件的更新。如果有任何 Bosboot 类型的参数被更改，会提示用户运行 bosboot。
<p> 当与 <span class="bold">-a</span> 或 <span class="bold">-o</span> 一起使用而没有指定新值时，会显示下一个可调参数的引导值而不是当前值。</p></td>
</tr>
<tr>
<td>
<a id="newnfso-upl" name="newnfso-upl"></a><span class="bold">-L</span> [<span class="italic">Tunable</span>]</td>
<td>列出一个或所有 <span class="italic">Tunable</span> 的特征，每行一个，使用以下格式：
<pre class="xmp">NAME                      CUR    DEF    BOOT   MIN    MAX    UNIT           TYPE
     DEPENDENCIES
--------------------------------------------------------------------------------
portcheck                 0      0      0      0      1      开／关            D
--------------------------------------------------------------------------------
udpchecksum               1      1      1      0      1      开／关            D
--------------------------------------------------------------------------------
nfs_socketsize            600000 600000 600000 40000  1M     字节　            D
--------------------------------------------------------------------------------
nfs_tcp_socketsize        600000 600000 600000 40000  1M     字节              D
--------------------------------------------------------------------------------
... 
其中：    CUR = 当前值
    DEF = 缺省值
    BOOT = 重新引导值
    MIN = 最小值
    MAX = 最大值
    UNIT = 可调计量单位
    TYPE = <a href="nfso.htm#nfso_tunparamstype">参数类型</a>：D（Dynamic）、S（Static）、R（Reboot）、
           B（Bosboot）、M（Mount）、I（Incremental）、C（Connect）
    DEPENDENCIES = 相关可调参数列表，每行一个
</pre></td>
</tr>
<tr>
<td>
<a id="nsfo_flag_x" name="nsfo_flag_x"></a><span class="bold">-x</span> [<span class="italic">Tunable</span>]</td>
<td> 列出所有 Tunable 的特征，每行一个，使用以下（电子数据表）格式：
<pre class="xmp">tunable, current, default, reboot, min, max, unit, type, {dtunable }

其中：    current = 当前值
    default = 缺省值
    reboot = 重新引导值
    min = 最小值
    max = 最大值
    unit = 可调计量单位
    type = <a href="nfso.htm#nfso_tunparamstype">参数类型</a>：D（Dynamic）、S（Static）、R（Reboot）、
                B（Bosboot）、M（Mount）、I（Incremental）、C（Connect）
   dtunable = 相关可调参数的间隔列表

</pre></td>
</tr>
<tr>
<td>
<a id="newnfso-question" name="newnfso-question"></a><span class="bold">-?</span></td>
<td>显示 <span class="bold">nfso</span> 用法语句。</td>
</tr>
</tbody>
</table>
<p>对 Mount 类型参数的任何更改（使用 <span class="bold">-o</span>、<span class="bold">-d </span> 或 <span class="bold">-D</span>）都会向用户显示一条警告信息说明更改只对以后的安装有效。</p>
<p>对 Connect 类型参数的任何更改（使用 <span class="bold">-o</span>、<span class="bold">-d</span> 或 <span class="bold">-D</span> 标志）都会导致重新启动 <span class="bold">inetd</span>，并且显示一条消息，警告用户该更改只对以后的套接字连接有效。</p>
<p>任何试图更改（使用 <span class="bold">-o</span>、<span class="bold">-d</span> 或 <span class="bold">-D</span>）主引导类型或重新引导类型的参数
且不使用 <span class="bold">-r</span>，都将导致一个错误消息。</p>
<p>任何试图更改（使用 <span class="bold">-o</span>、<span class="bold">-d</span> 或 <span class="bold">-D</span> 但不使用 <span class="bold">-r</span>）
增量类型参数的当前值且新值小于当前值都将导致一个错误消息。</p>
<a name="nfso_tunparamstype"></a>
<h3 id="nfso_tunparamstype">可调参数类型</h3>
<p>通过调整命令（<span class="bold">no</span>、<span class="bold">nfso</span>、<span class="bold">vmo</span>、<span class="bold">ioo</span> 和 <span class="bold">schedo</span>）来处理的所有可调参数分成这些类别：</p>
<a name="wq140"></a>
<table id="wq140" width="100%" summary="" border="0" frame="void" rules="all">
<tbody valign="top">
<tr>
<td width="23%">Dynamic</td>
<td width="76%">如果能在任何时候更改参数</td>
</tr>
<tr>
<td>Static</td>
<td>如果永远不能更改参数</td>
</tr>
<tr>
<td>Reboot</td>
<td>如果只能在重新引导期间更改参数</td>
</tr>
<tr>
<td>Bosboot</td>
<td>如果只能通过运行 bosboot 和重新引导机器更改参数</td>
</tr>
<tr>
<td>Mount</td>
<td>如果对参数的更改仅对以后的文件系统或目录安装有效</td>
</tr>
<tr>
<td>Incremental</td>
<td>如果除引导时间外只能增量参数</td>
</tr>
<tr>
<td>Connect</td>
<td>如果对参数的更改仅对以后的套接字连接有效</td>
</tr>
</tbody>
</table><p class="indatacontent">对于 Bosboot 类型的参数，无论何时进行更改，调整命令都会自动提示用户：询问他们是否想要执行 <span class="bold">bosboot</span> 命令。对于 Connect 类型的参数，调整命令自动重新启动 <span class="bold">inetd</span> 守护程序。</p>
<p>请注意，由 <span class="bold">nfso</span> 命令管理的当前参数集只包括 Dynamic、Mount 和 Incremental 类型。</p>
<a name="wq141"></a>
<h3 id="wq141">兼容性方式</h3>
<p>当在 5.2 版本以前的兼容性方式（由 <span class="bold">sys</span>0 的 <span class="bold">pre520tune</span> 属性控制，请参阅<span class="italic">《AIX 5L V5.2 性能管理指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/prftungd/prfenhance52.htm">『调整 AIX 5.2 的增强功能』</a>）下，重新引导参数（除了那些 Bosboot 类型的参数）值没有真正的意义，因为在该方式下，这些参数值在引导时不适用。</p>
<p>在 5.2 版本以前的兼容性方式下，可以在引导序列期间通过将调整命令调用嵌入到调用的脚本中，
来设置可调参数的重新引导值。
所以 <span class="bold">Reboot</span> 类型的参数可以不使用 <span class="bold">-r</span> 标志来设置，这样现有的脚本就可以继续工作。</p>
<p>当机器迁移到 AIX 5L V5.2 时，该方式自动变为打开。对于完全安装，它会变为关闭,并且在重新引导序列期间通过应用 <span class="bold">/etc/tunables/nextboot</span> 文件的内容来设置参数的重新引导值。只有在那种方式下，<span class="bold">-r</span> 和 <span class="bold">-p</span> 标志的功能才是充分的。要获取有关新版本 5.2 方式的详细信息，请参阅<span class="italic">AIX 5L Version 5.2 Performance Tools Guide and Reference</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/prftools/kerneltun.htm">『内核调整』</a>。</p>
<a name="wq142"></a>
<h3 id="wq142">可调参数</h3>
<a name="wq143"></a>
<table id="wq143" width="100%" summary="" border="0" frame="void" rules="all">
<tbody valign="top">
<tr>
<td width="32%"><span class="bold">lockd_debug_level</span></td>
<td width="67%">
<dl>
<dt class="bold">用途：</dt>
<dd>设置 <span class="bold">rpc.lockd</span> 的诊断输出的级别。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：0</li>
<li>有用范围：0 到 9</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd> N/A
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_allow_all_signals</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>指定 NFS 服务器追随处理 UNIX 95/98 测试套件的阻塞锁的请求的信号。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：0</li>
<li>范围：0 或 1</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>值 1 打开 <span class="bold">nfs_allow_all_signals</span>，值 0 关闭它。
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_device_specific_bufs</span>（AIX 4.2.1 以及更新版本）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>如果网络设备支持该功能特性，该选项允许 NFS 服务器使用从网络设备上分配到的内存。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：1</li>
<li>范围：0 或 1</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>在 NFS 服务器上使用这些特殊的内存分配可能会对 NFS 服务器的总体性能带来积极的影响。缺省值 1 表示允许 NFS 服务器使用特殊的网络设备内存分配。
如果使用值 0，NFS 服务器使用常规的内存分配来处理 NFS 客户机的请求。它们是由网络接口管理的缓冲区,能够提高性能（超过通常的 mbufs），因为对它们不要求安装 DMA。支持该功能的两个适配器包含 Micro Channel ATM 适配器和 SP2 switch 适配器。
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_dynamic_retrans</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>指定 NFS 客户机是否应该使用动态重新传输算法来决定什么时候向服务器重新发送 NFS 请求。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：1</li>
<li>范围：0 或 1</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>如果该功能打开，在第一次重新传输时只使用 timeo 参数。将该参数设置为 1，NFS 客户机试图根据过去的 NFS 服务器响应调整它的超时行为。在调整使用的传输大小的同时允许浮动超时值。
根据 NFS 服务器响应时间的累积历史记录完成所有操作。大多数情况下，该参数不需要调整。有些实例中，NFS 客户机要求直截了当的超时行为。在这些情况中，应该在安装文件系统之前将值设置为 0。
</dd>
<dt class="bold">请参考：</dt>
<dd><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/prftungd/nfsclitun.htm">不必要的重新发送</a>
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_gather_threshold</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>设置已完成写集中的写请求的最小大小。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：4096</li>
<li>有效范围：512 到 8193</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd> 存在以下两种情况中的一种：
<ol type="1">
<li>在响应 RPC 请求时能够观察到延迟，特别是在客户机独自执行非连续的写操作或者使用保留在客户机上的文件锁写文件的时侯。</li>
<li>客户机正以写大小 &lt;4096 进行写操作并且写集中不工作。如果写集中被禁用，将 nfs_gather_threshold 更改为一个大于最大可能写的值。在 AIX V4 中运行 NFS V2，该值是 8192。将值更改为 8193 会禁用写集中。在以上的方案（1）中描述的情形下使用该功能。如果因为小的写大小（假定为 1024）忽略了写集中，那么更改写集中参数搜集更小的写；例如，设置为 1024。</li></ol>
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_iopace_pages</span>（AIX 4.1）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>指定需要同时通过 VMM 被调度写回服务器的 NFS 文件页面的数目。在关闭文件和系统调用 <span class="italic">syncd</span> 守护程序时进行 I/O 调度控制。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：0（AIX 4.2.1 之前的版本的缺省值为 32）</li>
<li>范围：0 到 65536</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>当应用程序将一个大文件写到安装了 NFS 的文件系统上时，则在关闭文件时文件数据被写到 NFS 服务器上。在有些情况中，用来将该文件写到服务器的资源可能会阻止其它 NFS 文件 I/O 的发生。该参数将邪道服务器的 4 KB
页面数限制为 <span class="bold">nfs_iopace_pages</span> 的值。NFS 客户机将调度 <span class="bold">nfs_iopace_pages</span> 以写到服务器，然后等待这些操作完成，再进行下一个页面批处理。对大多数环境来说缺省值通常足够了。如果对 NFS 客户机资源有大量的争用，就减少该值。如果争用低，可以增加该值。在 AIX 4.2.1 以及更新版本中，如果 <span class="bold">nfs_iopace_pages=0</span>，则同时由 <span class="bold">syncd</span>守护程序写的页面数如下：
<pre class="xmp">MAX ((filesize/8)-1, 32)</pre>
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_max_connections</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>指定允许连接到服务器的 TCP 连接的最大数目。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：0（表示无限制）</li>
<li>范围：0 到 10000</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>限制与服务器连接的数目以减少负载。
</dd>
<dt class="bold">请参考：</dt>
<dd><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/prftungd/nfsperfmontun.htm">调整其它层以提高 NFS 性能</a>
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_max_read_size</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>设置最大值和首选的读大小。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：65536 字节</li>
<li>有用范围：512 到 65536（对于 NFS V3 over TCP）
<br />512 到 61440（对于 NFS V3 over UDP）
<br />512 到 8192（对于 NFS V2）</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>当所有的客户机都需要在读／写大小方面进行更改时，诊断是有用的，要个更改这些客户机行不通的。缺省值意味着使用由客户机安装使用的值。
</dd>
<dt class="bold">调整：</dt>
<dd>当不能直接在客户机上操作安装时，尤其是在正在除去缺省值为 32 KB 的读／写大小的信息包的网络上进行 NIM 安装期间，可能要求调整来减少 V3 读／写大小。在这种情况下，将最大大小设置为对网络起作用的一个小一点的值。
<p>在网络设备正在丢包并且期望进行一般更改以便与服务器通信的情况下，调整也是有用的。</p>
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_max_threads</span>（AIX 4.2.1 以及更新版本）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>指定 NFS 服务器线程的最大数目，这些线程是为服务于输入 NFS 请求而创建的。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：3891</li>
<li>范围：1 到 3891</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>在 AIX 4.2.1 中，NFS 服务器是多线程的。当对 NFS 服务器的需求增加时，创建了 NFS 服务器线程。当 NFS 服务器线程空闲时，它们将退出。这样允许服务器适应 NFS 客户机的需求变化。The  <span class="bold">nfs_max_threads</span> 参数是可以创建的线程的最大值数。
</dd>
<dt class="bold">调整：</dt>
<dd>通常情况下，将最大值设置为某些非常大的值不会降低系统的总体性能，因为 NFS 服务器按需要创建线程。然而，这假定了 NFS 服务是主要的机器用途。
如果希望和其它活动共享系统，那么线程的最大数目可能需要设置的低一点。最大数目还可以作为 nfsd 守护程序的参数来指定。
</dd>
<dt class="bold">请参考：</dt>
<dd><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/prftungd/nfsclitun.htm">必要的 biod 线程数</a>
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_max_write_size</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>
<p>允许系统管理员控制服务器上的 NFS RPC 大小。</p>
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：65536 字节</li>
<li>有用范围：512 到 65536（对于 NFS V3 over TCP）
<br />512 到 61440（对于 NFS V3 over UDP）
<br />512 到 8192（对于 NFS V2）</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>当所有的客户机都需要在读／写大小方面进行更改时，诊断是有用的，要个更改这些客户机行不通的。缺省值意味着使用由客户机安装使用的值。
</dd>
<dt class="bold">调整：</dt>
<dd>
<p>当不能在客户机上直接操作安装时，尤其是在正在除去缺省值读／写大小为 32 KB 的信息包的网络上进行 NIM 安装期间，可能要求调整来减少 V3 读／写大小。在这种情况下，将最大大小设置为对网络起作用的一个小一点的值。在网络设备正在丢包并且期望进行一般更改以便与服务器通信的情况下，调整也是有用的。</p>
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_repeat_messages</span>（AIX V4）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>检查重复的 NFS 消息。使用该选项以避免显示重复的 NFS 消息。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：0（无）</li>
<li>范围：0 或 1</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>调整该参数不影响性能。
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_rfc1323</span>（AIX 4.3）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>启用在系统之间进行的大的 TCP 窗口大小协商（大于 65535 个字节）。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：0</li>
<li>范围：0 或 1</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd> 如果 NFS 客户机和服务器都支持在它们之间使用 TCP 传输，则允许系统通过在客户机和服务器之间允许更多的数据 <span class="italic">in-flight</span> 这种方式来协商 TCP 窗口大小。这增加了客户机和服务器之间的吞吐量能力。和 <span class="bold">no</span> 命令的 rfc1323 不一样，它只影响系统中的 NFS 而不影响其它应用程序。值 0 表示禁用该功能，值 1 表示启用该功能。如果已经设置了 <span class="bold">no</span> 命令参数 rfc1323，则不需要设置此 NFS 选项。
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_server_base_priority</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>设置 <span class="bold">nfsd</span> 守护程序的基本优先级。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：65</li>
<li>范围：31 到 125</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>缺省情况下，<span class="bold">nfsd</span> 守护程序以浮动进程优先级运行。因此，当增加那些守护程序的累积 CPU 时间时，更改了它们的优先级。该参数可以用来为 <span class="bold">nfsd</span> 守护程序设置一个静态参数。值 0 代表浮动优先级（缺省值）。当在服务器上接收 NFS 请求时，使用可接受范围内的其它值设置 <span class="bold">nfsd</span> 守护程序的优先级。如果 NFS 服务器正在重载系统则可以使用该选项（降低 nfsd 守护程序的优待或者使之变少）。如果您想使 nfsd 守护程序成为服务器上最受优待的进程之一，也可以使用它。设置该参数时要警慎，因为可能会使其它进程几乎不能使用系统。如果 NFS 服务器非常忙并且必须锁定其它进程不让它们在服务器上有运行时间，则会发生这种情况。
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_server_clread</span>（AIX 4.2.1 以及更新版本）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>该选项允许 NFS 服务器主动读取文件。NFS 服务器只能响应 NFS 客户机的特定的 NFS 读请求。
然而，NFS 服务器能够从在当前读请求之后立即存在的文件中读取数据。这通常被称为提前读。缺省情况下 NFS 服务器执行提前读。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：1</li>
<li>范围：0 或 1</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>在大多数 NFS 服务器环境中，该参数的缺省值（已启用）适用。然而，在
可用于文件高速缓存的 NFS 服务器内存量与／或通过 NFS 的读存取模式随机的情况下，则禁用该选项可能适用。
</dd>
<dt class="bold">调整：</dt>
<dd>启用 <span class="bold">nfs_server_clread</span> 选项，则 NFS 服务器在为 NFS 客户机执行提前读时变得很主动。
如果值为 1，执行主动的提前读；如果值为 0，使用正常系统的缺省提前读方法。由 VMM 控制正常系统的提前读。在 AIX 4.2.1 中，
引进了更主动的 top-half JFS 提前读。因为无序请求而终止提前读对该机制的影响更小（这在 NFS 服务器的情况下尤为典型）。当激活该机制时，将读取一个完整的群集（128 KB，LVM 的逻辑跟踪组大小）。
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_setattr_error</span>（AIX 4.2.1 以及更新版本）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>启用时，NFS 服务器忽略无效的 setattr 请求。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：0（禁用）</li>
<li>范围：0 或 1</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>该选项是为某些 PC 应用程序提供的。调整该参数不影响性能。
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_socketsize</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>设置 NFS 服务器 UDP 套接字的队列大小。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：600000</li>
<li>实际范围：60000 到 <span class="bold">sb_max</span></li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>当 netstat 报告信息包因为 UDP 套接字缓冲区满而除去并且增加 nsfd 守护程序数目无帮助时，增加 <span class="bold">nfs_socketsize</span> 变量的大小。
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_tcp_duplicate_cache_size</span>（AIX 4.2.1 以及后续版本）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>指定项数将它存储在用于 TCP 网络传输的 NFS 服务器的重复高速缓存中。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：5000</li>
<li>范围：1000 到 100000</li>
<li>类型：Incremental</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>不能减少重复高速缓存大小。为具有高吞吐量能力的服务器增加重复高速缓存的大小。重复高速缓存用来允许服务器正确响应 NFS 客户机的重新传输。
如果在客户机能够重新传输之前服务器刷新了该高速缓存，那么服务器可能响应不正确。因此，如果在客户机重新传输之前服务器能够处理 1000 个操作，那么必须增加重复高速缓存的大小。                 
<p>计算 NFS 服务器每秒接收的 NFS 操作的数目，并乘以 4。其结果是重复高速缓存的大小，它应该足够能使 NFS 服务器正确响应。受重复高速缓存影响的操作如下：<span class="bold">setattr</span>(), <span class="bold">write</span>(), <span class="bold">create</span>(), <span class="bold">remove</span>(), <span class="bold">rename</span>(), <span class="bold">link</span>(), <span class="bold">symlink</span>(), <span class="bold">mkdir</span>(), <span class="bold">rmdir</span>().</p>
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="nfs_tcp_socketsize" name="nfs_tcp_socketsize"></a><span class="bold">nfs_tcp_socketsize</span>
<br />（AIX 4.2.1 以及更新版本）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>设置 NFS 服务器 TCP 套接字的队列大小。以字节数指定队列大小。用 TCP 套接字接收 NFS 客户机的请求并且可以调整 TCP 套接字，这样 NFS 服务器在重负载下除去信息包的可能性更低。<span class="bold">nfs_tcp_socketsize</span> 选项的值必须小于能被 no 命令处理的 <span class="bold">sb_max</span> 选项。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：600000</li>
<li>实际范围：60000 到 <span class="bold">sb_max</span></li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>当检查命令 <span class="bold">netstat -s -p tcp</span> 的输出时，除去信息包。
</dd>
<dt class="bold">调整：</dt>
<dd>该选项保留、但不分配用作套接字的发送和接收套接字缓冲区的内存。不要将 nfs_tcp_socketsize 的值设置为小于 60,000 的数。大的或繁忙的服务器应该有更大的值，除非 TCP NFS 流量显示没有信息包从 <span class="bold">netstat -s -p tcp</span> 命令的输出中除去。
</dd>
<dt class="bold">请参考：</dt>
<dd><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/prftungd/nfsperfmontun.htm">调整其它层以提高 NFS 性能</a>
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_udp_duplicate_cache_size</span>
<br />（AIX 4.2.1 以及更新版本）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>指定项数将它存储在用于 UDP 网络传输的 NFS 服务器的重复高速缓存中。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：5000</li>
<li>范围：1000 到 100000</li>
<li>类型：Incremental</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>不能减少重复高速缓存大小。为具有高吞吐量能力的服务器增加重复高速缓存的大小。重复高速缓存用来允许服务器正确响应 NFS 客户机的重新传输。
如果在客户机能够重新传输之前服务器刷新了该高速缓存，那么服务器可能响应不正确。因此，如果在客户机重新传输之前服务器能够处理 1000 个操作，那么必须增加重复高速缓存的大小。                 
<p>计算 NFS 服务器每秒接收的 NFS 操作的数目，并乘以 4。其结果是重复高速缓存的大小，它应该足够能使 NFS 服务器正确响应。受重复高速缓存影响的操作如下：<span class="bold">setattr</span>(), <span class="bold">write</span>(), <span class="bold">create</span>(), <span class="bold">remove</span>(), <span class="bold">rename</span>(), <span class="bold">link</span>(), <span class="bold">symlink</span>(), <span class="bold">mkdir</span>(), <span class="bold">rmdir</span>().</p>
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_use_reserved_ports</span>（AIX 4.2.1 以及更新版本）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>指定使用未保留的 IP 端口号。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：0</li>
<li>范围：0 或 1</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>当 NFS 客户机与 NFS 服务器通信时，值 0 使用未保留的 IP 端口号。
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_v2_pdts</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>设置为安装 NFS V2 由 biod 使用的内存池中的表的数目。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：1</li>
<li>范围：1 到 8</li>
<li>类型：Mount</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>运行 <span class="pk">/usr/samples/kernel/vmtune -a</span> 并查找非零 <span class="pk">rfsbufwaitcnt</span> 值。
</dd>
<dt class="bold">调整：</dt>
<dd>工作负载过程中增加数量，直到不再增加 <span class="pk">rfsbufwaitcnt</span>。应与 <span class="pk">nfs_v2_vm_bufs</span> 一起增加该数量。
</dd>
</dl>
<a name="wq145"></a>
<div class="notetitle" id="wq145">注:</div>
<div class="notebody"><tt class="xph">bufs</tt> 选项必须在 pdts 之前设置。</div></td>
</tr>
<tr>
<td><span class="bold">nfs_v2_vm_bufs</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>设置初始的可用内存缓冲区的数目，这些缓冲区用于在第一张表之后创建的每个 NFS V2 的页面调度设备表（pdt）中。
根据系统的内存，第一张 pdt 有 256、512、640 或 1000的集合值。该初始值也是每个新创建 pdt 的缺省值。
<a name="wq146"></a>
<div class="notetitle" id="wq146">注:</div>
<div class="notebody">在 AIX 5.2 以前的版本中，运行 <span class="bold">nfs_v2_vm_bufs</span> 将不影响任何先前建立的 pdt。在 AIX 5.2 以及任何后续发行版中，更改 <span class="bold">nfs_v2_vm_bufs</span>也会影响旧的 pdt 的大小（如果可能）。</div>
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省：1000</li>
<li>范围：512 到 5000</li>
<li>类型：Incremental</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>运行 <span class="pk">/usr/samples/kernel/vmtune -a</span> 并查找非零 <span class="pk">rfsbufwaitcnt</span> 值。
</dd>
<dt class="bold">调整：</dt>
<dd>工作负载过程中增加数量，直到不再增加 <span class="pk">rfsbufwaitcnt</span>。应与 <span class="pk">nfs_v2_pdts</span> 一起增加该数量。
</dd>
</dl>
<a name="wq147"></a>
<div class="notetitle" id="wq147">注:</div>
<div class="notebody"><tt class="xph">bufs</tt> 选项必须在 pdts 之前设置。</div></td>
</tr>
<tr>
<td><span class="bold">nfs_v3_pdts</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>设置为安装 NFS V3 由 biod 使用的内存池中的表的数目。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：1</li>
<li>范围：1 到 8</li>
<li>类型：Mount</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>运行 <span class="pk">/usr/samples/kernel/vmtune -a</span> 并查找非零 <span class="pk">rfsbufwaitcnt</span> 值。
</dd>
<dt class="bold">调整：</dt>
<dd>工作负载过程中增加数量，直到不再增加 <span class="pk">rfsbufwaitcnt</span>。应与 <span class="pk">nfs_v3_vm_bufs</span> 一起增加该数量。
</dd>
</dl>
<a name="wq148"></a>
<div class="notetitle" id="wq148">注:</div>
<div class="notebody"><tt class="xph">bufs</tt> 选项必须在 pdts 之前设置。</div></td>
</tr>
<tr>
<td><span class="bold">nfs_v3_server_readdirplus</span> (AIX 5.2 以及更新版本）</td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>在 NFS 服务器上启用或禁用 NFS V3 READDIRPLUS 操作的使用。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：（已启用）</li>
<li>范围：0 到 1</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>当使用 NFS V3 安装在安装了 NFS 的文件系统中读很大的目录时，READDIRPLUS 操作会添加开销，这样可能导致过多 CPU 消耗（通过 <span class="bold">nfsd</span> 线程）以及对一些命令，如 <span class="bold">ls</span> 的缓慢反应次数（通过 NFS 客互机）。
</dd>
<dt class="bold">调整：</dt>
<dd>当通过 NFS V3 读很大的目录时，对 READDIRPLUS 操作使用的禁用将帮助减少开销。然而，请注意，这不符合 NFS V3 标准。大多数 NFS V3
客户机将自动后退以使用 READDIR 操作，但是如果发生问题，应该恢复该选项的缺省值。
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">nfs_v3_vm_bufs</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>设置初始的可用内存缓冲区的数目，这些缓冲区用于在第一张表之后创建的每个 NFS V3 的页面调度设备表（pdt）中。
根据系统的内存，第一张 pdt 有 256、512、640 或 1000的集合值。该初始值也是每个新创建 pdt 的缺省值。
<a name="wq149"></a>
<div class="notetitle" id="wq149">注:</div>
<div class="notebody">在 AIX 5.2 以前的版本中，运行 <span class="bold">nfs_v3_vm_bufs</span> 将不影响任何先前建立的 pdt。在 AIX 5.2 以及任何后续发行版中，更改 <span class="bold">nfs_v3_vm_bufs</span> 也会影响旧的 pdt 的大小（如果可能）。</div>
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省：1000</li>
<li>范围：512 到 5000</li>
<li>类型：Incremental</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>运行 <span class="pk">/usr/samples/kernel/vmtune -a</span> 并查找非零 <span class="pk">rfsbufwaitcnt</span> 值。
</dd>
<dt class="bold">调整：</dt>
<dd>工作负载过程中增加数量，直到不再增加 <span class="pk">rfsbufwaitcnt</span>。应与 <span class="pk">nfs_v2_pdts</span> 一起增加该数量。
</dd>
</dl>
<a name="wq150"></a>
<div class="notetitle" id="wq150">注:</div>
<div class="notebody"><tt class="xph">bufs</tt> 选项必须在 pdts 之前设置。</div></td>
</tr>
<tr>
<td><span class="bold">portcheck</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>检查 NFS 请求是否发自于给予特权的端口。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：0</li>
<li>范围：0 或 1</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>值 0 禁用由 NFS 服务器执行的端口检查。
值 1 指示 NFS 服务器对输入 NFS 请求进行端口检查。
这是有最低性能结果的配置决策。
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">statd_debug_level</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>设置 <span class="bold">rpc.statd</span> 的调试级别。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：0</li>
<li>有用范围：0 到 9</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>N/A
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">statd_max_threads</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>设置由 <span class="bold">rpc.statd</span> 使用的线程的最大数。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：50</li>
<li>有用范围：1 到 1000</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd><span class="bold">rpc.statd</span> 是多线程的，因此它能以并发的方式与远程机器重新建立连接。随需求的增加创建 <span class="bold">rpc.statd</span> 线程，这通常是因为 rpc.statd 正在努力建立与联系不上的机器的连接。当 <span class="bold">rpc.statd</span> 线程变得空闲时，它们将退出。<span class="bold">statd_max_threads</span> 参数是可以创建的线程的最大数。
</dd>
<dt class="bold">调整：</dt>
<dd>N/A
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">udpchecksum</span></td>
<td>
<dl>
<dt class="bold">用途：</dt>
<dd>打开或关闭 NFS UDP 信息包校验和的生成。
</dd>
<dt class="bold">值：</dt>
<dd>
<ul class="simple">
<li>缺省值：1</li>
<li>范围：0 或 1</li>
<li>类型：Dynamic</li></ul>
</dd>
<dt class="bold">诊断：</dt>
<dd>N/A
</dd>
<dt class="bold">调整：</dt>
<dd>确保在任何可能发生信息包毁坏的网络上将该值设置为打开。关闭它可以实现轻微的性能增益，但是是以增加数据毁坏的可能性为代价的。
</dd>
</dl></td>
</tr>
</tbody>
</table>
<a name="a9eb0bdd643blai"></a>
<h3 id="a9eb0bdd643blai">示例</h3>
<ol type="1">
<li>要将 <span class="bold">portcheck</span> 可调参数的值设置为零，请输入：
<p></p>
<pre class="xmp">nfso -o portcheck=0</pre></li>
<li>要在下一次重新引导时将 <span class="bold">udpchecksum</span> 可调参数设置为缺省值 1，请输入：
<p></p>
<pre class="xmp">nfso -r -d udpchecksum</pre></li>
<li>要以冒号分隔的格式打印所有可调参数及其当前值的列表，请输入：
<p></p>
<pre class="xmp">nfso -a -c</pre></li>
<li>要列出当前值和重新引导值、范围、单元、类型和由 <span class="bold">nfso</span> 命令管理的所有可调参数的相关性，请输入：
<pre class="xmp"> nfso -L</pre></li>
<li>要显示有关 <span class="bold">nfs_tcp_duplicate_cache_size
<br /></span>的帮助信息，请输入：
<pre class="xmp">nfso -h nfs_tcp_duplicate_cache_size</pre></li>
<li>要永久关闭 <span class="bold">nfs_dynamic_retrans</span>，请输入：
<pre class="xmp">nfso -p -o nfs_dynamic_retrans=0</pre></li>
<li>要列出所有网络文件系统的调整参数的重新引导值，请输入：
<pre class="xmp">nfso -r -a</pre></li>
<li>要列出（电子数据表格式）受管于 <span class="bold">nfso</span> 命令的当前以及重新引导的值、范围、单元、类型以及所有可调参数的相关性，请输入：
<pre class="xmp">nfso -x</pre></li></ol>
<a name="a9eb0bde108blai"></a>
<h3 id="a9eb0bde108blai">相关信息</h3>
<p><a href="netstat.htm#znd120sara"><span class="bold">netstat</span></a> 命令、<a href="no.htm#a229x9bb6"><span class="bold">no</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds6/vmo.htm"><span class="bold">vmo</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/ioo.htm"><span class="bold">ioo</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds5/schedo.htm"><span class="bold">schedo</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds5/tuncheck.htm"><span class="bold">tunchange</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds5/tunsave.htm"><span class="bold">tunsave</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds5/tunrestore.htm"><span class="bold">tunrestore</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds5/tuncheck.htm"><span class="bold">tuncheck</span></a> 命令和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds5/tundefault.htm"><span class="bold">tundefault</span></a> 命令。</p>
<a name="fa54aa4557mart"></a>
<p id="fa54aa4557mart"><span class="italic">《AIX 5L V5.2 系统管理指南：通信与网络》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/commadmn/nfs_intro.htm#a354c98749">『系统管理网络文件系统（NFS）概述』</a>。</p>
<a name="fa54aa4659mart"></a>
<p id="fa54aa4659mart"><span class="italic">《AIX 5L V5.2 系统用户指南：通信与网络》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixuser/usrcomm/ch3_tcpip.htm#ixm30kevi">『系统管理 TCP/IP 概述』</a>。</p>
<a name="fa54aa4797mart"></a>
<p id="fa54aa4797mart"><span class="italic">《AIX 5L V5.2 性能管理指南》</span> 中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/prftungd/nfsperf.htm">『监视和调整 NFS 的使用』</a>。</p>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/commadmn/nfs_ref.htm#wbq2370noni">NFS 命令列表</a>。</p>
<p><span class="italic">AIX 5L Version 5.2 Performance Tools Guide and Reference</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/prftools/kerneltun.htm">『内核调整』</a></p>
<p><span class="italic">《AIX 5L V5.2 性能管理指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/prftungd/prfenhance52.htm">『调整 AIX 5.2 的增强功能』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="nfso.htm#Top_Of_Page">页的顶部</a> | <a href="nfsd.htm">上一页</a> | <a href="nfsstat.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
