<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - nisinit 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="nisinit.htm#Bot_Of_Page">页的底部</a> | <a href="nisgrpadm.htm">上一页</a> | <a href="nisln.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="endr58495"></a>
<h2 id="endr58495">nisinit 命令</h2>
<a name="ck04141208"></a>
<h3 id="ck04141208">用途</h3>
<p>初始化工作站，使之成为 NIS+ 客户机。</p>
<a name="ck04141209"></a>
<h3 id="ck04141209">语法</h3>
<a name="ck04141210"></a>
<h4 id="ck04141210">初始化客户机</h4>
<a name="ck04141211"></a>
<p id="ck04141211"><span class="bold">nisinit</span> [ <a href="nisinit.htm#ck04131244"><span class="bold">-c</span></a> [ <a href="nisinit.htm#ck04131245"> <span class="bold">-k</span></a> <span class="italic">key_domain</span> ] [  <a href="nisinit.htm#ck04211042"> <span class="bold">-C</span> </a> <span class="italic">coldstart</span> |  <a href="nisinit.htm#ck04211040"> <span class="bold">-H</span></a> <span class="italic">host</span>|  <a href="nisinit.htm#ck04211041"> <span class="bold">-B</span></a> ]]</p>
<a name="ck04141219"></a>
<h4 id="ck04141219">初始化根主控服务器</h4>
<a name="ck04211036"></a>
<p id="ck04211036"><span class="bold">nisinit</span>  <a href="nisinit.htm#ck04211053"><span class="bold">-r</span></a></p>
<a name="ck04211034"></a>
<h4 id="ck04211034">初始化父服务器</h4>
<p>[  <a href="nisinit.htm#ck04131243"><span class="bold">-p</span></a>  <a href="nisinit.htm#ck04211058"><span class="bold">Y</span></a>|  <a href="nisinit.htm#ck04211059"><span class="bold">D</span></a>|
 <a href="nisinit.htm#ck04211100"><span class="bold">N</span></a> <span class="italic">parent_domain_host</span>... ]</p>
<a name="ck04141221"></a>
<h3 id="ck04141221">描述</h3>
<p><span class="bold">nisinit</span> 命令初始化工作站，使之成为 NIS+ 客户机。
  像 <span class="bold">rpc.nisd</span>
命令，不需要有任何访问权就能使用 <span class="bold">nisinit</span> 命令，但应该知道它的先决条件和相关任务。</p>
<a name="ck04151058"></a>
<h3 id="ck04151058">标志</h3>
<p></p>
<a name="wq401"></a>
<table id="wq401" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="ck04131244" name="ck04131244"></a><span class="bold">-c</span></td>
<td width="95%">初始化机器，使之成为 NIS+ 客户机。有三个初始化选项可用：通过 <span class="italic">coldstart</span> 初始化，通过 <span class="italic">hostname</span> 初始化以及通过 broadcast 初始化。 最安全的机制是从可信的 <span class="italic">coldstart</span> 文件初始化。 第二个选项是使用您指定为可信的主机 <span class="italic">hostname</span> 初始化。第三个是通过 broadcast 初始化，也是最不安全的方法。</td>
</tr>
</tbody>
</table>
<p></p><blockquote>
<dl>
<dt id="ck04211042" class="bold">
<a name="ck04211042"></a><span class="bold">-C</span><span class="italic">coldstart</span></dt>
<dd>在初始化 NIS+ 客户机时，导致文件 <span class="italic">coldstart</span> 用于原型冷启动文件。
这个 <span class="italic">coldstart</span> 文件可以从一台已经是 NIS+ 名称空间客户机的机器上复制。为了最大安全性，管理员可以（用 <span class="bold">uuencode</span>（1C））对 <span class="italic">coldstart</span> 文件加密和编码，并把它邮寄给提供新机器的管理员。
新管理员然后解码（用 <span class="bold">uudecode</span>），解密，再用 <span class="bold">nisinit</span> 命令使用该文件来初始化 NIS+ 客户机机器。
如果 <span class="italic">coldstart</span> 文件来自同一域的其它客户机，<span class="bold">nisinit</span> 命令可能被安全地跳过，并且把该文件复制到 <span class="bold">/var/nis</span> 目录成为 <span class="bold">/var/nis/NIS_COLD_START</span>。
</dd>
<dt id="ck04211040" class="bold">
<a name="ck04211040"></a><span class="bold">-H</span><span class="italic">hostname</span></dt>
<dd>指定主机 <span class="italic">hostname</span> 应该作为可信的 NIS+ 服务器联系。<span class="bold">nisinit</span> 命令
将在 NETPATH 环境变量中迭代每个传输，试图联系该机器上的 <span class="bold">rpcbind</span>。 该主机名必须从没有名称服务运行的客户机上可以获得。
对 IP 网络，这意味着当 <span class="bold">nisinit</span> 被调用时，必须为该主机在 <span class="bold">/etc/hosts</span> 里存在一个条目。
</dd>
<dt id="ck04211041" class="bold">
<a name="ck04211041"></a><span class="bold">-B</span></dt>
<dd>指定 <span class="bold">nisinit</span> 命令应该使用 IP 广播来定位在本地子网上的 NIS+ 服务器。任何正在运行 NIS+ 服务的机器都可能应答。不能保证应答服务器是组织名称空间的服务器。
如果使用该标志，建议向系统管理员确认服务的服务器和域是有效的。
使用 <a href="nisshowcache.htm#endr93558"><span class="bold">nisshowcache</span></a> 命令可以把绑定信息写入标准输出。 
<p></p><blockquote><span class="bold">注意：</span><span class="bold"> nisinit -c</span> 将仅仅从客户机启用 NIS+ 名称空间导航。
要使 NIS+ 成为您的名称服务，修改 <span class="bold">/etc/nsswitch.conf</span> 文件来反映它。</blockquote>
</dd>
</dl></blockquote>
<a name="wq402"></a>
<table id="wq402" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="35%">
<a id="ck04131245" name="ck04131245"></a><span class="bold">-k</span><span class="italic">key_domain</span></td>
<td width="65%">指定存储根凭证的域。如果域未被指定，那么假定为系统缺省域。
该域名被用来创建 <span class="bold">/var/nis/NIS_COLD_START</span> 文件。</td>
</tr>
<tr>
<td>
<a id="ck04131243" name="ck04131243"></a><span class="bold">-p</span>Y|D|N<span class="italic">parent_domain
host...</span></td>
<td>在根服务器上初始化 <span class="bold">/var/nis/data/parent.object</span> ，使该域成为其上名称空间的一部分。只有根服务器有父对象。
父对象描述 NIS+ 根上的名称空间。如果这是一个独立的域，不使用该标志。该标志的参数告诉命令在 NIS+ 域上什么类型的名称服务器正在为该域服务。当客户机试图解析一个处于 NIS+ 名称空间之外的名称时，该对象用表示名称空间边界已达到的
<tt>NIS_FOREIGNNS</tt> 错误返回。
由客户机继续名称解析过程。

<p>参数 “parent_domain” 在语法上是父域的名称，该父域对于域的类型来说是本地的。
域参数后的主机名列表是为父域服务的主机名称。
一个父域有不止一台服务器，第一台被指定的主机是该域的主控服务器。</p></td>
</tr>
</tbody>
</table>
<p></p><blockquote>
<dl>
<dt id="ck04211058" class="bold">
<a name="ck04211058"></a><span class="bold">Y</span></dt>
<dd>指定父目录是 NIS V2 域。
</dd>
<dt id="ck04211059" class="bold">
<a name="ck04211059"></a><span class="bold">D</span></dt>
<dd>指定父目录是 DNS 域。
</dd>
<dt id="ck04211100" class="bold">
<a name="ck04211100"></a><span class="bold">N</span><span class="italic"> parent_domain_host</span>...</dt>
<dd>指定父目录是另一个 NIS+ 域。
该标志对连接预存在的 NIS+ 子树到全局名称空间是有用的。
</dd>
</dl></blockquote>
<a name="wq403"></a>
<table id="wq403" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="ck04211053" name="ck04211053"></a><span class="bold">-r</span></td>
<td width="95%">初始化机器，使之成为 NIS+ 根服务器。该标志创建 /var/nis/data/root.object 文件并初始化它，使之包含关于这台机器的信息。
它使用 sysinfo(2) 系统调用来检索缺省域名称。</td>
</tr>
</tbody>
</table>
<a name="ck04151112"></a>
<h3 id="ck04151112">示例</h3>
<ol type="1">
<li>初始化客户机，使用：
<p></p>
<pre class="xmp"><span class="bold">nisinit -c -B
nisinit -c -H</span> hostname
<span class="bold">nisinit -c -C</span> filename</pre></li>
<li>初始化根主控服务器，使用：
<p></p>
<pre class="xmp"><span class="bold">nisinit -r</span></pre> 
<a name="endr23220"></a>
<p id="endr23220">初始化客户机</p></li>
<li>可以有三种不同的方法初始化客户机：
<ul>
<li>通过主机名称</li>
<li>通过广播</li>
<li>通过冷启动文件</li></ul> 
<p></p><blockquote><span class="bold">注意：</span>每个方法有不同的先决条件和相关任务。
例如，在用主机名初始化客户机前，客户机的 <span class="bold">/etc/hosts</span> 文件必须列出将使用的主机名称并且 <span class="bold">nsswitch.conf</span> 文件必须有 <span class="bold">文件</span>作为在<span class="bold">主机</span>行的第一个选项。 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/nisplus/instl_client.htm#endr38230">初始化 NIS+ 客户机</a>提供每个方法的完整说明（包括先决条件和相关任务）。以下是使用 <span class="bold">nisinit</span> 命令步骤的总结。</blockquote></li>
<li>通过主机名称初始化客户机，使用 <span class="bold">-c</span>
和 <span class="bold">-H</span> 选项并且包含客户机获得其冷启动文件的服务器名称：

<p></p>
<pre class="xmp"><span class="bold">nisinit -c -H</span> hostname</pre></li>
<li>通过冷启动文件初始化客户机，使用 <span class="bold">-c</span> 和 <span class="bold">-C</span> 选项，并且提供冷启动文件的文件名：

<p></p>
<pre class="xmp"><span class="bold">nisinit -c -C</span> filename</pre></li>
<li>通过广播初始化客户机，使用 <span class="bold">-c</span>
和<span class="bold"> -B</span> 选项：
<p></p>
<pre class="xmp"><span class="bold">nisinit -c -B</span></pre> 
<a name="endr68747"></a>
<p id="endr68747">初始化根主控服务器</p></li>
<li>初始化根主控服务器，使用 <span class="bold">nisinit -r</span> 命令：
<p></p>
<pre class="xmp"><span class="bold">nisinit -r</span></pre></li></ol>
<a name="ck04151118"></a>
<h3 id="ck04151118">文件</h3>
<p></p>
<a name="wq405"></a>
<table id="wq405" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="35%"><span class="bold">/var/nis/NIS_COLD_START</span></td>
<td width="65%">该文件包含一个服务器、服务器的传输地址、为机器缺省域服务的安全 RPC 公用密钥的列表。</td>
</tr>
<tr>
<td><span class="bold">/var/nis/data/root.object</span></td>
<td>该文件描述 NIS+ 名称空间根对象。
已授权的客户机能够使用 nis_modify() 接口修改的是标准 XDR 编码的 NIS+ 目录对象。</td>
</tr>
<tr>
<td><span class="bold">/var/nis/data/parent.object</span></td>
<td>该文件描述了逻辑上在 NIS+ 名称空间上的名称空间。父对象最普通的类型是 DNS 对象。该对象包含域服务器所需的联系信息。</td>
</tr>
<tr>
<td><span class="bold">/etc/hosts</span></td>
<td>因特网主机表。</td>
</tr>
</tbody>
</table>
<a name="ck04141227"></a>
<h3 id="ck04141227">相关信息</h3>
<a name="ck04141228"></a>
<p id="ck04141228"><a href="nisclient.htm#nisclient"><span class="bold">nisclient</span></a> 命令和 <a href="nisshowcache.htm#endr93558"><span class="bold">nisshowcache</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="nisinit.htm#Top_Of_Page">页的顶部</a> | <a href="nisgrpadm.htm">上一页</a> | <a href="nisln.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
