<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - pioformat 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="pioformat 命令, 使用 pioformat 命令, 驱动,
打印机格式化程序, 格式化打印机, 驱动程序" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="pioformat.htm#Bot_Of_Page">页的底部</a> | <a href="piofontin.htm">上一页</a> | <a href="piofquote.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="a299943"></a>
<h2 id="a299943">pioformat 命令</h2>
<p><a id="idx255" name="idx255"></a></p>
<a name="a299945"></a>
<h3 id="a299945">用途</h3>
<a name="a39db3ce022stue"></a>
<p id="a39db3ce022stue">驱动打印机格式化程序<a id="idx256" name="idx256"></a> <a id="idx257" name="idx257"></a></p>
<a name="a299947"></a>
<h3 id="a299947">语法</h3>
<p><span class="bold">/usr/lpd/pio/etc/pioformat</span>  <a href="pioformat.htm#ahn4255"><span class="bold">-@</span></a> <span class="italic">DataBaseFile</span> [  <a href="pioformat.htm#ahn4260"><span class="bold">-!</span></a><span class="italic"> FormatterName</span> ] [  <a href="pioformat.htm#ahn4262"><span class="bold">-# + </span></a><span class="italic">PassThroughOption</span> ]</p>
<a name="a29994a"></a>
<h3 id="a29994a">描述</h3>
<a name="a39db3ce169stue"></a>
<p id="a39db3ce169stue"><span class="bold">pioformat</span> 命令启动打印机格式化程序驱动程序。格式化程序驱动程序建立到数据库值的访问，装入并链接打印机格式化程序，然后通过调用它的 <span class="bold">setup</span> 函数、 <span class="bold">initialize</span> 函数、 <span class="bold">lineout</span> 函数、 <span class="bold">passthru</span> 函数和适当的 <span class="bold">restore</span> 函数来驱动格式化程序。
格式化程序驱动程序也提供<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/piogetvals.htm#a12c0bb06"><span class="bold">piogetvals</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/piogetopt.htm#a6c0a43d"><span class="bold">piogetopt</span></a> 子例程、 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/piocmdout.htm#a6c0a459"><span class="bold">piocmdout</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/piogetstr.htm#a6c0a499"><span class="bold">piogetstr</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/piomsgout.htm#a6c0a478"><span class="bold">piomsgout</span></a> 子例程和<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/pioexit.htm#a6c0a489"><span class="bold">pioexit</span></a> 子例程， 这些子例程都被格式化程序所调用。</p>
<a name="a39db3ce201stue"></a>
<p id="a39db3ce201stue">下列标志都被格式化程序驱动程序处理，但并不传递给格式化程序。然而，所有未在下面列出的标志都假定是格式化标志，并将被传递给格式化程序。</p>
<a name="a29994c"></a>
<h3 id="a29994c">标志</h3>
<p></p>
<a name="wq839"></a>
<table id="wq839" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="30%">
<a id="ahn4255" name="ahn4255"></a><span class="bold">-@</span><span class="italic"> DataBaseFile</span></td>
<td width="70%">  指定下列的任一个：
<ul>
<li id="ahn4256">
<a name="ahn4256"></a>要访问的（摘要的）数据库路径全名</li>
<li id="ahn4257">
<a name="ahn4257"></a>被冒号分隔的打印队列和队列设备名</li></ul> 
<a name="ahn4258"></a>
<p id="ahn4258">如果参数字符串开始于一个<span class="bold">/</span> （斜杠）字符，它将被假定为全路径名。</p> 
<a name="a39db3ce247stue"></a>
<p id="a39db3ce247stue">队列名和队列设备名的结合产生一个唯一的字符串，这个字符串是数据库文件名的一部分，并且被用来在 <span class="bold">/var/spool/lpd/pio/@local/ddi</span> 目录中搜索数据库文件名。当格式化程序驱动程序和格式化程序作为一个独立设备而不是被假脱机程序运行时，这个简短形式的选项提供一种方便 。</p></td>
</tr>
<tr>
<td>
<a id="ahn4260" name="ahn4260"></a><span class="bold">-!</span><span class="italic"> FormatterName</span></td>
<td>  指定要装入、链接和驱动的格式化程序的全路径名。
<a name="a39db3ce358stue"></a>
<p id="a39db3ce358stue">如果 <span class="bold">-!</span> 标志没有指定，就使用数据库中 <span class="bold">mf</span> 属性定义的缺省格式化程序名。当格式化程序驱动程序和格式化程序作为一个独立设备而不是被假脱机程序运行时，缺省格式化程序名提供一种方便 。</p></td>
</tr>
<tr>
<td>
<a id="ahn4262" name="ahn4262"></a><span class="bold">-#</span><span class="bold"> +</span><span class="italic"> PassThroughOption</span><span class="bold"></span></td>
<td>  指定打印文件应该被不修改地传输。
如果 <span class="bold">-# +</span> 标志没有指定，打印文件将被格式化。
<a name="a39db3ce383stue"></a>
<p id="a39db3ce383stue">传递给格式化程序的 <span class="bold">setup</span> 例程的参数包含值 1 而不是 0 ，表明文件应该被传递而不是被格式化。</p></td>
</tr>
</tbody>
</table>
<a name="ahn4274"></a>
<h3 id="ahn4274">示例</h3>
<ol type="1">
<li><a name="ahn4275"></a><span id="ahn4275" class="pk"></span>要根据数据库文件（虚拟打印机描述），为命名为 <tt>std</tt> 的、与命名为 <tt>pro</tt> 的打印队列关联的队列设备格式化 <tt>myfile</tt>
文件，重设页宽为 132 个字符，并且使用 <span class="bold">pioformat</span> 命令和格式化程序作为独立过滤器，请输入：
<a id="ahn4276" name="ahn4276"></a>
<div class="lines"><tt>cat myfile | pioformat&nbsp;&nbsp;<a href="pioformat.htm#ahn4255">-@</a> pro:std -w 132 &gt;/dev/lp0</tt><br />
</div></li>
<li><a name="ahn4277"></a><span id="ahn4277" class="pk"></span>要在假脱机程序运行下的管道中使用 <span class="bold">pioformat</span> 命令和格式化程序，请输入：
<a id="ahn4278" name="ahn4278"></a>
<div class="lines"><tt>%Ide/pioformat&nbsp;&nbsp;<a href="pioformat.htm#ahn4255">-@</a> %Idd/%Imm&nbsp;&nbsp;<a href="pioformat.htm#ahn4260">-!</a> %Idf/piof420x %Fbb %Fee ...</tt><br />
</div> 对于这个示例，假定：
<ul>
<li><a name="ahn4280"></a><span id="ahn4280" class="pk"></span>打印机是 4207 Model 2 Proprinter。</li>
<li><a name="ahn4281"></a><span id="ahn4281" class="pk"></span>打印队列名为 <tt>pro。</tt></li>
<li><a name="ahn4282"></a><span id="ahn4282" class="pk"></span>仅为打印队列定义了一个队列设备（虚拟打印机），它的名字为 <tt>std</tt> ，它的输出数据流类型为 <tt>asc</tt> （扩展 ASCII 码）。</li>
<li><a name="ahn4283"></a><span id="ahn4283" class="pk"></span>打印机设备名为 <tt>/dev/lp0。</tt></li>
<li><a name="ahn4284"></a><span id="ahn4284" class="pk"></span>打印作业提交者指定标志和参数<tt>-i 5</tt>。</li></ul> 在打印作业管理器（ <a href="piobe.htm#a2mb0joyc"><span class="bold">piobe</span></a> 命令）将管道传递给 shell 以格式化文件前，它解析出管道对属性值的内嵌引用。基于上述为这个示例所作的假定，属性引用将被解析为：
<a name="wq841"></a>
<table id="wq841" width="90%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td colspan="2">
<a id="ahn4286" name="ahn4286"></a><tt>%Ide
-&gt; /usr/lpd/pio/etc</tt><span class="bold"></span></td>
</tr>
<tr>
<td width="61%">&nbsp;</td>
<td width="38%">  <span class="bold">pioformat</span> 命令所驻留的目录</td>
</tr>
<tr>
<td colspan="2">
<a id="d5bf464272lien" name="d5bf464272lien"></a><tt>%Idd</tt><tt> -&gt;</tt><tt></tt><tt> /var/spool/lpd/pio/@local/ddi</tt><span class="bold"></span></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>  数据库文件目录</td>
</tr>
<tr>
<td colspan="2">
<a id="ahn4288" name="ahn4288"></a><tt>%Imm</tt><tt> -&gt;</tt><tt></tt><tt> 4207-2.asc.lp0.pro:std</tt><span class="bold"></span></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>  数据库文件名</td>
</tr>
<tr>
<td colspan="2">
<a id="ahn4289" name="ahn4289"></a><tt>%Idf
-&gt; /usr/lpd/pio/fmtrs</tt><span class="bold"></span></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>  格式化程序的目录</td>
</tr>
<tr>
<td>
<a id="ahn4290" name="ahn4290"></a><tt>%Fbb</tt><tt> -&gt;</tt></td>
<td>  Null 字符串，因为提交者没有指定 <span class="bold">-b</span> 标志</td>
</tr>
<tr>
<td>
<a id="ahn4291" name="ahn4291"></a><tt>%Fee -&gt; -i 5</tt></td>
<td>  提交者指定这个标志和参数。</td>
</tr>
</tbody>
</table> 下面显示的结果管道将被传递到 shell 以格式化文件（用多行显示以便阅读）：
<p></p>
<a name="ahn4293"></a>
<pre id="ahn4293" class="xmp">/usr/lpd/pio/etc/pioformat        # 启动格式化程序驱动程序 -@/usr/lpd/pio/ddi/4207-2.asc.lp0.pro:std
                                  # （摘要的）数据库文件
-!/usr/lpd/pio/fmtrs/piof420x     # 可装入的格式化程序
-i5                               # 格式化选项
                                  # （缩进 5 个字符）</pre></li></ol>
<a name="ahn4299"></a>
<h3 id="ahn4299">文件</h3>
<p></p>
<a name="wq842"></a>
<table id="wq842" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="30%">
<a id="ahn4300" name="ahn4300"></a><span class="bold">/usr/lpd/pio/etc/pioformat</span></td>
<td width="70%">  包含格式化程序驱动程序。</td>
</tr>
<tr>
<td>
<a id="ahn4301" name="ahn4301"></a><span class="bold">/usr/lpd/pio/fmtrs/*</span></td>
<td>  包含格式化程序。</td>
</tr>
<tr>
<td>
<a id="d5bf465431lien" name="d5bf465431lien"></a><span class="bold">/var/spool/lpd/pio/@local/ddi/*</span></td>
<td>  包含摘要数据库文件</td>
</tr>
</tbody>
</table>
<a name="a133c1164"></a>
<h3 id="a133c1164">相关信息</h3>
<a name="a39db3ce542stue"></a>
<p id="a39db3ce542stue"><a href="piobe.htm#a2mb0joyc"><span class="bold">piobe</span></a> 命令、<a href="pioburst.htm#ahn4191"><span class="bold">pioburst</span></a>
命令、<a href="piodigest.htm#a2939469"><span class="bold">piodigest</span></a> 命令、<a href="piofquote.htm#ahn4144"><span class="bold">piofquote</span></a> 命令、<a href="pioout.htm#ahn4134"><span class="bold">pioout</span></a> 命令、<a href="piopredef.htm#a26p0707"><span class="bold">piopredef</span></a> 命令。</p>
<a name="a39db3ce573stue"></a>
<p id="a39db3ce573stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/piocmdout.htm#a6c0a459"><span class="bold">piocmdout</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/piogetvals.htm#a12c0bb06"><span class="bold">piogetvals</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/piogetopt.htm#a6c0a43d"><span class="bold">piogetopt</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/piogetstr.htm#a6c0a499"><span class="bold">piogetstr</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/piomsgout.htm#a6c0a478"><span class="bold">piomsgout</span></a> 子例程、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/ktechrf2/pioexit.htm#a6c0a489"><span class="bold">pioexit</span></a>
子例程。</p>
<a name="a39db3ce594stue"></a>
<p id="a39db3ce594stue">在 <span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/printrgd/printers_sysadmin.htm#a350p9203">Printer Overview for
System Management</a>。</p>
<a name="a39db3ce658stue"></a>
<p id="a39db3ce658stue">在 <span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/printrgd/virtual_def_attr.htm#a354p9f">Virtual Printer Definitions
and Attributes</a>。</p>
<a name="a39db3ce715stue"></a>
<p id="a39db3ce715stue"><span class="italic">AIX 5L Version 5.2 Kernel Extensions and Device Support Programming Concepts</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixprggd/kernextc/printer_mgmt_subsys.htm#ujy2a0jean">Printer Addition Management
Subsystem: Programming Overview</a>。</p>
<a name="a39db3ce736stue"></a>
<p id="a39db3ce736stue">在 <span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/printrgd/prt_code_page.htm#a73p02f5">Printer Code Page Translation
Tables</a>。</p>
<a name="a39db3ce795stue"></a>
<p id="a39db3ce795stue">在 <span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/printrgd/prt_colon_file_conv.htm#a354p93d">Printer Colon File Conventions</a>。</p>
<a name="a39db3ce867stue"></a>
<p id="a39db3ce867stue">在 <span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/printrgd/prt_colon_file.htm#a67p03e">Printer Colon File Escape
Sequences</a>。</p>
<a name="a39db3ce917stue"></a>
<p id="a39db3ce917stue">在 <span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/printrgd/prt_spec_info.htm#a73p02de">Printer Specific Information</a>。</p>
<a name="a39db3ce958stue"></a>
<p id="a39db3ce958stue">在 <span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/printrgd/prt_support.htm#a2979482">Printer Support</a>。</p>
<a name="a39db3cf009stue"></a>
<p id="a39db3cf009stue">在 <span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/printrgd/prt_backend_overview.htm#fqj4dhen">Printer Backend Overview
for Programming</a>。</p>
<a name="a39db3cf105stue"></a>
<p id="a39db3cf105stue">在 <span class="italic">AIX 5L Version 5.2 Guide to Printers and Printing</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/printrgd/add_with_prt_colon_file.htm#tsv1250dhen">Adding a Printer Using the
Printer Colon File</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="pioformat.htm#Top_Of_Page">页的顶部</a> | <a href="piofontin.htm">上一页</a> | <a href="piofquote.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
