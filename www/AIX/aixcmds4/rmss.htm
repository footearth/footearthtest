<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - rmss 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="rmss 命令, rmss, 命令, 使用 rmss 命令, 性能测试,
模拟系统以便, 应用程序的性能测试，模拟系统, 内存，大小不同, 测试，性能" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="rmss.htm#Bot_Of_Page">页的底部</a> | <a href="rmsock.htm">上一页</a> | <a href="rmssys.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="c0138c9539joy"></a>
<h2 id="c0138c9539joy">rmss 命令</h2><a id="idx675" name="idx675"></a><a id="idx676" name="idx676"></a>
<a name="c39c20c376doug"></a>
<h3 id="c39c20c376doug">用途</h3><a id="idx677" name="idx677"></a><a id="idx678" name="idx678"></a><a id="idx679" name="idx679"></a>
<a name="e391f19206mart"></a>
<p id="e391f19206mart">为应用程序性能测试以不同的内存大小模拟系统。</p>
<a name="c0138c9690joy"></a>
<h3 id="c0138c9690joy">语法</h3>
<a name="e391f19403mart"></a>
<p id="e391f19403mart"><span class="bold">rmss</span>   <a href="rmss.htm#c0138ca520joy"><span class="bold">-c</span></a> <span class="italic">MemSize</span></p>
<a name="e391f19539mart"></a>
<p id="e391f19539mart"><span class="bold">rmss</span>   <a href="rmss.htm#c0138ca677joy"><span class="bold">-r</span></a></p>
<a name="e391f19673mart"></a>
<p id="e391f19673mart"><span class="bold">rmss</span>   <a href="rmss.htm#c0138ca598joy"><span class="bold">-p</span></a></p>
<a name="e391f19822mart"></a>
<p id="e391f19822mart"><span class="bold">rmss</span> [   <a href="rmss.htm#c0138cb603joy"><span class="bold">-d</span></a> <span class="italic">MemSize</span> ] [   <a href="rmss.htm#c0138cb523joy"><span class="bold">-f</span></a> <span class="italic">MemSize</span> ] [   <a href="rmss.htm#c0138cb687joy"><span class="bold">-n</span></a> <span class="italic">NumIterations</span> ] [  <a href="rmss.htm#c0138cb767joy"><span class="bold">-o </span></a> <span class="italic">OutputFile</span> ] [  <a href="rmss.htm#c0138cb440joy"><span class="bold">-s</span></a> <span class="italic"> MemSize</span> ]   <a href="rmss.htm#c0138cb846joy"><span class="italic">Command</span></a></p>
<p></p>
<a name="mkm0427001111"></a>
<h3 id="mkm0427001111">实现特定</h3>
<a name="d5fe12b348mich"></a>
<p id="d5fe12b348mich">此命令仅在基于 POWER 的平台上有效。</p>
<a name="c0138ca204joy"></a>
<h3 id="c0138ca204joy">标志</h3>
<p></p>
<a name="wq2101"></a>
<table id="wq2101" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="26%">
<a id="c0138ca520joy" name="c0138ca520joy"></a><span class="bold">-c</span><span class="italic"> MemSize</span></td>
<td width="73%">更改模拟内存的大小到 <span class="italic">MemSize</span> 值，它是以兆字节为单元的整数或十进制小数。
<span class="italic">MemSize</span> 变量必须在 4MB 和机器真正的内存大小之间。
<span class="bold">-c</span> 标志没有缺省值。
<a name="wq2102"></a>
<div class="notetitle" id="wq2102">注:</div>
<div class="notebody">因为固有的系统结构如内核，要更改模拟内存大小到小于
 8MB 是很困难的。</div></td>
</tr>
<tr>
<td>
<a id="c0138cb603joy" name="c0138cb603joy"></a><span class="bold">-d</span><span class="italic"> MemSize</span></td>
<td>指定要模拟的内存大小之间的增量。<span class="italic">MemSize</span> 值是以兆字节为单元的整数或十进制小数。
如果 <span class="bold">-d</span> 标志省略，增量是 8MB。</td>
</tr>
<tr>
<td>
<a id="c0138cb523joy" name="c0138cb523joy"></a><span class="bold">-f</span><span class="italic"> MemSize</span></td>
<td>指定最终内存大小。应该通过运行命令完成测试模拟系统，此命令正在以
 <span class="italic">MemSize</span> 变量（以兆字节为单元的整数或十进制小数）指定的模拟内存大小被测试。
<span class="italic">MemSize</span> 变量必须在 4MB 和机器真正的内存大小之间。
如果 <span class="bold">-f</span> 标志省略，增量是 8MB。
<a name="wq2103"></a>
<div class="notetitle" id="wq2103">注:</div>
<div class="notebody">因为固有的系统结构如内核，要实现小于
 8MB 的模拟内存大小是很困难的。</div></td>
</tr>
<tr>
<td>
<a id="c0138cb687joy" name="c0138cb687joy"></a><span class="bold">-n</span><span class="italic"> NumIterations</span></td>
<td>在每个内存大小指定运行和评测命令的次数。
<span class="bold">-n</span> 标志没有缺省值。如果
 <span class="bold">-n</span> 标志省略，在 <span class="bold">rmss</span> 命令初始化时，<span class="bold">rmss</span> 命令将确定
正在测试的命令需要迭代多少次来积累 10 秒的总时间，然后在每个内存大小运行命令那么多次。

<a name="wq2104"></a>
<div class="notetitle" id="wq2104">注:</div>
<div class="notebody"><span class="bold">rmss</span> 命令
总是在评测的执行之前，在每个内存大小执行命令一次。
这为实际测试准备模拟。</div></td>
</tr>
<tr>
<td>
<a id="c0138cb767joy" name="c0138cb767joy"></a><span class="bold">-o</span><span class="italic"> OutputFile</span></td>
<td>指定要写入 <span class="bold">rmss</span> 报告的文件。
如果 <span class="bold">-o</span> 标志省略，那么 <span class="bold">rmss</span> 报告写到文件 <span class="bold">rmss.out</span>中。 还有，
 <span class="bold">rmss</span> 报告总是写到标准输出。</td>
</tr>
<tr>
<td>
<a id="c0138ca598joy" name="c0138ca598joy"></a><span class="bold">-p</span></td>
<td>显示当前模拟内存大小。</td>
</tr>
<tr>
<td>
<a id="c0138ca677joy" name="c0138ca677joy"></a><span class="bold">-r</span></td>
<td>复位模拟内存大小到机器的真正内存大小。</td>
</tr>
<tr>
<td>
<a id="c0138cb440joy" name="c0138cb440joy"></a><span class="bold">-s</span><span class="italic"> MemSize</span></td>
<td>指定开始内存大小。由以 <span class="italic">MemSize</span> 变量指定的模拟内存大小来执行命令开始，
该变量是以兆字节为单元的整数或十进制小数。<span class="italic">MemSize</span> 变量必须在 4MB 和机器真正的内存大小之间。
<span class="bold">-s</span> 标志省略，开始内存大小将是
机器的真正内存大小。
<a name="wq2105"></a>
<div class="notetitle" id="wq2105">注:</div>
<div class="notebody">因为固有的系统结构如内核，要以小于
 8MB 的模拟内存开始是很困难的。</div></td>
</tr>
<tr>
<td>
<a id="c0138cb846joy" name="c0138cb846joy"></a><span class="italic">Command</span></td>
<td>指定在每个内存大小要运行和评测的命令。<span class="italic">Command</span> 参数可以是可执行文件或 shell 脚本文件，可带或可不带命令行参数。
没有缺省命令。</td>
</tr>
</tbody>
</table>
<a name="f3a34fc539mart"></a>
<h3 id="f3a34fc539mart">安全性</h3>
<a name="f3a34fc634mart"></a>
<p id="f3a34fc634mart">访问控制：运行此命令必须有 root 用户权限。</p>
<a name="d5fe12c221mich"></a>
<h3 id="d5fe12c221mich">示例</h3>
<ol type="1">
<li><a name="c0138ca832joy"></a><span id="c0138ca832joy" class="pk"></span>要更改内存大小到 13.5MB，输入：
<p></p>
<pre class="xmp">rmss -c 13.5</pre></li>
<li><a name="c0138ca977joy"></a><span id="c0138ca977joy" class="pk"></span>要打印当前内存大小，输入：
<p></p>
<pre class="xmp">rmss -p</pre></li>
<li><a name="c0138cb124joy"></a><span id="c0138cb124joy" class="pk"></span>要复位模拟内存大小到机器的真正内存大小，输入：

<p></p>
<pre class="xmp">rmss -r</pre></li>
<li><a name="c0138cc003joy"></a><span id="c0138cc003joy" class="pk"></span>要审查命令 <tt>cc -O foo.c</tt> 在内存大小是 32、24、16、和 8MB 上的性能；在每个内存大小上运行
和评测命令一次；然后将报告写到
<tt>cc.rmss.out</tt> 文件中，输入：
<p></p>
<pre class="xmp">rmss -s 32 -f 8 -d 8 -n 1 -o cc.rmss.out cc -O foo.c</pre></li>
<li><a name="c0138cc165joy"></a><span id="c0138cc165joy" class="pk"></span>要在开始是机器的真正内存大小，结束是 8MB，以 8MB 为增量的内存大小上审查  <tt>foo.sh</tt> shell 脚本文件的命令序列的性能，
让 <span class="bold">rmss</span> 命令确定在每个内存大小上运行和评测 <tt>foo.sh</tt> 文件的迭代次数，然后写 <span class="bold">rmss</span> 报告
到 <tt>rmss.out</tt> 文件（以及所有在
 <span class="bold">rmss</span> 命令调用中使用的缺省值）, 输入下列内容：
<p></p>
<pre class="xmp">rmss foo.sh</pre></li>
<li><a name="c0138cc319joy"></a><span id="c0138cc319joy" class="pk"></span>要调查在从 8MB 到 16MB 的内存大小上（增量为 0.5MB）可执行的 <tt>bar</tt> 的性能；在每个内存大小运行和评测 <tt>bar</tt> 两次；写报告到 <tt>bar.rmss.out</tt> 文件，输入：

<p></p>
<pre class="xmp">rmss -s 8 -f 16 -d .5 -n 2 -o bar.rmss.out bar</pre></li>
<li><a name="c0138cc548joy"></a><span id="c0138cc548joy" class="pk"></span>当使用 <span class="bold">-s</span>、<span class="bold">-f</span>、<span class="bold">-d</span>、<span class="bold">-n</span> 以及 <span class="bold">-o</span> 标志的任意结合，<span class="bold">rmss</span> 命令作为驱动程序运行，它在一定范围的内存大小上执行命令多次，并在每个内存大小显示描述命令
性能的统计信息。

<p>由 <span class="bold">rmss</span> 命令打印输出的报告示例如下：</p> 
<p></p>
<pre class="xmp">Hostname:  xray.austin.ibm.com
Real memory size:   48.00 Mb
Time of day:  Wed Aug  8 13:07:33 1990
Command:  cc -O foo.c
Simulated memory size initialized to  24.00 Mb.
Number of iterations per memory size = 1 warmup + 1 measured = 2.
Memory size  Avg. Pageins  Avg. Response Time   Avg. Pagein Rate
(megabytes)                       (sec.)           (pageins/sec.)
   -----------------------------------------------------------------
24.00             0.0              113.7                0.0
22.00             5.0              114.8                0.0
20.00             0.0              113.7                0.0
18.00             3.0              114.3                0.0
16.00             0.0              114.6                0.0
14.00             139.0            116.1                1.2
12.00             816.0            126.9                6.4
10.00             1246.0           135.7                9.2
8.00              2218.0           162.9                13.6</pre><p class="indatacontent"> 此报告由
以下命令生成：</p>
<pre class="xmp">rmss -s 24 -f 8 -d 2 -n 1 cc -O foo.c</pre><p class="indatacontent"> 报告的顶部给出了一般信息，包括
 <span class="bold">rmss</span> 命令正在其上运行的机器、机器的真正内存大小、
时间和日期和正在评测的命令。
接下来两行给出了描述
 <span class="bold">rmss</span> 命令初始化的参考消息。这里，<span class="bold">rmss</span> 命令显示已经初始化模拟内存大小为
 24MB, 它是用<span class="bold">-s</span> 标志给出的开始内存大小。同样，<span class="bold">rmss</span> 命令打印出在命令每个内存大小上运行的迭代次数。命令在每个内存大小上运行两次：一次是预热，一次是性能已评测的时候。
迭代次数由 <span class="bold">-n</span> 标志指定。</p> 
<a name="c0138cd039joy"></a>
<p id="c0138cd039joy">报告的下半部分提供了命令在每个内存大小上运行的信息如下：</p> 
<ul>
<li><a name="c2b21a4735doug"></a><span id="c2b21a4735doug" class="pk"></span>内存大小，还有在命令运行时页面调进的平均数</li>
<li><a name="c2b21a4814doug"></a><span id="c2b21a4814doug" class="pk"></span>命令的平均响应时间</li>
<li><a name="c2b21a4894doug"></a><span id="c2b21a4894doug" class="pk"></span>在命令运行时平均页面调进率。

<a name="wq2107"></a>
<div class="notetitle" id="wq2107">注:</div>
<div class="notebody">平均页面调进和平均页面调进率包括在命令运行时所有的页面调进，不仅仅是命令初始化时的那些。</div></li></ul></li></ol>
<a name="c2b21a5509doug"></a>
<h3 id="c2b21a5509doug">相关信息</h3>
<a name="e391f1e762mart"></a>
<p id="e391f1e762mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds2/filemon.htm#be9869b716raga"><span class="bold">filemon</span></a> 命令和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds5/svmon.htm#c013820260joy"><span class="bold">svmon</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="rmss.htm#Top_Of_Page">页的顶部</a> | <a href="rmsock.htm">上一页</a> | <a href="rmssys.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
