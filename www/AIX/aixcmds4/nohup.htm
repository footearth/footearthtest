<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - nohup 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="nohup 命令, 不挂断运行, 命令" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="nohup.htm#Bot_Of_Page">页的底部</a> | <a href="no.htm">上一页</a> | <a href="notifyevent.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="a1579105"></a>
<h2 id="a1579105">nohup 命令</h2>
<p><a id="idx125" name="idx125"></a> <a id="idx126" name="idx126"></a></p>
<a name="a1579106"></a>
<h3 id="a1579106">用途</h3>
<a name="a39da858827stue"></a>
<p id="a39da858827stue">不挂断地运行命令。</p>
<a name="a1579108"></a>
<h3 id="a1579108">语法</h3>
<p><span class="bold">nohup</span><span class="italic"> Command</span>
[&nbsp;<span class="italic">Arg&nbsp;</span>...&nbsp;] [&nbsp; <a href="nohup.htm#vxbyo55janb"><span class="bold">&amp;&nbsp;</span></a>]</p>
<a name="a1579109"></a>
<h3 id="a1579109">描述</h3>
<a name="vxbyo55janb"></a>
<p id="vxbyo55janb"><span class="bold">nohup</span> 命令运行由 <span class="italic">Command</span> 参数和任何相关的 <span class="italic">Arg</span> 参数指定的命令，忽略所有挂断（<span class="bold">SIGHUP</span>）信号。在注销后使用 <span class="bold">nohup</span> 命令运行后台中的程序。要运行后台中的 <span class="bold">nohup</span>
命令，添加 &amp; （ 表示“and”的符号）到命令的尾部。</p>
<a name="a39da858854stue"></a>
<p id="a39da858854stue">无论是否将 <span class="bold">nohup</span> 命令的输出重定向到终端，输出都将附加到当前目录的 <span class="bold">nohup.out</span> 文件中。如果当前目录的 <span class="bold">nohup.out</span> 文件不可写，输出重定向到
<span class="bold">$HOME/nohup.out</span> 文件中。如果没有文件能创建或打开以用于追加，那么 <span class="italic">Command</span> 参数指定的命令不可调用。如果标准错误是一个终端，那么把指定的命令写给标准错误的所有输出作为标准输出重定向到相同的文件描述符。</p>
<a name="d7e6d6f664jani"></a>
<h3 id="d7e6d6f664jani">退出状态</h3>
<a name="a39da858867stue"></a>
<p id="a39da858867stue">该命令返回下列出口值：</p>
<a name="wq586"></a>
<table id="wq586" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="d7e6d6f832jani" name="d7e6d6f832jani"></a><span class="bold">126</span></td>
<td width="95%">  可以查找但不能调用 <span class="italic">Command</span> 参数指定的命令。</td>
</tr>
<tr>
<td>
<a id="d7e6d6f892jani" name="d7e6d6f892jani"></a><span class="bold">127</span></td>
<td>  <span class="bold">nohup</span> 命令发生错误或不能查找由 <span class="italic">Command</span> 参数指定的命令。</td>
</tr>
</tbody>
</table>
<a name="a39da858888stue"></a>
<p id="a39da858888stue">否则，<span class="bold">nohup</span> 命令的退出状态是 <span class="italic">Command</span> 参数指定命令的退出状态。</p>
<a name="a157910d"></a>
<h3 id="a157910d">示例</h3>
<ol type="1">
<li><a name="a1579ef"></a><span id="a1579ef" class="pk"></span>要运行注销后后台中的命令，请输入：

<p></p>
<a name="a157910f"></a>
<pre id="a157910f" class="xmp">$ nohup find / -print&nbsp;&amp;</pre><p class="indatacontent"> 输入该命令后，显示如下：
</p>
<a name="a1579111"></a>
<pre id="a1579111" class="xmp">670
$ 输出发送到 nohup.out</pre><p class="indatacontent"> 进程 ID 号更改为 &amp; （表示“and”的符号）启动的后台进程的 ID 号。消息 <tt>输出发送到 nohup.out</tt> 通知您来自 <span class="bold">find / -print</span> 命令的输出在 <span class="bold">nohup.out</span> 文件中。查看这些消息后可以注销，即使 <span class="bold">find</span> 命令仍在运行。</p></li>
<li><a name="a264914d9"></a><span id="a264914d9" class="pk"></span>要运行后台中的命令并且把标准输出重定向到一个不同的文件，请输入：

<p></p>
<a name="a1579114"></a>
<pre id="a1579114" class="xmp">$ nohup&nbsp;find&nbsp;/&nbsp;-print&nbsp;&gt;filenames&nbsp;&amp;</pre><p class="indatacontent"> 本例运行 <span class="bold"> find / -print</span> 命令并且把输出存储到命名为 <tt>filenames</tt> 的文件中。现在只显示进程 ID 和提示：
</p>
<a name="a1579116"></a>
<pre id="a1579116" class="xmp">677
$</pre><p class="indatacontent"> 因为 <span class="bold"> nohup</span> 命令需要片刻时间来启动 <span class="italic"> Command</span> 参数指定的命令，在注销前请等待。如果太快注销，<span class="italic">Command</span> 参数指定的命令可能根本没运行。一旦
<span class="italic">Command</span> 参数指定的命令启动，注销就不会对其产生影响。</p></li>
<li><a name="a264914da"></a><span id="a264914da" class="pk"></span>要运行不止一条命令，请使用 shell 过程。
例如，如果写 shell 过程：
<p></p>
<a name="a1579119"></a>
<pre id="a1579119" class="xmp">neqn math1 | nroff &gt; fmath1</pre><p class="indatacontent"> 且命名它为 &nbsp;<tt>nnfmath1</tt> 文件，那么可以为
<tt>nnfmath1</tt> 文件中所有命令运行 <span class="bold">nohup</span> 命令，命令为：
</p>
<a name="a157911b"></a>
<pre id="a157911b" class="xmp">nohup sh nnfmath1</pre></li>
<li><a name="a157911c"></a><span id="a157911c" class="pk"></span>如果给 <tt>nnfmath1</tt> 文件分配执行许可权，那么可以通过发出如下命令得到相同的结果：
<p></p>
<a name="a157911d"></a>
<pre id="a157911d" class="xmp">nohup nnfmath1</pre></li>
<li><a name="a157911e"></a><span id="a157911e" class="pk"></span>要在后台中运行 <tt>nnfmath1</tt>
文件，请输入：
<a id="a157911f" name="a157911f"></a>
<div class="lines"><tt>nohup nnfmath1&nbsp;&nbsp;<a href="nohup.htm#vxbyo55janb">&amp;</a></tt><br />
</div></li>
<li><a name="a57f2202"></a><span id="a57f2202" class="pk"></span>要在 Korn shell 中运行 <tt>nnfmath1</tt>
文件，请输入：
<p></p>
<a name="a57f2203"></a>
<pre id="a57f2203" class="xmp">nohup ksh nnfmath1</pre></li></ol>
<a name="a123c113"></a>
<h3 id="a123c113">相关信息</h3>
<a name="a39da858930stue"></a>
<p id="a39da858930stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds1/csh.htm#a27991075"><span class="bold">csh</span></a> 命令、<a href="nice.htm#uze80fish"><span class="bold">nice</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds5/sh.htm#a66f011a"><span class="bold">sh</span></a> 命令。</p>
<a name="a39da858941stue"></a>
<p id="a39da858941stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/basetrf2/sigaction.htm#a5f01cb"><span class="bold">signal</span></a> 子例程。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="nohup.htm#Top_Of_Page">页的顶部</a> | <a href="no.htm">上一页</a> | <a href="notifyevent.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
