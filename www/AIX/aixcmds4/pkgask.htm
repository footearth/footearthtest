<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - pkgask 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="pkgask.htm#Bot_Of_Page">页的底部</a> | <a href="pkgadd.htm">上一页</a> | <a href="pkgchk.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="pkgask_1m"></a>
<h2 id="pkgask_1m">pkgask 命令</h2>
<a name="pkgask_1mpur"></a>
<h3 id="pkgask_1mpur">用途</h3>
<p>存储应答到请求脚本。</p>
<a name="wq877"></a>
<h3 id="wq877">语法</h3>
<p><span class="bold">pkgask</span> [  <a href="pkgask.htm#pkgask_d"><span class="bold">-d</span></a> <span class="italic">Device</span>]  <a href="pkgask.htm#pkgask_r"><span class="bold">-r</span></a> <span class="italic">Response</span> [  <a href="pkgask.htm#pkgask_pkginst"><span class="italic">Pkginst</span></a> [  <a href="pkgask.htm#pkgask_pkginst"><span class="italic">Pkginst</span></a> [. . .]]</p>
<a name="pkgask_1mdes"></a>
<h3 id="pkgask_1mdes">描述</h3>
<p><span class="bold">pkgask</span> 使管理员能够存储应答到交互式软件包（带有请求脚本）或到软件包集合。
集合由特殊用途的软件包（将它称作集合安装包（Set Installation Package （SIP）））和属于集合的一个或多个软件包的集合组成。SIP 控制集合的安装。</p>
<p>调用 <span class="bold">pkgask</span> 生成 <span class="italic">Response</span> 文件，然后它被用作安装时的输入文件。<span class="italic">Response</span> 文件的使用防止在安装时发生任何交互，因为文件中已经包含软件包需要的所有信息。</p>
<p>当 <span class="bold">pkgask</span> 运行时，它创建响应文件，同时也创建如下的目录：</p>
<a name="wq878"></a>
<table id="wq878" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="15%"><span class="bold">/ptfvars</span></td>
<td width="85%">包含属于软件包的变量。</td>
</tr>
<tr>
<td><span class="bold">/fileinfo</span></td>
<td>包含有关软件包的校验和信息。</td>
</tr>
<tr>
<td><span class="bold">/oldfiles</span></td>
<td>包含软件包前一版本的备份。</td>
</tr>
</tbody>
</table><p class="indatacontent"> 要非交互的将软件包安装到另一个系统，必须复制所有这些文件和目录到目标系统。</p>
<a name="wq879"></a>
<div class="notetitle" id="wq879">注:</div>
<div class="notebody"> 如果你覆盖任一目录，例如，要安装另一个非交互的软件包，你将不会成功地删除第一个软件包，除非你首先恢复原始的目录内容。</div>
<p>可以使用 <span class="bold">-r</span> 标志来表示目录名，也可以是文件名。目录名被用来创建很多 <span class="italic">Response</span> 文件，每个文件都使用与之相关的软件包的名字。这是有用的，例如，当你一次调用 <span class="bold">pkgadd</span> 以添加多个交互式软件包时。每个软件包需要一个 <span class="italic">Response</span> 文件。要创建与软件包实例同名的多个响应文件，命名在其中将创建文件的目录，并且用 <span class="bold">pkgask</span> 命令提供多个实例名。当安装软件包时，你可以将该目录标识给 <span class="bold">pkgadd</span> 命令。</p>
<a name="pkgask_1mfla"></a>
<h3 id="pkgask_1mfla">标志</h3>
<p></p>
<a name="wq880"></a>
<table id="wq880" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="18%">
<a id="pkgask_d" name="pkgask_d"></a><span class="bold">-d</span><span class="italic"> Device</span></td>
<td width="81%">为 <span class="italic">Device</span> 上的软件包运行请求脚本。<span class="italic">Device</span> 可以是到一个目录的全路径名（如 <span class="bold">/var/tmp</span>），或者是“ -”，它指定为从标准输入中读取的数据流格式的软件包。缺省的设备是安装假脱机目录（ <span class="bold">/var/spool/pkg</span> ）。</td>
</tr>
<tr>
<td>
<a id="pkgask_r" name="pkgask_r"></a><span class="bold">-r</span><span class="italic"> Response</span></td>
<td>标识文件或目录，<span class="italic">Response</span>，它们应该被创建以包含对与软件包请求脚本
交互的响应。文件或文件目录稍后可被用作 <span class="bold">pkgadd</span> 命令的输入，〔请参见 <span class="bold">pkgadd</span> 命令〕。当 <span class="italic">Pkginst</span> 是软件包时， <span class="italic">Response</span> 可以是全路径名或目录；当 <span class="italic">Pkginst</span> 是 SIP 时， <span class="italic">Response</span> 必须是目录。</td>
</tr>
<tr>
<td>
<a id="pkgask_pkginst" name="pkgask_pkginst"></a><span class="italic">Pkginst</span></td>
<td>定义一个用于表示软件包或集合名缩写的短字符串。（术语“软件包实例（package instance）”被宽松使用：它代表 <span class="italic">Pkginst</span> 的所有实例，甚至那些不包含实例标识符的实例。） 
<p>要创建软件包名称缩写，用“ PKG”参数指定它。例如，要指定缩写“cmds”给“高级命令”软件包，请输入：<span class="bold">PKG=cmds</span>。</p> 
<p>如果 <span class="italic">Pkginst</span> 指定 SIP，所有属于集合成员的软件包的请求脚本都被运行（如果有的话），并且所产生的响应文件被放入提供给 <span class="bold">-r</span> 标志的目录里。</p> 
<p>要表示一个软件包的所有实例，指定‘<span class="italic">Pkginst</span><span class="bold">.*</span>’，将命令行包含到单引号中，象显示的那样，从而防止 shell 去解释“ *”字符。使用标记“all”来代表源介质中所有可用的软件包。</p> 
<p></p><blockquote><span class="bold">注：</span> 当不带在命令行中指定的 <span class="italic">Pkginst</span> 而调用时，如果至少有一个 SIP 存在于设备上， <span class="bold">pkgask</span> 仅显示集合的名字。这样，如果你有不是集合成员的软件包，仅当它们的 <span class="italic">Pkginst</span> 名字在命令行中提供时才能引用它们。</blockquote></td>
</tr>
</tbody>
</table>
<a name="pkgask_1mexi"></a>
<h3 id="pkgask_1mexi">退出状态</h3>
<p>该命令返回下列出口值：</p>
<a name="wq881"></a>
<table id="wq881" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%"><span class="bold">0</span></td>
<td width="95%">脚本成功完成。</td>
</tr>
<tr>
<td><span class="bold">1</span></td>
<td>致命错误。在此点上安装进程终止。</td>
</tr>
<tr>
<td><span class="bold">2</span></td>
<td>警告或可能错误状态。安装继续。完成时显示警告消息。</td>
</tr>
<tr>
<td><span class="bold">3</span></td>
<td>脚本被中断并且可能完成不了。在此点上安装终止。</td>
</tr>
<tr>
<td><span class="bold">4</span></td>
<td>脚本被挂起（管理）。在此点上安装终止。</td>
</tr>
<tr>
<td><span class="bold">5</span></td>
<td>脚本被挂起（需要交互）。在此点上安装终止。</td>
</tr>
<tr>
<td><span class="bold">10</span></td>
<td>当所有选定的软件包的安装完成时系统应该重启。（这个值应该被加到上面所描述的某一个一位退出代码上。）</td>
</tr>
<tr>
<td><span class="bold">20</span></td>
<td>当当前软件包安装完成时立即重启系统。（这个值应该被加到上面所描述的某一个一位退出代码上。）</td>
</tr>
<tr>
<td><span class="bold">77</span></td>
<td>没有给集合选择软件包。</td>
</tr>
<tr>
<td><span class="bold">99</span></td>
<td>内部错误。</td>
</tr>
</tbody>
</table>
<a name="pkgask_1mfil"></a>
<h3 id="pkgask_1mfil">文件</h3>
<p></p>
<a name="wq882"></a>
<table id="wq882" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="30%"><span class="bold">/var/spool/pkg</span></td>
<td width="69%">缺省假脱机目录</td>
</tr>
</tbody>
</table>
<a name="pkgask_1mrel"></a>
<h3 id="pkgask_1mrel">相关信息</h3>
<p><a href="pkgadd.htm#pkgadd_1mpur"><span class="bold">pkgadd</span></a> 命令, <a href="pkgchk.htm#pkgchk_1m"><span class="bold">pkgchk</span></a> 命令, <a href="pkginfo.htm#pkginfo_1"><span class="bold">pkginfo</span></a> 命令, <a href="pkgmk.htm#pkgmk"><span class="bold">pkgmk</span></a> 命令, <a href="pkgparam.htm#pkgparam_1"><span class="bold">pkgparam</span></a> 命令, <a href="pkgtrans.htm#pkgtrans_1"><span class="bold">pkgtrans</span></a> 命令, <a href="pkgrm.htm#pkgrm_1m"><span class="bold">pkgrm</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="pkgask.htm#Top_Of_Page">页的顶部</a> | <a href="pkgadd.htm">上一页</a> | <a href="pkgchk.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
