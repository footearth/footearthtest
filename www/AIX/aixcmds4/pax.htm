<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - pax 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="抽取、写以及列出归档和复制文件, pax 命令" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="pax.htm#Bot_Of_Page">页的底部</a> | <a href="pathchk.htm">上一页</a> | <a href="pcat.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="a143c1754"></a>
<h2 id="a143c1754">pax 命令</h2>
<p><a id="idx206" name="idx206"></a></p>
<a name="a143c1755"></a>
<h3 id="a143c1755">用途</h3>
<a name="a39db08f196stue"></a>
<p id="a39db08f196stue">抽取、写以及列出归档文件成员；复制文件和目录层次结构。</p>
<a name="a143c1757"></a>
<h3 id="a143c1757">语法</h3>
<a name="wq762"></a>
<h4 id="wq762">要列出归档文件的成员文件</h4>
<p><span class="bold">pax</span> [&nbsp; <a href="pax.htm#a143c176f"><span class="bold">-c&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1770"><span class="bold">-d&nbsp;</span></a>]
[&nbsp; <a href="pax.htm#a143c1775"><span class="bold">-n&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a1fi2160rodn"><span class="bold">-v&nbsp;</span></a>] [&nbsp;<span class="bold"> <a href="pax.htm#wc31199pxh">-H</a></span>&nbsp;| &nbsp;<span class="bold"> <a href="pax.htm#wc31199pxl">-L</a></span>&nbsp;] [&nbsp; <a href="pax.htm#a143c1771"><span class="bold">-f&nbsp;</span></a> <span class="italic">Archive&nbsp;</span>] [&nbsp; <a href="pax.htm#a143c177e"><span class="bold">-s&nbsp;</span></a><span class="italic">ReplacementString&nbsp;</span>...&nbsp;] [&nbsp; <a href="pax.htm#a143c1788"><span class="bold">-x&nbsp;</span></a><span class="italic">Format&nbsp;</span>] [&nbsp; <a href="pax.htm#uenni1d6harr"><span class="bold">-o&nbsp;</span></a><span class="italic">Options&nbsp;</span>] [&nbsp;<span class="italic">Pattern&nbsp;</span>...&nbsp;]</p>
<a name="wq763"></a>
<h4 id="wq763">使用 -r 标志来抽取归档文件</h4>
<p><span class="bold">pax</span>  <a href="pax.htm#a143c177d"><span class="bold">-r</span></a>
[&nbsp; <a href="pax.htm#a143c176f"><span class="bold">-c&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1770"><span class="bold">-d&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1772"><span class="bold">-i&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1773"><span class="bold">-k&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1775"><span class="bold">-n&nbsp;</span></a>]
[&nbsp; <a href="pax.htm#a143c1783"><span class="bold">-u&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a1fi2160rodn"><span class="bold">-v&nbsp;</span></a>] [&nbsp;<span class="bold"> <a href="pax.htm#wc31199pxh">-H</a></span>&nbsp;|&nbsp;<span class="bold"> <a href="pax.htm#wc31199pxl">-L</a></span>&nbsp;] [&nbsp; <a href="pax.htm#a143c1771"><span class="bold">-f&nbsp;</span></a><span class="italic">Archive&nbsp;</span>] [&nbsp; <a href="pax.htm#uenni1d6harr"><span class="bold">-o&nbsp;</span></a><span class="italic">Options&nbsp;</span>] [&nbsp; <a href="pax.htm#a143c1776"><span class="bold">-p&nbsp;</span></a><span class="italic">String&nbsp;</span>...&nbsp;]
[&nbsp; <a href="pax.htm#a143c177e"><span class="bold">-s&nbsp;</span></a><span class="italic">ReplacementString&nbsp;</span>...&nbsp;] [&nbsp; <a href="pax.htm#a143c1788"><span class="bold">-x&nbsp;</span></a><span class="italic">Format&nbsp;</span>] &nbsp;[&nbsp;<span class="italic">Pattern&nbsp;</span>...&nbsp;]</p>
<a name="wq764"></a>
<h4 id="wq764">使用 -w 标志来写归档文件</h4>
<p><span class="bold">pax</span>  <a href="pax.htm#a143c1787"><span class="bold">-w</span></a>
[&nbsp; <a href="pax.htm#a143c1770"><span class="bold">-d&nbsp;</span></a>] [<span class="bold">&nbsp;</span> <a href="pax.htm#a143c1772"><span class="bold">-i&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1782"><span class="bold">-t&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1783"><span class="bold">-u&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a1fi2160rodn"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c178c"><span class="bold">-X&nbsp;</span></a>]
[&nbsp; <a href="pax.htm#wc31199pxh"><span class="bold">-H</span></a>&nbsp;| &nbsp; <a href="pax.htm#wc31199pxl"><span class="bold">-L</span></a>&nbsp;] [&nbsp; <a href="pax.htm#a143c176e"><span class="bold">-b&nbsp;</span></a><span class="italic">Blocking&nbsp;</span>] [&nbsp;[&nbsp; <a href="pax.htm#a175c1d8a"><span class="bold">-a&nbsp;</span></a>] &nbsp; <a href="pax.htm#a143c1771"><span class="bold">-f&nbsp;</span></a><span class="italic">Archive&nbsp;</span>] [&nbsp; <a href="pax.htm#uenni1d6harr"><span class="bold">-o&nbsp;</span></a><span class="italic">Options&nbsp;</span>] [&nbsp; <a href="pax.htm#a143c177e"><span class="bold">-s&nbsp;</span></a><span class="italic">ReplacementString&nbsp;</span>...&nbsp;] [&nbsp; <a href="pax.htm#a143c1788"><span class="bold">-x&nbsp;</span></a><span class="italic">Format&nbsp;</span>] [&nbsp;<span class="italic">File&nbsp;</span>...&nbsp;]</p>
<a name="wq765"></a>
<h4 id="wq765">使用 -r 和 -w 标志来复制文件</h4>
<p><span class="bold">pax</span>  <a href="pax.htm#a143c177d"><span class="bold">-r</span></a>  <a href="pax.htm#a143c1787"><span class="bold">-w</span></a> [&nbsp; <a href="pax.htm#a143c1770"><span class="bold">-d&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1772"><span class="bold">-i&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1773"><span class="bold">-k&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1774"><span class="bold">-l&nbsp;</span></a>]
[&nbsp; <a href="pax.htm#a143c1775"><span class="bold">-n&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1782"><span class="bold">-t&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c1783"><span class="bold">-u&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a1fi2160rodn"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="pax.htm#a143c178c"><span class="bold">-X&nbsp;</span></a>]
[&nbsp; <a href="pax.htm#wc31199pxh"><span class="bold">-H</span></a>&nbsp;| &nbsp; <a href="pax.htm#wc31199pxl"><span class="bold">-L</span></a>&nbsp;] [&nbsp; <a href="pax.htm#a143c1776"><span class="bold">-p&nbsp;</span></a><span class="italic">String&nbsp;</span>...&nbsp;]
[&nbsp; <a href="pax.htm#uenni1d6harr"><span class="bold">-o&nbsp;</span></a><span class="italic">Options&nbsp;</span>] [&nbsp; <a href="pax.htm#a143c177e"><span class="bold">-s&nbsp;</span></a><span class="italic">ReplacementString&nbsp;</span>...&nbsp;] [&nbsp; <a href="pax.htm#a143c1788"><span class="bold">-x&nbsp;</span></a><span class="italic">Format&nbsp;</span>] [&nbsp;<span class="italic">File&nbsp;</span>...&nbsp;] <span class="italic">Directory</span></p>
<a name="a143c175a"></a>
<h3 id="a143c175a">描述</h3>
<a name="a39db08f607stue"></a>
<p id="a39db08f607stue"><span class="bold">pax</span> 命令抽取以及写归档文件的成员文件；
写归档的成员文件列表；以及复制目录层次结构。
<span class="bold">-r</span> 和 <span class="bold">-w</span> 标志指定了归档操作的类型。</p>
<p></p><blockquote><span class="bold">注：</span><span class="bold">pax</span> 主动疏松正在恢复的文件。
如果文件有植入了 NULL 值的块间对齐和大小特定的区域，<span class="bold">pax</span> 不会为那些文件系统块分配物理空间。
文件的大小（以字节计）保持不变，但在文件系统内实际占用的空间只是非 NULL 区域。</blockquote>
<a name="a143c1766"></a>
<h4 id="a143c1766">列出已归档文件的成员文件（列表方式）</h4>
<a name="a39db08f747stue"></a>
<p id="a39db08f747stue">当 <span class="bold">-r</span> 和 <span class="bold">-w</span> 标志均未指定时，<span class="bold">pax</span> 命令列出所有读取自标准输入的归档文件的成员文件。
如果指定 <span class="italic">Pattern</span> 参数，只有路径名匹配指定模式的成员文件写到标准输出。
如果指定的文件是一个目录，目录包含的文件层次结构也会写出。
当 <span class="bold">-r</span> 和 <span class="bold">-w</span> 标志均未指定时，可以指定 <span class="bold">-c</span>、<span class="bold">-d</span>、<span class="bold">-f</span>、<span class="bold">-n</span>、<span class="bold">-s</span> 和 <span class="bold">-v</span> 标志以及 <span class="italic">Pattern</span> 参数。</p>
<a name="a143c175c"></a>
<h4 id="a143c175c">使用 -r 标志抽取归档文件（读取方式）</h4>
<a name="a39db08f780stue"></a>
<p id="a39db08f780stue">当指定了 <span class="bold">-r</span> 标志而未指定 <span class="bold">-w</span> 标志时，<span class="bold">pax</span>
 命令抽取读取自标准输入的归档文件的所有成员文件。
如果指定了 <span class="italic">Pattern</span> 参数，只有路径名匹配指定模式的成员文件写到标准输出。
如果指定的文件是一个目录，目录包含的文件层次结构也会抽取。
<span class="bold">-r</span> 标志可以与 <span class="bold">-c</span>、<span class="bold">-d</span>、<span class="bold">-f</span>、<span class="bold">-i</span>、<span class="bold">-k</span>、<span class="bold">-n</span>、<span class="bold">-s</span>、<span class="bold">-u</span> 和 <span class="bold">-v</span> 标志，以及 <span class="italic">Pattern</span> 参数一起指定。</p>
<a name="a39db08f812stue"></a>
<p id="a39db08f812stue">抽取出的文件的存取和修改时间与归档文件相同。
抽取文件的文件方式与它们归档时相同，除非受到用户的缺省文件创建方式（<span class="bold">umask</span>）的影响。抽取文件的 <span class="bold">S_ISUID</span> 和 <span class="bold">S_ISGID</span> 位被清除。</p>
<a name="a39db08f925stue"></a>
<p id="a39db08f925stue">如果需要中间目录来抽取一个归档成员，<span class="bold">pax</span> 命令创建目录，将其存取许可权设为 <span class="bold">S_IRWXU</span>、<span class="bold">S_IRWXG</span> 和 <span class="bold">S_IRWXO</span> 掩码值的按位或（OR）。</p>
<a name="a39db08f952stue"></a>
<p id="a39db08f952stue">如果选定的归档格式支持已链接文件的规范，当抽取归档文件后如果这些文件不能链接，就会产生错误。</p>
<a name="a143c1761"></a>
<h4 id="a143c1761">使用 -w 标志写归档文件（写方式）</h4>
<a name="a39db090065stue"></a>
<p id="a39db090065stue">当指定了 <span class="bold">-w</span> 标志而未指定 <span class="bold">-r</span> 标志时，<span class="bold">pax</span> 命令将 <span class="italic">File</span> 参数指定文件的内容以归档格式写到标准输出。
如果未指定 <span class="italic">File</span> 参数，从标准输入读取要复制的文件列表（每行一个文件）。
当 <span class="italic">File</span> 参数指定了一个目录时，将写目录包含的所有文件。
<span class="bold">-w</span> 标志可以与 <span class="bold">-a</span>、<span class="bold">-b</span>、<span class="bold">-d</span>、<span class="bold">-f</span>、<span class="bold">-i</span>、<span class="bold">-o</span>、<span class="bold">-s</span>、<span class="bold">-t</span>、<span class="bold">-u</span>、<span class="bold">-v</span>、<span class="bold">-x</span> 和 <span class="bold">-X</span> 标志，以及 <span class="italic">File</span> 参数一起指定。</p>
<a name="a39db090089stue"></a>
<p id="a39db090089stue">当指定超过 100 个字符的 United States Tape Archiver（USTAR）格式的路径名时，要记住路径名由前缀缓冲区、一个 /（斜线）和名称缓冲区组成。
前缀缓冲区最大可以有 155 个字符，名称缓冲区最大可容纳 100 个字符。
如果路径名无法以斜线分割成这两部分，就不能归档。
这个限制是由于 <span class="bold">tar</span> 归档文件头部分的结构，而且必须维护使其符合标准和向下兼容。</p>
<a name="a143c1763"></a>
<h4 id="a143c1763">用 -r 和 -w 标志复制文件（复制方式）</h4>
<a name="a39db090103stue"></a>
<p id="a39db090103stue">当一同指定 <span class="bold">-r</span> 和 <span class="bold">-w</span> 标志时，<span class="bold">pax</span> 命令将由 <span class="italic">File</span> 参数指定的文件复制到 <span class="italic">Directory</span> 参数指定的目的地目录中。
如果没有指定文件，从标准输入读取要复制的文件列表（每行一个文件）。
如果指定的文件是一个目录，目录包含的文件层次结构也会复制。
<span class="bold">-r</span> 和 <span class="bold">-w</span> 标志可以与 <span class="bold">-d</span>、<span class="bold">-i</span>、<span class="bold">-k</span>、<span class="bold">-l</span>、<span class="bold">-o</span>、<span class="bold">-p</span>、<span class="bold">-n</span>、<span class="bold">-s</span>、<span class="bold">-t</span>、<span class="bold">-u</span>、<span class="bold">-v</span> 和 <span class="bold">-X</span> 标志以及 <span class="italic">File</span> 参数一起指定。<span class="italic">Directory</span> 参数必须指定。</p>
<a name="a39db090146stue"></a>
<p id="a39db090146stue">复制的文件与将它们写入到归档文件然后抽取出来一样，除非源文件和复制的文件之间可能有硬链接。</p>
<a name="d7f4d46053jani"></a>
<h4 id="d7f4d46053jani">用 -o 标志修改归档算法</h4>
<a name="a39db090338stue"></a>
<p id="a39db090338stue">使用 <span class="bold">-o</span> 标志根据关“键字-值”对来修改归档算法。
“关键字-值”对必须遵循正确的归档格式。
有效关键字及其行为的列表在后继的 <span class="bold">-o</span> 标志的描述中给出。</p>
<a name="wc311994pxv"></a>
<h4 id="wc311994pxv">进一步的注意事项</h4>
<p>在读取或复制方式下，如果需要中间目录来抽取归档成员，<span class="bold">pax</span> 执行与 <span class="bold">mkdir()</span> 子例程相同的操作，中间目录作为路径参数，值 <span class="bold">S_IRWXU</span> 作为方式参数。</p>
<p>如果没有任何指定的模式或文件操作数与至少一个文件或归档成员匹配，<span class="bold">pax</span> 为每个不匹配的模式或文件操作数写一条诊断消息到标准错误，并以错误状态退出。</p>
<p>遍历目录过程中，<span class="bold">pax</span> 将检测无限循环；例如，进入一个作为最后访问文件的祖先的先前访问的目录。
在检测到无限循环时，<span class="bold">pax</span> 将诊断消息写到标准错误然后终止。</p>
<p>当 <span class="bold">pax</span> 处于读取方式或列表方式，使用 <span class="bold">-x pax</span> 归档格式和文件名、链接名、所有者名或任何其它扩展的头记录中的字段，这些字段无法从 <span class="bold">pax</span> UTF8 编码集格式转换到当前编码集和语言环境，<span class="bold">pax</span> 写诊断消息到标准错误，如 <span class="bold">-o invalid=</span> 选项所描述的那样处理文件，然后处理归档中的下一个文件。</p>
<a name="a143c1768"></a>
<h3 id="a143c1768">变量</h3>
<p></p>
<a name="wq766"></a>
<table id="wq766" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="25%">
<a id="a143c1769" name="a143c1769"></a><span class="italic">Directory</span></td>
<td width="75%">复制文件时指定目的地目录的路径。</td>
</tr>
<tr>
<td>
<a id="a143c176a" name="a143c176a"></a><span class="italic">File</span></td>
<td>指定要复制或归档的文件的路径。如果没有文件匹配 <span class="italic">File</span> 参数，<span class="bold">pax</span> 命令检测错误、退出并写诊断消息。</td>
</tr>
<tr>
<td>
<a id="a143c176b" name="a143c176b"></a><span class="italic">Pattern</span></td>
<td>指定匹配一个或多个归档成员路径的模式。
/&nbsp;（反斜杠）字符在 <span class="italic">Pattern</span> 参数中无法标识，并使后继字符不再含有特殊意义。
如果未指定 <span class="italic">Pattern</span> 参数，将选择归档中的所有成员。

<a name="a143c176c"></a>
<p id="a143c176c">如果指定了 <span class="italic">Pattern</span> 参数，但未发现匹配指定模式的归档成员，<span class="bold">pax</span> 命令检测错误、退出并写诊断消息。</p></td>
</tr>
</tbody>
</table>
<a name="a143c176d"></a>
<h3 id="a143c176d">标志</h3>
<p></p>
<a name="wq767"></a>
<table id="wq767" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="25%">
<a id="a175c1d8a" name="a175c1d8a"></a><span class="bold">-a</span></td>
<td width="75%">将文件附加到归档末尾。
<p></p><blockquote><span class="bold">注：</span>流式磁带设备不允许附加。</blockquote></td>
</tr>
<tr>
<td>
<a id="a143c176e" name="a143c176e"></a><span class="bold">-b</span><span class="italic"> Blocking</span></td>
<td>指定输出的块大小。<span class="italic">Blocking</span> 参数指定一个正的十进制整数值来指定每块的字节数。
符合 POSIX2 的应用程序不应当指定大于 32256 的块大小值。设备和归档格式可以给分块强加限制。
分块在输入时自动确定。
创建归档时的缺省分块取决于归档格式。
（请参阅 <span class="bold">-x</span> 标志定义。）
<a name="a175c1d8b"></a>
<p id="a175c1d8b"><span class="italic">Blocking</span> 参数的值可以是下列之一：</p> 
<dl>
<dt class="bold"><span class="italic">Integer</span><span class="bold"> b</span></dt>
<dd>以字节指定块大小为 <span class="italic">Integer</span> 参数乘 512 所指定的正十进制整数的值。
</dd>
<dt class="bold"><span class="italic">Integer</span><span class="bold"> k</span></dt>
<dd>以字节指定块大小为 <span class="italic">Integer</span> 参数乘 1024 所指定的正十进制整数的值。
</dd>
<dt class="bold"><span class="italic">Integer</span><span class="bold"> m</span></dt>
<dd>以字节指定块大小为 <span class="italic">Integer</span> 参数乘 1024 x 1024 所指定的正十进制整数的值。
</dd>
<dt class="bold"><span class="italic">Integer</span><span class="bold">+</span><span class="italic">Integer</span></dt>
<dd>以字节指定块大小为各 <span class="italic">Integer</span> 参数所指定的正十进制整数的和。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a143c176f" name="a143c176f"></a><span class="bold">-c</span></td>
<td>匹配所有文件和归档成员，除了那些用 <span class="italic">Pattern</span> 参数指定的。</td>
</tr>
<tr>
<td>
<a id="a143c1770" name="a143c1770"></a><span class="bold">-d</span></td>
<td>使正在复制、归档或抽取的目录仅匹配目录本身而不是目录的内容。</td>
</tr>
<tr>
<td>
<a id="a143c1771" name="a143c1771"></a><span class="bold">-f</span><span class="italic"> Archive</span></td>
<td>指定用作取代标准输入（未指定 <span class="bold">-w</span> 标志时）或标准输出（指定了 <span class="bold">-w</span> 标志但未指定 <span class="bold">-r</span> 标志时）的归档文件的路径。当指定 <span class="bold">-a</span> 标志选项时，任何写到归档的文件都附加到归档尾部。</td>
</tr>
<tr>
<td>
<a id="wc31199pxh" name="wc31199pxh"></a><span class="bold">-H</span></td>
<td>如果引用目录的符号链路在命令行指定，<span class="bold">pax</span> 将链接名称作为文件层次结构的名称，对来源于链接中引用的目录中的文件层次结构归档。
缺省情况下，<span class="bold">pax</span> 归档符号链接自身。</td>
</tr>
<tr>
<td>
<a id="a143c1772" name="a143c1772"></a><span class="bold">-i</span></td>
<td>交互地重命名文件或归档。对每个匹配 <span class="italic">Pattern</span> 参数的归档成员或匹配 <span class="italic">File</span> 参数的文件，写一个提示到包含文件或归档成员名称的显示设备。
然后从显示设备读取一行。如果该行为空，略过文件或归档成员。如果该行由单独一个句号构成，处理文件或归档成员但不修改其名称。
否则，其名称替换成行的内容。</td>
</tr>
<tr>
<td>
<a id="a143c1773" name="a143c1773"></a><span class="bold">-k</span></td>
<td>防止 <span class="bold">pax</span> 命令改写现有文件。</td>
</tr>
<tr>
<td>
<a id="a143c1774" name="a143c1774"></a><span class="bold">-l</span></td>
<td>复制文件时链接文件。只要可能就在源和目的层次结构间建立硬链接。</td>
</tr>
<tr>
<td>
<a id="wc31199pxl" name="wc31199pxl"></a><span class="bold">-L</span></td>
<td>如果引用目录的符号链接在命令行指定或者在遍历文件层次结构期间遇到，<span class="bold">pax</span> 将链接名称作为文件层次结构的名称，对来源于链接中引用的目录的文件层次结构归档。
缺省情况下，<span class="bold">pax</span> 归档符号链接自身。</td>
</tr>
<tr>
<td>
<a id="a143c1775" name="a143c1775"></a><span class="bold">-n</span></td>
<td>选择匹配每个 <span class="italic">Pattern</span> 参数的第一个归档成员。只有一个归档成员匹配一个模式。</td>
</tr>
<tr>
<td>
<a id="uenni1d6harr" name="uenni1d6harr"></a><span class="bold">-o</span><span class="italic"> Options</span></td>
<td>根据定义在 <span class="italic">Options</span> 参数中的“关键字-值”对来修改归档算法。“关键字-值”对必须按下列格式：

<a name="d7f4d46961jani"></a>
<p id="d7f4d46961jani"><span class="italic">keyword:=value,keyword:=value,...</span></p> 
<p>某些关键字只应用于特定的文件格式，这一点在每个描述中指出。
<span class="bold">pax</span> 将忽略使用不适用于正在处理的文件格式的关键字。</p> 
<p>关键字可以空格开始。
<span class="italic">value</span> 字段由零个或更多的字符构成；在 <span class="italic">value</span> 中，任何文字逗号必须以反斜杠 (\) 开始。
<span class="italic">Options</span> 中作为最终字符的逗号，或后面只跟有空格作为最终字符的逗号，都将被忽略。
可以指定多个 <span class="bold">-o</span> 选项。
如果给这些多个 <span class="bold">-o</span> 选项的关键字冲突，在命令行序列中晚出现的关键字和值有优先权；早出现的值被忽略。</p> 
<p>下列“关键字-值”对支持指出的文件格式：</p> 
<a name="d7f4d47118jani"></a>
<p id="d7f4d47118jani"><span class="bold">datastream</span>=<span class="italic">pathname</span> 和 <span class="bold">datastr_size</span>=<span class="italic">size</span>（适用于所有文件格式。）</p> 
<a name="d7f4d47157jani"></a>
<p id="d7f4d47157jani"><span class="bold">datastream</span> 关键字表示输入的归档文件不属于一个文件格式；相反，它是来自标准输入设备的数据流。
因此，数据应该归档为 <span class="bold">-x</span> 标志标识的格式的常规文件。
数据流的文件名应该在 <span class="italic"> pathname</span> 参数中指定，并包括调用命令的人员的标识、组标识和表示文件方式的 <span class="bold">umask</span>。</p> 
<p></p><blockquote><span class="bold">注：</span><span class="bold">datastream</span> 关键字没有缺省变量大小。
必须指定一个。</blockquote> 
<a name="d7f4d47237jani"></a>
<p id="d7f4d47237jani"><span class="bold">datastr_size</span> 关键字使用十进制数字表示数据流输入的字节数大小。
如果 <span class="bold">pax</span> 命令在读取 <span class="italic">size</span> 参数前遇到文件结束（EOF）字符，它会为归档文件填入空值。空值使归档文件和 <span class="italic">size</span> 参数指定的大小相同。如果归档文件的数据超出指定的大小，<span class="bold">pax</span> 命令将归档文件截断为 <span class="italic">size</span> 参数指定的大小。<span class="bold">pax</span> 命令还停止接收输入，并关闭归档文件。</p> 
<p></p><blockquote><span class="bold">注：</span>可以指定关键字对的多个实例。如果给相同关键字分配了不同值，<span class="bold">pax</span> 命令使用最后分配给关键字的值来执行 <span class="bold">-o</span> 标志。</blockquote> 
<p><span class="bold">delete</span>=<span class="italic">pattern</span>（仅适用于 <span class="bold">-x pax</span> 格式。）</p> 
<p>在用于写或复制方式的时候，<span class="bold">pax</span> 在它产生的扩展头记录中省略所有匹配 <span class="italic">pattern</span> 的关键字。
在用于读或列出方式的时候，<span class="bold">pax</span> 忽略扩展头记录中任何匹配 <span class="italic">pattern</span> 的关键字。
在所有情况下，使用标准 shell 模式匹配记号来完成匹配。
例如，<tt>-o delete=security.*</tt> 禁止与安全性相关的信息。</p></td>
</tr>
</tbody>
</table><p class="indatacontent"> </p>
<a name="wq768"></a>
<table id="wq768" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="25%"><span class="bold">-o</span><span class="italic"> Options（续）</span></td>
<td width="75%">
<p>&nbsp;</p> 
<p><span class="bold">exthdr.name</span>=<span class="italic">string</span>（仅适用于 <span class="bold">-x pax</span> 格式。）</p> 
<p>该关键字允许用户控制用于扩展首记录的写进 <span class="bold">ustar</span> 头块的名称。名称是做过下列字符替换后 <span class="italic">string</span> 的内容：</p> 
<dl>
<dt class="bold"><span class="underlined"><span class="italic-underlined">string</span> 包含：</span></dt>
<dd><span class="underlined">被替换：</span>
</dd>
<dt class="bold">%d</dt>
<dd>文件的目录名，等同于 <span class="bold">dirname</span> 实用程序在已转换路径名上的结果。
</dd>
<dt class="bold">%f</dt>
<dd>文件名，等同于 <span class="bold">basename</span> 实用程序在已转换路径名上的结果。
</dd>
<dt class="bold">%%</dt>
<dd>一个 % 字符
</dd>
</dl> 
<p>其它任何 <span class="italic">string</span> 中的 % 字符产生未定义的结果。
如果该“关键字-值”对未在 <span class="bold">-o</span><span class="italic"> Options</span> 列表中指定，名称的缺省值是：</p> 
<p>%d/PaxHeaders/%f</p> 
<p><span class="bold">globexthdr.name=</span><span class="italic">string</span>（仅适用于 <span class="bold">-x pax</span> 格式。）</p> 
<p>当带有适当选项以写或复制方式使用时，<span class="bold">pax</span> 创建全局扩展头记录，其 <span class="bold">ustar</span> 头块被 <span class="bold">pax</span> 的先前版本按照常规文件处理。
该关键字允许用户控制用于扩展头记录的写进 <span class="bold">ustar</span> 头块的名称。
名称是做过下列字符替换后 <span class="italic">string</span> 的内容：</p> 
<dl>
<dt class="bold"><span class="underlined"><span class="italic-underlined">string</span> 包含：</span></dt>
<dd><span class="underlined">被替换：</span>
</dd>
<dt class="bold">%n</dt>
<dd>归档中表示全局扩展头记录序列号的整数（从 1 开始）
</dd>
<dt class="bold">%%</dt>
<dd>一个 % 字符
</dd>
</dl> 
<p>其它任何 <span class="italic">string</span> 中的 % 字符产生未定义的结果。
如果该“关键字-值”对未在<span class="bold">-o</span><span class="italic"> Options</span> 列表中指定，名称的缺省值是</p> 
<p><span class="bold">$TMPDIR</span>/GlobalHead.%n</p> 
<p><span class="bold">$TMPDIR</span> 或者是 <span class="bold">TMPDIR</span> 环境变量的值，或者是 <span class="bold">/tmp</span>，如果 <span class="bold">TMPDIR</span> 取消设置。</p> 
<p><span class="bold">invalid</span>=<span class="italic">action</span>（仅适用于 <span class="bold">-x pax</span> 格式。）</p> 
<p>该关键字允许用户控制在扩展头记录中遇到如下值时 <span class="bold">pax</span> 采取的操作：</p> 
<ul>
<li>处于读取或复制方式，在目的地层次结构中无效，或</li>
<li>处于列表方式，不能写入编码集和当前语言环境。</li></ul></td>
</tr>
</tbody>
</table><p class="indatacontent"> </p>
<a name="wq769"></a>
<table id="wq769" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="25%"><span class="bold">-o</span><span class="italic"> Options（续）</span></td>
<td width="75%">
<p><span class="bold">pax</span> 标识这些无效值：</p> 
<ul>
<li>在读取或复制方式，目的地层次结构中包含无效字符编码的文件名或链接名。
（例如，名称可能包含嵌入的 NULL。）</li>
<li>在读取或复制方式，长于目的地层次结构允许的最大值的文件名或链接名（对于路径名的组成部分或整个路径名）。</li>
<li>在列表方式，任何不能写入编码集和当前语言环境的字符串值（文件名、链接名、用户名等）
。</li></ul> 
<p>支持这些 <span class="italic">action</span> 参数的相互排斥的值：</p> 
<ul>
<li><span class="bold">bypass</span> 
<p>在读取或复制方式，<span class="bold">pax</span> 忽略文件，不改变目的层次结构。
在列表方式，<span class="bold">pax</span> 写文件所有有效的请求值，但未指定写无效值的方法。</p></li>
<li><span class="bold">rename</span> 
<p>在读取或复制方式，<span class="bold">pax</span> 运行就如同 <span class="bold">-i</span> 标志对每个有无效文件名或链接名值的文件有效，它允许用户交互地提供替换名。
在列表方式，<span class="bold">pax</span>
 等同于 <span class="bold">bypass</span> 的操作。</p></li>
<li><span class="bold">UTF8</span> 
<p>当使用在读取、复制或列表方式，且文件名、链接名、所有者名或任何扩展头记录中的其它字段不能由 <span class="bold">pax UTF8</span> 编码集格式转换到当前编码集或语言环境，<span class="bold">pax</span> 为名称使用实际的 UTF8 编码。</p></li>
<li><span class="bold">write</span> 
<p>在读取或复制方式，<span class="bold">pax</span> 写文件、转换或截断名称，不考虑这是否可能会覆盖现有的具有有效名称的文件。
在列表方式，<span class="bold">pax</span>
 等同于 <span class="bold">bypass</span> 的操作。</p> 
<p>如果未指定 <span class="bold">-o invalid=</span><span class="italic">action</span>，<span class="bold">pax</span> 像已指定 <span class="bold">bypass</span> 操作那样执行。任何由 <span class="bold">-o invalid=</span><span class="italic">actions</span> 允许的对现有文件的覆盖受到权限（<span class="bold">-p</span>）和修改时间（<span class="bold">-u</span>）的限制，如果也指定了 <span class="bold">-k</span> 标志就会禁止覆盖。</p></li></ul> 
<p><span class="bold">linkdata</span>（仅适用于 <span class="bold">-x pax</span> 格式。）</p> 
<p>在写方式下，<span class="bold">pax</span> 将文件内容写入归档，即使文件仅是到一个内容已写入归档的文件的硬链接。</p></td>
</tr>
</tbody>
</table><p class="indatacontent"> </p>
<a name="wq770"></a>
<table id="wq770" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="25%"><span class="bold">-o</span><span class="italic"> Options（续）</span></td>
<td width="75%">
<p><span class="bold">listopt</span>=<span class="italic">format</span>（适用于所有文件格式。）</p> 
<p>该关键字指定当 <span class="bold">-v</span> 选项在列表方式中指定时，产生的目录的输出格式。
为避免多义性，该“关键字-值”对应该用作跟在 <span class="bold">-o</span> 标志后的唯一或最终“关键字-
值”对；可选参数剩余的所有字符被认为是格式字符串的一部分。
如果指定了多个 <span class="bold">-o listopt=format</span> 选项，格式字符串被认为是单独的、连接的字符串（以命令行顺序评估）。
请参考<a href="pax.htm#wc31299lsmd"><span class="bold">列表方式格式规范</span></a>
一节以获得更多信息。</p> 
<p><span class="bold">times</span>（仅适用于 <span class="bold">-x pax</span> 格式。）</p> 
<p>在用于写或复制方式的时候，<span class="bold">pax</span> 包含每个文件的 atime、ctime 和 mtime 扩展头记录。</p></td>
</tr>
</tbody>
</table>
<a name="wq771"></a>
<h4 id="wq771">扩展头关键字</h4>
<p>（仅适用于 <span class="bold">-x pax</span> 格式。）</p>
<p>如果指定了 <span class="bold">-x pax</span> 格式，那么以下列表中定义的任何关键字和值
可以以下面两种方式之一用作 <span class="bold">-o</span> 标志的参数：</p>
<p><span class="italic">keyword=value</span></p>
<p></p><blockquote>在用于写或复制方式的时候，这些“关键字－值”对写到新归档中的全局扩展头记录中。
在用于读取或列出方式的时候，这些“关键字－值”对就像它们存在于正在读取的归档的全局扩展头记录中一样起作用。
在这两种情况下，给定的值适用于所有的单独扩展头记录中没有赋予指定关键字值的文件。</blockquote>
<p><span class="italic">keyword</span><span class="bold">:</span>=<span class="italic">value</span></p>
<p></p><blockquote>在用于写或复制方式的时候，这些“关键字－值”对写到新归档中每个文件的扩展头记录中。
在用于读取或列出方式的时候，这些“关键字－值”对就像它们存在于正在读取的归档的全局扩展头记录中一样起作用。
在这两种情况下，给定的值覆盖了全局或指定文件的扩展头记录中的指定关键字的任何值。</blockquote>
<p><span class="bold">atime</span></p>
<p>以下文件的文件存取时间，等于文件的 stat 结构的 st_atime 成员的值。</p>
<p><span class="bold">charset</span></p>
<p>用于编码以下文件中的数据的字符集名称。
定义此表中的条目来参考已知的标准：</p>
<a name="wq772"></a>
<table id="wq772" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="53%"><span class="underlined"><span class="italic-underlined">值</span></span></td>
<td width="46%"><span class="underlined">正式标准</span></td>
</tr>
<tr>
<td>『ISO-IR 646 1990』</td>
<td>ISO/IEC 646 IRV</td>
</tr>
<tr>
<td>『ISO-IR 8859 1 1987』</td>
<td>ISO 8859-1</td>
</tr>
<tr>
<td>『ISO-IR 8859 2 1987』</td>
<td>ISO 8859-2</td>
</tr>
<tr>
<td>『ISO-IR 10646 1993』</td>
<td>ISO/IEC 10646</td>
</tr>
<tr>
<td>『ISO-IR 10646 1993 UTF8』</td>
<td>ISO/IEC 10646, UTF8 编码</td>
</tr>
<tr>
<td>『BINARY』</td>
<td>无</td>
</tr>
</tbody>
</table>
<p>编码包含在仅作为信息的扩展头中；当如所述使用 <span class="bold">pax</span> 的时候，它不会将文件数据转换为其它编码。
BINARY 项表示未经编码的二进制数据。</p>
<p><span class="bold">comment</span></p>
<p>用作注释的一系列字符。<span class="bold">pax</span> 忽略了值字段中的所有字符。</p>
<p><span class="bold">ctime</span></p>
<p>随后文件的文件创建时间，等于文件的 stat 结构的 st_ctime 成员的值。</p>
<p><span class="bold">gid</span></p>
<p>拥有文件的组的组标识，表示为使用来自 ISO/IEC 646 的数字的十进制数。该记录覆盖了以下头块中的 <span class="italic">gid</span> 字段。在使用于写或复制方式的时候，
<span class="bold">pax</span> 包含组标识大于 99,999,999 的每个文件的 gid 扩展头记录。</p>
<p><span class="bold">gname</span></p>
<p>以下文件的组，格式化为组数据库中的组名称。
该记录覆盖了以下头块中的 <span class="italic">gid</span> 和 <span class="italic">gname</span> 字段，以及任何 <span class="italic">gid</span> 扩展头记录。在使用于读取、复制或列表方式的时候，<span class="bold">pax</span> 将头记录中 UTF8 编码的名称
转换为适用于接收系统上组数据库的字符集。
如果任何一个 UTF8 字符不能转换，而且未指定 <span class="bold">-o invalid=UTF8</span> 选项，那么结果是不确定的。
在使用于写或复制方式的时候，<span class="bold">pax</span> 包含那些
组名称不能完全使用可移植字符集中的字母和数字表示的每个文件的 gname 扩展头记录。</p>
<p><span class="bold">linkpath</span></p>
<p>创建到另一个以前归档的任何类型的文件上的链接的路径名。
该记录覆盖了以下 <span class="bold">ustar</span> 头块中的 <span class="italic">linkname</span> 字段。</p>
<p>以下的 <span class="bold">ustar</span> 头块确定了创建的链接类型，无论是硬链接还是符号链接。
在后一种情况下，链接路径的值为符号链接的内容。
<span class="bold">pax</span> 将链接的名称（符号链接的内容）从 UTF8 编码转换为适合本地文件系统的字符集。</p>
<p>在使用于写或复制方式的时候，<span class="bold">pax</span> 包含那些
路径名不能完全使用可移植字符集中除了 NULL 之外的成员表示的每个链接的链接扩展头记录。</p>
<p><span class="bold">mtime</span></p>
<p>以下文件的文件修改时间，等于文件的 stat 结构的 st_mtime 成员的值。
该记录覆盖了以下头块的 <span class="italic">mtime</span> 字段。如果进程有相应的特权，那么修改时间会恢复。</p>
<p><span class="bold">path</span></p>
<p>下列文件的路径名。该记录覆盖了以下头块中的 <span class="italic">name</span> 和 <span class="italic">prefix</span> 字段。
<span class="bold">pax</span> 将文件的路径名从 UTF8 编码转换为适合本地文件系统的字符集。
在使用于写或复制方式的时候，<span class="bold">pax</span> 包含那些
路径名不能完全使用可移植字符集中除了 NULL 之外的成员表示的每个文件的路径扩展头记录。</p>
<p><span class="bold">realtime</span>.<span class="italic">any</span></p>
<p>以 realtime 为前缀的关键字保留用作未来的 POSIX 实时标准化。<span class="bold">pax</span> 能标识但暗中忽略它们。</p>
<p><span class="bold">security</span>.<span class="italic">any</span></p>
<p>以 security 为前缀的关键字保留用作未来的 POSIX 安全标准化。
<span class="bold">pax</span> 能标识但暗中忽略它们。</p>
<p><span class="bold">size</span></p>
<p>文件的八位字节大小，表示为使用来自 ISO/IEC 646 的数字的十进制数。
该记录覆盖了以下头块中的 <span class="italic">size</span> 字段。
在使用于写或复制方式的时候，<span class="bold">pax</span> 包含每个大于 999,999,999,999 的文件的扩展头记录的大小。</p>
<p><span class="bold">uid</span></p>
<p>拥有文件的用户的用户标识，表示为使用来自 ISO/IEC 646 的数字的十进制数。
该记录覆盖了以下头块中的 <span class="italic">uid</span> 字段。在使用于写或复制方式的时候，<span class="bold">pax</span> 包含每个所有者标识大于 99,999,999 的文件的 uid 扩展头记录。</p>
<p><span class="bold">uname</span></p>
<p>以下文件的所有者，格式化为用户数据库中的用户名称。
该记录覆盖了以下头块中的 <span class="italic">uid</span> 和 <span class="italic">uname</span> 字段，以及所有 <span class="italic">uid</span> 扩展头记录。在使用于读取、复制或列表方式的时候，<span class="bold">pax</span> 将头记录中名称的 UTF8 编码转换为接收系统的用户数据库适用的字符集。
如果有任何一个 UTF8 字符不能转换，而且未指定 <span class="bold">-o invalid=UTF8</span> 选项，那么结果是不确定的。
在使用于写或复制方式的时候，<span class="bold">pax</span> 包含每个
用户名称不能完全使用可移植字符集中的字母和数字表示的文件的 uname 扩展头记录。</p>
<p>如果 <span class="italic">value</span> 字段长度为零，它除去所有头块字段、先前输入的扩展头值或相同名称的全局扩展头值。</p>
<p>如果扩展头记录中（或 <span class="bold">-o</span> 可选参数中) 的关键字覆盖或除去了 <span class="bold">ustar</span> 头块中的相应字段，<span class="bold">pax</span> 忽略头块字段的内容。</p>
<a name="wq773"></a>
<h4 id="wq773">扩展头关键字优先级</h4>
<p>（仅适用于 <span class="bold">-x pax</span> 格式。）</p>
<p>本节描述了选择应用于归档中文件的各种头记录和字段以及命令行选项的优先级。
当 <span class="bold">pax</span> 用于读取或列表方式时，它按这个顺序决定了文件属性：</p>
<ol type="1">
<li>如果使用了 <span class="bold">-o delete</span>=<span class="italic">keyword-prefix</span>，
若适用就从步骤（7）确定受影响的属性，否则忽略。</li>
<li>如果使用了 <span class="bold">-o keyword</span>:=NULL，忽略受影响的属性。</li>
<li>如果使用了 <span class="bold">-o keyword</span>:=<span class="italic">value</span>，
那么将 value 值分配给受影响的属性。</li>
<li>如果指定文件的扩展头记录中存在 <span class="italic">value</span>，
那么将 value 值分配给受影响的属性。在扩展头记录冲突的时候，头中最后给出的值优先。</li>
<li>如果使用了 <span class="bold">-o keyword</span>=<span class="italic">value</span>，
那么将 value 值分配给受影响的属性。</li>
<li>如果在全局扩展头记录中存在 value 值，那么将它分配给受影响的属性。
在全局扩展头记录冲突的时候，在全局头中最后给出的值优先。</li>
<li>否则，由 <span class="bold">ustar</span> 头块确定属性。</li></ol>
<a name="wq775"></a>
<table id="wq775" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="33%">
<a id="a143c1776" name="a143c1776"></a><span class="bold">-p</span><span class="italic"> String</span></td>
<td width="66%">  指定在抽取时保留或丢弃的一个或多个文件特征。
<span class="italic">String</span> 参数由
 <span class="bold">a</span>、<span class="bold">e</span>、<span class="bold">m</span>、<span class="bold">o</span> 和 <span class="bold">p</span> 字符构成。可以在同一个字符串中连接多个特征，
指定多个 <span class="bold">-p</span> 标志。规范有以下的意义：
<dl>
<dt class="bold"><span class="bold">a</span></dt>
<dd>  不保留文件访问时间。
</dd>
<dt class="bold"><span class="bold">e</span></dt>
<dd>  保留用户标识、组标识、文件方式、访问时间和修改时间。
</dd>
<dt class="bold"><span class="bold">m</span></dt>
<dd>  不保留文件修改时间。
</dd>
<dt class="bold"><span class="bold">o</span></dt>
<dd>  保留用户标识和组标识。
</dd>
<dt class="bold"><span class="bold">p</span></dt>
<dd>  保留文件方式。
</dd>
</dl> 
<a name="a143c177c"></a>
<p id="a143c177c">如果既没有指定 <span class="bold">-e</span> 也没有指定 <span class="bold">-o</span> 标志，或者用户标识和组标识由于某些原因没有保存下来，
那么 <span class="bold">pax</span> 命令不会设置文件方式的 <span class="bold">S_ISUID</span> 和 <span class="bold">S_ISGID</span> 位。
如果任意这些项保留失败，<span class="bold">pax</span> 命令将诊断消息写到标准错误上。保留任意项失败
会影响退出状态，但是不会导致抽取的文件被除去。
如果规范标志重复或互相冲突，那么最后指定的标志优先。
例如，如果指定了 <tt>-p&nbsp;eme</tt>，那么保留文件修改时间。</p></td>
</tr>
<tr>
<td>
<a id="a143c177d" name="a143c177d"></a><span class="bold">-r</span></td>
<td>  从标准输入读取归档文件。</td>
</tr>
<tr>
<td>
<a id="a143c177e" name="a143c177e"></a><span class="bold">-s</span><span class="italic"> ReplacementString</span></td>
<td>  使用 <span class="bold">ed</span> 命令的语法，根据替换表达式 <span class="italic">ReplacementString</span>，修改由 <span class="italic">Pattern</span> 或 <span class="italic">File</span> 参数指定的文件或归档成员名称。
替换表达式的格式如下：

<a name="a143c177f"></a>
<p id="a143c177f"><span class="bold">-s /<span class="bold-italic">old</span>/<span class="bold-italic">new</span>/[gp]</span></p> 
<a name="a143c1780"></a>
<p id="a143c1780">其中（类似于在 <span class="bold">ed</span> 命令中），<span class="italic">old</span> 是基本的正则表达式，而 <span class="italic">new</span> 可以包含
 <span class="bold">&amp;</span>（ & 符号）, \<span class="bold">n</span>（<span class="bold">n</span> 是一个数字）返回引用或子表达式匹配。
<span class="italic">old</span> 字符串也可以包含换行字符。</p> 
<a name="a143c1781"></a>
<p id="a143c1781">非空字符可以用作定界符（在示例中，/（反斜杠）为定界符）。
可以指定多个 <span class="bold">-s</span> 标志表达式；表达式以指定的顺序应用，
在第一次成功的替换后终止。可选的
结尾 <tt>g</tt> 字符的执行与在 <span class="bold">ed</span> 命令中类似。可选的结尾 <tt>p</tt> 字符使得成功的替换写出到标准错误上。
在读取和写归档时，忽略替换为空字符串的文件或归档成员名称。</p></td>
</tr>
<tr>
<td>
<a id="a143c1782" name="a143c1782"></a><span class="bold">-t</span></td>
<td>  使得输入文件的访问时间与它们被
 <span class="bold">pax</span> 命令读取之前相同。</td>
</tr>
<tr>
<td>
<a id="a143c1783" name="a143c1783"></a><span class="bold">-u</span></td>
<td>  忽略旧于同名的先前存在的文件或归档成员的文件。

<ul>
<li id="a143c1784">
<a name="a143c1784"></a>在抽取文件时，如果与文件系统中某文件同名的归档成员比该文件新，那么抽取该归档成员。</li>
<li id="a143c1785">
<a name="a143c1785"></a>在向归档文件中写文件的时候，如果与文件系统中某文件同名的归档成员
没有该文件新，那么该成员被取代。
如果指定了 <span class="bold">-a</span> 标志，那么
这会通过附加到归档结尾来完成。否则如果通过归档中实际替换或附加到归档来完成，就不指定。</li>
<li id="a143c1786">
<a name="a143c1786"></a>当复制文件到目的地路径时，如果源层次结构中的文件更新，目的地层次结构中的文件就会被源层次结构中的文件或者到源层次结构中文件的链接替换。</li></ul></td>
</tr>
<tr>
<td>
<a id="a1fi2160rodn" name="a1fi2160rodn"></a><span class="bold">-v</span></td>
<td>  写关于进程的信息。如果 <span class="bold">-r</span> 和 <span class="bold">-w</span> 标志均未指定，<span class="bold">-v</span> 标志产生详细的目录；否则归档成员路径名写到标准错误。</td>
</tr>
<tr>
<td>
<a id="a143c1787" name="a143c1787"></a><span class="bold">-w</span></td>
<td>  将文件以指定归档格式写到标准输出中。</td>
</tr>
<tr>
<td>
<a id="a143c1788" name="a143c1788"></a><span class="bold">-x</span><span class="italic"> Format</span></td>
<td>  指定输出归档格式。<span class="bold">pax</span>
 命令标识以下格式：
<dl>
<dt class="bold"><span class="bold">pax</span></dt>
<dd>缺省数据交换格式。特定字符归档文件的格式的缺省分块值是 10240。支持以 512 递增的从 512 到 32256 的分块值。
</dd>
<dt class="bold"><span class="bold">cpio</span></dt>
<dd>  扩展 <span class="bold">cpio</span> 交换格式。特定字符归档文件的格式的缺省分块值是 5120。
支持以 512 递增的从 512 到 32256 的分块值。
</dd>
<dt class="bold"><span class="bold">ustar</span></dt>
<dd>  扩展 <span class="bold">tar</span> 交换格式。特定字符归档文件的格式的缺省分块值是 10240。
支持以 512 递增的从 512 到 32256 的分块值。
</dd>
</dl> 
<a name="a143c178b"></a>
<p id="a143c178b">任何试图以不同于现有的归档格式附加到归档文件都会使得 <span class="bold">pax</span> 命令立即以非零退出状态退出。</p> 
<p>在复制方式下，如果未指定 <span class="bold">-x</span> 格式，<span class="bold">pax</span> 如同 <span class="bold">-x pax</span> 已指定一样运行。</p></td>
</tr>
<tr>
<td>
<a id="a143c178c" name="a143c178c"></a><span class="bold">-X</span></td>
<td>  当遍历路径名指定的文件层次结构时，<span class="bold">pax</span> 命令不会向下遍历到拥有不同设备标识的目录中。</td>
</tr>
</tbody>
</table>
<a name="a143c178d"></a>
<h3 id="a143c178d">标志交互作用和处理顺序</h3>
<a name="a39db090895stue"></a>
<p id="a39db090895stue">对文件或归档成员名称起作用的标志
（<span class="bold">-c</span>、<span class="bold">-i</span>、<span class="bold">-n</span>、<span class="bold">-s</span>、<span class="bold">-u</span> 和 <span class="bold">-v</span>）相互作用如下：</p>
<ul>
<li><a name="a143c178f"></a><span id="a143c178f" class="pk"></span>在抽取文件的时候，根据用户指定的、使用 <span class="bold">-c</span>、<span class="bold">-n</span> 和 <span class="bold">-u</span> 标志修改的 <span class="italic">pattern</span> 参数来选择归档成员。

然后，任何 <span class="bold">-s</span> 和 <span class="bold">-i</span> 标志以该顺序修改选定文件的名称。<span class="bold">-v</span> 标志写这些从修改产生的名称。</li>
<li><a name="a143c1790"></a><span id="a143c1790" class="pk"></span>在向归档文件写文件或复制文件的时候，
根据用户指定的、使用 <span class="bold">-n</span> 和 <span class="bold">-u</span> 标志修改的路径名称选择文件。
然后，任何 <span class="bold">-s</span> 和 <span class="bold">-i</span> 标志以该顺序修改这些从改动中产生的名称。<span class="bold">-v</span> 标志写该修改产生的名称。</li>
<li><a name="a143c1791"></a><span id="a143c1791" class="pk"></span>如果同时指定了 <span class="bold">-u</span> 和 <span class="bold">-n</span> 标志，那么 <span class="bold">pax</span> 命令不会认为文件是选定的，除非
它比与其相比较的文件更新。</li></ul>
<a name="wc31299lsmd"></a>
<h3 id="wc31299lsmd">列表方式格式规范</h3>
<p>在使用 <span class="bold">-o listopt=</span><span class="italic">format</span> 选项的列表方式中，格式参数适用于每个选定的文件。<span class="bold">pax</span> 为每个选定的文件附加一个换行字符到 <span class="bold">listopt</span> 输出。格式参数用作 <span class="bold">printf()</span> 中描述的格式字符串，但有以下的例外：</p>
<ol type="1">
<li><span class="italic">keyword</span> 序列可以出现在格式转换说明符之前。
转换参数由 <span class="italic">keyword</span> 的值定义。支持以下的关键字：
<ul>
<li><span class="bold">ustar</span> 和 <span class="bold">cpio</span> 头块的任意字段名称条目。</li>
<li>为扩展头定义的或在扩展头中提供为扩展名的关键字。</li></ul> 
<p>例如，<tt>%(charset)s</tt> 序列是扩展头中字符集名称的字符串值。</p> 
<p>关键字转换参数的结果是来自适用的头字段或扩展头的值，不带结尾 NULL。</p> 
<p>所有用作转换参数的“关键字-值”从 UTF8 编码转换为适合本地文件系统、用户数据库等使用的字符集。</p></li>
<li>额外的转换字符 <span class="bold">T</span>，指定时间格式。
<span class="bold">T</span> 转换字符可以 <span class="italic">keyword=subformat</span> 序列开头，其中 <span class="italic">subformat</span> 是 <span class="bold">date</span> 命令允许的日期格式。
缺省关键字是 <span class="bold">mtime</span>，缺省子格式是：%b %e %H:%M %Y。</li>
<li>额外的转换字符 <span class="bold">M</span>，指定文件模式字符串，正如 <span class="bold">ls -l</span> 命令显示的一样。
如果省略了 <span class="italic">keyword</span>，就使用 <span class="bold">mode</span>。例如，%.1M 写与 <span class="bold">ls -l</span> 命令的 <span class="italic">entry type</span> 字段对应的单个字符。</li>
<li>额外的转换字符 <span class="bold">D</span> 指定块文件或特殊文件的设备（如果可用的话）。
如果不可用且指定了 <span class="italic">keyword</span>，则该转换等同于 %<span class="italic">keyword</span> u。如果不可用且省略了 <span class="italic"> keyword</span>，则该转换等同于 &lt;space>。</li>
<li>额外的转换字符 <span class="bold">F</span>，指定路径名。
<span class="bold">F</span> 转换字符可以逗号分隔的关键字序列开头：

<p><span class="italic">keyword,keyword</span>...</p> 
<p>所有非空关键字的值连接在一起，每个之间以 / 分隔。如果定义了关键字路径则缺省值是 <span class="italic">path</span>；否则缺省值是 <span class="italic">prefix,name</span>。</p></li>
<li>额外的转换字符 <span class="bold">L</span>，指定了一个符号链接扩展。
如果当前文件是符号链接，则 %L 扩展到：

<p>『%s -> %s』, <span class="italic">value_of_keyword</span>, <span class="italic">contents_of_link</span></p> 
<p>否则，%L 转换字符等同于 %F。</p></li></ol>
<a name="ac36d2a562mike"></a>
<h3 id="ac36d2a562mike">退出状态</h3>
<a name="a39db090922stue"></a>
<p id="a39db090922stue">此命令返回以下的出口值：</p>
<a name="wq777"></a>
<table id="wq777" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="ac36d2a743mike" name="ac36d2a743mike"></a><span class="bold">0</span></td>
<td width="95%">  成功完成。</td>
</tr>
<tr>
<td>
<a id="ac36d2a828mike" name="ac36d2a828mike"></a><span class="bold">>0</span></td>
<td>  出现错误。</td>
</tr>
</tbody>
</table>
<a name="a143c1792"></a>
<h3 id="a143c1792">示例</h3>
<ol type="1">
<li>要将 <tt>olddir</tt> 目录层次结构复制到 <tt>newdir</tt> 中，请输入：
<p></p>
<a name="a143c1796"></a>
<pre id="a143c1796" class="xmp">mkdir&nbsp;newdir</pre><p class="indatacontent"> </p>
<pre class="xmp">pax&nbsp;-rw&nbsp;olddir&nbsp;newdir</pre></li>
<li>要将当前目录的内容复制到磁带机上，请输入：

<p></p>
<a name="a143c1794"></a>
<pre id="a143c1794" class="xmp">pax&nbsp;-wf&nbsp;/dev/rmt0</pre></li>
<li>要将 <tt>xxx</tt> 文件归档为 <tt>XXX</tt> 并显示成功的替换，请输入：

<p></p>
<a name="a175c1d8d"></a>
<pre id="a175c1d8d" class="xmp">pax&nbsp;-wvf/dev/rfd0&nbsp;-s&nbsp;/xxx/XXX/p&nbsp;xxx</pre><p class="indatacontent"> 或 </p>
<a name="a175c1d8f"></a>
<pre id="a175c1d8f" class="xmp">pax&nbsp;-wvf/dev/rfd0&nbsp;-s/x/X/gp&nbsp;xxx</pre></li>
<li>要从标准输入读取文件并将其转储入指定大小的数据流文件，请输入：

<p></p>
<a name="d7f4d48667jani"></a>
<pre id="d7f4d48667jani" class="xmp">dd if=/dev/hd6 bs=36b count=480 | pax -wf /dev/rfd0 -o
datastream=_filename_,datastr_size=_size_</pre></li>
<li>要列出指定格式的归档 <span class="pk">pax.ar</span> 中的文件，请输入：
<pre class="xmp">pax -v -o listopt="start %F end" -f pax.ar</pre></li>
<li>要创建 <span class="pk">pax</span> 格式的归档 <span class="pk">pax.ar</span>，请输入：
<pre class="xmp">pax -wf pax.ar -x pax file1</pre></li>
<li>要从 <span class="pk">pax</span> 格式的归档 <span class="pk">pax.ar</span> 抽取一个文件并为其指定新路径，请输入：
<pre class="xmp">pax -rvf pax.ar -x pax -o path=<span class="italic">newfilename</span></pre></li>
<li>要将来自源的符号链接的内容复制到目标位置，请输入：
<pre class="xmp">pax -rwL <span class="italic">srclink</span> <span class="italic">destdir</span></pre></li>
<li>要从组名为 <tt class="xph">bin</tt> 的归档抽取文件，请输入：
<pre class="xmp">pax -rvf pax.ar -x pax -o gname=bin</pre></li>
<li>抽取过程中要忽略 <span class="pk">pax</span> 格式的归档的路径名，请输入：
<pre class="xmp">pax -rvf pax.ar -o delete=path</pre></li></ol>
<a name="a143c1799"></a>
<h3 id="a143c1799">文件</h3>
<p></p>
<a name="wq779"></a>
<table id="wq779" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="a143c179a" name="a143c179a"></a><span class="bold">/usr/bin/pax</span></td>
<td width="80%">  包含 <span class="bold">pax</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a143c179e"></a>
<h3 id="a143c179e">相关信息</h3>
<a name="a39db091366stue"></a>
<p id="a39db091366stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds2/ed.htm#a133z9c66"><span class="bold">ed</span></a>
 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds1/cpio.htm#a10192b06"><span class="bold">cpio</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds5/tar.htm#a101938a7"><span class="bold">tar</span></a> 命令和 <a href="rmt.htm#a324925"><span class="bold">rmt</span></a> 命令。</p>
<a name="a39db091467stue"></a>
<p id="a39db091467stue">在<span class="italic">《AIX 5L V5.2 系统用户指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixuser/usrosdev/files.htm#rl33b0fish">『文件概述』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="pax.htm#Top_Of_Page">页的顶部</a> | <a href="pathchk.htm">上一页</a> | <a href="pcat.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
