<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - restore 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="restore 命令, 使用 restore 命令,
由“备份”命令创建的副本, 文件" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="restore.htm#Bot_Of_Page">页的底部</a> | <a href="restbase.htm">上一页</a> | <a href="restorevgfiles.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="a1019422a"></a>
<h2 id="a1019422a">restore 命令</h2>
<p><a id="idx544" name="idx544"></a> <a id="idx545" name="idx545"></a></p>
<a name="a1019422c"></a>
<h3 id="a1019422c">用途</h3>
<a name="f0b1e45493mart"></a>
<p id="f0b1e45493mart">从 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds1/backup.htm#a10192a8a"><span class="bold">backup</span></a> 命令创建的归档中抽取文件。</p>
<a name="a1019422e"></a>
<h3 id="a1019422e">语法</h3>
<a name="wq1692"></a>
<h4 id="wq1692">根据文件名恢复文件归档</h4>
<p><span class="bold">restore</span>  <a href="restore.htm#maysj1f6joyc"><span class="bold">-x</span></a> [  <a href="restore.htm#tdysj11cjoyc"><span class="bold">d</span></a><span class="bold"></span>  <a href="restore.htm#a1409396a"><span class="bold">M </span></a> <a href="restore.htm#abysje1joyc"><span class="bold">v</span></a><span class="bold"></span>  <a href="restore.htm#wbysj49joyc"><span class="bold">q</span></a><span class="bold"></span> ] [  <a href="restore.htm#a6eysj13ajoyc"><span class="bold">-b</span></a><span class="bold"></span><span class="italic"> Number</span> ]
[  <a href="restore.htm#a1019424a"><span class="bold">-f</span></a> <span class="italic">Device</span> ] [  <a href="restore.htm#hfysj35djoyc"><span class="bold">-s</span></a><span class="bold"></span><span class="italic"> SeekBackup</span> ] [  <a href="restore.htm#a3gysj6djoyc"><span class="bold">-X</span></a><span class="bold"></span><span class="italic"> VolumeNumber</span> ] [ <span class="italic">File</span> ... ]</p>
<p><span class="bold">restore</span>  <a href="restore.htm#maysj1f6joyc"><span class="bold">-x</span></a> [  <a href="restore.htm#tdysj11cjoyc"><span class="bold">d</span></a><span class="bold"></span>  <a href="restore.htm#a1409396a"><span class="bold">M </span></a> <a href="restore.htm#abysje1joyc"><span class="bold">v</span></a>  <a href="restore.htm#wbysj49joyc"><span class="bold">q</span></a><span class="bold"></span>   <a href="restore.htm#wbysj49mkm"><span class="bold">e</span></a><span class="bold"></span> ]  [  <a href="restore.htm#a6eysj13ajoyc"><span class="bold">-b</span></a><span class="bold"></span><span class="italic"> Number</span> ] [  <a href="restore.htm#a1019424a"><span class="bold">-f</span></a> <span class="italic">Device</span> ] [  <a href="restore.htm#hfysj35djoyc"><span class="bold">-s</span></a><span class="bold"></span><span class="italic"> SeekBackup</span> ] [  <a href="restore.htm#a3gysj6djoyc"><span class="bold">-X</span></a><span class="bold"></span><span class="italic"> VolumeNumber</span> ] [ <span class="italic">File</span> ... ]</p>
<a name="wq1693"></a>
<h4 id="wq1693">列出根据文件名归档的文件</h4>
<p><span class="bold">restore</span>  <a href="restore.htm#a9eysj198joyc"><span class="bold">-T</span></a> [<a href="restore.htm#wbysj49joyca"><span class="bold">a</span></a>&nbsp;<a href="restore.htm#wbysj49joyc"><span class="bold">q </span></a>&nbsp;<a href="restore.htm#abysje1joyc"><span class="bold">v </span></a>] [  <a href="restore.htm#a6eysj13ajoyc"><span class="bold">-b</span></a><span class="bold"></span><span class="italic"> Number</span> ] [  <a href="restore.htm#a1019424a"><span class="bold">-f</span></a><span class="bold"></span><span class="italic"> Device</span> ]
[  <a href="restore.htm#hfysj35djoyc"><span class="bold">-s</span></a><span class="bold"></span><span class="italic"> SeekBackup</span> ]</p>
<a name="wq1694"></a>
<h4 id="wq1694">恢复根据文件系统归档的文件</h4>
<p><span class="bold">restore</span>  <a href="restore.htm#a2kysj1aajoyc"><span class="bold">-r</span></a><span class="bold"></span> [  <a href="restore.htm#exysj109joyc"><span class="bold">B </span></a> <a href="restore.htm#wbysj49joyc"><span class="bold">q</span></a><span class="bold"></span>  <a href="restore.htm#abysje1joyc"><span class="bold">v</span></a><span class="bold"></span>  <a href="restore.htm#gmysj2b0joyc"><span class="bold">y </span></a>] [  <a href="restore.htm#a6eysj13ajoyc"><span class="bold">-b</span></a><span class="bold"></span><span class="italic"> Number</span> ]
[  <a href="restore.htm#a1019424a"><span class="bold">-f</span></a><span class="bold"></span><span class="italic"> Device</span> ] [  <a href="restore.htm#hfysj35djoyc"><span class="bold">-s</span></a><span class="bold"></span><span class="italic"> SeekBackup</span> ]</p>
<a name="wq1695"></a>
<h4 id="wq1695">恢复根据文件系统归档的文件</h4>
<p><span class="bold">restore</span>  <a href="restore.htm#a5lysj2b0joyc"><span class="bold">-R</span></a><span class="bold"></span> [  <a href="restore.htm#exysj109joyc"><span class="bold">B</span></a><span class="bold"></span>  <a href="restore.htm#abysje1joyc"><span class="bold">v</span></a><span class="bold"></span>  <a href="restore.htm#gmysj2b0joyc"><span class="bold">y</span></a><span class="bold"></span> ] [  <a href="restore.htm#a6eysj13ajoyc"><span class="bold">-b</span></a><span class="bold"></span><span class="italic"> Number</span> ] [  <a href="restore.htm#a1019424a"><span class="bold">-f</span></a><span class="bold"></span><span class="italic"> Device</span> ]
[  <a href="restore.htm#hfysj35djoyc"><span class="bold">-s</span></a><span class="bold"></span><span class="italic"> SeekBackup</span> ]</p>
<a name="wq1696"></a>
<h4 id="wq1696">恢复根据文件系统归档的文件</h4>
<p><span class="bold">restore</span>  <a href="restore.htm#vsysj5fjoyc"><span class="bold">-i</span></a><span class="bold"></span> [  <a href="restore.htm#a5tysj35bjoyc"><span class="bold">h</span></a><span class="bold"></span>  <a href="restore.htm#itysj44joyc"><span class="bold">m</span></a><span class="bold"></span>  <a href="restore.htm#wbysj49joyc"><span class="bold">q</span></a><span class="bold"></span>  <a href="restore.htm#abysje1joyc"><span class="bold">v</span></a><span class="bold"></span>  <a href="restore.htm#gmysj2b0joyc"><span class="bold">y</span></a><span class="bold"></span> ] [  <a href="restore.htm#a6eysj13ajoyc"><span class="bold">-b </span></a><span class="italic">Number</span> ] [  <a href="restore.htm#a1019424a"><span class="bold">-f </span></a><span class="italic">Device</span> ] [  <a href="restore.htm#hfysj35djoyc"><span class="bold">-s </span></a><span class="italic">SeekBackup</span> ]</p>
<a name="wq1697"></a>
<h4 id="wq1697">恢复根据文件系统归档的文件</h4>
<p><span class="bold">restore</span>  <a href="restore.htm#maysj1f6joyc"><span class="bold">-x</span></a><span class="bold"></span> [  <a href="restore.htm#exysj109joyc"><span class="bold">B</span></a><span class="bold"></span>  <a href="restore.htm#a5tysj35bjoyc"><span class="bold">h</span></a><span class="bold"></span>  <a href="restore.htm#itysj44joyc"><span class="bold">m</span></a><span class="bold"></span>  <a href="restore.htm#wbysj49joyc"><span class="bold">q</span></a><span class="bold"></span>  <a href="restore.htm#abysje1joyc"><span class="bold">v</span></a><span class="bold"></span>  <a href="restore.htm#gmysj2b0joyc"><span class="bold">y</span></a><span class="bold"></span> ] [  <a href="restore.htm#a6eysj13ajoyc"><span class="bold">-b </span></a><span class="italic">Number</span> ] [  <a href="restore.htm#a1019424a"><span class="bold">-f</span></a><span class="bold"></span><span class="italic"> Device</span> ]
[  <a href="restore.htm#hfysj35djoyc"><span class="bold">-s</span></a><span class="bold"></span><span class="italic"> SeekBackup</span> ] [ <span class="italic">File</span> ... ]</p>
<a name="wq1698"></a>
<h4 id="wq1698">列出根据文件系统归档的文件</h4>
<p><span class="bold">restore</span>  <a href="restore.htm#oaysj11joyc"><span class="bold">-t</span></a><span class="bold"></span> |  <a href="restore.htm#a9eysj198joyc"><span class="bold">-T</span></a><span class="bold"></span> [  <a href="restore.htm#exysj109joyc"><span class="bold">B</span></a><span class="bold"></span><a href="restore.htm#wbysj49joyca"><span class="bold">a</span></a><span class="bold"></span><a href="restore.htm#a5tysj35bjoyc"><span class="bold">h</span></a><span class="bold"></span>  <a href="restore.htm#wbysj49joyc"><span class="bold">q</span></a><span class="bold"></span>  <a href="restore.htm#abysje1joyc"><span class="bold">v</span></a><span class="bold"></span>  <a href="restore.htm#gmysj2b0joyc"><span class="bold">y</span></a><span class="bold"></span> ] [  <a href="restore.htm#a6eysj13ajoyc"><span class="bold">-b</span></a><span class="bold"></span><span class="italic"> Number</span> ] [  <a href="restore.htm#a1019424a"><span class="bold">-f</span></a><span class="bold"></span><span class="italic"> Device</span> ]
[  <a href="restore.htm#hfysj35djoyc"><span class="bold">-s</span></a><span class="bold"></span><span class="italic"> SeekBackup</span> ] [ <span class="italic">File</span> ... ]</p>
<a name="wq1699"></a>
<h4 id="wq1699">恢复根据文件名归档的文件属性</h4>
<p><span class="bold">restore</span>  <a href="restore.htm#pstring"><span class="bold">-Pstring</span></a><span class="bold"></span> [<a href="restore.htm#exysj109joyc"><span class="bold">B</span></a><span class="bold"></span> <a href="restore.htm#tdysj11cjoyc"><span class="bold">d</span></a> <span class="bold"></span><a href="restore.htm#wbysj49joyc"><span class="bold">q</span></a><span class="bold"></span><a href="restore.htm#abysje1joyc"><span class="bold">v</span></a>] <span class="bold"></span>[ <a href="restore.htm#a6eysj13ajoyc"><span class="bold">b</span></a><span class="bold"></span><span class="italic">Number</span>]<span class="bold"></span> [ <a href="restore.htm#hfysj35djoyc"><span class="bold">s </span></a> <span class="bold"></span><span class="italic">SeekNumber</span>]<span class="bold"></span> [<a href="restore.htm#a1019424a"><span class="bold">-f</span></a> <span class="bold"></span><span class="italic">Device</span>] <span class="bold"></span>[ <span class="italic">File</span> ... ]</p>
<a name="wq1700"></a>
<h4 id="wq1700">恢复根据文件系统归档的文件属性</h4>
<p><span class="bold">restore</span> <a href="restore.htm#pstring"><span class="bold">-Pstring</span></a><span class="bold"></span> [ <a href="restore.htm#a5tysj35bjoyc"><span class="bold">h</span></a><span class="bold"></span><a href="restore.htm#wbysj49joyc"><span class="bold">q</span></a><span class="bold"></span><a href="restore.htm#abysje1joyc"><span class="bold">v</span></a>]<span class="bold"></span> [ <a href="restore.htm#a6eysj13ajoyc"><span class="bold">b</span></a> <span class="italic">Number</span>] <span class="bold"></span>[ <a href="restore.htm#hfysj35djoyc"><span class="bold">s </span></a> <span class="italic">SeekNumber</span>]<span class="bold"></span> [<a href="restore.htm#a1019424a"><span class="bold">-f</span></a> <span class="bold"></span><span class="italic">Device</span>]<span class="bold"></span> [ <span class="italic">File</span> ... ]</p>
<a name="a10194230"></a>
<h3 id="a10194230">描述</h3>
<a name="f0b1e47486mart"></a>
<p id="f0b1e47486mart"><span class="bold">restore</span> 命令读取通过 <span class="bold">backup</span> 命令创建的归档并抽取存储在其上的文件。这些归档可以是文件名或文件系统格式。压缩文档可以存储在磁盘、软盘或磁带上。文件必须使用归档时所用的相同方法来恢复。这需要您了解归档的格式。归档格式可以由检测使用 <span class="bold">-T</span> 标志时的归档卷头信息来确定。当使用 <span class="bold">-x</span>、 <span class="bold">-r</span>、 <span class="bold">-T</span> 或者 <span class="bold"> -t</span> 标志时，<span class="bold">restore</span> 命令自动确定归档格式。</p>
<p></p><blockquote><span class="bold">注意：</span> <span class="bold">restore</span> 活动地稀疏被存储的文件。如果文件使块对“空”植入的区域进行对齐和控制大小，那么
<span class="bold">restore</span> 不会引起为那些文件系统块分配物理空间。以字节为单位的文件大小保持不变，但在文件系统中占用的实际
空间仅属于非“空”区域。</blockquote>
<a name="f0b1e47588mart"></a>
<p id="f0b1e47588mart">单独文件可以使用 <span class="bold">-x</span> 标志和指定文件名来根据文件名或者文件系统归档恢复。文件名必须根据归档中存在的文件名指定。
文件可以使用 <span class="bold">-i</span> 标志从文件系统归档交互存储。归档上的文件名可以使用 <span class="bold">-T</span> 标志写到标准输出。</p>
<p>用户必须拥有到文件系统设备的写入权限或有恢复权限以抽取归档的内容。</p>
<a name="f0b1e47705mart"></a>
<p id="f0b1e47705mart">软盘设备 <span class="bold">/dev/rfd0</span> 是 <span class="bold">restore</span> 命令的缺省介质。为了从标准输入中恢复，用 <span class="bold">-f</span> 标志指定 <span class="bold">－</span> （长划）。您也可以指定一个范围内的设备，例如 <span class="bold">/dev/rmt0-2</span>。</p>
<p></p><blockquote><span class="bold">注意：</span>  
<ol type="1">
<li><a name="de36399871joyc"></a><span id="de36399871joyc" class="pk"></span>如果您从多卷归档中恢复，<span class="bold">restore</span> 命令读取安装的卷，提示您到下一个卷，并等待您的响应。当插入下一个卷后，按下 Enter 键继续恢复文件。</li>
<li><a name="de36399910joyc"></a><span id="de36399910joyc" class="pk"></span>如果使用 <span class="bold">backup</span> 命令创建的归档被制成设备块大小为 0 的磁带设备，您可能需要清楚的知道创建此磁带时所使用的块大小以从磁带恢复。</li>
<li><a name="de36399950joyc"></a><span id="de36399950joyc" class="pk"></span>在单个磁带上可以存在多个归档。
当从磁带恢复多个归档时，<span class="bold">restore</span> 命令希望输入设备是一个 no-retension-on-open、no-rewind-on-close
的磁带设备。不要为恢复使用 no-rewind 磁带设备，除非 <span class="bold">-B</span>、 <span class="bold">-s</span> 或者 <span class="bold"> -X</span> 标志之一被指定。有关使用磁带设备的更多信息，请参阅 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/rmt.htm#vc90w2chris"><span class="bold">rmt</span></a> 特殊文件。</li></ol></blockquote>
<a name="de36399985joyc"></a>
<h4 id="de36399985joyc">文件系统归档</h4>
<a name="f0b1e48320mart"></a>
<p id="f0b1e48320mart">由于归档文件所用的方法，文件系统归档也称为 i-node 归档。文件系统名由 <span class="bold">backup</span>
命令指定，而且在那个文件系统中的文件会根据它们在文件系统中的结构和布局归档。
<span class="bold">restore</span> 命令在文件系统归档上恢复文件，不需要任何对于文件系统基础结构的特殊了解。</p>
<a name="f0b1e48457mart"></a>
<p id="f0b1e48457mart">当恢复文件系统归档时，<span class="bold">restore</span> 命令创建并使用名为 <span class="bold">restoresymtable</span> 的文件。这个文件在当前的目录中创建。文件对于 <span class="bold">restore</span> 命令去做增量文件系统恢复是必需的。</p>
<p></p><blockquote><a name="de3639a100joyc"></a><span id="de3639a100joyc" class="pk"></span><span class="bold">注意：</span> 如果您进行增量文件系统的备份和恢复，不要除去 <span class="bold">restoresymtable</span> 文件。</blockquote>
<a name="f0b1e48649mart"></a>
<p id="f0b1e48649mart">当使用 <span class="bold">-r</span> 或 <span class="bold">-R </span> 标志时，<span class="italic">File</span> 参数被忽略。</p>
<a name="de3639a174joyc"></a>
<h4 id="de3639a174joyc">文件名归档</h4>
<a name="f0b1e48863mart"></a>
<p id="f0b1e48863mart">文件名归档通过指定文件名列表归档到 <span class="bold">backup</span> 命令来进行创建。<span class="bold">restore</span> 命令不用任何对文件系统基础结构的特殊了解就可以从文件名归档恢复文件。当 <span class="bold">restore</span> 命令为归档析取指定文件的时候，允许使用元字符。它提供了从基于模式匹配的归档中抽取文件的能力。模式文件名必须封装在单引号中，模式必须封装在括号中（...）。.</p>
<a name="wq1702"></a>
<h4 id="wq1702">关于稀疏文件（Sparse File）</h4>
<p>操作系统文件系统，包含长空字串的文件可以比其它文件更高效的存储。具体的讲，如果一个空字串的跨越整个分配块，这个块都不会在
磁盘上存储。以此方式省略的一个或多个块的文件叫做稀疏文件。丢失的块也称作空穴。</p>
<p></p><blockquote><span class="bold">注意：</span>稀疏文件和压缩文件不同。稀疏文件当读取的时候和它们的非稀疏等价完全相同。</blockquote>
<p>稀疏文件通常由数据库应用程序创建。因为不管何时创建数据库文件，它由空（NULL）格式化。这些碎片会由已分配的或未分配的空（NULL）填充。</p>
<a name="a10194242"></a>
<h3 id="a10194242">标志</h3>
<p></p>
<a name="wq1703"></a>
<table id="wq1703" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="24%">
<a id="wbysj49joyca" name="wbysj49joyca"></a><span class="bold">-a</span></td>
<td width="75%">用 <span class="bold">t</span> 和／或 <span class="bold">T</span> 选项指定，<span class="bold">-a</span> 选项显示了归档中文件的列表以及它们的许可权。</td>
</tr>
<tr>
<td>
<a id="exysj109joyc" name="exysj109joyc"></a><span class="bold">-B</span></td>
<td>  指定归档必须从标准输入中读取。正常情况下，<span class="bold">restore</span> 命令检查确切的媒体以确定备份格式。当使用 | （管道），这个检验就不会发生。结果是，设想此归档在文件系统格式里，并且设备
被设想成标准输入（<span class="bold">-f -</span>）。</td>
</tr>
<tr>
<td>
<a id="a6eysj13ajoyc" name="a6eysj13ajoyc"></a><span class="bold">-b</span><span class="italic"> Number</span></td>
<td>  对于根据名称的备份，需指定 512 字节块的数；而由 i-node 所做的备份，需指定在单独的输出操作中读取的大小为 1024 字节块的数。当 <span class="bold">restore</span> 命令从此磁带设备读取的时候，缺省的值对于根据名称备份的为 100，对于由 i-node 备份的为 32。
<a name="a39dc299499stue"></a>
<p id="a39dc299499stue">读取的大小是块的数量乘以块的大小。从磁带设备读取的 <span class="bold">restore</span> 命令的缺省读取大小是 51200 （100 * 512）（根据名称备份）和 32768 （32
* 1024）（根据 i-node 备份）。读取的大小必须是磁带物理块大小的偶数倍。如果读取大小不是磁带物理块大小的偶数倍，并且它在固定的块模式（非零）中，<span class="bold">restore</span> 命令尝试确定 <span class="italic">Number</span> 的有效数值。如果成功的话，
<span class="bold"> restore</span> 命令改变 <span class="italic">Number</span> 到新的数值，将改变消息写入标准输出，并继续。如果
<span class="italic">Number</span> 的有效值查找不成功，<span class="bold"> restore</span> 命令将错误消息写到标准错误中并和一个非空的返回代码一起退出。<span class="italic">Number</span> 参数的更大的值导致了磁带设备上更大的物理传输。</p> 
<a name="a39dc299556stue"></a>
<p id="a39dc299556stue"><span class="bold">-b</span> 标志的值当 <span class="bold">restore</span> 命令从磁盘读取的时候，一直是忽略的。在这种情况下，此命令一直从占用整个磁道的簇中读取。</p></td>
</tr>
<tr>
<td>
<a id="tdysj11cjoyc" name="tdysj11cjoyc"></a><span class="bold">-d</span></td>
<td>  如果 <span class="italic">File</span> 参数是一个目录，指定在那个目录中的所有文件都必须被恢复。这个标志只有当根据文件名格式归档的时候才会使用。</td>
</tr>
<tr>
<td>
<a id="wbysj49mkm" name="wbysj49mkm"></a><span class="bold">-e</span></td>
<td>将非稀疏文件恢复到由 <span class="bold">backup</span> 命令的名称格式归档的非稀疏状态，打包和解包文件。因为要启用此标志将稀疏文件恢复为非稀疏文件，所以必须在归档文件之前知道文件的稀疏／非稀疏性。
<p>仅当要恢复的文件是非稀疏的并包含超过 4K 的空（NULL）时，才启用此标志。如果 <span class="bold">-e</span> 标志在 <span class="bold">restore</span> 期间被指定，它会成功的将所有的正常文件正常恢复且非稀疏数据库文件恢复为非稀疏文件。</p></td>
</tr>
<tr>
<td>
<a id="restore_flags_bige" name="restore_flags_bige"></a><span class="bold">-E</span></td>
<td> <span class="bold">-E</span> 选项需要如下参数中的一个。如果您省略了 <span class="bold">-E</span>选项，<span class="bold">warn</span> 就是缺省的行为。
<dl>
<dt class="bold"><span class="bold">force</span></dt>
<dd>如果文件的固定范围大小或空间限制不能保持，则使在文件上的恢复操作失败。
</dd>
</dl>
<dl>
<dt class="bold"><span class="bold">ignore</span></dt>
<dd>忽略任何保持范围属性中的错误。
</dd>
</dl>
<dl>
<dt class="bold"><span class="bold">warn</span></dt>
<dd>如果文件空间限制或固定大小不能保持，就会发出一个警告。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a1019424a" name="a1019424a"></a><span class="bold">-f</span><span class="italic"> Device</span></td>
<td>  指定输入设备。为了从一个指定的设备接收输入，指定 <span class="italic">Device</span> 变量为路径（例如 <tt>/dev/rmt0</tt>）。为了从标准输出设备接收输入，指定一个 - （减号）。- （减号）功能使您能建立从 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds2/dd.htm#a101930e6"><span class="bold">dd</span></a> 命令到 <span class="bold"> restore</span> 命令输入的管道。
<a name="d7f817f191jani"></a>
<p id="d7f817f191jani">您也可以指定归档设备的范围。范围规范必须是如下的格式：</p> 
<p></p>
<a name="d7f817f255jani"></a>
<pre id="d7f817f255jani" class="xmp">/dev/deviceXXX-YYY</pre> 
<a name="d7f817f333jani"></a>
<p id="d7f817f333jani">其中 <span class="italic">XXX</span> 和 <span class="italic">YYY</span> 是整数，并且 <span class="italic">XXX</span> 必须总是小于
<span class="italic"> YYY</span>；例如：<tt>/dev/rfd0-3</tt>。</p> 
<a name="d7f817f412jani"></a>
<p id="d7f817f412jani">指定范围内的所有设备必须是同一类型的。例如，您可以使用一组 8mm、2.3 GB 的磁带或一组 1.44MB 的软盘。所有的磁带设备必须设置成同样的物理磁带块大小。</p> 
<a name="d7f8180207jani"></a>
<p id="d7f8180207jani">如果 <span class="italic">Device</span> 变量指定了一个范围，<span class="bold">restore</span> 命令会自动从此范围内的一个设备传到下一个设备。在耗用了所有的指定设备后，<span class="bold">restore</span> 命令停止并在此范围内的设备上发出一个安装新卷请求。</p></td>
</tr>
<tr>
<td>
<a id="a5tysj35bjoyc" name="a5tysj35bjoyc"></a><span class="bold">-h</span></td>
<td>  仅恢复实际的目录，而不是其中包含的文件。
这个标志仅在文件系统格式中归档时使用。当使用 <span class="bold">-r</span> 或者 <span class="bold">-R</span> 标志时，此标志会被忽略。</td>
</tr>
<tr>
<td>
<a id="vsysj5fjoyc" name="vsysj5fjoyc"></a><span class="bold">-i</span></td>
<td>  允许您交互的从文件系统归档中恢复选择的文件。<span class="bold">-i</span> 标志的子命令是：
<dl>
<dt class="bold"><span class="bold">cd</span><span class="italic"> Directory</span></dt>
<dd>  更改当前的目录到指定的目录。
</dd>
<dt class="bold"><span class="bold">add</span> [<span class="italic">File</span>]</dt>
<dd>  指定 <span class="italic">File</span> 参数添加到要析取的文件列表。如果 <span class="italic">File</span> 是一个目录，其中包含的目录和所有的文件都加入了析取列表中（除非 <span class="bold">-h</span> 标志被使用）。如果 <span class="italic">File</span> 没有指定，当前的目录会添加到析取列表中。
</dd>
<dt class="bold"><span class="bold">delete</span> [<span class="italic">File</span>]</dt>
<dd>  指定 <span class="italic">File</span> 参数从要析取的文件列表中除去。如果 <span class="italic">File</span> 是个目录，其中包含的目录和所有的文件都从析取列表中除去（除非 <span class="bold">-h</span> 标志被使用）。
</dd>
<dt class="bold"><span class="bold">ls</span> [<span class="italic">Directory</span>]</dt>
<dd>  显示包含在 <span class="italic">Directory</span> 参数中的目录和文件。目录名使用跟在名称后的 / （斜杠）显示。在指定目录（在析取列表中）中的文件和目录，在名称前加个 * （星号）显示。
如果是详细方式，文件和目录的 i-node 数量也被显示出来。如果 <span class="italic">Directory</span> 参数没有被指定，就会使用当前目录。
</dd>
<dt class="bold"><span class="bold">extract</span></dt>
<dd>  在析取列表上恢复所有的目录和文件。
</dd>
<dt class="bold"><span class="bold">pwd</span></dt>
<dd>  显示当前目录的全路径名。
</dd>
<dt class="bold"><span class="bold">verbose</span></dt>
<dd>  使得 <span class="bold">ls</span> 子命令显示文件和目录中的 i-node 数量。当从归档中抽取时，关于每个文件的额外信息也会显示出来。
</dd>
<dt id="de3639c246joyc" class="bold">
<a name="de3639c246joyc"></a><span class="bold">setmodes</span></dt>
<dd>  设置所有者、方式和添加到析取列表的所有目录的时间。
</dd>
<dt class="bold"><span class="bold">quit</span></dt>
<dd>  使得 <span class="bold">restore</span> 立刻退出。所有在析取列表上的文件都不会恢复。
</dd>
<dt class="bold"><span class="bold">help</span></dt>
<dd>  显示一个子命令摘要。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a1409396a" name="a1409396a"></a><span class="bold">-M</span></td>
<td>  将恢复文件的访问和修改时间设置为恢复时间。如果恢复文件是一个由
<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds1/ar.htm#a0949a5b"><span class="bold">ar</span></a> 命令创建的归档，所有成员头部分中的修改时间也被修改到恢复时间。仅当您恢复单个命名文件并且仅当 <span class="bold">-x</span> 或者 <span class="bold">-X</span> 标志也被指定时才可以指定 <span class="bold"> -M</span> 标志。当没有指定 <span class="bold">-M</span> 标志时，<span class="bold">restore</span> 命令保持它们出现在备份介质上的访问和修改时间。
<a name="a39dc299688stue"></a>
<p id="a39dc299688stue">当数据在 AIX 4.2 中时，会使用 <span class="bold">-M</span> 标志，根据 i-node 或者名称格式备份。</p></td>
</tr>
<tr>
<td>
<a id="itysj44joyc" name="itysj44joyc"></a><span class="bold">-m</span></td>
<td>  当恢复文件存在于归档上时，将其重命名为文件的 i-node 数量。如果有些文件要恢复并且您想将这些文件以不同的文件名恢复，这就很有用。因为任何恢复归档成员以它们 i-node 数量重命名，目录层次结构和链接将不会被保护。目录和硬链接以正规文件恢复。
当归档是文件系统格式，<span class="bold">-m</span> 标志会被使用。</td>
</tr>
<tr>
<td>
<a id="pstring" name="pstring"></a><span class="bold">-Pstring</span></td>
<td>仅恢复文件属性。不恢复文件内容。如果指定的文件不存在于目标目录路径中，文件将不会被创建。此标志根据在字符串参数中指定的标志有选择的恢复文件属性。字符串参数可以是下列字符的组合：
<dl>
<dt class="bold">A</dt>
<dd>恢复所有的属性。
</dd>
<dt class="bold">a</dt>
<dd>仅恢复文件的许可权。
</dd>
<dt class="bold">o</dt>
<dd>仅恢复文件的所有权。
</dd>
<dt class="bold">t</dt>
<dd>仅恢复文件的时间戳记。
</dd>
<dt class="bold">c</dt>
<dd>仅恢复文件的 ACL 属性。
</dd>
</dl>
<a name="wq1704"></a>
<div class="notetitle" id="wq1704">注:</div>
<div class="notebody">在 <span class="bold">restore</span> 命令存在的选项中，选项 <span class="bold"> v</span>、 <span class="bold">h</span>、 <span class="bold">b</span>、 <span class="bold">s</span>、 <span class="bold">f</span>、<span class="bold"> B</span>、 <span class="bold"> d </span> 和  <span class="bold">q</span> 与 <span class="bold">P</span> 选项在一起是有效的。<span class="bold">P</span> 选项可以与文件名和文件系统归档一起使用。如果 <span class="bold">File</span> 参数是一个符号链接，目标文件的元数据会被修改，而不再是那个符号链接。</div>
<p><span class="bold">注意：</span>当 <span class="bold">-P</span> 标志由超级用户执行的时候将会覆盖另一个用户的文件属性。</p></td>
</tr>
<tr>
<td>
<a id="wbysj49joyc" name="wbysj49joyc"></a><span class="bold">-q</span></td>
<td>  指定准备使用第一个卷，<span class="bold">restore</span> 命令不会提示您 <tt>安装卷并按下
 Enter 键</tt>。如果归档范围是卷的倍数，<span class="bold">restore</span> 命令会为后继卷提示您。</td>
</tr>
<tr>
<td>
<a id="a2kysj1aajoyc" name="a2kysj1aajoyc"></a><span class="bold">-r</span></td>
<td>  在文件系统归档中恢复所有的文件。<span class="bold">-r</span> 标志仅用来恢复完整的 0 层备份或在 0 层备份恢复后，恢复增量备份。<span class="bold">restoresymtable</span> 文件由 <span class="bold">restore</span> 使用以在增量恢复中传递信息。一旦最后的增量备份恢复，此文件必须被除去。当使用 <span class="bold">-r</span> 标志时，<span class="italic">File</span> 参数会被忽略。</td>
</tr>
<tr>
<td>
<a id="a5lysj2b0joyc" name="a5lysj2b0joyc"></a><span class="bold">-R</span></td>
<td>  请求一个特定的多卷文件系统归档卷。
<span class="bold">-R</span> 标志允许重新启动先前中断的恢复。当使用 <span class="bold">-R</span> 标志时，<span class="italic">File</span> 参数会被忽略。一旦重新启动，<span class="bold"> restore</span> 命令的行为和 <span class="bold">-r</span> 标志是一样的。</td>
</tr>
<tr>
<td>
<a id="hfysj35djoyc" name="hfysj35djoyc"></a><span class="bold">-s</span><span class="italic"> SeekBackup</span></td>
<td>  指定要寻找的备份并在多备份磁带归档上恢复。当归档写入磁带设备时，仅<span class="bold">-s</span> 标志可用。为了正确使用 <span class="bold">-s</span> 标志，必须指定一个 no-rewind-on-close 和 no-retension-on-open 磁带设备，例如 <span class="bold"> /dev/rmt0.1</span> 或者 <span class="bold">/dev/rmt0.5</span>。如果 <span class="bold">-s</span> 标志由 rewind 磁带设备指定，
<span class="bold">restore</span> 命令显示错误信息并以非零返回码退出。如果使用一台 no-rewind 磁带设备并且 <span class="bold">-s</span> 标志没有被指定，则使用缺省值<span class="bold"> -s 1</span>。<span class="italic">SeekBackup</span> 参数的值必须在 1 到 100 之间（包含 1 和 100）。因为 <span class="bold"> -s</span> 标志的行为，必须使用 no-rewind-on-close、no-retension-open 磁带设备。由
<span class="bold">-s</span> 指定的数值是相对于读／写头的位置而不是相对于在磁带上的归档位置。例如，从一个多备份磁带归档上恢复第一、第二和第四个备份，相应的 <span class="bold">-s</span> 标志会是 <span class="bold">-s 1</span>、 <span class="bold">-s 1</span> 和 <span class="bold">-s 2</span>。</td>
</tr>
<tr>
<td>
<a id="oaysj11joyc" name="oaysj11joyc"></a><span class="bold">-t</span></td>
<td>  显示关于备份归档的信息。如果归档是文件系统格式，在归档上发现的文件列表会写到标准输出上。像在归档上一样，文件 i-node 数量位于每个文件名之前。显示的文件名相对于备份的文件系统根（/）目录。如果 <span class="italic">File</span> 参数没有指定，则列出归档上的所有文件。如果使用 <span class="italic">File</span> 参数，则仅列出那个文件。如果 <span class="italic">File</span> 参数指向一个目录，所有包含在那个目录中的文件都被列出来。
如果归档是文件名格式，包含在卷头中的信息会写到标准错误中去。这个标志会用来确定归档是文件名格式还是文件系统格式。</td>
</tr>
<tr>
<td>
<a id="a9eysj198joyc" name="a9eysj198joyc"></a><span class="bold">-T</span></td>
<td>显示关于备份归档的信息。如果归档是文件名格式，包含在卷头的信息会写到标准错误中，在归档中的文件列表会写到标准输出中。对于文件名归档来说，忽略 <span class="italic">File</span> 参数。如果归档是文件系统格式，行为和 <span class="bold">-t</span> 标志相同。</td>
</tr>
<tr>
<td>
<a id="abysje1joyc" name="abysje1joyc"></a><span class="bold">-v</span></td>
<td>  当恢复时显示附加的信息。如果以文件名格式归档并且指定了 <span class="bold">-x</span> 或者 <span class="bold">-T</span> 标志，则存在于归档上的文件大小以字节显示。目录、块或字符设备文件以 0 为大小归档。符号链路以其大小列出。硬链接用文件大小列出，即其归档方式。一旦读取归档，会显示它们总的大小。如果归档为文件系统格式，就能区分目录和非目录归档成员。</td>
</tr>
<tr>
<td>
<a id="maysj1f6joyc" name="maysj1f6joyc"></a><span class="bold">-x</span></td>
<td>  恢复由 <span class="italic">File</span> 参数指定的单个的命名文件。如果 <span class="italic">File</span> 参数没有被指定，所有的归档成员会被恢复。如果 <span class="italic">File</span> 参数是一个目录并且归档为文件名格式，只有目录会被恢复。如果 <span class="italic">File</span> 参数是一个目录并且归档为文件系统格式，所有包含在目录中的文件会恢复。由 <span class="italic">File</span> 参数指定的文件名必须和由 <span class="bold">restore -T</span> 命令显示的名称相同。文件使用它们归档时的名称恢复。如果文件
名使用相对路径名（<span class="bold"> ./filename</span>）归档，则文件相对于当前目录恢复。
如果归档是以文件系统格式，文件相对于当前目录恢复。
<a name="de3639d363joyc"></a>
<p id="de3639d363joyc"><span class="bold">restore</span> 命令自动建立任何所需的目录。当使用此标志恢复文件系统备份时，会提示您输入开始的卷号。</p> 
<p> 当指定归档抽取的文件时，<span class="bold">restore</span> 命令允许使用匹配元数据的 shell 风格模式。匹配元字符的规则和在 shell 路径名“globbing” 中使用的规则是一样的，即：</p> 
<dl>
<dt class="bold">*（星号）</dt>
<dd>匹配零或更多的字符，但不是‘ .’（句点）或者‘/’（斜杠）。
</dd>
<dt class="bold">? （问号）</dt>
<dd>匹配任何单个字符，但不是‘ .’（句点）或者‘/’（斜杠）。
</dd>
<dt class="bold">[ ]（方括号）</dt>
<dd>匹配任何封装在方括号中的字符。如果包含在方括号中的成对的字符由长划线分隔，模式匹配任何词汇上处于当前本地两个字符
之间的字符。另外，方括号中的‘.’（句点）或‘/’（斜杠）不会匹配文件名中的‘.’或‘/’（斜杠）。
</dd>
<dt class="bold">\ (反斜杠)</dt>
<dd>匹配紧跟其后的字符，防止它可能作为元字符解释。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a3gysj6djoyc" name="a3gysj6djoyc"></a><span class="bold">-X</span><span class="italic"> VolumeNumber</span></td>
<td>  开始从一个多卷中的指定卷、文件名备份中恢复。一旦启动，<span class="bold">restore</span> 命令行为和 <span class="bold">-x</span> 标志是一样的。<span class="bold">-X</span> 标志仅应用于文件名归档。</td>
</tr>
<tr>
<td>
<a id="gmysj2b0joyc" name="gmysj2b0joyc"></a><span class="bold">-y</span></td>
<td>  当遇到磁带错误时继续恢复。正常的，<span class="bold">restore</span> 命令询问您是否继续。在可能的状态中，在读取缓冲区中的所有数据用零来替代。<span class="bold">-y</span> 标志仅在以文件系统格式归档时应用。</td>
</tr>
<tr>
<td>
<a id="a1409396f" name="a1409396f"></a><span class="bold">-?</span></td>
<td>  显示用法消息。</td>
</tr>
</tbody>
</table>
<a name="c14c873336sylv"></a>
<h3 id="c14c873336sylv">退出状态</h3>
<a name="f0b1e4c009mart"></a>
<p id="f0b1e4c009mart">此命令返回如下的出口值：</p>
<a name="wq1705"></a>
<table id="wq1705" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="c14c873485sylv" name="c14c873485sylv"></a><span class="bold">0</span></td>
<td width="95%">  成功结束。</td>
</tr>
<tr>
<td>
<a id="c14c873557sylv" name="c14c873557sylv"></a><span class="bold">&gt;0</span></td>
<td>  产生一个错误。</td>
</tr>
</tbody>
</table>
<a name="a1019425b"></a>
<h3 id="a1019425b">示例</h3>
<ol type="1">
<li id="de3639e330joyc">
<a name="de3639e330joyc"></a>为了列出在 <span class="bold">/dev/rfd0</span> 磁盘设备上文件名或文件系统归档中的文件名，请输入：
<p></p>
<a name="de3639e364joyc"></a>
<pre id="de3639e364joyc" class="xmp">restore -Tq</pre><p class="indatacontent"> 此归档从 <span class="bold">/dev/rfd0</span> 缺省恢复设备中读取。包含在归档中的所有文件和目录名都会显示。对于文件系统归档，每个文件名均以文件在归档中存在的 i-node 数量为前缀。<span class="bold">-q</span> 标志告知 <span class="bold">restore</span> 命令卷一是可用的并准备读取就绪。这样，不会提示您安装卷一。</p></li>
<li id="de3639e440joyc">
<a name="de3639e440joyc"></a>为了恢复特定的文件，请输入：
<p></p>
<a name="de3639e477joyc"></a>
<pre id="de3639e477joyc" class="xmp">restore -xvqf myhome.bkup system.data</pre><p class="indatacontent"> 此命令从归档 <tt>myhome.bkup</tt> 中抽取文件 <tt>system.data</tt> 到当前目录中。此例中的归档位于当前目录中。当使用 <span class="bold">-T</span> 标志时，文件和
目录名必须按其显示指定。在抽取时，<span class="bold">-v</span> 标志显示额外的信息。这个示例应用于文件名和文件系统归档中。</p></li>
<li id="de3639e555joyc">
<a name="de3639e555joyc"></a>从文件名归档恢复特定目录和该目录中的内容，请输入：
<p></p>
<a name="de3639e594joyc"></a>
<pre id="de3639e594joyc" class="xmp">restore -xdvqf /dev/rmt0 /home/mike/tools</pre><p class="indatacontent"> <span class="bold">-x</span> 标志告知 <span class="bold">restore</span> 利用它们的文件名来抽取文件。
<span class="bold">-d</span> 告知 <span class="bold">restore</span> 抽取所有在 <tt>/home/mike/tools</tt> 目录中的文件和子例程。当使用 <span class="bold">-T</span> 标志时，文件和目录名必须按其显示指定。如果目录不存在，它们会被创建。</p></li>
<li id="de3639e672joyc">
<a name="de3639e672joyc"></a>为了从文件系统归档中恢复特定的目录和目录的内容，请输入：
<p></p>
<a name="de3639e710joyc"></a>
<pre id="de3639e710joyc" class="xmp">restore -xvqf /dev/rmt0 /home/mike/tools</pre><p class="indatacontent"> 此命令根据文件名抽取文件。当使用 <span class="bold">-T</span> 标志时，文件和目录名必须按其显示指定。如果目录不存在，它们会被创建。</p></li>
<li id="de3639e786joyc">
<a name="de3639e786joyc"></a>恢复整个文件系统归档，请输入：
<p></p>
<a name="de3639e821joyc"></a>
<pre id="de3639e821joyc" class="xmp">restore -rvqf /dev/rmt0</pre><p class="indatacontent"> 此命令恢复在磁带设备上的整个文件系统，<tt>/dev/rmt0</tt>，到当前的目录中。此例假定您位于要恢复的文件系统的根目录。如果此归档是增量文件系统归档的一部分，此归档必须以由零层开始的增量备份层顺序恢复（例如，<tt>0</tt>、<tt> 1</tt> 和 <tt> 2</tt>）。</p></li>
<li id="de3639e898joyc">
<a name="de3639e898joyc"></a>为了从单卷、多备份磁带中恢复第五和第九个备份，请输入：
<p></p>
<a name="de3639e940joyc"></a>
<pre id="de3639e940joyc" class="xmp">restore -xvqs 5 -f/dev/rmt0.1
restore -xvqs 4 -f/dev/rmt0.1</pre><p class="indatacontent"> 第一个命令从由 <tt>/dev/rmt0.1</tt> 指定多卷备份磁带上的第五个归档中抽取所有的文件。<tt>.1</tt> 标志符指定当打开时磁带设备不会收紧，关闭时，它不会反绕。由于 <span class="bold">-s</span> 标志的行为，需要使用一个 no-rewind-on-close、no-retension-on-open 磁带设备。第二个命令从第四个归档（相对于磁带上磁带头的当前位置）抽取所有的文件。当第五个归档被恢复的时候，磁带读／写头位于读取归档的位置。由于您想抽取磁带上第九个归档，您必须将 <span class="bold">-s</span> 标志指定为 4。这是因为 <span class="bold">-s</span> 标志是相对于在磁带上的位置而不是相对于磁带上的归档位置。九号归档是磁带上当前位置开始的第四个归档。</p></li>
<li id="de3639f020joyc">
<a name="de3639f020joyc"></a>为了恢复第四个备份（此备份开始于十个磁带多备份归档上的第六个磁带），放置第六个磁带到磁带机中并输入：
<p></p>
<a name="de3639f060joyc"></a>
<pre id="de3639f060joyc" class="xmp">restore -xcs 2 -f /dev/rmt0.1 /home/mike/manual/chap3</pre><p class="indatacontent"> 假定第四个备份是第六个磁带上的第二个备份，指定 <tt>-s 2</tt> 将磁带头前进到磁带第二个备份的开始处。<span class="bold">restore</span> 命令然后从归档中恢复指定的文件。如果继续后继卷的备份并且没有恢复文件，<span class="bold">restore</span> 命令会指导您插入下一个卷，直到备份到达终点的时候。<span class="bold">-f</span> 标志
指定了 no-rewind、no-retension 磁带设备名称。</p> 
<p></p><blockquote><span class="bold">注意：</span><span class="bold">-s</span> 标志指定相对于插入磁带机中的磁带的备份数量，而不是相对于总体的 10 个磁带归档。</blockquote></li>
<li id="de3639f177joyc">
<a name="de3639f177joyc"></a>为了提高在流磁带设备上的性能，设置从 <span class="bold">dd</span> 命令到 <span class="bold">restore</span> 命令的管道，请输入：
<p></p>
<a name="de3639f216joyc"></a>
<pre id="de3639f216joyc" class="xmp">dd if=/dev/rmt0 bs=64b | restore -xf- -b64</pre><p class="indatacontent"> <span class="bold">dd</span> 命令使用 64 个大小为 512 字节块的块从磁带读取归档并将归档写入标准输出。<span class="bold">restore</span> 命令使用 64 个大小为 512 的字节块的块大小读取标准输入。由 <span class="bold">dd</span> 命令使用的以从磁带中
读取归档的块大小值必须是通过 <span class="bold">backup</span> 命令用于创建磁带的块大小的偶数倍。例如，如下的 <span class="bold">backup</span> 命令可以用来创建从此例中抽取的归档：</p>
<a name="de3639f292joyc"></a>
<pre id="de3639f292joyc" class="xmp">find /home -print | backup -ivqf/dev/rmt0 -b64</pre><p class="indatacontent"> 此例仅应用于文件名格式归档。如果归档是文件系统格式， <span class="bold">restore</span> 命令应该包含
<span class="bold">-B</span> 标志。</p></li>
<li id="de3639f368joyc">
<a name="de3639f368joyc"></a>为了提高在 9348 Magnetic Tape Unit Model 12 上 <span class="bold">restore</span> 命令的性能，您可以通过如下输入改变块的大小：
<p></p>
<a name="de3639f407joyc"></a>
<pre id="de3639f407joyc" class="xmp">chdev -l DeviceName -a BlockSize=32k</pre></li>
<li>为了恢复非稀疏数据库文件，请输入：
<p></p>
<pre class="xmp">restore  -xef  /dev/rmt0</pre></li>
<li>为了恢复在归档前是稀疏的文件，请输入：
<p></p>
<pre class="xmp">restore  -xf  /dev/rmt0</pre></li>
<li>为了从归档中仅恢复文件的许可权，请输入：
<pre class="xmp">restore -Pa -vf /dev/rmt0</pre></li>
<li>为了从归档中仅恢复文件的 ACL 属性，请输入：
<pre class="xmp"> restore -Pc -vf /dev/rmt0</pre></li>
<li>为了查看目录和文件许可权，请输入：
<pre class="xmp">restore -Ta -vf /dev/rmt0 </pre></li></ol>
<a name="a1019427c"></a>
<h3 id="a1019427c">文件</h3>
<p></p>
<a name="wq1707"></a>
<table id="wq1707" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="28%">
<a id="a1019427e" name="a1019427e"></a><span class="bold">/dev/rfd0</span></td>
<td width="71%">  指定缺省的恢复设备。</td>
</tr>
<tr>
<td>
<a id="a15798d0" name="a15798d0"></a><span class="bold">/usr/sbin/restore</span></td>
<td>  包含 <span class="bold">restore</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a340f0b"></a>
<h3 id="a340f0b">相关信息</h3>
<a name="f0b1e4f267mart"></a>
<p id="f0b1e4f267mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds1/ar.htm#a0949a5b"><span class="bold">ar</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds1/backup.htm#a10192a8a"><span class="bold">backup</span></a> 命令、 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/mkfs.htm#a1019296c"><span class="bold">mkfs</span></a> 命令、 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds2/fsck.htm#a10192c87"><span class="bold">fsck</span></a> 命令和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds2/dd.htm#a101930e6"><span class="bold">dd</span></a> 命令。</p>
<a name="f0b1e4f364mart"></a>
<p id="f0b1e4f364mart"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/filesystems.htm#a1249cf"><span class="bold">filesystems</span></a> 文件、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/backup.htm#a15295cb"><span class="bold">backup</span></a> 文件和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/rmt.htm#vc90w2chris"><span class="bold">rmt</span></a> 特殊文件。</p>
<a name="f0b1e4f460mart"></a>
<p id="f0b1e4f460mart">在<span class="italic">《AIX 5L V5.2 系统管理指南：操作系统与设备》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/admnconc/backup_overview.htm#a29891267">『系统管理备份概述』</a>。</p>
<a name="f0b1e4f556mart"></a>
<p id="f0b1e4f556mart">在<span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/admnconc/file_sys.htm">『文件系统』</a>解释了文件系统类型、管理、结构和维护。</p>
<a name="f0b1e4f651mart"></a>
<p id="f0b1e4f651mart">在<span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/admnconc/sys_mgt_tools.htm">『系统管理接口工具』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="restore.htm#Top_Of_Page">页的顶部</a> | <a href="restbase.htm">上一页</a> | <a href="restorevgfiles.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
