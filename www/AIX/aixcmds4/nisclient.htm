<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - nisclient 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="nisclient.htm#Bot_Of_Page">页的底部</a> | <a href="nischttl.htm">上一页</a> | <a href="nisdefaults.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="nisclient"></a>
<h2 id="nisclient">nisclient 命令</h2>
<a name="a1219051js"></a>
<h3 id="a1219051js">用途</h3>
<p>为 NIS+ 主体初始化 NIS+ 凭证。</p>
<a name="a1219052js"></a>
<h3 id="a1219052js">语法</h3>
<p><span class="bold">为 NIS+ 主体添加 DES 凭证。</span></p>
<p><span class="bold">nisclient</span>  <a href="nisclient.htm#minusc"><span class="bold">-c</span></a> [  <a href="nisclient.htm#minusx"><span class="bold">-x</span></a> ] [  <a href="nisclient.htm#nisclientoflag"><span class="bold">-o</span></a> ] [  <a href="nisclient.htm#nisclientvflag"><span class="bold">-v</span></a> ] [  <a href="nisclient.htm#nisclientlflag"><span class="bold">-l</span></a> <span class="italic">network_password</span> ] [  <a href="nisclient.htm#nisclientdflag"><span class="bold">-d</span></a> <span class="italic">NIS+_domain</span> ] <span class="italic">client_name</span>...</p>
<p><span class="bold">初始化 NIS+ 客户机</span></p>
<p><span class="bold">nisclient</span>  <a href="nisclient.htm#minusi"><span class="bold">-i</span></a> [  <a href="nisclient.htm#minusx"><span class="bold">-x</span></a> ] [  <a href="nisclient.htm#nisclientvflag"><span class="bold">-v</span></a> ]  <a href="nisclient.htm#nisclienthflag"><span class="bold">-h</span></a> <span class="italic">NIS+_server_host</span> [  <a href="nisclient.htm#nisclientaflag"><span class="bold">-a</span></a> <span class="italic">NIS+_server_addr</span>
] [  <a href="nisclient.htm#nisclientdflag"><span class="bold">-d</span></a> <span class="italic">NIS+_domain</span> ] [  <a href="nisclient.htm#minuss"><span class="bold">-S</span></a> <span class="italic">0</span> | <span class="italic">2</span> ]</p>
<p><span class="bold">初始化 NIS+ 用户</span></p>
<p><span class="bold">nisclient</span>  <a href="nisclient.htm#minusu"><span class="bold">-u</span></a> [  <a href="nisclient.htm#minusx"><span class="bold">-x</span></a> ] [  <a href="nisclient.htm#nisclientvflag"><span class="bold">-v</span></a> ]</p>
<p><span class="bold">恢复网络服务系统环境</span></p>
<p><span class="bold">nisclient</span>  <a href="nisclient.htm#nisclientrflag"><span class="bold">-r</span></a> [  <a href="nisclient.htm#minusx"><span class="bold">-x</span></a> ]</p>
<a name="a1219053js"></a>
<h3 id="a1219053js">描述</h3>
<p><span class="bold">nisclient</span> 命令用于：</p>
<ul>
<li>为主机和用户创建 NIS+ 凭证</li>
<li>初始化 NIS+ 主机和用户</li>
<li>恢复网络服务系统环境</li></ul>
<p>NIS+ 凭证用于提供 NIS+ 客户机的认证信息给 NIS+ 服务。</p>
<p>使用第一条语法（<a href="nisclient.htm#minusc"><span class="bold">-c</span></a>）为主机或用户创建单独的 NIS+ 凭证。您必须作为域中的 NIS+ 主体登录，该主体是您要为其创建新凭证的。您必须有对本地凭证表的写许可权。<span class="italic">client_name</span> 参数接受在 NIS+ 域中任何有效的主机或用户名称（例如，<span class="italic">client_name</span> 必须存在于主机或密码表中）。<span class="bold">nisclient</span> 命令对 <span class="bold">host</span> 和 <span class="bold">passwd</span> 表验证每个 <span class="italic">client_name</span>，然后为主机和用户添加适当的 NIS+ 凭证。</p>
<p></p><blockquote><span class="bold">注：</span> 如果您在本地域外创建 NIS+ 凭证，主机和用户必须在本地域和远程域的 <span class="bold">host</span> 或 <span class="bold">passwd</span> 表中都存在。</blockquote>
<p>缺省情况下，<span class="bold">nisclient</span> 将不会为指定的主机和用户覆盖凭证表的现有项。如要覆盖，请使用 <a href="nisclient.htm#nisclientoflag"><span class="bold">-o</span></a> 标志。当创建了凭证后，<span class="bold">nisclient</span> 将打印需在客户机上执行的命令用于初始化主机或用户。<a href="nisclient.htm#minusc"><span class="bold">-c</span></a> 标志要求客户机的网络密码，该密码用于为客户机加密秘密密钥。您可以用带有 <a href="niscat.htm#minusl"><span class="bold">-l</span></a> 标志的命令行指定或者让脚本为您提示。可使用 <span class="bold">nispasswd</span> 或 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds1/chkey.htm"><span class="bold">chkey</span></a> 命令日后更改该网络密码。</p>
<p><a href="nisclient.htm#minusc"><span class="bold">-c</span></a> 标志本意并不是用于为定义在 <span class="bold">passwd</span> 和 <span class="bold">hosts</span> 表中的所有用户和主机创建 NIS+ 凭证。要为所有用户和主机定义凭证，请使用 <a href="nispopulate.htm#nispopulate"><span class="bold">nispopulate</span></a> 命令。</p>
<p>使用第二条语法（<a href="nisclient.htm#minusi"><span class="bold">-i</span></a>）初始化 NIS+ 客户机。<span class="bold">-i</span> 标志能用于转换机器使用 NIS+ 或者更改机器的域名。您必须作为超级用户登录将成为 NIS+ 客户机的机器。您的管理员必须已经使用 <span class="bold">nisclient</span> <a href="nisclient.htm#minusc"><span class="bold">-c</span></a> 或  <a href="nispopulate.htm#nispopulateupc"><span class="bold">nispopulate -C</span></a> 命令为该主机创建了 NIS+ 凭证。您需要管理员创建的网络密码。<span class="bold">nisclient</span> 命令将提示要求用于解密秘密密钥的网络密码和产生一系列新的秘密/公开密钥的机器根登录密码。如果 NIS+ 凭证是管理员使用 <span class="bold">nisclient -c</span> 命令创建的，那么就能简单的使用 <span class="bold">nisclient</span> 脚本打印的初始化命令初始化该主机而代替手工输入。</p>
<p>初始化未经认证的 NIS+ 客户机，使用带有 <a href="nisclient.htm#minuss"><span class="bold">-S</span></a> <span class="italic">0</span> 的 <a href="nisclient.htm#minusi"><span class="bold">-i</span></a> 标志。有这些标志，<span class="bold">nisclient -i</span> 标志将不要求任何密码。</p>
<p>在客户机初始化过程中，被修改的文件作为 <span class="italic">files</span>.no_nisplus 备份。在客户机初始化中通常被修改的文件有：<span class="bold">/etc/defaultdomain</span>，<span class="bold">/etc/nsswitch.conf</span>，<span class="bold">/etc/inet/hosts</span>，和可能存在的 <span class="bold">/var/nis/NIS_COLD_START</span>。</p>
<p></p><blockquote><span class="bold">注：</span> 如果备份文件已存在，则该文件不能被保存。</blockquote>
<p><a href="nisclient.htm#minusi"><span class="bold">-i</span></a> 标志并不安装 NIS+ 客户机来使用 DNS 来解析主机名。查阅 DNS 文档获取安装 DNS 的信息。（请参阅 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/resolv.conf.htm">resolv.conf</a> 的信息文件格式。）</p>
<p>不必初始化 NIS+ 根主控服务器或作为 NIS+ 客户机安装的机器。</p>
<p>使用第三条语法（<a href="nisclient.htm#minusu"><span class="bold">-u</span></a>）初始化 NIS+ 用户。您必须作为域中 NIS+ 的客户机用户登录，NIS+ 凭证创建在该域中。您的管理员应该已经使用 <span class="bold">nisclient</span> 或 <a href="nispopulate.htm#nispopulate"><span class="bold">nispopulate</span></a> 命令为您的用户名创建了 NIS+ 凭证。您必须拥有管理员用来为用户名创建 NIS+ 凭证的网络密码。<span class="bold">nisclient</span> 命令将提示要求用于解密秘密密钥的网络密码和产生一系列新的秘密/公开密钥的登录密码。</p>
<p>使用第四条语法（<a href="nisclient.htm#nisclientrflag"><span class="bold">-r </span></a>）使网络服务系统环境恢复到 <span class="bold">nisclient</span>  <a href="nisclient.htm#minusi"><span class="bold">-i</span></a> 执行前所使用的环境。您必须作为超级用户登录到将要被恢复的机器。只有已使用 <span class="bold">nisclient -i</span> 初始化该机器，恢复才能起作用，因为它将使用 <span class="bold">-i</span> 标志创建的备份文件。</p>
<p>当初始化机器或恢复网络服务系统后，重新引导机器。</p>
<a name="a1219054js"></a>
<h3 id="a1219054js">标志</h3>
<p></p>
<a name="wq375"></a>
<table id="wq375" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="30%">
<a id="nisclientaflag" name="nisclientaflag"></a><span class="bold">-a</span> <span class="italic">NIS+_server_addr</span></td>
<td width="70%">为 NIS+ 服务器指定 IP 地址。该标志仅和 <a href="nisclient.htm#minusi"><span class="bold">-i</span></a> 标志结合使用。</td>
</tr>
<tr>
<td>
<a id="minusc" name="minusc"></a><span class="bold">-c</span></td>
<td>为 NIS+ 主体添加 DES 凭证。</td>
</tr>
<tr>
<td>
<a id="nisclientdflag" name="nisclientdflag"></a><span class="bold">-d</span><span class="italic"> NIS+_domain</span></td>
<td>当结合 <a href="nisclient.htm#minusc"><span class="bold">-c</span></a> 标志使用时，指定应该创建凭证的 NIS+ 域。当结合 <a href="nisclient.htm#minusi"><span class="bold">-i</span></a> 标志使用时，为新的 NIS+ 域指定名称。缺省值是当前域名。</td>
</tr>
<tr>
<td>
<a id="nisclienthflag" name="nisclienthflag"></a><span class="bold">-h</span><span class="italic"> NIS+_server_host</span></td>
<td>指定 NIS+ 服务器的主机名。该标志仅和 <a href="nisclient.htm#minusi"><span class="bold">-i</span></a> 标志结合使用。</td>
</tr>
<tr>
<td>
<a id="minusi" name="minusi"></a><span class="bold">-i</span></td>
<td>初始化 NIS+ 客户机。</td>
</tr>
<tr>
<td>
<a id="nisclientlflag" name="nisclientlflag"></a><span class="bold">-l</span><span class="italic"> network_password</span></td>
<td>为客户机指定网络密码。该标志仅和 <a href="nisclient.htm#minusc"><span class="bold">-c</span></a> 标志结合使用。如果该标志未指定，脚本将提示要求网络密码。</td>
</tr>
<tr>
<td>
<a id="nisclientoflag" name="nisclientoflag"></a><span class="bold">-o</span></td>
<td>覆盖现有的凭证项。缺省值是不覆盖。该标志仅和 <a href="nisclient.htm#minusc"><span class="bold">-c</span></a> 标志结合使用。</td>
</tr>
<tr>
<td>
<a id="nisclientrflag" name="nisclientrflag"></a><span class="bold">-r</span></td>
<td>恢复网络服务系统环境。</td>
</tr>
<tr>
<td>
<a id="minuss" name="minuss"></a><span class="bold">-S</span><span class="italic"> 0</span> | <span class="italic">2</span></td>
<td>为 NIS+ 客户机指定认证级别。级别 0 对应于未认证的客户机，级别 2 对应于已认证的（DES）客户机。以级别 2 认证作为缺省值。该标志仅和 <a href="nisclient.htm#minusi"><span class="bold">-i</span></a> 标志结合使用。<span class="bold">nisclient</span> 命令对 <a href="nisclient.htm#minusc"><span class="bold">-c</span></a> 和 <a href="nisclient.htm#minusu"><span class="bold">-u</span></a> 标志总是使用级别 2 认证（DES）。无需为级别 0 认证运行带有 <span class="bold">-u</span> 和 <span class="bold">-c</span> 的 <span class="bold">nisclient</span>。</td>
</tr>
<tr>
<td>
<a id="minusu" name="minusu"></a><span class="bold">-u</span></td>
<td>初始化 NIS+ 用户</td>
</tr>
<tr>
<td>
<a id="nisclientvflag" name="nisclientvflag"></a><span class="bold">-v</span></td>
<td>以详细方式运行脚本。</td>
</tr>
<tr>
<td>
<a id="minusx" name="minusx"></a><span class="bold">-x</span></td>
<td>打开回显方式。脚本打印本应执行的命令。注意这些命令并没有真正的被执行。缺省值是关。</td>
</tr>
</tbody>
</table>
<a name="a1219055js"></a>
<h3 id="a1219055js">示例</h3>
<ol type="1">
<li>在本地域中为主机 <span class="italic">dilbert</span> 和用户 <span class="italic">fred</span> 添加 DES 凭证，请输入：
<p></p>
<pre class="xmp">nisclient -c dilbert fred</pre></li>
<li>要将主机 <span class="italic">dilbert</span> 和用户 <span class="italic">fred</span> 的 DES 凭证添加到域 <tt>xyz.ibm.com</tt> 中，请输入：
<p></p>
<pre class="xmp">nisclient -c -d xyz.ibm.com. dilbert fred</pre></li>
<li>要将主机 <span class="italic">dilbert</span> 作为域 <tt>xyz.ibm.com.</tt> 中未认证的 NIS+ 客户机初始化，此处  <span class="italic">nisplus_server</span> 对域 <tt>xyz.ibm.com.</tt> 而言是一个服务器，请输入：
<p></p>
<pre class="xmp">nisclient -i -h nisplus_server -d xyz.ibm.com.</pre> 
<p>如果 <span class="bold">/etc/hosts</span> 文件中未发现服务器，脚本将提示输入 <span class="italic">nisplus_server</span> 的 IP 地址。<a href="nisaddent.htm#dup0022"><span class="bold">-d</span></a> 标志仅在当前域名和新域名不同时才需要。</p></li>
<li>要将主机 <span class="italic">dilbert</span> 作为域 <tt>xyz.ibm.com.</tt> 中未认证的 NIS+ 客户机初始化，此处 <span class="italic">nisplus_server</span> 对域 <tt>xyz.ibm.com.</tt> 而言是一个服务器，请输入：
<p></p>
<pre class="xmp">nisclient -i -S 0 -h nisplus_server -d xyz.ibm.com. -a 129.140.44.1</pre></li>
<li>为将用户 <span class="italic">fred</span> 作为 NIS+ 主体初始化，需要以 NIS+ 客户机的用户 <span class="italic">fred</span> 登录，请输入：
<p></p>
<pre class="xmp">nisclient -u</pre></li></ol>
<a name="a121956js"></a>
<h3 id="a121956js">文件</h3>
<p></p>
<a name="wq377"></a>
<table id="wq377" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="50%"><span class="bold">/var/nis/NIS_COLD_START</span></td>
<td width="50%">该文件包含服务器的列表、它们的传输地址及服务机器缺省域的安全 RPC 公用密钥。</td>
</tr>
<tr>
<td><span class="bold">/etc/defaultdomain</span></td>
<td>系统缺省域名</td>
</tr>
<tr>
<td><span class="bold">/etc/nsswitch.conf</span></td>
<td>名称服务切换的配置文件</td>
</tr>
<tr>
<td><span class="bold">+/etc/inet/hosts</span></td>
<td>本地主机名称数据库</td>
</tr>
</tbody>
</table>
<a name="wq378"></a>
<h3 id="wq378">相关信息</h3>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds1/chkey.htm"><span class="bold">chkey</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/keylogin.htm"><span class="bold">keylogin</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/keyserv.htm"><span class="bold">keyserv</span></a> 命令、<a href="nisaddcred.htm#endr44465"><span class="bold">nisaddcred</span></a> 命令、<a href="nisinit.htm#endr58495"><span class="bold">nisinit</span></a> 命令及 <a href="nispopulate.htm#nispopulate"><span class="bold">nispopulate</span></a>
命令。</p>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/resolv.conf.htm"><span class="bold">resolv.conf</span></a> 文件格式。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="nisclient.htm#Top_Of_Page">页的顶部</a> | <a href="nischttl.htm">上一页</a> | <a href="nisdefaults.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
