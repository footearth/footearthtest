<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - read 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="read, 命令, read 命令, 使用 read 命令,
一行标准输入, 读数, 读数一行, 标准输入, 与 shell 变量比较, 字段，标准输入,
与标准输入字段比较, shell 变量" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="read.htm#Bot_Of_Page">页的底部</a> | <a href="rdump.htm">上一页</a> | <a href="readlvcopy.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="a143c17a0"></a>
<h2 id="a143c17a0">read 命令</h2>
<p><a id="idx490" name="idx490"></a><a id="idx491" name="idx491"></a></p>
<a name="a143c17a1"></a>
<h3 id="a143c17a1">用途</h3><a id="idx492" name="idx492"></a><a id="idx493" name="idx493"></a><a id="idx494" name="idx494"></a><a id="idx495" name="idx495"></a>
<a name="e47db92842mart"></a>
<p id="e47db92842mart">从标准输入中读取一行。</p>
<a name="a143c17a3"></a>
<h3 id="a143c17a3">语法</h3>
<p><span class="bold">read</span> [<tt></tt>  <a href="read.htm#dtfhk24bmart"><span class="bold">-p</span></a><tt></tt> ][<span class="bold">&nbsp;</span> <a href="read.htm#a143c17aa"><span class="bold">-r</span></a><span class="bold">&nbsp;</span>][<tt></tt>  <a href="read.htm#wufhkddmart"><span class="bold">-s</span></a><tt></tt> ][<tt></tt>  <a href="read.htm#cvfhk33dmart"><span class="bold">-u</span>[<tt> </tt><span class="italic">n</span><tt> </tt>]</a><tt></tt>
]<tt></tt> [<tt>&nbsp;</tt> <a href="read.htm#avfhk27fmart"><span class="italic">VariableName?Prompt</span></a><tt></tt> ]<tt></tt></p>
<p>[<tt></tt>  <a href="read.htm#nvfhk3dbmart"><span class="italic">VariableName&nbsp;</span>...</a><tt> ]</tt></p>
<a name="a143c17a6"></a>
<h3 id="a143c17a6">描述</h3>
<a name="e47db93659mart"></a>
<p id="e47db93659mart"><span class="bold">read</span> 命令从标准输入中读取一行，并把输入行的每个字段的值指定给 shell 变量，用 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixuser/usrosdev/field_split.htm#a2659134c">IFS</a>（内部字段分隔符）变量中的字符作为分隔符。<span class="italic">VariableName</span> 参数指定 shell 变量的名称，shell 变量获取输入行一个字段的值。由<span class="italic">VariableName</span> 参数指定的第一个 shell 变量指定给每一个字段的值，由　<span class="italic">VariableName</span> 参数指定的第二个 shell 变量指定给第二个字段的值，以此类推，直到最后一个字段。如果标准输入行的字段比相应的由 <span class="italic">VariableName</span> 参数指定的 shell 变量的个数多，把全部余下的字段的值赋给指定的最后的 shell 变量。如果比 shell 变量的个数少，则剩余的 shell 变量被设置为空字符串。</p>
<p></p><blockquote><a name="e47db93911mart"></a><span id="e47db93911mart" class="pk"></span><span class="bold">注意：</span> 如果省略了 <span class="italic">VariableName</span> 参数，变量 REPLY 用作缺省变量名。</blockquote>
<a name="e47db94006mart"></a>
<p id="e47db94006mart">由 <span class="bold">read</span> 命令设置的 shell 变量影响当前 shell 执行环境。</p>
<a name="a143c17a9"></a>
<h3 id="a143c17a9">标志</h3>
<p></p>
<a name="wq1577"></a>
<table id="wq1577" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="dtfhk24bmart" name="dtfhk24bmart"></a><span class="bold">-p</span></td>
<td width="86%">  用 |&amp; （管道，＆ 的记号名称）读取由 Korn shell 运行的进程的输出作为输入。
<p></p><blockquote><span class="bold">注：</span><span class="bold">-p</span> 标志的文件结束符引起该进程的清除，因此产生另外一个进程。</blockquote></td>
</tr>
<tr>
<td>
<a id="a143c17aa" name="a143c17aa"></a><span class="bold">-r</span></td>
<td>  指定读取命令把一个 \ (反斜杠) 处理为输入行的一部分，而不把它作为一个控制字符。</td>
</tr>
<tr>
<td>
<a id="wufhkddmart" name="wufhkddmart"></a><span class="bold">-s</span></td>
<td>  把输入作为一个命令保存在 Korn shell 的历史记录文件中。</td>
</tr>
<tr>
<td>
<a id="cvfhk33dmart" name="cvfhk33dmart"></a><span class="bold">-u</span> [ <span class="italic">n</span>
]</td>
<td>  读取一位数的文件描述符号码 <span class="italic">n</span> 作为输入。文件描述符可以用 ksh <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixuser/usrosdev/korn_builtin_cmds.htm#a265913d4">exec</a> 内置命令打开。<span class="italic">n</span> 的缺省值是 0，表示的是键盘。值 2 表示标准错误。</td>
</tr>
</tbody>
</table>
<a name="e47db94952mart"></a>
<h3 id="e47db94952mart">参数</h3>
<p></p>
<a name="wq1578"></a>
<table id="wq1578" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="31%">
<a id="avfhk27fmart" name="avfhk27fmart"></a><span class="italic">VariableName?Prompt</span></td>
<td width="68%">  指定一个变量的名称和一个要使用的提示符。当 Korn shell 是交互式时，它将把提示符写到标准错误，并执行输入。<span class="italic">Prompt</span> 包含多于一个的字，必须用单引号或双引号括起来。</td>
</tr>
<tr>
<td>
<a id="nvfhk3dbmart" name="nvfhk3dbmart"></a><span class="italic">VariableName</span>...</td>
<td>  指定一个或多个由空格分隔的变量名。</td>
</tr>
</tbody>
</table>
<a name="ac21cc6915shar"></a>
<h3 id="ac21cc6915shar">退出状态</h3>
<a name="e47db95256mart"></a>
<p id="e47db95256mart">这个命令返回下列出口值：</p>
<a name="wq1579"></a>
<table id="wq1579" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="c345c81551harr" name="c345c81551harr"></a><span class="bold">0</span></td>
<td width="95%">  成功完成。</td>
</tr>
<tr>
<td>
<a id="c345c81701harr" name="c345c81701harr"></a><span class="bold">&gt;0</span></td>
<td>  检测到文件结束符或一个错误发生。</td>
</tr>
</tbody>
</table>
<a name="a143c17ab"></a>
<h3 id="a143c17ab">示例</h3>
<ol type="1">
<li><a name="e47db95574mart"></a><span id="e47db95574mart" class="pk"></span>下列脚本打印一个文件，这个文件中每行的第一个字段被移动到本行的末尾。
<p></p>
<a name="a143c17ad"></a>
<pre id="a143c17ad" class="xmp">while&nbsp;read&nbsp;-r&nbsp;xx&nbsp;yy
do
         print&nbsp;printf&nbsp;"%s&nbsp;%s/n"&nbsp;$yy&nbsp;$xx
done&nbsp;&lt; InputFile</pre></li>
<li><a name="e761158107mela"></a><span id="e761158107mela" class="pk"></span>读取一行，把它分成字段，并使用  "Please enter:  " 作为提示符，请输入：
<p></p>
<a name="e761158197mela"></a>
<pre id="e761158197mela" class="xmp">read word1?"Please enter:  " word2</pre><p class="indatacontent"> 系统显示：</p>
<a name="e761158373mela"></a>
<pre id="e761158373mela" class="xmp">Please enter:
You enter:
hello world</pre><p class="indatacontent"> 变量 <span class="italic">word1</span> 的值应该是 "hello"，变量 <span class="italic">word2</span> 应该是 "world."</p></li>
<li><a name="e761158562mela"></a><span id="e761158562mela" class="pk"></span>为创建一个共同进程，用 print <span class="bold">-p</span> 写到共同进程，并用 read <span class="bold">-p</span> 从共同进程中读取输入，请输入：
<p></p>
<a name="e761158655mela"></a>
<pre id="e761158655mela" class="xmp">(read; print "hello $REPLY") 
print -p "world"
read-p line</pre><p class="indatacontent"> 变量 <span class="italic">line</span> 的值应该是 "hello world."</p></li>
<li><a name="e761158842mela"></a><span id="e761158842mela" class="pk"></span>为把输入行的副本保存为历史文件中的一个命令，请输入：
<p></p>
<a name="e761158931mela"></a>
<pre id="e761158931mela" class="xmp">read -s line &lt; input_file</pre><p class="indatacontent"> 如果输入文件包含 "echo hello world," ，那么在历史记录文件中将会把 "echo hello world"　保存为一个命令。</p></li></ol>
<a name="a143c17b6"></a>
<h3 id="a143c17b6">相关信息</h3>
<a name="e47db96195mart"></a>
<p id="e47db96195mart"><a href="printf.htm#a94c12"><span class="bold">printf</span></a>
命令。</p>
<a name="a39dc00b978stue"></a>
<p id="a39dc00b978stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/ksh.htm#a265912f6"><span class="bold">ksh</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="read.htm#Top_Of_Page">页的顶部</a> | <a href="rdump.htm">上一页</a> | <a href="readlvcopy.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
