<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - ndpd-router 守护程序</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="ndpd-router 守护程序, ndpd-router, 守护程序,
使用 ndpd-router 守护程序, 路由器, NDP 及 RIPng 守护程序, RIPng 及 NDP 守护程序,
NDP 和 RIPng 守护程序" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="ndpd-router.htm#Bot_Of_Page">页的底部</a> | <a href="ndpd-host.htm">上一页</a> | <a href="ndx.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>
<a id="idx20" name="idx20"></a><a id="idx21" name="idx21"></a><a id="idx22" name="idx22"></a><a id="idx23" name="idx23"></a>
<a name="cl54d200mike"></a>
<h2 id="cl54d200mike">ndpd-router 守护程序</h2>
<a name="wq79"></a>
<h3 id="wq79">用途</h3>
<p>路由器的 NDP 及 RIPng 守护程序</p>
<a name="a213x9mike"></a>
<h3 id="a213x9mike">语法</h3>
<p><span class="bold">ndpd-router</span> [ <a href="ndpd-router.htm#ndpdrouterrflag"><span class="bold">-r</span></a>] [ <a href="ndpd-router.htm#ndpdrouterpflag"><span class="bold">-p</span></a>] [ <a href="ndpd-router.htm#ndpdrouterupm"><span class="bold">-M</span></a>] [ <a href="ndpd-router.htm#ndpdrouterupo"><span class="bold">-O</span></a>] [ <a href="ndpd-router.htm#ndpdroutersflag"><span class="bold">-s</span></a>] [ <a href="ndpd-router.htm#ndpdrouterqflag"><span class="bold">-q</span></a>] [ <a href="ndpd-router.htm#ndpdroutergflag"><span class="bold">-g</span></a>]
[ <a href="ndpd-router.htm#ndpdrouternflag"><span class="bold">-n</span></a>] [ <a href="ndpd-router.htm#ndpdrouterrflag"><span class="bold">-R</span></a>] [ <a href="ndpd-router.htm#ndpdroutersflag"><span class="bold">-S</span></a>] [ <a href="ndpd-router.htm#ndpdrouterdflag"><span class="bold">-d</span></a>]
[ <a href="ndpd-router.htm#ndpdroutertflag"><span class="bold">-t</span></a>] [ <a href="ndpd-router.htm#ndpdroutervflag"><span class="bold">-v</span></a>] [ <a href="ndpd-router.htm#ndpdrouter_flags_bigh"><span class="bold">-H</span></a> ] [ <a href="ndpd-router.htm#ndpdrouter_flags_m"><span class="bold">-m</span></a> ]
[ <a href="ndpd-router.htm#ndpdrouteruflag"><span class="bold">-u</span></a> <span class="italic">port</span>] [ <a href="ndpd-router.htm#ndpdrouterupd"><span class="bold">-D</span></a> <span class="italic">max</span>[<span class="italic">min</span>[<span class="bold">/</span><span class="italic">life</span>]]] [ <a href="ndpd-router.htm#ndpdrouterupp"><span class="bold">-P</span></a> [<span class="italic">invlife</span>]<span class="bold">/</span>[<span class="italic">deplife</span>]] [ <a href="ndpd-router.htm#ndpdrouterupt"><span class="bold">-T</span></a> [<span class="italic">reachtim</span>]<span class="bold">/</span>[<span class="italic">retrans</span>]<span class="bold">/</span>[<span class="italic">hlim</span>]]</p>
<a name="wq80"></a>
<h3 id="wq80">描述</h3>
<p><span class="bold">ndpd-router</span> 守护程序管理非内核活动的邻节点发现协议（NDP）。它接收路由器请求并发送路由器公告。它也能够使用 RIPng 协议交换路由信息。</p>
<p><span class="bold">/etc/gateway6</span> 文件为 <span class="bold">ndpd-router</span> 提供选项。此文件可以在程序运行时修改。在任何消息的发送、接收前或 HUP 信号的接收时，要将检查这些更改。该文件包含伪指令，每行为一条（以 # 为注释）。文件中所有的 IPv6 地址和前缀必须是数字格式。不允许符号名称。除网关伪指令外，每行以一个关键字开始，由以 <span class="italic">key</span>=<span class="italic">argument</span> 格式的选项组成。</p>
<p><span class="bold">接口</span></p>
<p><span class="bold">ndpd-router</span> 守护程序知道 IEEE 及 CTI 点对点接口。<span class="bold">ndpd-router</span> 守护程序交换所有已知的带本地链接地址的 UP 接口的信息包。所有接口状态的更改都是可检测的。如果接口关闭或遗失其本机链接地址，将停止该接口上的 NDP 和 PIPng 处理。如果接口启动，则 NDP 和 RIPng 处理已启动。</p>
<p>要发送路由器公告或 RIPng 信息包，或同时发送两者，本地<span class="italic">和</span>远程的本地链接地址必须已配置。</p>
<a name="wq81"></a>
<h3 id="wq81">标志</h3>
<p></p>
<a name="wq82"></a>
<table id="wq82" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="20%">
<a id="ndpdrouter_flags_bigh" name="ndpdrouter_flags_bigh"></a><span class="bold">-H</span></td>
<td width="79%">启用系统来处理 NDP 功能部件，这些功能部件对于作为移动式 IPv6 的本地代理运行是必需的。</td>
</tr>
<tr>
<td>
<a id="ndpdrouter_flags_m" name="ndpdrouter_flags_m"></a><span class="bold">-m</span></td>
<td>启用系统来协助对移动式 IPv6 移动式节点的动向检测。</td>
</tr>
<tr>
<td>
<a id="ndpdrouterupd" name="ndpdrouterupd"></a><span class="bold">-D</span><span class="italic"> max</span> [<span class="italic">min</span>[<span class="bold">/</span><span class="italic">life</span>]]</td>
<td>从 <span class="italic">min</span> 到 <span class="italic">max</span> 秒的时间间隔内，主动发送路由器公告。缺省 <span class="italic">max</span> 值是 600 秒，有效的范围是 4 到 1800 秒。缺省 <span class="italic">min</span> = <span class="italic">max</span>/ 3, 有效范围是从 1 到 0.75 *  <span class="italic">max</span>。路由器生命期由 <span class="italic">life</span> 参数设置, 缺省值是 10 * max。有效的范围从 0 到 65535 秒。</td>
</tr>
<tr>
<td>
<a id="ndpdrouterupt" name="ndpdrouterupt"></a><span class="bold">-T</span> [<span class="italic">reachtim</span>] <span class="bold">/</span> [<span class="italic">retrans</span>] <span class="bold">/</span> [<span class="italic">hlim</span>]</td>
<td>如果 <span class="italic">reachim</span> 非零，将 BaseReachableTime 字段设置为 <span class="italic">reachim</span> 秒。如果 <span class="italic">retrans</span> 非零，设置 RetransTime 字段为 <span class="italic">retrans</span> 秒。如果 <span class="italic">hlim</span> 非零，在路由器公告中将 hot limit 字段设置为 <span class="italic">hlim</span>。</td>
</tr>
<tr>
<td>
<a id="ndpdrouterupm" name="ndpdrouterupm"></a><span class="bold">-M</span></td>
<td>在公告中设置 <span class="bold">M</span> 标志（状态配置）。</td>
</tr>
<tr>
<td>
<a id="ndpdrouterupo" name="ndpdrouterupo"></a><span class="bold">-O</span></td>
<td>在公告中设置 <span class="bold">O</span> 标志（其它状态信息）。</td>
</tr>
<tr>
<td>
<a id="ndpdrouterpflag" name="ndpdrouterpflag"></a><span class="bold">-p</span></td>
<td>不提供前缀（从接口配置获知）。</td>
</tr>
<tr>
<td>
<a id="ndpdrouterupp" name="ndpdrouterupp"></a><span class="bold">-P [invlife]/[deplife]</span></td>
<td>设置无效的 life 值和不建议使用的 life 值作为通告前缀（以秒计算）。缺省值为 0xffffffff（无穷大）。</td>
</tr>
<tr>
<td>
<a id="ndpdrouterrflag" name="ndpdrouterrflag"></a><span class="bold">-r</span></td>
<td>在路由器公告中，不提供缺省路由器。</td>
</tr>
<tr>
<td>
<a id="ndpdroutersflag" name="ndpdroutersflag"></a><span class="bold">-s</span></td>
<td>启用 RIPng 协议（缺省为：RIPng 禁用）。</td>
</tr>
<tr>
<td>
<a id="ndpdrouterqflag" name="ndpdrouterqflag"></a><span class="bold">-q</span></td>
<td>启用 RIPng 协议，但并不发送 RIPng 信息包。</td>
</tr>
<tr>
<td>
<a id="ndpdroutergflag" name="ndpdroutergflag"></a><span class="bold">-g</span></td>
<td>在 RIPng 中广播缺省路由。</td>
</tr>
<tr>
<td>
<a id="ndpdrouternflag" name="ndpdrouternflag"></a><span class="bold">-n</span></td>
<td>不安装由 RIPng 接收的路由。</td>
</tr>
<tr>
<td>
<a id="ndpdrouteruflag" name="ndpdrouteruflag"></a><span class="bold">-u</span><span class="italic"> port</span></td>
<td>对 RIPng 使用 UDP 端口 <span class="italic">port</span>。缺省值为 521。</td>
</tr>
<tr>
<td>
<a id="ndpdrouterupr" name="ndpdrouterupr"></a><span class="bold">-R</span></td>
<td>对 RIPng 使用无错误逆向的分割范围。</td>
</tr>
<tr>
<td>
<a id="ndpdrouterups" name="ndpdrouterups"></a><span class="bold">-S</span></td>
<td>对 RIPng 不使用任何分割范围。</td>
</tr>
<tr>
<td>
<a id="ndpdrouterdflag" name="ndpdrouterdflag"></a><span class="bold">-d</span></td>
<td>启用调试（异常情况和转储）。</td>
</tr>
<tr>
<td>
<a id="ndpdroutervflag" name="ndpdroutervflag"></a><span class="bold">-v</span></td>
<td>记录全部有用事件（daemon.info 和控制台）。</td>
</tr>
<tr>
<td>
<a id="ndpdroutertflag" name="ndpdroutertflag"></a><span class="bold">-t</span></td>
<td>在记录的日志消息中添加时间戳记。</td>
</tr>
</tbody>
</table>
<a name="wq83"></a>
<h3 id="wq83">可用的伪指令</h3>
<p>对 <span class="bold">/etc/gateway6</span> 文件，主要伪指令是：</p>
<dl>
<dt class="bold">option [<span class="italic">option-directive</span>...]</dt>
<dd>设置每个接口／缺省选项。
</dd>
<dt class="bold">prefix [<span class="italic">prefix-directive</span>...]</dt>
<dd>设置每个接口／缺省前缀处理选项。
</dd>
<dt class="bold">filter [<span class="italic">filter-directive</span> ...]</dt>
<dd>设置每个接口／缺省过滤器。
</dd>
<dt class="bold"><span class="italic">gateway directives</span></dt>
<dd>在 RIPng 信息包或内核中设置路由。
</dd>
</dl><p class="indatacontent">每个伪指令在下面将有更详细的说明。</p>
<a name="wq84"></a>
<h4 id="wq84">选项伪指令</h4>
<p>设置不同的每个接口选项。</p>
<p>设置在 <span class="bold">if</span> 选项后的 <span class="bold">option</span> 伪指令的任何值都必须显示在以逗号分隔的列表中。</p>
<a name="wq85"></a>
<div class="notetitle" id="wq85">注:</div>
<div class="notebody">至少一个选项（除了 <span class="bold">if</span> 选项）必须紧随在 <span class="bold">option</span> 伪指令之后被指定。如果 <span class="bold">if</span> 选项被指定，它必须是紧随 <span class="bold">option</span> 伪指令之后的第一个选项。在 <span class="bold">if</span> 选项和随后的任意以逗号分隔的选项列表之间必须有一个空格。</div>
<p><span class="bold">语法：</span></p>
<p></p>
<pre class="xmp"><span class="bold">option</span> [ <span class="bold">if</span>=<span class="italic">n1</span>,<span class="italic">n2</span> ] <span class="bold">ripin</span>=(<span class="bold">y</span>|<span class="bold">n</span>),<span class="bold">ripout</span>=(<span class="bold">y</span>|<span class="bold">n</span>|<span class="bold">S</span>|<span class="bold">R</span>),<span class="bold">rtadv</span>=(<span class="bold">y</span>|<span class="bold">n</span>|<span class="italic">min</span>[/<span class="italic">max</span>]),<span class="bold">flag</span>=[<span class="bold">M</span>|<span class="bold">O</span>],<span class="bold">life</span>=<span class="italic">Seconds</span>,<span class="bold">reach</span>=<span class="italic">Seconds</span>,<span class="bold">retrans</span>=<span class="italic">Seconds</span></pre>
<a name="wq86"></a>
<table id="wq86" width="100%" summary="" border="1" frame="border" rules="all">
<tbody valign="top">
<tr>
<td><span class="bold">if=</span><span class="italic">list</span> 
<br /><span class="bold">interface=</span><span class="italic">list</span></td>
<td>如无关键字，选项伪指令为缺省选项。如有接口字段，选项参数只应用于所列出的接口。列表由逗号分隔。您可使用 <tt class="xph">le*</tt> 来匹配全部的 leX 接口。缺省选项必须在 <span class="bold">/etc/gateway6</span> 文件的首行。</td>
</tr>
<tr>
<td><span class="bold">mtu</span> [<span class="bold">=</span><span class="italic">mtuval</span>]</td>
<td>在路由器公告中通告 MTU 的值 <span class="italic">mtuval</span>。如无 <span class="italic">mtuval</span> 参数，所公告的 MTU 是 MTU 的接口。如 <span class="italic">mtuval</span> 为 0，禁止 MTU 公告。</td>
</tr>
<tr>
<td><span class="bold">ripin=</span>(<span class="bold">n</span>|<span class="bold">y</span>)</td>
<td>不侦听（侦听）输入的 RIPng 信息包。不发送（发送）RIPng 信息包。如带 <span class="bold">-S</span> 标志，不使用分割范围。如带 <span class="bold">-R</span> 标志，使用无有害逆向的分割范围。</td>
</tr>
<tr>
<td><span class="bold">rtadv=</span>(<span class="bold">n</span>|<span class="bold">y</span>|<span class="italic">min</span> [<span class="bold">/</span><span class="italic">max</span>])</td>
<td>不发送（发送）路由器公告。如带 <span class="italic">min</span>[<span class="bold">/</span><span class="italic">max</span>] 选项，在路由器公告间设置时间间隔（以秒计）。</td>
</tr>
<tr>
<td><span class="bold">flag=</span>{<span class="bold">M</span>|<span class="bold">O</span>}</td>
<td>在路由器公告中设置状态方式标志。
<dl>
<dt class="bold"><span class="bold">M</span></dt>
<dd>使用状态配置
</dd>
<dt class="bold"><span class="bold">O</span></dt>
<dd>除地址外，使用状态配置
</dd>
</dl></td>
</tr>
<tr>
<td><span class="bold">life=</span><span class="italic">Seconds</span></td>
<td>设置路由器公告中的路由器生命周期字段（以秒计）。</td>
</tr>
<tr>
<td><span class="bold">reach=</span><span class="italic">Seconds</span></td>
<td>设置路由器公告中的可到达字段（以秒计）。</td>
</tr>
<tr>
<td><span class="bold">retrans=</span><span class="italic">Seconds</span></td>
<td>设置路由器公告中的转发时间间隔字段（以秒计）。</td>
</tr>
</tbody>
</table>
<a name="wq87"></a>
<h4 id="wq87">前缀伪指令</h4>
<p>定义在路由器公告伪指令中通告的前缀。如无接口的前缀伪指令，路由器公告则包含由该接口的地址列表中推断出的前缀列表。如有前缀伪指令，路由器公告包含由不同前缀伪指令定义的前缀列表（依次）。在内核中，未安装前缀。如有格式为 <span class="italic">prefix</span>=<span class="italic">none</span> 的前缀伪指令，则未公告前缀列表。</p>
<p><span class="bold">语法：</span></p>
<p><span class="bold">prefix</span> <span class="bold">if</span>=n <span class="bold">prefix</span>=(<span class="bold">none</span>|<span class="italic">xxx</span>::/<span class="italic">PrefixLength</span>) <span class="bold">flag</span>=[<span class="bold">L</span>][<span class="bold">A</span>] <span class="bold">valid</span>=<span class="italic">Seconds</span> <span class="bold">deprec</span>=<span class="italic">Seconds</span></p>
<a name="wq88"></a>
<table id="wq88" width="100%" summary="" border="1" frame="border" rules="all">
<tbody valign="top">
<tr>
<td><span class="bold">if</span>=<span class="italic">Interface</span>或 <span class="bold">interface</span>=<span class="italic">Interface</span></td>
<td>指定伪指令应用的接口。<span class="bold">if</span> 关键字对 <span class="bold"> prefix</span> 伪指令是必须的。它不是选项。</td>
</tr>
<tr>
<td><span class="bold">prefix</span>=<span class="italic">xxx</span>::/<span class="italic">PrefixLength</span></td>
<td>公告前缀。</td>
</tr>
<tr>
<td><span class="bold">flag</span>=[<span class="bold">L</span>][<span class="bold">A</span>]</td>
<td>为前缀设置 <span class="bold">L</span> 和／或 <span class="bold">A</span> 标志（缺省为 <span class="bold">LA</span>）。</td>
</tr>
<tr>
<td><span class="bold">deprec</span>=<span class="italic">Seconds</span></td>
<td>为前缀设置不建议使用的时间（以秒计）。</td>
</tr>
<tr>
<td><span class="bold">valid</span>=<span class="italic">Seconds</span></td>
<td>为前缀设置有效时间（以秒计）。</td>
</tr>
</tbody>
</table>
<a name="wq89"></a>
<h4 id="wq89">过滤伪指令</h4>
<p>为输入的（<span class="bold">filter</span>=<span class="bold">in</span>）或输出的（<span class="bold">filter</span>=<span class="bold">out</span>）RIPng 信息包定义过滤模式。每个接口都设有输入和输出过滤器，没有显式过滤器的接口则有缺省的输入和缺省的输出过滤器。</p>
<p>针对接口的输入过滤器，对任何接收到的 RIPng 信息进行测试，或者若没有输入过滤器，则针对缺省的输入过滤器。静态接口的路由可看作是来自接口和来自网关的输入信息，该网关带有接口的本地链接地址。由网关伪指令设置的带有 <span class="bold">gateway</span> 关键字的路由可视为来自指定接口和网关的输入信息。缺省路由（<span class="bold">-g</span> 标志）和由网关伪指令设置的不带 <span class="bold">gateway</span> 关键字的路由可视为来自网关 :: 的输入信息并且无接口（缺省输入过滤器应用）。</p>
<p>针对接口的输出过滤器，对任何发送的 RIPng 信息进行测试，或者若没有输出过滤器，则针对缺省的输出过滤器。</p>
<p>每个过滤器是匹配模式的序列。这些模式依次被测试。每个模式可以测试前缀长度、输入过滤器的源网关以及测试前缀（由零填充）是否匹配固定前缀。如果一个模式包含多个测试描述，匹配是所有测试的连接。第一个匹配模式定义要执行的操作。如果没有模式匹配，缺省操作是 accept。可能的操作有 accept、reject 和 truncate/<span class="italic">NumberOfBits</span>。truncate/<span class="italic">NumberOfBits</span> 操作意味着：如果模式匹配且前缀长度大于或等于 <span class="italic">NumberOfBits</span>，则则接受带有新的长度 <span class="italic"> NumberOfBits </span>的前缀。可接受前缀立即被接受，换而言之，不再针对过滤器检查。</p>
<p>例如，以下伪指令禁止从任何不带显式输出过滤器的接口发送主机路由：</p>
<pre class="xmp">filter=out length==128 action=reject</pre>
<p><span class="bold">语法：</span></p>
<p><span class="bold">filter</span>=(<span class="bold">in</span>|<span class="bold">out</span>) [<span class="bold">if</span>=<span class="italic">n1</span>,<span class="italic">n2</span>] <span class="bold">prefix</span>=<span class="italic">xx</span>::/<span class="italic">NumberOfBits</span> <span class="bold">gateway</span>=<span class="italic">xxx</span> <span class="bold">length</span>=(=|>=|&lt;=|&lt;|>)<span class="italic">NumberOfBits</span> <span class="bold">action</span>=(<span class="bold">accept</span>|<span class="bold">reject</span>|<span class="bold">truncate</span>/<span class="italic">xx</span>)</p>
<a name="wq90"></a>
<table id="wq90" width="100%" summary="" border="1" frame="border" rules="all">
<tbody valign="top">
<tr>
<td><span class="bold">if</span>=<span class="italic">list</span> 或 <span class="bold">interface</span>=<span class="italic">list</span></td>
<td>如无接口关键字，过滤器伪指令为缺省选项。如有接口字段，过滤模式被添加在所有指定接口过滤器的末尾。列表由逗号分隔。例如，您可指定 <span class="bold">interface</span>=le* 来指定所有 leX 接口。</td>
</tr>
<tr>
<td><span class="bold">prefix</span>=<span class="italic">xxx</span>::/<span class="italic">NumberOfBits</span></td>
<td>仅当 <span class="italic">xxx</span>::/<span class="italic">NumberOfBits</span> 为 RIPng 信息包前缀的前缀时，模式才匹配。</td>
</tr>
<tr>
<td><span class="bold">gateway</span>=<span class="italic">xxx</span></td>
<td>仅当 RIPng 消息来自源地址 <span class="italic">xxx</span> 时，输入过滤器中的模式才匹配。</td>
</tr>
<tr>
<td><span class="bold">length</span>=(=|>=|&lt;=|&lt;|>)<span class="italic">NumberOfBits</span></td>
<td>仅当 RIPng 消息的前缀长度等于（或者大于、小于等等，这取决于所指定运算符）<span class="italic">NumberOfBits</span> 时，模式才匹配。</td>
</tr>
<tr>
<td><span class="bold">action</span>=(<span class="bold">accept</span>|<span class="bold">reject</span>|<span class="bold">truncate</span>/<span class="italic">NumberOfBits</span>)</td>
<td>如果模式匹配，指定要执行的操作：接受消息、拒绝消息或接受但是截断前缀到 <span class="italic">NumberOfBits</span> 位。</td>
</tr>
</tbody>
</table>
<a name="wq91"></a>
<h4 id="wq91">网关伪指令</h4>
<p>网关伪指令允许用户在 RIPng 信息包中和／或在内核中设置路由。这些伪指令必须出现在 <span class="bold">/etc/gateway6</span> 文件的末尾，在其它伪指令之后。</p>
<p><span class="bold">语法：</span></p>
<p><span class="italic">xxx</span>::/<span class="italic">NumberOfBits</span> <span class="bold">metric</span> <span class="italic">Value</span></p>
<p><span class="italic">xxx</span>::/<span class="italic">NumberOfBits</span> <span class="bold">metric</span> <span class="italic">Value</span> <span class="bold">gateway</span> <span class="italic">IPv6Address</span> <span class="italic">ifname</span></p>
<p>第二条语法用于添加路由到内核中。</p>
<a name="wq92"></a>
<h3 id="wq92">示例</h3>
<p>以下是关于 <span class="bold">/etc/gateway6</span> 文件的示例。</p>
<p>在某一站点，此处所有的地址都是 <tt>5f06:2200:c001:0200:xxxx</tt> 的格式，以下示例意味着只有一个描述所有站点的路由，它在所有已配置的通道接口（CTI)<span class="bold">ctiX</span> 接口上被导出。关键字缩写显示是有效的。</p>
<p></p>
<pre class="xmp">filt=out if=cti* pref=5f06:2200:c001:0200::/64 len=&gt;=64 act=trunc/64</pre>
<p>设置缺省的输出路由：</p>
<p></p>
<pre class="xmp">::/0 metric 2 gateway 5f06:2200:c102:0200::1 cti0</pre>
<p>声明任何带有 RIPng 的 CTI 接口活动定义一个缺省路由：</p>
<p></p>
<pre class="xmp">filter=in if=cti* act=trunc/0</pre>
<p>下列示例定义带有外部连接 cti0 的站点，它通过 ctiX 聚集其它已连接的站点，并使用无有害逆向的分割范围。由于所有的过滤器描述适用于 cti0，行的次序很重要。</p>
<p></p>
<pre class="xmp">option if=cti* ripout=R
filter=out if=cti0 prefix=5f06:2200::/24 len=&gt;=24 act=trunc/24
filt=out if=cti* pref=5f06:2200:c001:0200::/64 len=&gt;=64 act=trunc/64
filter=in if=cti0 act=trunc/0
filter=in if=cti* prefix=5f06:2200::/24 len=&gt;=24 act=trunc/64
filter=in if=cti* act=reject</pre>
<a name="wq93"></a>
<h3 id="wq93">诊断</h3>
<p>所有错误被记录在 <span class="bold">daemon.err</span> 级别，除非设置了调试选项。这包括 <span class="bold">/etc/gateway6</span> 文件中的所有语法错误和不同路由器间的配置的错误匹配。</p>
<a name="wq94"></a>
<h3 id="wq94">信号</h3>
<p><span class="bold">ndpd-router</span> 对以下信号有响应：</p>
<a name="wq95"></a>
<table id="wq95" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="18%"><span class="bold">SIGINT</span></td>
<td width="81%">如果定义了系统日志，则转储其当前状态至系统日志。否则，转储至标准输出。</td>
</tr>
<tr>
<td><span class="bold">SIGHUP</span></td>
<td><span class="bold"> /etc/gateway6</span> 文件被再次读取。</td>
</tr>
<tr>
<td><span class="bold">SIGUSR1</span></td>
<td>递增冗长。</td>
</tr>
<tr>
<td><span class="bold">SIGUSR2</span></td>
<td>冗长重新设置。</td>
</tr>
<tr>
<td><span class="bold">SIGTERM</span></td>
<td>重新设置为合理的状态并停止。</td>
</tr>
<tr>
<td><span class="bold">SIGQUIT</span></td>
<td>重新设置为合理的状态并停止。</td>
</tr>
</tbody>
</table>
<a name="wq96"></a>
<h3 id="wq96">文件</h3>
<p></p>
<a name="wq97"></a>
<table id="wq97" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="50%"><span class="bold">/etc/gateway6</span></td>
<td width="50%">&nbsp;</td>
</tr>
</tbody>
</table>
<a name="wq98"></a>
<h3 id="wq98">相关信息</h3>
<p><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/ifconfig.htm"><span class="bold">ifconfig</span></a> 命令、<span class="bold">kmodctrl</span> 命令、<span class="bold">mobip6reqd</span> 命令、<span class="bold">mobip6ctrl</span> 命令、<a href="rc.mobip6.htm#rc.mobip6"><span class="bold">rc.mobip6</span></a> 命令、<a href="route.htm#yod2a0sara"><span class="bold">route</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds1/autoconf6.htm"><span class="bold">autoconf6</span></a> 命令、<a href="ndpd-host.htm#cld200mike"><span class="bold">ndpd-host</span></a> 命令。</p>
<p><span class="italic">《AIX 5L V5.2 系统管理指南：通信与网络》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/commadmn/tcp_mobileipv6.htm">『移动式 IPv6 章节』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="ndpd-router.htm#Top_Of_Page">页的顶部</a> | <a href="ndpd-host.htm">上一页</a> | <a href="ndx.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
