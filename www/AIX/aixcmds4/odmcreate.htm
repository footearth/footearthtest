<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - odmcreate 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="编译, 对象类, ODM（对象数据管理器）" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="odmcreate.htm#Bot_Of_Page">页的底部</a> | <a href="odmchange.htm">上一页</a> | <a href="odmdelete.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="a265911db"></a>
<h2 id="a265911db">odmcreate 命令</h2>
<p><a id="idx164" name="idx164"></a></p>
<a name="a265911dc"></a>
<h3 id="a265911dc">用途</h3>
<a name="a39dae74110stue"></a>
<p id="a39dae74110stue">产生 <span class="bold">.c</span> （源）和 <span class="bold">.h</span>（包含）文件，对于 ODM 应用程序开发和创建空的对象类是必要的。</p>
<a name="a265911de"></a>
<h3 id="a265911de">语法</h3>
<p><span class="bold">odmcreate</span> [&nbsp; <a href="odmcreate.htm#a265911e8"><span class="bold">-p&nbsp;</span></a>] [&nbsp; <a href="odmcreate.htm#a265911e6"><span class="bold">-c&nbsp;</span></a>|&nbsp; <a href="odmcreate.htm#a265911e7"><span class="bold">-h</span></a><span class="bold">&nbsp;</span>] <span class="italic">ClassDescriptionFile</span></p>
<a name="a265911e0"></a>
<h3 id="a265911e0">描述</h3>
<a name="a39dae74140stue"></a>
<p id="a39dae74140stue"><span class="bold">odmcreate</span> 命令是 ODM 类编译器。此命令以描述用户希望在特定的应用程序中使用的对象的 ASCII 文件为输入。<span class="bold">odmcreate</span> 命令能够创建空的对象类，作为它的执行的一部分。</p>
<a name="a39dae74158stue"></a>
<p id="a39dae74158stue"><span class="bold">odmcreate</span>
命令的输出是 <span class="bold">.h</span> 文件（一个包含文件），它包含了定义在 ASCII <span class="italic">ClassDescriptionFile</span> 文件中的对象类的 C 语言定义。结果包含文件使用在访问存储在 ODM 中对象的应用程序中。<span class="bold">odmcreate</span> 命令也产生需要编译和绑定在应用程序中的 <span class="bold">.c</span> 文件。<span class="bold"> .c</span> 文件包含在运行时由 ODM 内部使用的结构和定义。</p>
<a name="a39dae74172stue"></a>
<p id="a39dae74172stue"><span class="italic">ClassDescriptionFile</span> 参数指定了包含一个或多个对象类的描述的 ASCII 文件。
<span class="italic"> ClassDescriptionFile</span> 参数的常规语法如下：</p>
<a name="wq676"></a>
<table id="wq676" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="13%">
<a id="a39dae74186stue" name="a39dae74186stue"></a>file</td>
<td width="86%">   : classes</td>
</tr>
<tr>
<td>
<a id="a39dae74210stue" name="a39dae74210stue"></a>classes</td>
<td>  : class | classes class</td>
</tr>
<tr>
<td>
<a id="a39dae74242stue" name="a39dae74242stue"></a>class</td>
<td>  : head body tail</td>
</tr>
<tr>
<td>
<a id="a39dae74274stue" name="a39dae74274stue"></a>head</td>
<td>  : <span class="bold">struct</span><span class="italic"> ClassName</span><span class="bold"> {</span></td>
</tr>
<tr>
<td>
<a id="a39dae74317stue" name="a39dae74317stue"></a>tail</td>
<td>  : <span class="bold">}</span></td>
</tr>
<tr>
<td>
<a id="a39dae74360stue" name="a39dae74360stue"></a>body</td>
<td>  : elements</td>
</tr>
<tr>
<td>
<a id="a39dae74401stue" name="a39dae74401stue"></a>elements</td>
<td>  : elements | elements element</td>
</tr>
<tr>
<td>
<a id="a39dae74457stue" name="a39dae74457stue"></a>element</td>
<td>  :<span class="bold">char</span><span class="italic"> DescriptorName</span><span class="bold"> [</span><span class="italic"> DescriptorSize</span><span class="bold"> ];</span> 
<a name="a39dae74512stue"></a>
<p id="a39dae74512stue"><span class="bold">vchar</span><span class="italic"> DescriptorName</span><span class="bold"> [</span><span class="italic"> DescriptorSize</span><span class="bold"> ];</span></p> 
<a name="a39dae74579stue"></a>
<p id="a39dae74579stue"><span class="bold">binary</span><span class="italic"> DescriptorName</span><span class="bold"> [</span><span class="italic"> DescriptorSize</span><span class="bold"> ];</span></p> 
<a name="a39dae74611stue"></a>
<p id="a39dae74611stue"><span class="bold">short</span><span class="italic"> DescriptorName</span><span class="bold"> ;</span></p> 
<a name="a39dae74642stue"></a>
<p id="a39dae74642stue"><span class="bold">long</span><span class="italic"> DescriptorName</span><span class="bold"> ;</span></p> 
<a name="a39dae74642mkm"></a>
<p id="a39dae74642mkm"><span class="bold">long64</span> or <span class="bold">int64</span> or <span class="bold">ODM_LONG_LONG</span><span class="italic"> DescriptorName</span><span class="bold"> ;</span></p> 
<a name="a39dae74744stue"></a>
<p id="a39dae74744stue"><span class="bold">method</span><span class="italic"> DescriptorName</span><span class="bold"> ;</span></p> 
<a name="a39dae74835stue"></a>
<p id="a39dae74835stue"><span class="bold">link</span><span class="italic"> StdClassName</span><span class="italic"> StdClassName</span><span class="italic"> ColName</span><span class="italic"> DescriptorName</span><span class="bold"> ;</span></p></td>
</tr>
</tbody>
</table>
<a name="a39dae74875stue"></a>
<p id="a39dae74875stue"><span class="italic">ClassDescriptionFile</span> 文件的缺省后缀是<span class="bold"> .cre</span>。 如果在 <span class="bold">odmcreate</span>  命令中没有指定后缀，那么附加一个<span class="bold">.cre</span> 后缀。文件能够有 C 语言注释，如果运行时带有 <span class="bold">-p</span> 标志，并能预先包含 <span class="bold">#define</span> 和 <span class="bold">#include</span> 行，这些可以被预处理的，如果在文件中使用了 <span class="bold">-p</span>
标志运行 C 语言预处理器。</p>
<p></p><blockquote><span class="bold">注意：</span> ODM 数据库是 32 位的数据库。长型当在类描述文件中使用时，它是 32 位的数据项。长型 64 或整型 64 当在类描述文件中使用时，它是 64 位的数据项。生成的文件对于 32 位和 64 位应用程序具有相同功能。</blockquote>
<a name="a265911e5"></a>
<h3 id="a265911e5">标志</h3>
<p></p>
<a name="wq677"></a>
<table id="wq677" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="a265911e6" name="a265911e6"></a><span class="bold">-c</span></td>
<td width="95%">  只创建空的对象类；不生成 C 语言 <span class="bold">.h</span> 和 <span class="bold">.c</span> 文件。</td>
</tr>
<tr>
<td>
<a id="a265911e7" name="a265911e7"></a><span class="bold">-h</span></td>
<td>  只生成 <span class="bold">.c</span> 和 <span class="bold">.h</span>
文件；不创建空类。</td>
</tr>
<tr>
<td>
<a id="a265911e8" name="a265911e8"></a><span class="bold">-p</span></td>
<td>  对 <span class="italic">ClassDescriptionFile</span> 文件运行 C 语言预处理器。</td>
</tr>
</tbody>
</table>
<a name="a265911ec"></a>
<h3 id="a265911ec">示例</h3>
<a name="a39dae74962stue"></a>
<p id="a39dae74962stue">假定存在 <span class="italic">ClassDescriptionFile</span> 文件，命名为 <tt>FileName.cre</tt> ，下列命令创建对象类：</p>
<p></p>
<a name="a23f01d5"></a>
<pre id="a23f01d5" class="xmp">odmcreate&nbsp;FileName.cre</pre>
<a name="a39dae74996stue"></a>
<p id="a39dae74996stue">以下是 <tt>FileName.cre</tt>
源文件和结果 <span class="bold">.h</span> 文件：</p>
<p></p>
<a name="a265911ee"></a>
<pre id="a265911ee" class="xmp">/* 这是一个示例 odmcreate 输入文件 */
/* FileName.cre */
   
       class Class2 {
            char keys[32];
            method card;
            long cash;
            };
      class TstObj {
            long a;
            char b[80];
            link Class2 Class2 card Class2Ln;
            };
   
/*  FileName.cre 结束*/
   
/* 生成头文件 file FileName.h */
<span class="bold"></span>  
#include &lt;odmi.h&gt;
   
struct Class2 {
     long _id;         /* unique object id within object class */
     long _reserved;   /* reserved field */
     long _scratch;    /* extra field for application use */
     char keys[32];
     char card[256];   /* method */
     long cash;
     };
#define Class2_Descs 3
   
extern struct Class Class2_CLASS[];
#define get_Class2_list (a,b,c,d,e) (struct Class2 * ) odm_get_list (a,b,c,d,e)
   
struct TstObj {
     long _id;         /* 对象类中的唯一对象标识 */
     long _reserved;   /* 保留字段 */
     long _scratch;    /* 应用程序使用的附加字段 */
     long a;
     char b[80];
     struct Class2 *Class2Ln;  /* 链接 */
     struct objlistinfo *Class2Ln_info; /* 链接 */
     char Class2Ln_Lvalue[256];        /* 链接 */
     };
#define TstObj_Descs 3
   
extern struct Class TstObj_CLASS[];
#define get_TstObj_list (a,b,c,d,e) (struct TstObj * ) odm_get_list (a,b,c,d,e)
   
/* 生成头文件 FileName.h 结束部分*/</pre>
<a name="a39dae75047stue"></a>
<p id="a39dae75047stue">请参阅 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixprggd/genprogc/odm_ie_code_output.htm#a29f04ab">“ODM Example Code and
Output”</a><span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span> 对于 <span class="italic">ClassDescriptionFile</span> 参数和结果 <span class="bold">.h</span> 文件的另一个示例。</p>
<a name="a265911f0"></a>
<h3 id="a265911f0">相关信息</h3>
<a name="a39dae75252stue"></a>
<p id="a39dae75252stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixprggd/genprogc/odm.htm#a29f038e">Object Data Manager (ODM)
Overview</a><span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span>。</p>
<a name="a39dae75283stue"></a>
<p id="a39dae75283stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/libs/basetrf1/odm_create_class.htm#a265914ba"><span class="bold">odm_create_class</span></a> 子例程。</p>
<a name="a39dae75356stue"></a>
<p id="a39dae75356stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixprggd/genprogc/odm_cmds_subrs.htm#a98c1235">List of ODM Commands and
Subroutines</a><span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span>。</p>
<a name="a39dae75377stue"></a>
<p id="a39dae75377stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixprggd/genprogc/odm.htm#nr61390prio">Understanding ODM Object
Classes and Objects</a><span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span>。</p>
<a name="a39dae75402stue"></a>
<p id="a39dae75402stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixprggd/genprogc/odm.htm#ldr1280prio">Understanding ODM Descriptors</a><span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span>。</p>
<a name="a39dae75423stue"></a>
<p id="a39dae75423stue">在 <span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixprggd/genprogc/odm.htm#co62f0prio">How to Create an Object Class</a>。</p>
<a name="a39dae75511stue"></a>
<p id="a39dae75511stue">在 <span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixprggd/genprogc/odm.htm#dp62d0prio">How to Add Objects to an
Object Class</a>。</p>
<a name="a39dae75606stue"></a>
<p id="a39dae75606stue">在 <span class="italic">AIX 5L Version 5.2 General Programming Concepts: Writing and Debugging Programs</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixprggd/genprogc/odm.htm#a101c12131">How to Store Object Classes
and Objects</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="odmcreate.htm#Top_Of_Page">页的顶部</a> | <a href="odmchange.htm">上一页</a> | <a href="odmdelete.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
