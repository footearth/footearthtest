<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - rrestore 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="rrestore 命令, 使用 rrestore 命令,
从远程机器复制备份到本地机器, 文件系统" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="rrestore.htm#Bot_Of_Page">页的底部</a> | <a href="rpcinfo.htm">上一页</a> | <a href="brsh.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="a26f0755"></a>
<h2 id="a26f0755">rrestore 命令</h2>
<p><a id="idx722" name="idx722"></a></p>
<a name="a148c13f"></a>
<h3 id="a148c13f">用途</h3>
<a name="a39dc7d5030stue"></a>
<p id="a39dc7d5030stue">从远程机器的设备中复制以前的备份文件系统到本地机器。<a id="idx723" name="idx723"></a></p>
<a name="a148c142"></a>
<h3 id="a148c142">语法</h3>
<p><span class="bold">rrestore</span> [&nbsp; <a href="rrestore.htm#a148c149"><span class="bold">-b</span></a><span class="italic">Number&nbsp;</span>] [&nbsp; <a href="rrestore.htm#a148c14b"><span class="bold">-h&nbsp;</span></a>] [&nbsp; <a href="rrestore.htm#a148c14c"><span class="bold">-i&nbsp;</span></a>] [&nbsp; <a href="rrestore.htm#a148c157"><span class="bold">-m&nbsp;</span></a>]
[&nbsp; <a href="rrestore.htm#lda12a0bob"><span class="bold">-s</span></a><span class="italic">Number&nbsp;</span>] [&nbsp; <a href="rrestore.htm#a148c15b"><span class="bold">-t&nbsp;</span></a>]
[&nbsp; <a href="rrestore.htm#a148c15c"><span class="bold">-v&nbsp;</span></a>] [&nbsp; <a href="rrestore.htm#a148c15e"><span class="bold">-y&nbsp;</span></a>] [&nbsp; <a href="rrestore.htm#a148c15d"><span class="bold">-x&nbsp;</span></a>] [&nbsp; <a href="rrestore.htm#a148c158"><span class="bold">-r&nbsp;</span></a>] [&nbsp; <a href="rrestore.htm#a148c15a"><span class="bold">-R&nbsp;</span></a>]
 <a href="rrestore.htm#a148c14a"><span class="bold">-f</span></a><span class="italic">Machine</span><span class="bold">:</span><span class="italic">Device</span> [&nbsp;<span class="italic">FileSystem&nbsp;...&nbsp;</span>] [&nbsp;<span class="italic">File&nbsp;</span>...&nbsp;]</p>
<a name="a148c145"></a>
<h3 id="a148c145">描述</h3>
<a name="a39dc7d5056stue"></a>
<p id="a39dc7d5056stue"><span class="bold">rrestore</span> 命令将远程机器的设备上的内节点备份
版本 3 恢复到本地机器上的文件系统。<span class="bold">rrestore</span> 命令在远程机器上创建一个到备份介质的服务器。</p>
<a name="a39dc7d5067stue"></a>
<p id="a39dc7d5067stue"><span class="bold">rrestore</span> 命令只接受内节点备份的文件系统的备份格式。</p>
<p></p><blockquote><a name="a148c141"></a><span id="a148c141" class="pk"></span><span class="bold">注：</span>执行本命令的用户必须有 root 权限。</blockquote>
<a name="a148c148"></a>
<h3 id="a148c148">标志</h3>
<p></p>
<a name="wq2217"></a>
<table id="wq2217" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="26%">
<a id="a148c149" name="a148c149"></a><span class="bold">-b</span><span class="italic">Number</span></td>
<td width="73%">  指定在单个输入操作所读取的块数。如果不指定本标志，<span class="bold">rrestore</span> 命令选择适合选定的物理设备的缺省值。较大的 <span class="italic">Number</span> 变量的值导致从磁带设备的较大的物理传输。</td>
</tr>
<tr>
<td>
<a id="a148c14a" name="a148c14a"></a><span class="bold">-f</span><span class="italic">Machine</span><span class="bold">:</span><span class="italic">Device</span></td>
<td>  指定远程机器上的输入设备。指定 <span class="italic">Device</span> 变量为一个文件名（比如 <span class="bold"> /dev/rmt0</span> 文件）来获取指定的设备的输入。要得到更多有关使用磁带设备的信息，请参阅 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/rmt.htm#vc90w2chris"><span class="bold">rmt</span></a> 特殊文件。</td>
</tr>
<tr>
<td>
<a id="a148c14b" name="a148c14b"></a><span class="bold">-h</span></td>
<td>  仅恢复由 <span class="italic">File</span> 参数指定的实际的目录，而不是那个目录包含的文件。当指定 <span class="bold">-r</span> 或 <span class="bold">-R</span> 标志时本选项被忽略。</td>
</tr>
<tr>
<td>
<a id="a148c14c" name="a148c14c"></a><span class="bold">-i</span></td>
<td>  启动交互式方式。本标志允许恢复用 <span class="italic"> File</span> 参数表示的目录中的选定的文件。<span class="bold">-i</span> 标志的子命令为：
<dl>
<dt class="bold"><span class="bold">ls</span> [<span class="italic">Directory</span>]</dt>
<dd>  在指定的 <span class="italic">Directory</span> 参数的目录后带一个/（斜杠）显示目录名，并通过在文件名前带 *（星号）来显示要恢复的文件。如果使用 <a href="rrestore.htm#a148c15c"><span class="bold">-v</span></a> 标志，也显示每个文件和目录的 i-node 号。如果不指定 <span class="italic">Directory1</span> 参数则使用当前目录。
</dd>
<dt class="bold"><span class="bold">cd</span><span class="italic"> Directory</span></dt>
<dd>  更改当前的目录到 <span class="italic">Directory</span> 参数。
</dd>
<dt class="bold"><span class="bold">pwd</span></dt>
<dd>  显示当前目录的全路径名。
</dd>
<dt class="bold"><span class="bold">add</span> [<span class="italic">File</span>]</dt>
<dd>  指定要恢复的 <span class="italic">File</span> 参数。如果 <span class="italic">File</span> 参数是一个目录，恢复此目录和其所有的文件（除非使用<a href="rrestore.htm#a148c14b"><span class="bold">-h</span></a> 标志）。通过 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/ls.htm#gvb310fish"><span class="bold">ls</span></a> 子命令显示在文件名前带 *（星号）的要恢复的文件。如果不指定 <span class="italic">File</span> 参数则使用当前目录。
</dd>
<dt class="bold"><span class="bold">delete</span> [<span class="italic">File</span>]</dt>
<dd>  指定在恢复时要忽略的 <span class="italic">File</span> 参数。如果 <span class="italic">File</span> 参数是一个目录，不恢复此目录和其所有的文件（除非使用<a href="rrestore.htm#a148c14b"><span class="bold">-h</span></a> 标志）。如果不指定 <span class="italic">File</span> 参数则使用当前目录。
</dd>
<dt class="bold"><span class="bold">extract</span></dt>
<dd>  恢复所有通过 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/ls.htm#gvb310fish"><span class="bold">ls</span></a> 子命令显示在文件名前带 *（星号）的文件。
</dd>
<dt class="bold"><span class="bold">setmodes</span></dt>
<dd>  为要恢复的文件设置所有者、方式和时间而不是使用驻留在备份介质中的这些信息。
</dd>
<dt class="bold"><span class="bold">verbose</span></dt>
<dd>  使用 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/ls.htm#gvb310fish"><span class="bold">ls</span></a> 子命令显示所有恢复文件的 i-node 号。在恢复时也显示每个文件的相关信息。下一个 <span class="bold">verbose</span> 子命令调用将关闭 <span class="bold">verbose</span>。
</dd>
<dt class="bold"><span class="bold">help</span></dt>
<dd>  显示子命令的摘要。
</dd>
<dt id="a148c159" class="bold">
<a name="a148c159"></a><span class="bold">quit</span></dt>
<dd>  即使没有恢复所有文件，也立即停止执行 <span class="bold">rrestore</span> 命令。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a148c157" name="a148c157"></a><span class="bold">-m</span></td>
<td>  通过 i-node 号而不是通过路径名来恢复文件。</td>
</tr>
<tr>
<td>
<a id="a148c158" name="a148c158"></a><span class="bold">-r</span></td>
<td>  恢复整个文件系统。
<p></p><blockquote><span class="bold">注意：</span>如果没有小心地按照此过程，可能破坏整个文件系统。如果恢复完全（级别 0）备份，在恢复之前运行 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/mkfs.htm#a1019296c"><span class="bold">mkfs</span></a> 命令来创建一个空文件系统。要恢复在级别 2 上的增量备份，运行 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/mkfs.htm#a1019296c"><span class="bold">mkfs</span></a> 命令恢复相应的级别 0 备份、恢复级别 1 备份、最后才恢复级别 2 备份。出于对额外的安全预防的考虑，在恢复每一个备份级别后运行 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds2/fsck.htm#a10192c87"><span class="bold">fsck</span></a> 命令。</blockquote></td>
</tr>
<tr>
<td>
<a id="a148c15a" name="a148c15a"></a><span class="bold">-R</span></td>
<td>  当恢复整个文件系统时导致 <span class="bold">rrestore</span> 命令请求备份介质的多卷集合中的指定卷。<span class="bold">-R</span> 标志提供中断和恢复 <span class="bold">rrestore</span> 命令的能力。</td>
</tr>
<tr>
<td>
<a id="lda12a0bob" name="lda12a0bob"></a><span class="bold">-s</span><span class="italic">Number</span></td>
<td>  指定要恢复的多备份介质上的某个备份。号码从 1 开始。</td>
</tr>
<tr>
<td>
<a id="a148c15b" name="a148c15b"></a><span class="bold">-t</span></td>
<td>  显示备份文件的内容表。<span class="bold">rrestore</span> 命令显示文件名。此文件名为相对于已备份的文件系统的根（<span class="bold"> /</span>）。仅有的例外是根（<span class="bold"> /</span>）目录本身。</td>
</tr>
<tr>
<td>
<a id="a148c15c" name="a148c15c"></a><span class="bold">-v</span></td>
<td>  在进行时报告其恢复进度。</td>
</tr>
<tr>
<td>
<a id="a148c15d" name="a148c15d"></a><span class="bold">-x</span></td>
<td>  独立地恢复指定的文件。如果不给定文件名，恢复在介质上的所有文件。名称必须跟 <a href="rrestore.htm#a148c15b"><span class="bold">-t</span></a> 标志显示的名称的格式相同。</td>
</tr>
<tr>
<td>
<a id="a148c15e" name="a148c15e"></a><span class="bold">-y</span></td>
<td>  禁止 <span class="bold">rrestore</span> 命令在遇到磁带错误时询问是否应该停止。<span class="bold">rrestore</span> 命令试图跳过坏的块。</td>
</tr>
<tr>
<td>
<a id="a148c15f" name="a148c15f"></a><span class="bold">-?</span></td>
<td>  显示用法消息。</td>
</tr>
</tbody>
</table>
<a name="c14cdcd876sylv"></a>
<h3 id="c14cdcd876sylv">退出状态</h3>
<a name="a39dc7d5109stue"></a>
<p id="a39dc7d5109stue">这个命令返回以下出口值：</p>
<a name="wq2218"></a>
<table id="wq2218" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="5%">
<a id="c14cdce079sylv" name="c14cdce079sylv"></a><span class="bold">0</span></td>
<td width="95%">  成功结束。</td>
</tr>
<tr>
<td>
<a id="c14cdce158sylv" name="c14cdce158sylv"></a><span class="bold">&gt;0</span></td>
<td>  有错误发生。</td>
</tr>
</tbody>
</table>
<a name="a148c160"></a>
<h3 id="a148c160">示例</h3>
<ol type="1">
<li><a name="a144933"></a><span id="a144933" class="pk"></span>要列出远程磁带设备上的文件，输入：
<a id="a148c162" name="a148c162"></a>
<div class="lines"><tt>rrestore&nbsp; <a href="rrestore.htm#a148c14a">-f</a>machine1:/dev/rmt0&nbsp; <a href="rrestore.htm#a148c15b">-t</a> </tt><br />
</div> 本命令从在远程 <tt>machine1</tt> 上的 <tt>/dev/rmt0</tt> 设备中读取信息。文件名将被显示。</li>
<li><a name="a148c164"></a><span id="a148c164" class="pk"></span>要恢复文件，输入：
<a id="a148c165" name="a148c165"></a>
<div class="lines"><tt>rrestore&nbsp; <a href="rrestore.htm#a148c15d">-x&nbsp;</a> <a href="rrestore.htm#a148c14a">-f</a>machine1:/dev/rmt0&nbsp;/home/mike/file1&nbsp;</tt><br />
</div> 本命令抽取在远程 <tt>&nbsp;machine1</tt> 上 <tt>/dev/rmt0&nbsp;</tt> 设备上的备份介质中的 <tt>/home/mike/file1</tt> 文件。</li>
<li><a name="a148c167"></a><span id="a148c167" class="pk"></span>恢复在目录下的所有文件，输入：
<p></p>
<a name="a148c168"></a>
<pre id="a148c168" class="xmp">rrestore -fhost:/dev/rmt0 -x /home/mike</pre><p class="indatacontent"> 本命令恢复目录 <tt>/home/mike</tt> 和它包含的所有文件。</p></li>
<li><a name="a148c16a"></a><span id="a148c16a" class="pk"></span>恢复目录但不恢复目录下的文件，输入：
<p></p>
<a name="a148c16b"></a>
<pre id="a148c16b" class="xmp">rrestore -fhost:/dev/rmt0 -x -h /home/mike</pre></li>
<li><a name="a280c118"></a><span id="a280c118" class="pk"></span>从多备份介质上的指定备份中恢复目录下的所有文件，输入：
<p></p>
<a name="a280c119"></a>
<pre id="a280c119" class="xmp">rrestore&nbsp;-s3&nbsp;-fhost:/dev/rmt0.1&nbsp;-x&nbsp;/home/mike</pre><p class="indatacontent"> 命令恢复在备份介质上的第三个备份的 <tt>/home/mike</tt> 目录和它包含的所有文件。</p></li></ol>
<a name="a148c16e"></a>
<h3 id="a148c16e">文件</h3>
<p></p>
<a name="wq2220"></a>
<table id="wq2220" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="30%">
<a id="a148c16f" name="a148c16f"></a><span class="bold">/dev/rfd0</span></td>
<td width="70%">  指定缺省恢复设备。</td>
</tr>
<tr>
<td>
<a id="a148c170" name="a148c170"></a><span class="bold">/usr/sbin/rrestore</span></td>
<td>  包含 <span class="bold">rrestore</span> 命令。</td>
</tr>
</tbody>
</table>
<a name="a102c16f5"></a>
<h3 id="a102c16f5">相关信息</h3>
<a name="a39dc7d5142stue"></a>
<p id="a39dc7d5142stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds1/backup.htm#a10192a8a"><span class="bold">backup</span></a> 命令、<a href="rdump.htm#a26f0752"><span class="bold">rdump</span></a> 命令、<a href="restore.htm#a1019422a"><span class="bold">restore</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/mkfs.htm#a1019296c"><span class="bold">mkfs</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds2/fsck.htm#a10192c87"><span class="bold">fsck</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds2/dd.htm#a101930e6"><span class="bold">dd</span></a> 命令。</p>
<a name="a39dc7d5154stue"></a>
<p id="a39dc7d5154stue"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/filesystems.htm#a1249cf"><span class="bold">filesystems</span></a> 文件、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/backup.htm#a15295cb"><span class="bold">backup</span></a> 文件、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/rmt.htm#vc90w2chris"><span class="bold">rmt</span></a> 特殊文件。</p>
<a name="a39dc7d5167stue"></a>
<p id="a39dc7d5167stue">在 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/admnconc/backup_overview.htm#a29891267">『系统管理的备份概述』</a>。</p>
<a name="a39dc7d5178stue"></a>
<p id="a39dc7d5178stue">在 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/admnconc/file_sys.htm">『文件系统』</a>。</p>
<a name="a39dc7d5189stue"></a>
<p id="a39dc7d5189stue">在 <span class="italic">AIX 5L Version 5.2 Network Information Services (NIS and NIS+) Guide</span> 中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixuser/usrosdev/dir_overview.htm#jy490craw">『目录概述』</a>。</p>
<a name="a39dc7d5204stue"></a>
<p id="a39dc7d5204stue">在 <span class="italic">AIX 5L Version 5.2 System Management Concepts: Operating System and Devices</span> 中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixuser/usrosdev/files.htm#rl33b0fish">『文件概述』</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="rrestore.htm#Top_Of_Page">页的顶部</a> | <a href="rpcinfo.htm">上一页</a> | <a href="brsh.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
