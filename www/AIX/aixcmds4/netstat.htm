<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - netstat 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="netstat 命令, netstat, 命令, TCP/IP 命令,
使用 netstat 命令, 网络状态, 显示, 获取, 获取网络状态, TCP/IP, 接口显示,
路由表显示" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="netstat.htm#Bot_Of_Page">页的底部</a> | <a href="netpmon.htm">上一页</a> | <a href="newaliases.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="znd120sara"></a>
<h2 id="znd120sara">netstat 命令</h2>
<p><a id="idx31" name="idx31"></a><a id="idx32" name="idx32"></a><a id="idx33" name="idx33"></a></p>
<a name="a229x9c30"></a>
<h3 id="a229x9c30">用途</h3><a id="idx34" name="idx34"></a><a id="idx35" name="idx35"></a><a id="idx36" name="idx36"></a><a id="idx37" name="idx37"></a>
<a name="ed25f15239mela"></a>
<p id="ed25f15239mela">显示网络状态。</p>
<a name="a229x9c32"></a>
<h3 id="a229x9c32">语法</h3>
<a name="a39c0124be"></a>
<h4 id="a39c0124be">要显示每个协议的活动套接字或路由表信息</h4>
<p><span class="bold">/bin/netstat&nbsp;</span>[&nbsp; <a href="netstat.htm#a229x9c42"><span class="bold">-n&nbsp;</span></a>]&nbsp;[&nbsp;{&nbsp;  <a href="netstat.htm#a229x9c3b"><span class="bold">-A&nbsp;</span></a> <a href="netstat.htm#a229x9c3a"><span class="bold">-a&nbsp;</span></a>}&nbsp;|&nbsp; {&nbsp; <a href="netstat.htm#a229x9c43"><span class="bold">-r&nbsp;</span></a>  <a href="netstat.htm#a229x9cjs"><span class="bold">-C&nbsp;</span></a>  <a href="netstat.htm#a229x9c3f"><span class="bold">-i&nbsp;</span></a>  <a href="netstat.htm#vyh3230dee"><span class="bold">-I&nbsp;</span></a> <span class="italic">Interface&nbsp;</span>}&nbsp;]&nbsp;[&nbsp; <a href="netstat.htm#a229x9c3c"><span class="bold">-f</span></a> <span class="italic">&nbsp;AddressFamily&nbsp;</span>]&nbsp;[&nbsp; <a href="netstat.htm#gb11f0bob"><span class="bold">-p</span></a> <span class="italic">&nbsp;Protocol&nbsp;</span>] [&nbsp;<span class="italic">Interval&nbsp;</span>]&nbsp;[&nbsp;<span class="italic">System&nbsp;</span>]</p>
<a name="a234x93c2"></a>
<h4 id="a234x93c2">显示网络数据结构的内容</h4>
<p><span class="bold">/bin/netstat&nbsp;</span>[&nbsp; <a href="netstat.htm#a229x9c41"><span class="bold">-m&nbsp;</span></a>|&nbsp; <a href="netstat.htm#a229x9c44"><span class="bold">-s&nbsp;</span></a>|&nbsp;  <a href="netstat.htm#a242x92jls"><span class="bold">-ss&nbsp;</span></a>|&nbsp;  <a href="netstat.htm#a242x9280"><span class="bold">-u&nbsp;</span></a>|&nbsp;  <a href="netstat.htm#a242x9281"><span class="bold">-v&nbsp;</span></a>]&nbsp;[&nbsp;  <a href="netstat.htm#a229x9c3c"><span class="bold">-f</span></a><span class="italic">&nbsp;AddressFamily&nbsp;</span>]&nbsp;[&nbsp; <a href="netstat.htm#gb11f0bob"><span class="bold">-p</span></a> <span class="italic">&nbsp;Protocol&nbsp;</span>]&nbsp;[&nbsp;<span class="italic">Interval&nbsp;</span>]&nbsp;[&nbsp; <span class="italic">System&nbsp;</span>]</p>
<a name="db306e8407jani"></a>
<h4 id="db306e8407jani">显示遍及通信子系统的信息包计数</h4>
<p><span class="bold">/bin/netstat</span>  <a href="netstat.htm#segij1d7jani"><span class="bold">-D</span></a></p>
<a name="db306e8407mike"></a>
<h4 id="db306e8407mike">显示网络缓冲区高速缓存统计信息</h4>
<p><span class="bold">/bin/netstat</span>  <a href="netstat.htm#segij1d7mike"><span class="bold">-c</span></a></p>
<a name="db306e8407mkm"></a>
<h4 id="db306e8407mkm">显示数据链路提供程序接口统计信息</h4>
<p><span class="bold">/bin/netstat</span>  <a href="netstat.htm#segij1d7mkm"><span class="bold">-P</span></a></p>
<a name="db306e8407jls"></a>
<h4 id="db306e8407jls">清除关联的统计信息</h4>
<p><span class="bold">/bin/netstat</span> [  <a href="netstat.htm#a03221jls"><span class="bold">-Zc</span></a> |  <a href="netstat.htm#a03223jls"><span class="bold">-Zi</span></a> |  <a href="netstat.htm#a03224jls"><span class="bold">-Zm</span></a> |  <a href="netstat.htm#a03226jls"><span class="bold">-Zs</span></a> ]</p>
<a name="a229x9c36"></a>
<h3 id="a229x9c36">描述</h3>
<a name="ed25f16123mela"></a>
<p id="ed25f16123mela"><span class="bold">netstat</span> 命令以符号方式显示活动连接的各个与网络相关的数据结构的内容。<span class="italic">Interval</span> 参数（以秒为单位指定）连续地显示关于已配置网络接口上的信息包流量的信息。<span class="italic">Interval</span> 参数无标志。<span class="italic">System</span> 参数指定当前内核所使用的内存。除非您正在查看转储文件，否则 <span class="italic">System</span> 参数应该为 <span class="bold">/unix</span>。</p>
<a name="a229x9c39"></a>
<h3 id="a229x9c39">标志</h3>
<p></p>
<a name="wq106"></a>
<table id="wq106" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="30%">
<a id="a229x9c3b" name="a229x9c3b"></a><span class="bold">-A</span></td>
<td width="70%">  显示与套接字有关的任何协议控制块的地址。该标志以缺省显示运作并用作调试用途。</td>
</tr>
<tr>
<td>
<a id="a229x9c3a" name="a229x9c3a"></a><span class="bold">-a</span></td>
<td>  显示所有套接字状态。无该标志，则服务器进程所使用的套接字不显示。</td>
</tr>
<tr>
<td>
<a id="segij1d7mike" name="segij1d7mike"></a><span class="bold">-c</span></td>
<td>  显示网络缓冲区高速缓存的统计信息。
<p>网络缓冲区高速缓存是网络缓冲区列表，这些网络缓冲区包含能传输到网络的数据对象。当数据对象被添加至其中或从中被移除时，网络缓冲区高速缓存动态增长。网络缓冲区高速缓存由某些网络内核接口使用以增强其网络 I/O 性能。<span class="bold">netstat -c</span> 命令打印以下的统计信息：</p>
<p></p>
<a name="db42458211jani"></a>
<pre id="db42458211jani" class="xmp">Network Buffer Cache Statistics:
Current total cache buffer size: 0
Maximum total cache buffer size: 0
Current total cache data size: 0
Maximum total cache data size: 0
Current number of cache: 0
Maximum number of cache: 0
Number of cache with data: 0
Number of searches in cache: 0
Number of cache hit: 0
Number of cache miss: 0
Number of cache newly added: 0
Number of cache updated: 0
Number of cache removed: 0
Number of successful cache accesses: 0
Number of unsuccessful cache accesses: 0
Number of cache validation: 0
Current total cache data size in private segments: 0
Maximum total cache data size in private segments: 0
Current total number of private segments: 0
Maximum total number of private segments: 0
Current number of free private segments: 0
Current total NBC_NAMED_FILE entries: 0
Maximum total NBC_NAMED_FILE entries: 0</pre>
<a name="wq107"></a>
<div class="notetitle" id="wq107">注:</div>
<div class="notebody"><span class="bold">-c</span> 标志仅在 AIX 4.3.2 及以上版本有效。</div></td>
</tr>
<tr>
<td>
<a id="a229x9cjs" name="a229x9cjs"></a><span class="bold">-C</span></td>
<td>显示路由表，包含每个路由的用户配置和当前费用。用户配置费用使用 <span class="bold">route</span> 命令的 <span class="bold">-hopcount</span> 标志来设置。如果休眠网关检测已经更改路由费用，则当前费用也许会与用户配置的费用不同。</td>
</tr>
<tr>
<td>
<a id="segij1d7jani" name="segij1d7jani"></a><span class="bold">-D</span></td>
<td>  显示收到的、传输的和混入通信子系统的信息包数目。
<a name="wq108"></a>
<div class="notetitle" id="wq108">注:</div>
<div class="notebody">在统计信息输出中，显示在字段值中的 <tt>N/A</tt> 表示计数是不适用的。对于 NFS/RPC 统计信息，通过 RPC 传递的输入信息包的数目与通过 NFS 传递的信息包数目是相同的，因此，这些数字不计入 <tt>NFS/RPC Total</tt> 字段中，从而使用 <tt>N/A</tt>。NFS 没有输出信息包或特定于 NFS 和 RPC 的输出信息包混入计数器。因此，个别计数有一个 <tt>N/A</tt> 字段值，并且累计计数被存储在 <tt>NFS/RPC Total</tt> 字段中。</div></td>
</tr>
<tr>
<td>
<a id="a229x9c3c" name="a229x9c3c"></a><span class="bold">-f</span><span class="italic"> AddressFamily</span></td>
<td>   对于那些由 <span class="italic">AddressFamily</span> 变量指定的项，限制统计信息或地址控制块的报告。标识下列地址系列：
<dl>
<dt class="bold"><span class="bold">inet</span></dt>
<dd>表示 AF_INET 地址系列。
</dd>
<dt class="bold"><span class="bold">inet6</span></dt>
<dd>表示 AF_INET6 地址系列。
</dd>
<dt class="bold"><span class="bold">ns</span></dt>
<dd>表示 AF_NS 地址系列。
</dd>
<dt id="c504c0b245elai" class="bold">
<a name="c504c0b245elai"></a><span class="bold">unix</span></dt>
<dd>表示 AF_UNIX 地址系列。
</dd>
</dl></td>
</tr>
<tr>
<td>
<a id="a229x9c3f" name="a229x9c3f"></a><span class="bold">-i</span></td>
<td>  显示所有配置的接口的状态。请参阅<a href="netstat.htm#a234x93ce">“接口显示”</a>。 
<a name="wq109"></a>
<div class="notetitle" id="wq109">注:</div>
<div class="notebody">不支持对以太网接口的冲突计数。</div></td>
</tr>
<tr>
<td>
<a id="vyh3230dee" name="vyh3230dee"></a><span class="bold">-I</span><span class="italic"> Interface</span></td>
<td>  显示由 <span class="italic">Interface</span> 变量指定的已配置接口的状态。</td>
</tr>
<tr>
<td>
<a id="a229x9c41" name="a229x9c41"></a><span class="bold">-m</span></td>
<td>  显示由内存管理例程记录的统计信息。</td>
</tr>
<tr>
<td>
<a id="a229x9c42" name="a229x9c42"></a><span class="bold">-n</span></td>
<td> 以数字显示网络地址。如该标志未指定，<span class="bold">netstat</span> 命令将解释可能的地址并象征性地显示它们。可以在任意显示格式下使用该标志。</td>
</tr>
<tr>
<td>
<a id="gb11f0bob" name="gb11f0bob"></a><span class="bold">-p</span><span class="italic"> Protocal</span></td>
<td>  显示关于为 <span class="italic">Protocol</span> 变量指定的值的统计信息，该变量或者是一众所周知的协议名称或者是协议的一个别名。某些协议名称和别名在 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/protocols.htm#ki2310sara"><span class="bold">/etc/protocols</span></a> 文件中列出。空响应意味着没有数字要报告。如无统计信息例程，则为 <span class="italic">Protocol</span> 变量指定的值的程序报告是未知的。</td>
</tr>
<tr>
<td>
<a id="segij1d7mkm" name="segij1d7mkm"></a><span class="bold">-P</span></td>
<td>  显示数据链路提供程序接口（DLPI）的统计信息。<span class="bold">netstat -P</span> 命令打印下列统计信息：
<p></p>
<pre class="xmp">DLPI statistics:
Number of received packets = 0
Number of transmitted packets = 0
Number of received bytes = 0
Number of transmitted bytes = 0
Number of incoming pkts discard = 0
Number of outgoing pkts discard = 0
Number of times no buffers = 0
Number of successful binds = 0
Number of unknown message types = 0
Status of phys level promisc = 0
Status of sap level promisc = 0
Status of multi level promisc = 0
Number of enab_multi addresses = 0</pre> 
<p>如果未装入 DLPI，则显示：</p> 
<p></p>
<pre class="xmp">找不到符号：dl_stats</pre>
<a name="wq110"></a>
<div class="notetitle" id="wq110">注:</div>
<div class="notebody"><span class="bold">-P</span> 标志仅在 AIX 4.3.2 及以上版本有效。</div></td>
</tr>
<tr>
<td>
<a id="a229x9c43" name="a229x9c43"></a><span class="bold">-r</span></td>
<td>  显示路由表。当使用 <span class="bold">-s</span> 标志时，<span class="bold">-r</span> 标志显示路由统计信息。请参阅<a href="netstat.htm#a234x93d2">“路由表显示”</a>。</td>
</tr>
<tr>
<td>
<a id="a229x9c44" name="a229x9c44"></a><span class="bold">-s</span></td>
<td>  显示每个协议的统计信息。</td>
</tr>
<tr>
<td>
<a id="a242x92jls" name="a242x92jls"></a><span class="bold">-ss</span></td>
<td>显示所有非零协议统计信息并提供简明显示。</td>
</tr>
<tr>
<td>
<a id="a242x9280" name="a242x9280"></a><span class="bold">-u</span></td>
<td>  显示关于域套接字的信息。</td>
</tr>
<tr>
<td>
<a id="a242x9281" name="a242x9281"></a><span class="bold">-v</span></td>
<td>   显示基于 CDLI 通信适配器的统计信息。该标志致使 <span class="bold">netstat</span> 命令运行 <span class="bold">entstat</span>、<span class="bold">tokstat</span> 和 <span class="bold">fddistat</span> 命令的统计信息命令。没有标志被发送到这些设备驱动程序命令。请参阅特定设备驱动程序统计信息命令以获取关于统计信息输出的描述。</td>
</tr>
<tr>
<td>
<a id="a03221jls" name="a03221jls"></a><span class="bold">-Zc</span></td>
<td>清除网络缓冲区高速缓存统计信息。</td>
</tr>
<tr>
<td>
<a id="a03223jls" name="a03223jls"></a><span class="bold">-Zi</span></td>
<td>清除接口统计信息。</td>
</tr>
<tr>
<td>
<a id="a03224jls" name="a03224jls"></a><span class="bold">-Zm</span></td>
<td>清除网络内存分配器统计信息。</td>
</tr>
<tr>
<td>
<a id="a03226jls" name="a03226jls"></a><span class="bold">-Zs</span></td>
<td>清除协议统计信息。为清除特定协议的统计信息，使用 -p &lt;protocol&gt;。例如，为清除 TCP 统计信息，请输入 <tt> netstat -Zs -p tcp</tt>。</td>
</tr>
</tbody>
</table>
<a name="a229x9c49"></a>
<h4 id="a229x9c49">缺省显示</h4>
<a name="ed25f18020mela"></a>
<p id="ed25f18020mela">活动套接字的缺省显示表明下列项：</p>
<ul>
<li><a name="a234x93c9"></a><span id="a234x93c9" class="pk"></span>本地和远程地址</li>
<li><a name="a234x93ca"></a><span id="a234x93ca" class="pk"></span>发送和接收队列大小（以字节计）</li>
<li><a name="a234x93cb"></a><span id="a234x93cb" class="pk"></span>协议</li>
<li><a name="a234x93cc"></a><span id="a234x93cc" class="pk"></span>协议的内部状态</li></ul>
<a name="ed25f18385mela"></a>
<p id="ed25f18385mela">如果套接字地址指定网络但没有特定的主机地址，则因特网地址格式为 <tt>host.port</tt> 或 <tt>network.port</tt> 的格式。如果地址可被解析为符号主机名称，则主机地址将象征性的显示出来，且网络地址根据 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/networks_TCPIP.htm#wc22c0sara"><span class="bold">/etc/networks</span></a> 文件也象征性的显示出来。</p>
<a name="ed25f18494mela"></a>
<p id="ed25f18494mela">NS 地址为 12 位数，包含 4 位网络号、6 位主机号和 2 位端口号，所有这些数字以网络标准格式存储。对于 VAX 体系结构，这些数字为逆向的字和字节；对于 Sun 系统，这些数字为非逆向。</p>
<a name="ed25f18588mela"></a>
<p id="ed25f18588mela">如果主机的符号名称未知或 <span class="bold">-n</span> 标志被使用，依据地址系列，地址以数字格式打印。未指定的地址和端口显示为 *（星号）。</p>
<a name="a234x93ce"></a>
<h4 id="a234x93ce">接口显示（netstat -i）</h4>
<p><a id="idx38" name="idx38"></a></p>
<a name="ed25f18816mela"></a>
<p id="ed25f18816mela">接口显示格式提供下列项的累计统计信息表。</p>
<ul>
<li><a name="a234x93cf"></a><span id="a234x93cf" class="pk"></span>错误</li>
<li><a name="a234x93d0"></a><span id="a234x93d0" class="pk"></span>冲突
<a name="c504c0f177elai"></a>
<div class="notetitle" id="c504c0f177elai">注:</div>
<div class="notebody">不支持对以太网接口的冲突计数。</div></li>
<li><a name="a234x93d1"></a><span id="a234x93d1" class="pk"></span>信息包传输</li></ul>
<a name="ed25f19166mela"></a>
<p id="ed25f19166mela">接口显示也提供接口名称、号码和地址以及最大传输单位（MTU）。</p>
<a name="a234x93d2"></a>
<h4 id="a234x93d2">路由表显示（netatat -r）</h4>
<p><a id="idx39" name="idx39"></a></p>
<a name="ed25f19339mela"></a>
<p id="ed25f19339mela">路由表显示表示可用的路由及它们的状态。每个路由由目标主机或网络和用以转发信息包的网关构成。</p>
<p>路由以 <span class="italic">A.B.C.D</span><span class="bold">/</span><span class="italic">XX</span> 的格式给出，它代表两个信息片段。<span class="italic">A.B.C.D</span> 表示目的地址，<span class="italic">XX</span> 表示与路由有关的网络掩码。网络掩码以位集的数目表示。例如，路由 <tt>9.3.252.192/26</tt> 有网络掩码 <tt>255.255.255.192</tt>，它有 26 个位集。</p>
<a name="ed25f19433mela"></a>
<p id="ed25f19433mela">路由表包含下列十个字段：</p>
<a name="wq111"></a>
<table id="wq111" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="30%">
<a id="a234x93d4" name="a234x93d4"></a><tt>Flags</tt></td>
<td width="70%">  路由表的 <span class="bold">flags</span> 字段显示路由状态：
<dl>
<dt class="bold">A</dt>
<dd>活动的休眠网关检测在路由上被启用。本字段只适用于 AIX 5.1 或更新版本。
</dd>
<dt class="bold">U</dt>
<dd>Up.
</dd>
<dt class="bold">H</dt>
<dd>路由至主机而不是网络。
</dd>
<dt class="bold">G</dt>
<dd>路由至网关。
</dd>
<dt class="bold">D</dt>
<dd>路由通过重定向动态地创建。
</dd>
<dt class="bold">M</dt>
<dd>路由通过重定向被修改。
</dd>
<dt class="bold">L</dt>
<dd>链接级地址显示在路由项中。
</dd>
<dt class="bold">c</dt>
<dd>对该路由的访问创建克隆路由。本字段只适用于 AIX 4.2.1 或更新版本。
</dd>
<dt class="bold">W</dt>
<dd>该路由为克隆路由。本字段只适用于 AIX 4.2.1 或更新版本。
</dd>
<dt class="bold">1</dt>
<dd>协议特定路由标志 #1。
</dd>
<dt class="bold">2</dt>
<dd>协议特定路由标志 #2。
</dd>
<dt class="bold">3</dt>
<dd>协议特定路标志 #3。
</dd>
<dt class="bold">b</dt>
<dd>该路由表示广播地址。
</dd>
<dt class="bold">e</dt>
<dd>有绑定的高速缓存项。
</dd>
<dt class="bold">l</dt>
<dd>该路由表示本地地址。
</dd>
<dt class="bold">m</dt>
<dd>该路由表示多点广播地址。
</dd>
<dt class="bold">P</dt>
<dd>锁住的路由。
</dd>
<dt class="bold">R</dt>
<dd>主机或网络不能到达。
</dd>
<dt class="bold">S</dt>
<dd>手工添加。
</dd>
<dt class="bold">u</dt>
<dd>路由可用。
</dd>
<dt class="bold">s</dt>
<dd>组路由的停止搜索选项在路由上被启用。
</dd>
</dl> 
<a name="a234x93d9"></a>
<p id="a234x93d9">为每个连接至本地主机的接口创建直接路由。</p></td>
</tr>
<tr>
<td>
<a id="a234x93da" name="a234x93da"></a><tt>Gateway</tt></td>
<td>  这些项的 <span class="bold">gateway</span> 字段显示输出接口的地址。</td>
</tr>
<tr>
<td>
<a id="a234x93db" name="a234x93db"></a><tt>Refs</tt></td>
<td>  给出当前活动使用的路由数目。面向连接协议在连接持续时间内保留单独的路由，而无连接协议在发送给同一目标时获取路由。</td>
</tr>
<tr>
<td>
<a id="a234x93dc" name="a234x93dc"></a><tt>Use</tt></td>
<td>  提供使用该路由发送的信息包数目的计数。</td>
</tr>
<tr>
<td>
<a id="a39da226337stue" name="a39da226337stue"></a><tt>PMTU</tt></td>
<td>  给出路径最大传输单位（PMTU）。本字段只适用于 AIX 4.2.1 或更新版本。</td>
</tr>
<tr>
<td>
<a id="a234x93dd" name="a234x93dd"></a><tt>Interface</tt></td>
<td>  表示本路由利用的网络接口。</td>
</tr>
<tr>
<td>
<a id="a39da226349stue" name="a39da226349stue"></a><tt>Exp</tt></td>
<td>  显示路由失效前所剩的时间（以分钟计）。本字段只适用于 AIX 4.2.1 或更新版本。</td>
</tr>
<tr>
<td>
<a id="a39da226360stue" name="a39da226360stue"></a><tt>Groups</tt></td>
<td>  提供与该路由有关的组标识列表。本字段只适用于 AIX 4.2.1 或更新版本。</td>
</tr>
<tr>
<td>
<a id="a59c222a9" name="a59c222a9"></a><tt>Netmasks</tt></td>
<td>  列出系统上适用的网络掩码。</td>
</tr>
<tr>
<td>
<a id="a59c222aa" name="a59c222aa"></a><tt>Route Tree for 
<br /> 协议系列</tt></td>
<td>  为现有路由指定活动的地址系列。本字段支持的值：
<dl>
<dt class="bold"><span class="bold">1</span></dt>
<dd>指定 UNIX 地址系列。
</dd>
<dt class="bold"><span class="bold">2</span></dt>
<dd>指定因特网地址系列（例如：TCP 和 UDP）。
</dd>
<dt class="bold"><span class="bold">6</span></dt>
<dd>指定 Xerox 网络系统 (XNS) 地址系列。
</dd>
</dl> 
<a name="ed25f1a768mela"></a>
<p id="ed25f1a768mela">关于其它地址系列更多的信息，请参阅 <span class="bold">/usr/include/sys/socket.h</span> 文件。</p></td>
</tr>
</tbody>
</table>
<a name="ed25f1a866mela"></a>
<p id="ed25f1a866mela">当为 <span class="italic">Interval</span> 参数指定值时，<span class="bold">netstat</span> 命令显示与网络接口相关的统计信息的运行计数。此显示包含两栏：一栏为主接口（在自动配置时第一个被发现的接口），而另一栏总结全部接口的信息。</p>
<a name="ed25f1a961mela"></a>
<p id="ed25f1a961mela">主接口可以通过使用 <a href="netstat.htm#vyh3230dee"><span class="bold">-I</span></a> 标志由另一接口替换。每个信息屏幕的第一行包含自系统上次重新启动以来累计的统计信息的总结。输出的后续行显示超出指定长度时间间隔的累计值。</p>
<a name="a130c132e"></a>
<h3 id="a130c132e">Inet 示例</h3>
<ol type="1">
<li id="a130c132f">
<a name="a130c132f"></a>为显示因特网接口的路由表信息，请输入：
<p></p>
<pre class="xmp">netstat -r -f inet</pre> 
<p>产生下列输出：</p> 
<p></p>
<pre class="xmp">Routing tables
Destination   Gateway      Flags Refs Use  PMTU If  Exp Groups Netmasks:
(root node)
(0)0 ffff f000 0
(0)0 ffff f000 0
(0)0 8123 262f 0 0 0 0 0
(root node)

Route Tree for Protocol Family 2:
(root node)
default        129.35.38.47   UG    0  564   -   tr0   -
loopback       127.0.0.1      UH    1  202   -   lo0   -
129.35.32      129.35.41.172  U     4   30   -   tr0   -   +staff
129.35.32.117  129.35.41.172  UGHW  0   13  1492 tr0   30
192.100.61     192.100.61.11  U     1  195   -   en0   -
(root node)

Route Tree for Protocol Family 6:
(root node)
(root node)</pre> 
<p><tt>-r&nbsp;-f&nbsp;inet</tt> 标志表示对全部配置的因特网接口的路由表信息的请求。网络接口被列在 <tt>Interface</tt> 一栏中；<tt>en</tt> 定义标准以太网接口，而 <tt>tr</tt> 指定令牌环接口。网关地址是点分十进制格式。</p></li>
<li id="a130c1330">
<a name="a130c1330"></a>为显示因特网接口的接口信息，请输入：
<p></p>
<pre class="xmp">netstat -i -f inet</pre> 
<p>如果您使用 AIX 4.2，则产生以下输出：</p> 
<p></p>
<pre class="xmp">Name Mtu   Network     Address   Ipkts  Ierrs  Opkts  Oerrs  Coll
lo0  1536  &lt;Link&gt;                    4      0      4      0     0
lo0  1536  127         loopback      4      0      4      0     0
en0  1500  &lt;Link&gt;                   96      0     67      0     0
en0  1500  192.100.61  nullarbor    96      0     67      0     0
tr0  1500  &lt;Link&gt;                44802      0  11134      0     0
tr0  1500  129.35.32   stnullarb 44802      0  11134      0     0</pre> 
<p>如果您使用 AIX 4.3，产生下列输出：</p> 
<p></p>
<pre class="xmp">Name Mtu    Network     Address           Ipkts  Ierrs  Opkts  Oerrs  Coll
lo0  16896  Link#1                        5161      0    5193      0     0
lo0  16896  127         localhost         5161      0    5193      0     0
lo0  16896  ::1                           5161      0    5193      0     0
en1  1500   Link#2      8.0.38.22.8.34    221240    0  100284      0     0
en1  1500   129.183.64  infoserv.frec.bul 221240    0  100284      0     0</pre> 
<p><tt>-i -f inet</tt> 标志表示对全部配置的因特网接口状态的请求。网络接口列在 <tt>Name</tt> 一栏中；<tt>lo</tt> 定义回送接口，<tt>en</tt> 定义标准以太网接口，而 <tt>tr</tt> 指定令牌环接口。</p></li>
<li id="a130c1331">
<a name="a130c1331"></a>要显示每个协议的统计信息，请输入：
<p></p>
<a name="a155c1462"></a>
<pre id="a155c1462" class="xmp">netstat -s -f inet</pre> 
<p>产生下列输出：</p> 
<p></p>
<pre class="xmp">ip:
:
  44485 total packets received
  0 bad header checksums
  0 with size smaller than minimum
  0 with data size &lt; data length
  0 with header length &lt; data size
  0 with data length &lt; header length
  0 with bad options
  0 with incorrect version number
  0 fragments received
  0 fragments dropped (dup or out of space)
  0 fragments dropped after timeout
  0 packets reassembled ok
  44485 packets for this host
  0 packets for unknown/unsupported protocol
  0 packets forwarded
  0 packets not forwardable
  0 redirects sent
  1506 packets sent from this host
  0 packets sent with fabricated ip header
  0 output packets dropped due to no bufs, etc.
  0 output packets discarded due to no route
  0 output datagrams fragmented
  0 fragments created
  0 datagrams that can't be fragmented
  0 IP Multicast packets dropped due to no receiver
  0 successful path MTU discovery cycles
  0 path MTU rediscovery cycles attempted
  0 path MTU discovery no-response estimates
  0 path MTU discovery response timeouts
  0 path MTU discovery decreases detected
  0 path MTU discovery packets sent
  0 path MTU discovery memory allocation failures
  0 ipintrq overflows

icmp:
  0 calls to icmp_error
  0 errors not generated 'cuz old message was icmp
  Output histogram:
    echo reply: 6
  0 messages with bad code fields
  0 messages &lt; minimum length
  0 bad checksums
  0 messages with bad length
  Input histogram:
    echo: 19
  6 message responses generated

igmp:defect
  0 messages received
  0 messages received with too few bytes
  0 messages received with bad checksum
  0 membership queries received
  0 membership queries received with invalid field(s)
  0 membership reports received
  0 membership reports received with invalid field(s)
  0 membership reports received for groups to which we belong
  0 membership reports sent

tcp:
  1393 packets sent
    857 data packets (135315 bytes)
    0 data packets (0 bytes) retransmitted
    367 URG only packets
    0 URG only packets
    0 window probe packets
    0 window update packets
    170 control packets
  1580 packets received
    790 acks (for 135491 bytes)
    60 duplicate acks
    0 acks for unsent data
    638 packets (2064 bytes) received in-sequence
    0 completely duplicate packets (0 bytes)
    0 packets with some dup. data (0 bytes duped)
    117 out-of-order packets (0 bytes)
    0 packets (0 bytes) of data after window
    0 window probes
    60 window update packets
    0 packets received after close
    0 discarded for bad checksums
    0 discarded for bad header offset fields
  0 connection request
  58 connection requests
  61 connection accepts
  118 connections established (including accepts)
  121 connections closed (including 0 drops)
  0 embryonic connections dropped
  845 segments updated rtt (of 847 attempts)
  0 resends due to path MTU discovery
  0 path MTU discovery terminations due to retransmits
  0 retransmit timeouts
    0 connections dropped by rexmit timeout
  0 persist timeouts
  0 keepalive timeouts
    0 keepalive probes sent
    0 connections dropped by keepalive

udp:
  42886 datagrams received
:
  0 incomplete headers
  0 bad data length fields
  0 bad checksums
  0 dropped due to no socket
  42860 broadcast/multicast datagrams dropped due to no

socket
  0 socket buffer overflows
  26 delivered
  106 datagrams output</pre> 
<p><tt>ip</tt> 指定网际协议；<tt>icmp</tt> 指定信息控制消息协议；<tt>tcp</tt> 指定传输控制协议；<tt>udp</tt> 指定用户数据报协议。</p></li>
<li id="a155c1466">
<a name="a155c1466"></a>要显示设备驱动程序统计信息，请输入：
<p></p>
<a name="a155c1467"></a>
<pre id="a155c1467" class="xmp">netstat&nbsp;-v</pre> 
<p><tt>netstat -v</tt> 命令显示每个基于 CDLI 已更新的设备驱动程序的统计信息。要查看该命令的示例输出，请参阅 <span class="bold">tokstat</span> 命令、<span class="bold">entstat</span> 命令或 <span class="bold">fddistat</span> 命令。</p></li>
<li id="d623b2d231lien">
<a name="d623b2d231lien"></a>为显示关于启用多点广播的接口的信息，并查阅组员身份，请输入：
<p></p>
<a name="d623b2d300lien"></a>
<pre id="d623b2d300lien" class="xmp">netstat -a -I interface</pre> 
<p>例如，如果 802.3 接口被指定，将产生下列输出：</p> 
<p></p>
<pre class="xmp">Name  Mtu  Network Address      Ipkts  Ierrs  Opkts  Oerrs  Coll
et0   1492 &lt;Link&gt;                   0      0      2      0     0
et0   1492 9.4.37  hun-eth          0      0      2      0     0
                   224.0.0.1
                   02:60:8c:0a:02:e7
                   01:00:5e:00:00:01</pre>
<p>如果替代 <span class="bold">-I</span> <span class="italic"> interface</span> 而给出标志 <span class="bold">-i</span>，则所有配置的接口将被列出。网络接口被列在名称栏中；<span class="bold">lo</span> 定义回送接口，<span class="bold">et</span> 定义  IEEE 802.3 接口，<span class="bold">tr</span> 定义令牌环接口，而 <span class="bold">fi</span> 指定 FDDI 接口。</p>
<a name="d623b2d603lien"></a>
<p id="d623b2d603lien">地址栏有以下含义。显示每个接口的符号名称。在该符号名称下，任何已连接到该接口的多点广播组的组地址被显示。组地址 224.0.0.1 为所有多点广播接口所属的特殊<span class="italic"> all-hosts-group</span>。接口（以冒号表示）的 MAC 地址在组地址之后，另外加上为特定接口的 IP 多点广播启用的任何其它 MAC 级地址的列表。</p></li>
<li id="db306eb681jani">
<a name="db306eb681jani"></a>要显示通信子系统的信息包计数，请输入：
<p></p>
<a name="db306eb714jani"></a>
<pre id="db306eb714jani" class="xmp">netstat -D</pre> 
<p>将产生下列输出：</p> 
<p></p>
<pre class="xmp">Source                    Ipkts     Opkts     Idrops      Odrops
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
tok_dev0                   720       542       0          0
ent_dev0                   114         4       0          0
                   - - - - - - - - - - - - - - - - - - - - - - - - -
Devices Total              834       546       0          0
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
tok_dd0                    720       542       0          0
ent_dd0                    114         4       0          0
                   - - - - - - - - - - - - - - - - - - - - - - - - -
Drivers Total              834       546       0          0
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
tok_dmx0                   720       N/A       0          N/A
ent_dmx0                   114       N/A       0          N/A
                   - - - - - - - - - - - - - - - - - - - - - - - - -
Demuxer Total              834       N/A       0          N/A
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
IP                         773       767       0          0
TCP                        536       399       0          0
UDP                        229        93       0          0
                   - - - - - - - - - - - - - - - - - - - - - - - - -
Protocols Total           1538      1259       0          0
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
lo_if0                      69        69       0          0
en_if0                      22         8       0          0
tr_if0                     704       543       0          1
                   - - - - - - - - - - - - - - - - - - - - - - - - -
Net IF Total               795       620       0          1
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
NFS/RPC Client             519       N/A       0          N/A
NFS/RPC Server               0       N/A       0          N/A
NFS Client                 519       N/A       0          N/A
NFS Server                  0       N/A       0          N/A
                   - - - - - - - - - - - - - - - - - - - - - - - - -
NFS/RPC Total              N/A       519       0          0
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(Note:  N/A -&gt; Not Applicable)</pre></li></ol>
<a name="a130c1332"></a>
<h3 id="a130c1332">Xerox 网络系统（XNS）示例</h3>
<ol type="1">
<li id="a130c1333">
<a name="a130c1333"></a>为显示 XNS 接口的网络信息，请输入：
<p></p>
<a name="a130c1334"></a>
<pre id="a130c1334" class="xmp">netstat -i -f ns</pre> 
<p>产生下列输出：</p> 
<p></p>
<pre class="xmp">Name  Mtu  Network Address      Ipkts  Ierrs  Opkts  Oerrs  Coll
en1   1500 ns:6EH  2608C2EA9F7H  281   0       3055   0      0
et1   1492 ns:78H  2608C2EA9F7H  44    0       3043   0      0
nsip0 1536 ns:1H   2608C2EA9F7H  0     0       0      0      0</pre> 
<p><tt>-i&nbsp;-f&nbsp;ns</tt> 标志表示对所有配置的 XNS 接口状态的请求。网络接口被列在 <tt>Name </tt> 栏中；<tt>en</tt> 定义标准以太网接口，而<tt>et</tt> 指定 IEEE 802.3 以太网接口。<tt>Network</tt>栏中的 <tt>ns:</tt> 定义 XNS 系列地址。所有网络和地址号码以十六进制表示，并在数字末尾处附加字母 <tt>H</tt>。</p> 
<a name="a130c1338"></a>
<p id="a130c1338"><tt>nsip0</tt> 是因特网封装的 XNS 信息包。用来封装的因特网目的地址在 <span class="bold">ifconfig</span> 命令的 <tt>ipdst</tt> 字段中被指定。</p></li>
<li id="a130c1339">
<a name="a130c1339"></a>为显示 XNS 接口的路由表信息，请输入：
<p></p>
<a name="a130c133a"></a>
<pre id="a130c133a" class="xmp">netstat -r -f ns</pre> 
<p>产生下列输出：</p> 
<p></p>
<pre class="xmp">Routing tables
Destination      Gateway           Flags  Refcnt  Use  Interface
Route Tree for Protocol Family 6:
(root node)
1H.2608C2EA394H  1H.2608C2EA9F7H   UH     1        0   nsip0
18H.*            78H.2608C2EA9F7H  UG     0        0   et1
6EH.*            6EH.2608C2EA9F7H  U      1        0   en1
78H.*            78H.2608C2EA9F7H  U      1        0   et1
(root node)</pre> 
<p><tt>-r&nbsp;-f&nbsp;ns</tt> 标志表示对全部已配置的 XNS 接口的路由表信息的请求。网络接口被列在 <tt>Interface</tt> 栏中；<tt>en</tt> 定义标准以太网接口，而<tt>et</tt> 指定 IEEE 802.3 以太网接口。<tt>Interface</tt> 栏中的 <tt>nsip0</tt> 定义到因特网封装接口的 XNS。所有的<tt>目的</tt>和<tt>网关</tt>地址号码以十六进制表示，并在末尾处附加字母 <tt>H</tt>。在 <tt>Destination</tt> 栏中的 *（星号）表示网络不是点对点网络。</p></li></ol>
<a name="a229x9c4f"></a>
<h3 id="a229x9c4f">相关信息</h3>
<a name="ed25f1e583mela"></a>
<p id="ed25f1e583mela"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds1/atmstat.htm"><span class="bold">atmstat</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds2/entstat.htm#db307be889jani"><span class="bold">entstat</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds2/fddistat.htm#a1ekij2f5jani"><span class="bold">fddistat</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds3/iostat.htm#a333f9e31"><span class="bold">iostat</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds5/tokstat.htm#q6lij289jani"><span class="bold">tokstat</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds5/trpt.htm#wrdd0sara"><span class="bold">trpt</span></a> 命令、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds6/vmstat.htm#a341f927"><span class="bold">vmstat</span></a> 命令。</p>
<a name="ed25f1e676mela"></a>
<p id="ed25f1e676mela"><a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/hosts.htm#seg3b0sara"><span class="bold">hosts</span></a> 文件格式、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/networks_TCPIP.htm#wc22c0sara"><span class="bold">networks</span></a> 文件格式、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/protocols.htm#ki2310sara"><span class="bold">protocols</span></a> 文件格式、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/files/aixfiles/services.htm#ys8120sara"><span class="bold">services</span></a> 文件格式。</p>
<a name="ed25f1e770mela"></a>
<p id="ed25f1e770mela">在<span class="italic">《AIX 5L V5.2 性能管理指南》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/prftungd/netperf.htm">『监视并调整通信 I/O』</a>。</p>
<a name="ed25f1e866mela"></a>
<p id="ed25f1e866mela">在<span class="italic">《AIX 5L V5.2 系统管理指南：通信与网络》</span>中的<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/commadmn/tcp_route.htm#a9c0aa29">『网关』</a>、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/commadmn/tcp_nameres.htm#a341c96d28">『命名』</a>、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/commadmn/tcp_address.htm#bcaf03e478dada">『TCP/IP 寻址』</a>、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/commadmn/tcp_interfaces.htm#a341c96d55">『TCP/IP 网络接口』</a>、<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/commadmn/tcp_protocols.htm#a341c96ac0">『TCP/IP 协议』</a>
和<a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixbman/commadmn/tcp_route.htm#a341c96d64">『TCP/IP 路由』</a>。</p>
<a name="ed25f1e958mela"></a>
<p id="ed25f1e958mela"><span class="italic">AIX 5L Version 5.2 Communications Programming Concepts</span> 中的 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/aixprggd/progcomc/ch12_xns.htm#mel420dee">Xerox Network Systems (XNS)
Overview for Programming</a>。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="netstat.htm#Top_Of_Page">页的顶部</a> | <a href="netpmon.htm">上一页</a> | <a href="newaliases.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
