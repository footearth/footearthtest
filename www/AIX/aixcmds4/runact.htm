<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - runact 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<meta name="keywords" content="runact 命令, runact, 命令" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="runact.htm#Bot_Of_Page">页的底部</a> | <a href="runacct.htm">上一页</a> | <a href="runcat.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="runact"></a>
<h2 id="runact">runact <span>命令</span></h2>
<a name="wq2253"></a>
<h3 id="wq2253">用途</h3>
<p><span></span>对资源或资源类运行操作。</p><a id="idx747" name="idx747"></a><a id="idx748" name="idx748"></a>
<a name="wq2254"></a>
<h3 id="wq2254">语法</h3>
<p><span class="pk">runact</span> <span class="pk">-s "</span><var class="pv">selection_string</var><span class="pk">"</span>  [<span class="pk">-f</span> <var class="pv">resource_data_input_file</var>]    [<span class="pk">-l
| -t | -d | -D</span> <var class="pv">delimiter</var>] [<span class="pk">-x</span>] [<span class="pk">-h</span>] [<span class="pk">-TV</span>] <var class="pv">resource_class action</var> [<var class="pv">in_element_0</var><span class="pk">=</span><var class="pv">value</var> ... <var class="pv">in_element_n</var><span class="pk">=</span><var class="pv">value</var>] [<var class="pv">rsp_element</var>...]</p>
<p><span class="pk">runact</span> <span class="pk">-r</span>  [<span class="pk">-f</span> <var class="pv">resource_data_input_file</var>]    [<span class="pk">-l | -t | -d | -D</span> <var class="pv">delimiter</var>] [<span class="pk">-x</span>] [<span class="pk">-h</span>] [<span class="pk">-TV</span>] <var class="pv">resource_handle action</var> [<var class="pv">in_element_0</var><span class="pk">=</span><var class="pv">value</var> ... <var class="pv">in_element_n</var><span class="pk">=</span><var class="pv">value</var>] [<var class="pv">rsp_element</var>...]</p>
<p><span class="pk">runact</span>  <span class="pk">-c</span> <span>| <span class="pk">-C</span> <var class="pv">rpd_name_1</var> ... <var class="pv">rpd_name_n</var></span>  [<span class="pk">-f</span> <var class="pv">resource_data_input_file</var>]    [<span class="pk">-l | -t | -d | -D</span> <var class="pv">delimiter</var>] [<span class="pk">-x</span>] [<span class="pk">-h</span>] [<span class="pk">-TV</span>] <var class="pv">resource_class action</var> [<var class="pv">in_element_0</var><span class="pk">=</span><var class="pv">value</var> ... <var class="pv">in_element_n</var><span class="pk">=</span><var class="pv">value</var>] [<var class="pv">rsp_element</var>...]</p>
<a name="wq2255"></a>
<h3 id="wq2255">描述</h3>
<p><span class="pk">runact</span> 命令请求 RMC 子系统对指定资源或资源类运行指定操作。</p>
<p>运行此命令之前，请使用 <span class="pk">lsactdef</span> 命令列出此资源类支持的资源和资源类操作。并使用 <span class="pk">lsactdef</span> 命令列出调用操作时必须指定的所需输入操作元素。<span class="pk">lsactdef</span> 命令还标识每个输入元素的数据类型。为每个输入元素指定的值必须匹配该数据类型。</p>
<a name="wq2256"></a>
<h3 id="wq2256">标志</h3>
<dl>
<dt class="bold">-c</dt>
<dd>对资源类，而不是对资源调用此操作。缺省情况下对资源调用此操作。
</dd>
<dt class="bold">-C <var class="pv">rpd_name_1</var> ... <var class="pv">rpd_name_n</var></dt>
<dd>对分布式管理（DM）作用域的 RSCT 对等域中的全局化类调用类操作。
</dd>
<dt class="bold">-r</dt>
<dd>对匹配 <var class="pv">resource_handle</var> 的特定资源调用此操作。
</dd>
<dt class="bold">-s "<var class="pv">selection_string</var>"</dt>
<dd>指定 <var class="pv">selection_string</var>。<var class="pv">selection_string</var> 必须用双引号或单引号引起来。如果 <var class="pv">selection_string</var> 包含双引号标记，必须将其用单引号标记引起来，例如：
<pre class="xmp">-s 'Name == "testing"'</pre>
<pre class="xmp">-s 'Name ?= "test"'</pre>
<p>只有持久属性才可在选择字符串中列出。</p>
</dd>
<dt class="bold">-f <var class="pv">resource_data_input_file</var></dt>
<dd>指定包含资源操作输入元素和值的文件的名称。带 <span class="pk">-i</span> <span>标志</span>使用 <span class="pk">lsactdef</span> 命令为该输入文件生成模板。
</dd>
<dt class="bold">-d</dt>
<dd>指定定界符格式的输出。缺省的定界符为冒号（:）。如果要更改缺省定界符，请使用 <span class="pk">-D</span><span> 标志</span>。
</dd>
<dt class="bold">-D <var class="pv">delimiter</var></dt>
<dd>指定使用特定定界符的定界符格式输出。使用该<span>标志</span>以指定
不同于缺省冒号（:）的其它定界符。例如，当要显示的数据包含冒号时。使用该<span>标志</span>以指定一个或多个字符的定界符。
</dd>
<dt class="bold">-l</dt>
<dd>指定“长整型”格式 － 每行一个条目。此为缺省显示格式。
</dd>
<dt class="bold">-t</dt>
<dd>指定表格式。在单独列中显示每个属性，每行一个资源。
</dd>
<dt class="bold">-x</dt>
<dd>取消报头打印。
</dd>
<dt class="bold">-h</dt>
<dd>写命令的用法语句到标准输出。
</dd>
<dt class="bold">-T</dt>
<dd>写命令的跟踪消息到标准错误。仅供软件服务组织使用。
</dd>
<dt class="bold">-V</dt>
<dd>写命令的详细消息到标准输出。
</dd>
</dl>
<a name="wq2257"></a>
<h3 id="wq2257">参数</h3>
<dl>
<dt class="bold"><var class="pv">resource_class</var></dt>
<dd>使用要调用的操作指定资源类的名称。
</dd>
<dt class="bold"><var class="pv">resource_handle</var></dt>
<dd>指定要对其运行操作的资源对应的资源句柄。使用 <span class="pk">lsrsrc</span> 命令来获取有效资源句柄列表。必须将该资源句柄用双引号标记引起来，例如：
<pre class="xmp">"0x4017 0x0001 0x00000000 0x0069684c 0x0d4715b0 0xe9635f69"</pre>
</dd>
<dt class="bold"><var class="pv">action</var></dt>
<dd>知道要调用的操作的名称。
</dd>
<dt class="bold"><var class="pv">in_element_n</var>=<var class="pv">value</var></dt>
<dd>指定操作的输入元素名和值。如果使用 <span class="pk">-f</span> <span>标志</span>，请勿在命令行上输入任何 <var class="pv">in_element_n</var><span class="pk">=</span><var class="pv">value</var> 对。
<p><var class="pv">in_element_n</var> 是任意输入结构化数据元素名。指定的操作的每个指定结构化数据（SD）输入元素应该有一个 <var class="pv">in_element_n</var><span class="pk">=</span><var class="pv">value</var> 对。带 <span class="pk">-s i</span> <span>标志</span> 使用 <span class="pk">lsactdef</span> 来列出特定资源类和操作的输入元素。带 <span class="pk">i</span> <span>标志</span>使用 <span class="pk">lsactdef</span> 来生成进行适当编辑后可用作输入文件的输入文件模板。</p> 
<p><var class="pv">value</var> 必须为指定元素的相应数据类型。例如，如果将 NodeNumber 定义为 unit32 数据类型，则输入正数值。</p>
</dd>
<dt class="bold"><var class="pv">rsp_element</var></dt>
<dd>指定一个或多个操作响应结构化数据元素名称。如果指定了一个或多个元素名称，则以指定顺序仅显示这些元素。如果不指定任何元素名称，将显示响应的所有元素。
</dd>
</dl>
<a name="wq2258"></a>
<h3 id="wq2258">安全性</h3>
<p>此命令需要超级权限。</p>
<a name="wq2259"></a>
<h3 id="wq2259">退出状态</h3>
<dl>
<dt class="bold">0</dt>
<dd>命令已成功运行。
</dd>
<dt class="bold">1</dt>
<dd>RMC 发生错误。
</dd>
<dt class="bold">2</dt>
<dd>命令行界面（CLI）脚本出错。
</dd>
<dt class="bold">3</dt>
<dd>在命令行上指定了不正确的<span>标志</span>。
</dd>
<dt class="bold">4</dt>
<dd>在命令行上指定了不正确的参数。
</dd>
<dt class="bold">5</dt>
<dd>发生了一个由于不正确的命令行输入而导致的 RMC 错误。
</dd>
<dt class="bold">6</dt>
<dd>没有找到匹配指定的选择字符串的资源。
</dd>
</dl>
<a name="wq2260"></a>
<h3 id="wq2260">环境变量</h3>
<dl>
<dt class="bold">CT_CONTACT</dt>
<dd>当 CT_CONTACT 环境变量被设置为一个主机名或 IP
地址，该命令同指定主机上的资源监视和控制（RMC）守护程序联系。
如果没有设置环境变量，该命令同运行命令的本地系统上的 RMC 守护程序联系。
该命令显示或修改的资源类或资源位于连接建立的系统上。
</dd>
<dt class="bold">CT_MANAGEMENT_SCOPE</dt>
<dd>确定用于同 RMC 守护程序进行会话的管理作用域，该守护程序用来监视和控制资源和资源类。
该管理作用域确定了能被监视和控制的资源和资源类所在的可能目标节点集。
有效值为：

<dl>
<dt class="bold">0</dt>
<dd>指定<span class="italic">本地</span>作用域。
</dd>
<dt class="bold">1</dt>
<dd>指定<span class="italic">本地</span>作用域。
</dd>
<dt class="bold">2</dt>
<dd>指定<span class="italic">对等域</span>作用域。
</dd>
<dt class="bold">3</dt>
<dd>指定<span class="italic">管理域</span>作用域。
</dd>
</dl> 
<p>如果<span class="italic">没有</span>设置这个环境变量，
使用<span class="italic">本地</span>作用域。</p>
</dd>
</dl>
<a name="wq2261"></a>
<h3 id="wq2261">标准输出</h3>
<p>在指定 <span class="pk">-h</span> <span>标志</span>时，该命令的用法语句将写到标准输出。</p>
<p>命令的输出和所有详细信息写到标准输出。</p>
<a name="wq2262"></a>
<h3 id="wq2262">标准错误</h3>
<p>所有跟踪消息都写到标准错误。</p>
<a name="wq2263"></a>
<h3 id="wq2263">示例</h3>
<ol type="1">
<li>要对匹配指定选择字符串的 <span class="pk">IBM.Foo</span> 资源类中的资源调用 ExecuteCommand 资源操作，请输入：
<pre class="xmp">runact -s 'Name == "c175n05"' IBM.Foo ExecuteCommand Command="uname -a" User=bealzy</pre> 输出如下：
<pre class="xmp">Resource Action Response for: ExecuteCommand
sd_element 1:
   Stdout          = "AIX c175n07 1 5 000069564C00"
   Stderr          = ""
   ExitCode        = 0
sd_element 2:
   Stdout          = ""
   Stderr          = ""
ExitCode           = 0</pre></li>
<li>要对匹配指定选择字符串的 <span class="pk">IBM.Foo</span> 资源类中的资源调用 ExecuteCommand 资源操作，但仅显示不带头信息的表格式的格式的响应元素 Stdout，请输入：
<pre class="xmp">runact -s 'Name == "c175n05"' -t -x IBM.Foo ExecuteCommand Command="uname -a" \ 
       User=bealzy Stdout</pre> 输出如下：
<pre class="xmp">"AIX c175n07 1 5 000069564C00
"
""</pre></li>
<li>要对资源类 <span class="pk">IBM.Foo</span> 调用 TestClassAction 资源类操作，请输入：
<pre class="xmp">runact -c IBM.Foo TestClassAction Int32=99</pre> 输出如下：
<pre class="xmp">Resource Class Action Response for: TestClassAction
sd_element 1:
   Int32 = 99</pre></li></ol>
<a name="wq2265"></a>
<h3 id="wq2265">位置</h3>
<dl>
<dt class="bold">/usr/sbin/rsct/bin/runact</dt>
<dd>包含 <span class="pk">runact</span> 命令
</dd>
</dl>
<a name="wq2266"></a>
<h3 id="wq2266">相关信息</h3>
<p>命令：<span class="pk">lsactdef</span></p>
<p>文件：<span class="pk">Resource_Data_Input</span>、<span class="pk">rmccli</span></p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="runact.htm#Top_Of_Page">页的顶部</a> | <a href="runacct.htm">上一页</a> | <a href="runcat.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
