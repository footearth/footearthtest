<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<title>命令参考大全，卷 4，n - r - nispopulate 命令</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="dc.date" scheme="iso8601" content="2004-07-28" />
<meta name="copyright" content="(C) IBM公司版权 1997, 2004" />
<meta name="security" content="public" />
<meta name="dc.language" scheme="rfc1766" content="zh-cn" />
<meta name="Robots" content="index,follow"/>
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="owner" content="ctscrcf@cn.ibm.com" />
<link rel="stylesheet" type="text/css" href="ibmidwb.css" />
<link rel="stylesheet" type="text/css" href="text.css" />
</head>
<body>
<a id="Top_Of_Page" name="Top_Of_Page"></a> <P><center>
<B>[ <a href="nispopulate.htm#Bot_Of_Page">页的底部</a> | <a href="nisping.htm">上一页</a> | <a href="nisrm.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> |  <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>
<center><h1>命令参考大全，卷 4，n - r</h1></center>

<a name="nispopulate"></a>
<h2 id="nispopulate">nispopulate 命令</h2>
<a name="a1219071js"></a>
<h3 id="a1219071js">用途</h3>
<p>在 NIS+ 域中植入 NIS+ 表。</p>
<a name="wq437"></a>
<h3 id="wq437">语法</h3>
<p><span class="bold">nispopulate</span>  <a href="nispopulate.htm#nispopulateupy"><span class="bold">-Y</span></a> [  <a href="nispopulate.htm#nispopulatexflag"><span class="bold">-x</span></a>
] [  <a href="nispopulate.htm#nispopulatefflag"><span class="bold">-f</span></a>
] [  <a href="nispopulate.htm#nispopulatenflag"><span class="bold">-n</span></a> ] [  <a href="nispopulate.htm#nispopulateuflag"><span class="bold">-u</span></a> ] [  <a href="nispopulate.htm#nispopulatevflag"><span class="bold">-v</span></a> ] [  <a href="nispopulate.htm#nispopulateups"><span class="bold">-S</span></a> <span class="bold">0</span> | <span class="bold">2</span> ] [   <a href="nispopulate.htm#nispopulatelflag"><span class="bold">-l</span></a> <span class="italic">network_passwd</span> ] [  <a href="nispopulate.htm#nispopulatedflag"><span class="bold">-d</span></a> <span class="italic">NIS+_domain</span> ]
 <a href="nispopulate.htm#nispopulatehflag"><span class="bold">-h</span></a> <span class="italic">NIS_server_host</span> [   <a href="nispopulate.htm#nispopulateaflag"><span class="bold">-a</span></a> <span class="italic">NIS_server_addr</span> ]  <a href="nispopulate.htm#nispopulateyflag"><span class="bold">-y</span></a> <span class="italic">NIS_domain</span> [ <span class="italic">table</span> ] ...</p>
<p><span class="bold">nispopulate</span>  <a href="nispopulate.htm#nispopulateupf"><span class="bold">-F</span></a> [   <a href="nispopulate.htm#nispopulatexflag"><span class="bold">-x</span></a>
] [   <a href="nispopulate.htm#nispopulatefflag"><span class="bold">-f</span></a> ] [ <a href="nispopulate.htm#nispopulateuflag"><span class="bold">-u</span></a> ] [   <a href="nispopulate.htm#nispopulatevflag"><span class="bold">-v</span></a> ] [  <a href="nispopulate.htm#nispopulateups"><span class="bold">-S</span></a> <span class="bold">0</span> | <span class="bold">2</span> ] [   <a href="nispopulate.htm#nispopulatedflag"><span class="bold">-d</span></a> <span class="italic">NIS+_domain</span> ]
[   <a href="nispopulate.htm#nispopulatelflag"><span class="bold">-l</span></a> <span class="italic">network_passwd</span> ] [  <a href="nispopulate.htm#nispopulatepflag"><span class="bold">-p</span></a> <span class="italic">directory_path</span> ] [ <span class="italic">table</span> ] ...</p>
<p><span class="bold">nispopulate</span>  <a href="nispopulate.htm#nispopulateupc"><span class="bold">-C</span></a> [   <a href="nispopulate.htm#nispopulatexflag"><span class="bold">-x</span></a>
] [   <a href="nispopulate.htm#nispopulatefflag"><span class="bold">-f</span></a> ] [  <a href="nispopulate.htm#nispopulatevflag"><span class="bold">-v</span></a> ] [   <a href="nispopulate.htm#nispopulatedflag"><span class="bold">-d</span></a> <span class="italic">NIS+_domain</span> ] [   <a href="nispopulate.htm#nispopulatelflag"><span class="bold">-l</span></a> <span class="italic">network_passwd</span> ] [ <span class="italic">hosts</span> | <span class="italic">passwd</span> ]</p>
<a name="a1219072js"></a>
<h3 id="a1219072js">描述</h3>
<p><span class="bold">nispopulate</span> 命令可被用来在指定域中从它们相应的文件或 NIS 映射植入 NIS+ 表。
<span class="bold">nispopulate</span> 命令假定通过 <a href="nisserver.htm#wc41699nsv"><span class="bold">nisserver</span></a>
命令或 <a href="nissetup.htm#a033001js"><span class="bold">nissetup</span></a> 命令已经创建了表。</p>
<p><span class="italic">table</span> 参数接受标准名称和非标准 <span class="italic">key-value</span> 类型表。关于<span class="italic"> key-value</span> 类型表的更多消息请参阅 <a href="nisaddent.htm#endr52913"><span class="bold">nisaddent</span></a>。如果没有指定 <span class="italic">table</span> 参数，<span class="bold">nispopulate</span> 会自动植入每个标准表。
这些标准（缺省）表是：<span class="bold">auto_master</span>、<span class="bold">auto_home</span>、<span class="bold">ethers</span>、<span class="bold">group</span>、<span class="bold">hosts</span>、<span class="bold">networks</span>、<span class="bold">passwd</span>、<span class="bold">protocols</span>、<span class="bold">services</span>、<span class="bold">rpc</span>、<span class="bold">netmasks</span>、<span class="bold">bootparams</span>、<span class="bold">netgroup</span>、<span class="bold">aliases</span> 以及 <span class="bold">shadow</span>。</p>
<p></p><blockquote><span class="bold">注：</span>只有当从文件植入时使用 <span class="bold">shadow</span> 表。
<span class="bold">nispopulate</span> 接受的非标准表是 <span class="italic">key-value </span> 类型的那些。必须首先用 <a href="nistbladm.htm#wcc33099blch"><span class="bold">nistbladm</span></a> 命令手工创建这些表。</blockquote>
<p>使用第一语法（ <a href="nispopulate.htm#nispopulateupy"><span class="bold">-Y</span></a>）从 NIS 映射植入 NIS+ 表。<span class="bold">nispopulate</span> 命令使用 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds6/ypxfr.htm"><span class="bold">ypxfr</span></a> 命令把 NIS 映射从 NIS 服务器传输到本地机器上的 <span class="bold">/var/yp/</span><span class="italic">NIS_domain</span> 目录。
然后，把这些文件作为输入源使用。</p>
<p></p><blockquote><span class="bold">注：</span><span class="italic">NIS_domain</span> 是大小写敏感的。
确保为目录留有足够的磁盘空间。</blockquote>
<p>使用第二个语法（ <a href="nispopulate.htm#nispopulateupf"><span class="bold">-F</span></a>）从本地文件植入 NIS+ 表。<span class="bold">nispopulate</span> 命令在当前工作目录或指定目录中把那些与表名匹配的文件作为输入源。</p>
<p>当植入 <span class="bold">hosts</span> 和 <span class="bold">passwd</span> 表时，<span class="bold">nispopulate</span> 命令会自动为分别在 <span class="bold">hosts</span> 和 <span class="bold">passwd</span> 表中定义的所有用户和主机创建 NIS+ 凭证。
创建这些凭证需要网络密码。
该密码被用来为新用户和主机加密密钥。
该密码可以用 <a href="nispopulate.htm#nispopulatelflag"><span class="bold">-l</span></a> 标志来指定或使用缺省密码，<span class="bold"> nisplus</span>。 <span class="bold">nispopulate</span> 不会覆盖凭证表中任何现有的凭证项。
使用 <a href="nisclient.htm#nisclient"><span class="bold">nisclient</span></a> 来覆盖凭证表中的项。
它为用户创建 LOCAL 和 DES 凭证，为主机只创建 DES 凭证。
要禁用自动凭证创建，指定 <a href="nispopulate.htm#nispopulateups"><span class="bold">-S 0</span></a> 标志。</p>
<p>第三个语法（ <a href="nispopulate.htm#nispopulateupc"><span class="bold">-C</span></a>）
被用来从指定域的 passwd 表和 hosts 表用 2 级认证（DES）植入 NIS+ 凭证表。
该操作的有效 <span class="italic">table</span> 参数是 <span class="bold">passwd</span> 和 <span class="bold">hosts</span>。 如果没有指定该参数，那么它将把 <span class="bold">passwd</span> 和 <span class="bold">hosts</span> 都作为输入源。</p>
<p>如果 <span class="bold">nispopulate</span> 较早使用 <a href="nispopulate.htm#nispopulateups"><span class="bold">-S 0</span></a> 标志，那么主机和用户不会添加凭证。
如果后来站点决定为所有用户和主机添加凭证，那么
（ <a href="nispopulate.htm#nispopulateupc"><span class="bold">-C</span></a>）
标志被用来添加凭证。</p>
<p><span class="bold">nispopulate</span> 命令通常在 <span class="bold">/tmp</span> 目录中创建临时文件。您可以通过把环境变量 <span class="bold">TMPDIR</span> 设置为您选择的目录来指定另一个目录。
如果 <span class="bold">TMPDIR</span> 不是有效目录，
那么 <span class="bold">nispopulate</span> 将使用 <span class="bold">/tmp</span>。</p>
<a name="a1219073js"></a>
<h3 id="a1219073js">标志</h3>
<p></p>
<a name="wq438"></a>
<table id="wq438" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="50%">
<a id="nispopulateaflag" name="nispopulateaflag"></a><span class="bold">-a</span><span class="italic"> NIS_server_addr</span></td>
<td width="50%">为 NIS 服务器指定 IP 地址。该标志只能与 <a href="nisaddent.htm#dup0025"><span class="bold">-Y</span></a> 标志一起使用。</td>
</tr>
<tr>
<td>
<a id="nispopulateupc" name="nispopulateupc"></a> <span class="bold">-C</span></td>
<td>用 DES 认证（安全级别 2）从 passwd 表和 hosts 表植入 NIS+ 凭证。</td>
</tr>
<tr>
<td>
<a id="nispopulatedflag" name="nispopulatedflag"></a> <span class="bold">-d</span><span class="italic"> NIS+_domain.</span></td>
<td>指定 NIS+ 域。缺省值是本地域。</td>
</tr>
<tr>
<td>
<a id="nispopulateupf" name="nispopulateupf"></a><span class="bold">-F</span></td>
<td>从文件植入 NIS+ 表。</td>
</tr>
<tr>
<td>
<a id="nispopulatefflag" name="nispopulatefflag"></a><span class="bold">-f</span></td>
<td>在没有确认提示的情况下，强制脚本植入 NIS+ 表。</td>
</tr>
<tr>
<td>
<a id="nispopulatehflag" name="nispopulatehflag"></a><span class="bold">-h</span><span class="italic"> NIS_server_host</span></td>
<td>从 NIS 映射复制来的地方指定 NIS 服务器主机名。
它只能与 <a href="nispopulate.htm#nispopulateupy"><span class="bold">-Y</span></a> 标志一起使用。该主机必须已经在 NIS+ <span class="bold">hosts</span> 表或 <span class="bold">/etc/hosts</span> 文件中存在。如果没有指定主机名，脚本会提示您它的 IP 地址或您可使用
 <a href="nispopulate.htm#nispopulateaflag"><span class="bold">-a</span></a>
 标志手工指定地址。</td>
</tr>
<tr>
<td>
<a id="nispopulatelflag" name="nispopulatelflag"></a><span class="bold">-l</span><span class="italic"> network_passwd</span></td>
<td>为植入的 NIS+ 凭证表指定网络密码。
只有当植入 <span class="bold">hosts</span> 和 <span class="bold">passwd</span> 表的时候才会使用这个。缺省密码是 <span class="bold">nisplus</span>。</td>
</tr>
<tr>
<td>
<a id="nispopulatenflag" name="nispopulatenflag"></a><span class="bold">-n</span></td>
<td>如果本地 NIS 映射已经存在，禁止在 <span class="bold">var/yp/</span><span class="italic">NISdomain</span> 目录中重写它们。缺省是在本地 <span class="bold">/var/yp/</span><span class="italic">NISdomain</span> 目录中重写现有的 NIS 映射。它只能与 <a href="nisaddent.htm#dup0025"><span class="bold">-Y</span></a> 标志一起使用。</td>
</tr>
<tr>
<td>
<a id="nispopulatepflag" name="nispopulatepflag"></a><span class="bold">-p</span><span class="italic"> directory_path</span></td>
<td>指定文件存储的目录。它只能与 <a href="nisaddent.htm#minusf"><span class="bold">-F</span></a> 标志一起使用。缺省值是当前工作目录。</td>
</tr>
<tr>
<td>
<a id="nispopulateups" name="nispopulateups"></a><span class="bold">-S 0</span> | <span class="bold">2</span></td>
<td>为 NIS+ 客户机指定认证级别。
未认证的客户机是 0 级别，在指定域中不为用户和主机创建凭证。
已认证的（DES）客户机是 2 级别，在指定域中为用户和主机创建 DES 凭证。
缺省值是设置 2 级别认证（DES）。
无需为 0 级别认证使用 <span class="bold">-C</span> 标志运行 <span class="bold">nispopulate</span> 命令。</td>
</tr>
<tr>
<td>
<a id="nispopulateuflag" name="nispopulateuflag"></a><span class="bold">-u</span></td>
<td>从文件或 NIS 映射更新 NIS+ 表（即添加、删除、修改）。
当只存在少量更改时，应该使用该标志更新 NIS+ 表。
缺省是在不删除任何现有的项的情况下添加 NIS+ 表。
同样,从 <span class="bold">/var/yp</span> 目录中现有的映射更新 NIS+ 表，参阅 <a href="nispopulate.htm#nispopulatenflag"><span class="bold">-n</span></a>
标志。</td>
</tr>
<tr>
<td>
<a id="nispopulatevflag" name="nispopulatevflag"></a><span class="bold">-v</span></td>
<td>在详细模式下运行脚本。</td>
</tr>
<tr>
<td>
<a id="nispopulatexflag" name="nispopulatexflag"></a><span class="bold">-x</span></td>
<td>打开回显模式。脚本只打印本该执行的命令。
这些命令实际没有被执行。缺省情况是关闭。</td>
</tr>
<tr>
<td>
<a id="nispopulateupy" name="nispopulateupy"></a><span class="bold">-Y</span></td>
<td>从 NIS 映射植入 NIS+ 表。</td>
</tr>
<tr>
<td>
<a id="nispopulateyflag" name="nispopulateyflag"></a><span class="bold">-y</span><span class="italic"> NIS_domain</span></td>
<td>指定从中复制 NIS 映射的 NIS 域。它只能与 <a href="nisaddent.htm#dup0025"><span class="bold">-Y</span></a> 标志一起使用。缺省域名和本地域名相同。</td>
</tr>
</tbody>
</table>
<a name="a1219074js"></a>
<h3 id="a1219074js">示例</h3>
<ol type="1">
<li>要从其中主机 <tt>yp_host</tt> 是 <tt>yp.ibm.com.</tt> 的 YP 服务器作为输入源的 <tt>yp.ibm.com</tt> 域的 NIS 映射植入所有 <tt>xyz.ibm.com.</tt> 域中的 NIS+ 标准表，请输入：

<p></p>
<pre class="xmp">/usr/lib/nis/nispopulate -Y -y yp.ibm.COM -h yp_host -d xyz.ibm.com.</pre></li>
<li>从上面显示的相同的 NIS 域和主机更新所有 NIS+ 标准表，请输入：

<p></p>
<pre class="xmp">/usr/lib/nis/nispopulate -Y -u -y yp.ibm.COM -h yp_host -d xyz.ibm.com.</pre></li>
<li>从 <span class="bold">/var/nis/files</span> 目录中的主机文件植入 <tt>xyz.ibm.com.</tt> 域中的 <span class="bold">hosts</span> 表，使用 <tt>somepasswd</tt> 作为为密钥加密的网络密码，请输入：

<p></p>
<pre class="xmp">/usr/lib/nis/nispopulate -F -p /var/nis/files -l somepasswd hosts</pre></li>
<li>要不自动创建 NIS+ 凭证而从 <span class="bold">/var/nis/files</span> 目录中的 passwd 文件植入 <tt>xyz.ibm.com.</tt> 域中的 passwd 表，请输入：

<p></p>
<pre class="xmp">/usr/lib/nis/nispopulate -F -p /var/nis/files -d xys.ibm.com. -S 0 passwd</pre></li>
<li>为在 passwd 表中定义的所有用户植入在 <tt>xyz.ibm.com.</tt> 域中的凭证表，请输入：
<p></p>
<pre class="xmp">/usr/lib/nis/nispopulate -C -d xys.ibm.com. passwd</pre></li>
<li>从 <span class="bold">/var/nis/files/private:</span> 文件创建和植入非标准键值类型 NIS+ 表，<tt>private</tt>，（nispopulate 假定已经创建了 private.org_dirkey-value 类型表），请输入：

<p></p>
<pre class="xmp">/usr/bin/nistbladm -D access=og=rmcd,nw=r \
     -c private key=S,nogw= value=,nogw= private.org.dir
/usr/lib/nis/nispopulate -F -p /var/nis/files private</pre></li></ol>
<a name="a1219075js"></a>
<h3 id="a1219075js">文件</h3>
<p></p>
<a name="wq440"></a>
<table id="wq440" width="100%" summary="" border="0" frame="void" rules="none">
<tbody valign="top">
<tr>
<td width="23%"><span class="bold">/etc/hosts</span></td>
<td width="76%">本地主机名数据库</td>
</tr>
<tr>
<td><span class="bold">/var/yp</span></td>
<td>NIS （YP）域目录</td>
</tr>
<tr>
<td><span class="bold">/var/nis</span></td>
<td>NIS+ 域目录</td>
</tr>
</tbody>
</table>
<a name="wq441"></a>
<h3 id="wq441">相关信息</h3>
<p><a href="nistbladm.htm#wcc33099blch"><span class="bold">nistbladm</span></a> 命令、<a href="nisaddcred.htm#endr44465"><span class="bold">nisaddcred</span></a> 命令、<a href="nisaddent.htm#endr52913"><span class="bold">nisaddent</span></a> 命令、<a href="nisclient.htm#nisclient"><span class="bold">nisclient</span></a> 命令、<a href="nisserver.htm#wc41699nsv"><span class="bold">nisserver</span></a> 命令、<a href="nissetup.htm#a033001js"><span class="bold">nissetup</span></a>
命令、<a href="rpc.nisd.htm#endr22329"><span class="bold">rpc.nisd</span></a> 命令和 <a href="http://study.chyangwa.com/IT/AIX/aixcmds4/cmds/aixcmds6/ypxfr.htm"><span class="bold">ypxfr</span></a> 命令。</p>
<FONT COLOR="#A62A2A"></FONT><p></p>
   <center>
<B>[ <a href="nispopulate.htm#Top_Of_Page">页的顶部</a> | <a href="nisping.htm">上一页</a> | <a href="nisrm.htm">下一页</a> | <a href="mastertoc.htm#mtoc">目录</a> | <a href="aixcmds402.htm#wq2312">索引</a> | <A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>资料库</B></A> |
<A HREF="notices.htm"><B>法律条款</B></A> |
<A HREF="file:///C|/download/www16.boulder.ibm.com/cgi-bin/ds_form@lang=zh_CN&viewset=AIX" TARGET="_top"><B>搜索</B></A> ]</B>
</center>

<a id="Bot_Of_Page" name="Bot_Of_Page"></a>
</body>
</html>
