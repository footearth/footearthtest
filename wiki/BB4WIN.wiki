
    * [http://bbs.deepin.org/forum-382-1.html bblean中文讨论区 - 深度]
    * [http://www.bb4win.org bb4win.org]
    * [http://bb4win.sourceforge.net/ bb4win - sourceforge]
    * [http://bb4win.sourceforge.net/bblean/ bblean 官方网站]
    * [http://www.lostinthebox.com/index.php bblean 官方论坛]
    * [http://bb4win.sourceforge.net/plugins.htm 插件下载]
    * [http://www.boxshots.org BB桌面秀]
        * [http://www.boxshots.org/styles.zip 不定期更新的风格包（数千风格）]

== 笔记 ==

    * 一些常见教程名称，请自行GOOGLE之
        * bblean 扫盲 + FAQ + 教程
        * BBlean 最初级的入门教程（纯文字）
        * BBlean 的精细教程

=== 插件 ===

    * bblean 1.17 汉化方法
      编辑 $bblean$extensions.rc
        * blackbox.options.translation: nls-cn.txt
        * 开始菜单不汉化，直接编辑 $bblean$menu.rc
    * bbleanskin
      编辑 $bblean$plugins\bbleanskin\exclusions.rc
        * Chrome/Chromium
            * {{{chrome.exe:Chrome_WidgetWin_0}}}
        * Office 2007
            * {{{wwlib.dll:OpusApp}}}
            * {{{wwlib.dll:_WwB}}}
        * Gvim
            * {{{gvim.exe:VIM_MESSAGES}}}
            * {{{gvim.exe:Vim}}}
    * bbleanbar
    * bbkeys
    * bbinterface
    * 输入法图标问题
      使用 imetool
        * 输入法风格 勾选
        * 选择 输入法指定器
        * 切换输入法 勾选
        * 快捷键使用 Ctrl + Shift

=== 什么是 bblean ？ ===

    * BBLean是什么（一）？什么是BBlean

  BBLean 是一个很好的资源管理器。它是绿色的而且占用资源很少（相对于XP下的Explorer来说）。网上很多人都认为它BBLean是代替Expolrer的最好软件。BBLean是基于blackbox的。可以用BBLean来直接代替启动后的桌面和窗口管理器。BBLean的优点很多，最突出的优点是在同样的环境下占用系统资源比标准的Explorer少50%，而且所有菜单反应极为迅速。

   * bblean是什么（二）？什么是BBlean

  BBLean 是一个基于Unix Xwindows的移植窗口管理器，所以使用习惯和XP不同，需要用几天时间来适应这个变化，但一旦熟悉了以后，你会发现除了资源占用小外，其操作模式更适合日常的使用。 如果你喜欢这个程序并且想把它作为默认的管理器，只需要在它的目录下面运行 blackbox -install，这样以后每次启动，直接进入blackbox，而无需启动更耗资源的Exploer。如果想恢复，运行blackbox -uninstall。你也可以不用运行这么麻烦的命令，在BBLean的功能菜单里面也有这样的选项。

   * bblean是什么（三）？什么是BBlean

   BBLean 还支持插件和换肤功能。任务栏做的跟xp是一样得，但是尺寸要小很多，而且可以随意移动。感觉很好用，访问电脑里每个目录速度都很快。软件本身附带了几个主题样式,应该能够满足你的挑剔美观要求。BBLean最近才开始流行的，如果你已经厌倦了Windows自带的Explorer那牛一样的速度和庞大，那就开始试用BBLean吧。

=== bb4win 各版本的区别（发展史） ===

鸣谢：作者-=3p=-

转自：[http://sites.google.com/site/yinsuoqiudao/home/wo-zai-chen-si/bb4win-ge-ban-ben-de-qu-bie 想看的请翻墙]

    * bb4win = blackbox for windows
        * bblean (by grischka) 1.16
            * bblean mod (by Alex3D nocd5 coolguy)
            * bbclean (by Zeytok noccy)
            * BBDeleted (by monohouse)
            * bb2 (by tao)
            * bbcore (by Carsomyr)
        * bblean (by grischka) 1.17 - 2009

||              ||bblean    ||bbclean   ||bbleanmod                                 ||
||菜单图标      ||不支持    ||智能化    ||需手动添加                                ||
||菜单音量      ||不支持    ||支持      ||支持                                      ||
||菜单位置      ||不可配置  ||可自定义  ||不可配置                                  ||
||文字阴影      ||不支持    ||支持      ||支持                                      ||
||菜单分割线    ||NOP       ||+separator||+separator                                ||
||桌面鼠标动作  ||默认      ||+鼠标动作 ||+鼠标动作                                 ||
||音量broam     ||无        ||有        ||有                                        ||
||菜单箭头      ||默认      ||+9大行星  ||+9大行星+图片                             ||
||自带bbleanbar ||默认      ||+图标设置 ||+任务窗口宽度+托盘图标显/隐+图标设置+其他 ||

bb4win 就是 blackbox for windows 的简称。

bb4win 旗下有很多的分支。

bblean 就是其分支之一。

bblean 1.16 算是作者 grischka 认为较为完美的一版。

*路人甲：功能不够。*

bblean mod 出世了，这是 bblean 的子分支，也就是 bb4win 的孙分支。

支持了菜单调节音量等等功能。

然后他的作者，来自莫斯科的 Alex3D，挂了。

还好来自日本的nocd5把它接了过来。延续更新至今。bb1.17出了以后，中国的coolguy也综合了不少功能进行mod。

代表功能：可用outline来修改字体，动态的子菜单图标。

*路人甲：不方便，麻烦。*

然后是bblean的修改版，bbclean。曾经用过bbleanz这个名字。

也是bb4win的孙分支。

由法国的Zeytok制作，后来，他也挂了。

有瑞典，斯特卡德的noccy接手。最后在某个诡异的实验室中，他们做出了支持4种颜色的bbclean。但是流传度不高。

代表功能：在菜单结尾处<{{{*}}}>就可以自动添加菜单图标，可以用代码控制菜单位置。

*路人甲：速度慢了好些。*

来自不知道那里的monohouse制作了BBDeleted。

也是孙分支。

改善了速度和代码，删除了一些没什么大用的东西。

代表功能：有两个版本，一个是intel cpu的 一个是amd cpu的。

*路人甲：不漂亮。*

德国的tao（读作：套）制作了bb2

还是孙分支。

支持了半透明，和窗口修改。

然后卒之，中国的风之都接手，修改大量bug，遂，卒之。

代表功能：漂亮了很多，拥有一个像mac系统的dockbar一样的快捷方式栏。

*路人甲：vista能用不？*

南非，比勒陀利亚的Carsomyr制作了bbcore。

同上。

修改了不少代码，可以完美运行于vista。我没啥条件测试。功能上多了一个他自己做的boxbar。可以竖起来用。

代表功能：用在vista上，可以竖起来的boxbar。

*路人甲：怎么老是这些东西，都是bblean1.16的，两年没有更新了。*

grischka在09年终于更新了他的作品，只是源代码部分，由nocd5修订成型，从此bblean1.16改为1.17。

这里是子分支。

做了很多改变，但是他也说过，这始终是bblean不是bbclean也不是bbleanmod。所以他不考虑加载其中的功能。

没死，据说还有可能会更新。因为这个只是一个test而不是最终版。

代表功能：汉化包，或者是xx包。可以简单地修改所有的语言。部分功能增强，例如代码控制菜单的位置和部分属性。

*路人甲：难道就没有一个绿色的，精简的，汉化的，免费的......*

话说到这儿，grischka拿起手手边的烟灰缸像，路人甲砸去。血水顺着红色的沙发，缓缓地留下来。但是grischka还没有停止他的动作，像咬碎牙齿一般的怒意涌了出来。一下，两下...

不知道过了多久，路人甲的手慢慢地停止了抽搐...

末了，grischka用血染的手颤抖地点燃了一根烟，烟雾触响了警报器，雨点一般的水喷射出来，grischka微笑着洗干净了烟灰缸，混进慌乱的人群中。

=== BBlean最初级的入门教程（纯文字） ===

*SHELL（壳的概念）*

SHELL意译为外壳。世间万物，不离形体。形即外壳，体是内核，是内在素质。

我不想讨论形与体的哲学辩证关系，因为我的哲学考试从没及格过，我只是想简单的忽悠你们一下子：

譬如你在街上看到一个MM，首先吸引你注意的是她的外形展示方式（身材，长相，衣着打扮等），还是她的内在素质（学识，修养，智力等）？毫无疑问，前者决定了你的主观感受，你第一眼看到她的外形就可以马上判断这个是不是美女了，直接决定你是否会采取下一步的猎色行动。现在你知道外形的重要性了吧？

嗯，很好，准备继续忽悠。。。。。。

软件也如同MM一样，当你打开一个软件的时候，你能看见的图像就是界面，我们称之谓SHELL（外壳），也叫“人机交互界面”。你可以在这个界面里设置、执行、修改等相关的与软件交互操作，从而实现该软件的功能。譬如QQ的登陆界面，它允许你输入QQ号码和密码以及一些登陆的相关设置，从而让你实现登陆QQ的要求，我们就说这个界面是QQ的登陆SHELL。登陆上QQ后，就会出现好友列表界面，在这个界面里，你可以随意选择聊天对象，进行相关设置等，这就是QQ的主SHELL了。所以,SHELL就是界面，也叫“壳”，它是直接让你操作软件实现你的企图（要求）的桥梁。重要吗？当然重要，但也似乎没有那么难理解吧？

一般软件也可以划分为内核和界面两大部分（如同MM一样，这是比牛顿三大定律还要正确的自然界定律，不容怀疑，直接默念300次记牢就可以宇宙无敌了...），软件的内核主要负责在后台处理各种复杂的运算，我们不是程序员也不是计算机，它是怎么运作的你一般不需要理会，只要能达到我们的要求就可以了（结果，我们只要结果！），实际上内核都是由比较底层的代码甚至是机器码构成, 操作者不易和它直接沟通, 因此, 必须要有一个友善的界面(interface),，使得操作时能更为方便，这个界面便是 Shell。换言之， Shell 就是一个居于内核和操作者之间的一层操作界面。另一方面，作为软件用户，我们更关心的是软件的界面SHELL（MM的外貌展现方式），它直接影响你对这个软件的使用感受（能否引起你的YY），甚至是肾上腺素的分泌（有无快感）。

当然，一个优秀软件的SHELL界面除了漂亮（满足视觉审美需求）外，在操作上还需要具备操作方便快捷，简单明了的特点，才能称得上是“人机交互界面友好”，只有这样才能使你的工作更显效率。还是以上面的QQ为例，假如有一天，TX把QQ的登陆界面做得相当华丽，但也相当繁琐，打开它后你需要用鼠标点击300个广告连接，然后再要求输入你的三围、身份证号码、手机号码等。最后才能输入QQ号码登陆QQ，你还会用它么？哦，我错了，那不叫繁琐，那简直是猥琐。。。。。。

嗯，好了，忽悠够了，现在来说点正题。

*自由的宣言*

既然shell如此重要，它直接决定了你的使用感受和工作效率，那么YY一下：如果一个软件的shell界面完全按你的要求来制作，完全符合你的使用习惯，那不是很爽了么？事实上这样的事情也就只能在你的大脑中YY一下而已，每个软件为了适应广大用户的要求，只能被设计成大众化的标准。这样做的后果是，如果你要使用它，你就不得不去适应软件的大众化标准操作要求，而不是让软件适应你的要求。你现在是不是有了点郁闷的感觉了？或者你的心里已经开始不平衡起来？当然不会，因为我们已经习惯这种先学后用的模式了，或者说，我们早已对此麻木了。

windows操作系统算是这样一个典型的例子了。

windows算是一个软件吗？当然算了，只不过它是一个系统级的软件而已，所以我们就直接称为操作系统了，这就如同好色的人被称为“色狼”一样的道理。那我们平时使用的软件呢？它们是应用软件，操作系统只是提供一个给应用软件运行的平台，应用软件是功能的细化，才是我们日常接触最多的。但既然都是软件，它也就无一例外的可以划分为两个部分了（上面说的定律），没错，你猜对了，就是内核与界面！内核不是我们所关心的（必须声明：这并不是说我主张不关心内核，而是要讨论起内核的话，我可能还要再用比上面多10倍的文字忽悠大家，所以我放弃了，决定直接无视它的存在！），我们只简单的说一下WINDOS的shell界面。

现在你是如何操作你的windows来完成你的工作？譬如你现在正在全屏模式下看这篇不知所云的所谓教程，我却要你打开一个windows自带的记事本来做一些重点阅读笔记？再切换一下屏幕分辨率从1024X768到1280X1024以检查一下视觉效果呢？手忙脚乱起来了吧？又是开始菜单又是显示桌面的忙个不停。但你有没有想过，这是不是和你年少时憧憬的电脑操作一样，如行云流水般挥洒自如、得心应手？不可能，绝不可能！因为在MS的正确引导下，你早已经忘记当初的憧憬了。你现在只能按照MS所制定的标准烦琐操作步骤来实现如此简单的事情：为了打开记事本，你不得不去点那个“开始”按钮，然后在弹出的开始菜单中逐级找到“记事本”，然后单击打开。而为了切换分辨率，你会发现要做的步骤可能会更多：先点快速启动栏上的“显示桌面”返回到桌面，然后点右键选“属性”，然后....够了，我受够了。沉默啊，沉默，不在沉默中爆发，就在沉默中死亡，鲁迅说的没错，我是时候应该去改变某些东西了。然而在MS基于各种商业目的的技术保密，直到现在，我们对WINDOWS的内部运行机制知之甚少，要改变它谈何容易？

linux操作系统的诞生无疑是给我们带来了新希望的曙光，整个LINUX系统和几乎所有linux软件都基于GNU GPL的开源协议，这不仅意味着你可以免费使用它并自由传播，对，只要你有能力的话，你还可以拥有修改它的自由，因为linux一切都是公开源代码的，一切都可以毫无保留的展示在你眼前，你完全可以根据自己的需要、自己的习惯去修改它，然后再基于GNU GPL发布出来，这是合法的！哦也，我爱linux。

但很快你会发现新的问题来了，那就是，由于MS势力的强大，各大硬件制造商和软件制造商为了生存，都只能屈服在MS的淫威下，纷纷推出ONLY FOR WINDOWS的产品，企图扼杀象征着自由的LINUX。虽然这种情况日渐改善，但我还是觉得目前在实际工作中使用LINUX言之尚早。这在游戏软件方面表现尤为突出，稍加留心你就会发现目前主流的游戏都是基于windows制作的，linux只有看的份了，“群体效应”也是一个问题，譬如说，你周围的人都在用WINDOWS进行工作而只有你用LINUX的话，你能确保你们之间的文档或程序能很好的兼容么？

一切似乎又回到了原点，我们只能继续使用WINDOWS，为了游戏，为了兼容周围的人和事，为了眼前一切的一切，尽管你的内心里有一百个不愿意，但你还是得用它，即使有一天WINDOWS不能被破解了，你也只能乖乖的掏腰包去购买注册，但某人说得好，哪里有压迫哪里就有反抗，一些伟大的程序员开始有所行动了，为了他们心中不灭的梦想而奋斗起来，grischka就是其中一个，2005年3月2日，grischka发布了一个命名为bblean，版本号为1.16的shell，这是从LINUX众多的shell中的其中一个叫blackbox的图形管理器移植到WINDOWS的轻量化发行版，也就是BBlean名字的由来(BlackBox lean version)。这里是它的官方网站http://bb4win.sourceforge.net/bblean

*自由的代表*

BBlean是一个高度可定制的小型SHELL，除了提供比WINDOWS默认SHELL(EXPLORER)强百倍的自由设置外，它占用的资源也比explorer少得多，而且所有的菜单反应极为迅速，更YY的是，它比EXPLORER安全多了。由于替换了explorer为默认的系统SHELL，所有针对explorer.exe的注入式病毒木马都无法正常运作，因为你系统根本就没有explorer.exe这个进程。试问世界上哪个黑客会想到这个情况呢？即使你的电脑被远程连接了，对方仍然无法看到你的桌面SHELL，这也是BB的特性，怎么样，帅吧？

blackbox移植到windows的分支很多，bblean只是其中一个，也是目前使用最广泛的一个。然而不幸的是，那个伟大的法国程序员grischka自从发布了BBlean_1.16版以后，就宣称找不到更新的方向了，于是放弃了更新，从此隐迹江湖泡MM去了，正如某专家说的，伟大的人难免也有猥琐的时候，我们原谅他吧。

但BBlean既然是从linux中移植过来的，也理所当然的秉承了linux的优良传统，没错，那就是开源，开源所带来的自由我已经在上面说过了，这就意味着任何人都可以从BBlean的官方网站下载到它的整个源代码包进行修改。不知是谁说过，一百个人眼中有一百个哈姆雷特，同样的,grischka认为他BBlean_1.16版已经很完美了，但我们并不是这样认为的，于是就有人开始尝试着修改它了，并发布在lostinthebox（迷失在盒子里的人？）上，www.lostinthebox.com应该算是bblean的官方论坛了，上面活跃着来自各国的BBlean爱好者，通过一种我看不懂的“英格垃圾”语言交流着彼此的想法。

目前具有代表性的BBlean修改版有bbclean和bbleanmod两个，分别由zeytok，noccy，nocd5等人负责更新，大家出于对原作者grischka的尊重，都没有修改BBlean的版本号，只是修改了一下名字以示区别而已，所以BBlean的版本号1.16将永远保留（除非原作者更新或有人无耻修改一下）。

目前主要的更新特性对照（待修正）

                bblean          bbclean         bbleanmod

菜单图标        不支持          智能化          需手动添加

菜单音量        不支持          支持            支持

菜单位置        不可配置        可自定义        不可配置

文字阴影        不支持          支持            支持

菜单分割线      NOP             +separator      +separator

桌面鼠标动作    默认            +鼠标动作       +鼠标动作

音量broam       无              有              有

菜单箭头        默认            +9大行星        +9大行星+图片

自带bbleanbar   默认            +图标设置       +任务窗口宽度+托盘图标显/隐+图标设置+其他

另外要注意的是，BBlean采用的是“基础+插件”的架构体系，基础就是blackbox.exe程序本身（bblean的主程序），这是最小的BBlean核心，仅提供最基本的功能，包括桌面鼠标动作、右键菜单和虚拟工作区以及一个toolbar的任务栏（无托盘，一般不用）等。其他功能可以由不同的插件扩展提供。这是BBlean的一大特色，你可以根据自己的实际需要加载不同的插件，去掉不用的，总有你喜欢的组合。正是由于这种“基础+插件”的架构形式，BBlean不需要精简，需要就加载，不需要就卸载，如果你找到新的blackbox.exe或插件版本，你仅需要替换对应的文件就可以了，不需要换掉整个BBlean，如果更新幅度不大的话，RC文件也可以保留，你甚至不需要重新配置就可以使用了，这再次展现了bblean所代表的自由的魅力所在，很好很强大。

*基础教程*

其实关于BBlean本身的最好教程就藏在你的bblean目录下的docs中，这是官方提供的网页式帮助文档，这个帮助文档基本涵盖了新手从入门到精通的资料。包括基本介绍，安装为默认shell，背景图片，艺术字体，全局字体配置，自定义菜单，虚拟工作区，插件的加载/卸载，风格文件的使用，各种相关的Bro@m以及自带的3个插件（BBKEY，BBleanbar，bbskin）的基本配置方法等。虽然是英文的，但我们论坛已经有人对它做了汉化，详见http://soft.deepin.org/read.php?tid=37221

关于资源管理器的说明

    # 安装bblean为默认shell重启后，如果你的任务管理器还出现explorer.exe进程，请按照这里的方法修改.
    # 安装后没有出现explorer.exe进程却能打开资源管理器的解释:
  其实这个资源管理器不是explorer.exe，它是由你的系统目录下SYSTEM32文件夹下一个叫browseui.dll的动态连接库提供(只提供框架，实际还需要很多DLL的协助,如shell32.dll提供图标)，在没有安装BB为默认SHELL的系统中，它是注入到explorer.exe进程后才能显示的，于是大家就误以为这个资源管理器是explorer.exe了，实际上EXPLORER.EXE只是调用它来显示资源管理器，既然EXPLORER能调用它，为什么BBlean就不能呢？ 大约一年前，我在bblean的交流群为了证明这个观点，曾经把C:\WINDOWS里的EXPLORER.EXE删除掉，照样可以正常打开资源管理器。别问我是怎么知道这个的，你随便在BB下打开一个文件夹。从右键菜单中选择blackbox--->confiuration--->Misc.--->show appnames就知道了。

安装失效的解决：

  出现无法安装bblean为默认shell时，请先确认你的计算机账户有管理员的权限，然后关闭你的系统防护软件(杀毒软件，HIPS，影子系统等)。安装的时候会先后弹出两个对话框让你选择，第一个是让你确认安装，选“是”。第2个是询问你是否安装为本机所有用户的默认SHELL，推荐选“否”，即只安装到当前用户，最后提示是否安装成功。从经验看来，第2个对话框选“否”可以避免由于更新系统补丁所造成的安装失效问题。也有人反应要在安全模式下才能安装，一般是系统防护软件没有关闭或用户权限不够，而在安全模式中只有管理员权限才能登陆，而且登陆后是不启动所有软件的，所以能安装成功。

RC文件的通用修改方法：

    # 如果是BBlean自身的RC文件（如extensions.rc、blackbox.rc等），直接用记事打开修改并保存然后选择右键菜单的“重读配置(reconfigure)”就可以生效了。
    # 如果是插件的RC文件，最保守的方法是先把插件卸载（取消插件列表后面的那个实心小方块或按1的方法修改plugins.rc），然后修改插件的RC文件并保存，最后加载插件就可以了。
    # 如果插件不方便卸载的话，也可以在线修改，方法是直接编辑插件相关的rc文件并保存，然后从插件的配置菜单中找到类似重读配置的选项（reload configuration或reload setting等），没有的话就用bblean本身的“重读配置”选项（方法1中说的），无效的话请用方法2。

一些无关的废话：

BBlean除了安装为默认SHELL时会修改你的一个注册表键值外（不修改怎么替换EXPLORER呢？），基本是不修改注册表的，因为设置都保存在RC文件里。如果你实在不想修改注册表，单纯的把bleackbox.exe改名直接替换explorer.exe的话，我试验过也是可以的，但这样做的话，就无法加载插件了，因为插件都是以DLL形式默认注入blackbox.exe进程的，改名会导致插件找不到blackbox.exe进程从而导致加载失败。

我重复了N次仍要说的话：

BBlean由于替换了explorer，会导致某些过分依赖EXPLORER的软件（病毒）无法正常运行。风险与机会共存，鱼与熊掌不可兼得，就如同OPERA和IE一样，就如同MIM和QQ一样，孰轻孰重自己掂量吧。

